/*! phovea_core - v3.1.1-20200218-080405 - 2020
* https://phovea.caleydo.org
* Copyright (c) 2020 The Caleydo Team; Licensed BSD-3-Clause*/

(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["core"] = factory();
	else
		root["phovea"] = root["phovea"] || {}, root["phovea"]["core"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 144);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = __extends;
/* unused harmony export __assign */
/* unused harmony export __rest */
/* unused harmony export __decorate */
/* unused harmony export __param */
/* unused harmony export __metadata */
/* harmony export (immutable) */ __webpack_exports__["b"] = __awaiter;
/* harmony export (immutable) */ __webpack_exports__["c"] = __generator;
/* unused harmony export __exportStar */
/* unused harmony export __values */
/* unused harmony export __read */
/* unused harmony export __spread */
/* unused harmony export __await */
/* unused harmony export __asyncGenerator */
/* unused harmony export __asyncDelegator */
/* unused harmony export __asyncValues */
/* unused harmony export __makeTemplateObject */
/* unused harmony export __importStar */
/* unused harmony export __importDefault */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = Object.setPrototypeOf ||
    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = Object.assign || function __assign(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
    }
    return t;
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
            t[p[i]] = s[p[i]];
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __exportStar(m, exports) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; }; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator];
    return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}


/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Range1D__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CompositeRange1D__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Range1DGroup__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Range__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__parser__ = __webpack_require__(119);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Range", function() { return __WEBPACK_IMPORTED_MODULE_3__Range__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "all", function() { return __WEBPACK_IMPORTED_MODULE_3__Range__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "none", function() { return __WEBPACK_IMPORTED_MODULE_3__Range__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Range1D", function() { return __WEBPACK_IMPORTED_MODULE_0__Range1D__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CompositeRange1D", function() { return __WEBPACK_IMPORTED_MODULE_1__CompositeRange1D__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Range1DGroup", function() { return __WEBPACK_IMPORTED_MODULE_2__Range1DGroup__["a"]; });
/* harmony export (immutable) */ __webpack_exports__["parse"] = parse;
/* harmony export (immutable) */ __webpack_exports__["range"] = range;
/* harmony export (immutable) */ __webpack_exports__["list"] = list;
/* harmony export (immutable) */ __webpack_exports__["join"] = join;
/* harmony export (immutable) */ __webpack_exports__["asUngrouped"] = asUngrouped;
/* harmony export (immutable) */ __webpack_exports__["composite"] = composite;
/* harmony export (immutable) */ __webpack_exports__["is"] = is;
/* harmony export (immutable) */ __webpack_exports__["cell"] = cell;
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */









/**
 * Interprets the parameter options and returns an appropriate range
 *
 * If it is null, returns a new range with all elements.
 * If the RangeLike is a range, then the range is returned unchanged.
 * If it is an array, the numbers in the array are treated as indices for a range.
 * If it is a string, the range is parsed according to the grammar defined in parser.ts
 *
 * @param arange something like a range
 * @returns {Range}
 */
function parse(arange) {
    if (arange === void 0) { arange = null; }
    if (arange === null) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__Range__["b" /* all */])();
    }
    if (arange instanceof __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */]) {
        return arange;
    }
    if (Array.isArray(arange)) {
        if (Array.isArray(arange[0])) {
            return list.apply(void 0, arange);
        }
        return list(arange);
    }
    //join given array as string combined with ,
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__parser__["a" /* default */])(Array.from(arguments).map(String).join(','));
}
/**
 * Creates a new range that includes all elements in the data structure
 * @returns {any}
 */
function range() {
    if (arguments.length === 0) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__Range__["b" /* all */])();
    }
    var r = new __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */]();
    if (Array.isArray(arguments[0])) { //array mode
        Array.from(arguments).forEach(function (arr, i) {
            if (arr.length === 0) {
                return;
            }
            r.dim(i).setSlice(arr[0], arr[1], arr[2]);
        });
    }
    else if (Object.prototype.toString.call(arguments[0]) === '[object Object]') {
        // slice object mode
        Array.from(arguments).forEach(function (slice, i) {
            r.dim(i).setSlice(slice.from, slice.to, slice.step);
        });
    }
    else if (typeof arguments[0] === 'number') { //single slice mode
        r.dim(0).setSlice(arguments[0], arguments[1], arguments[2]);
    }
    return r;
}
function list() {
    if (arguments.length === 0) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__Range__["b" /* all */])();
    }
    if (Array.isArray(arguments[0]) && arguments[0][0] instanceof __WEBPACK_IMPORTED_MODULE_0__Range1D__["a" /* default */]) {
        return new __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */](arguments[0]);
    }
    else if (Array.isArray(arguments[0])) { //array mode
        var r_1 = new __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */]();
        Array.from(arguments).forEach(function (arr, i) {
            if (arr instanceof __WEBPACK_IMPORTED_MODULE_0__Range1D__["a" /* default */]) {
                r_1.dims[i] = arr;
            }
            else {
                r_1.dim(i).setList(arr);
            }
        });
        return r_1;
    }
    else if (typeof arguments[0] === 'number') { //single slice mode
        var r = new __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */]();
        r.dim(0).setList(Array.from(arguments));
        return r;
    }
    else if (arguments[0] instanceof __WEBPACK_IMPORTED_MODULE_0__Range1D__["a" /* default */]) {
        return new __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */](Array.from(arguments));
    }
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__Range__["c" /* none */])();
}
function join() {
    if (arguments.length === 0) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__Range__["b" /* all */])();
    }
    var ranges = arguments[0];
    if (!Array.isArray(ranges)) { //array mode
        ranges = Array.from(arguments);
    }
    return new __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */](ranges.map(function (r) { return r.dim(0); }));
}
/**
 * TODO document
 * @param range
 * @return {Range1DGroup}
 */
function asUngrouped(range) {
    return new __WEBPACK_IMPORTED_MODULE_2__Range1DGroup__["a" /* default */]('unnamed', 'gray', range);
}
/**
 * TODO document
 * @param name
 * @param groups
 * @return {CompositeRange1D}
 */
function composite(name, groups) {
    return new __WEBPACK_IMPORTED_MODULE_1__CompositeRange1D__["a" /* default */](name, groups);
}
/**
 * Tests if the given object is a range
 */
function is(obj) {
    return obj instanceof __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */];
}
/**
 * TODO document
 * @param dimIndices
 * @return {any}
 */
function cell() {
    var dimIndices = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        dimIndices[_i] = arguments[_i];
    }
    return new __WEBPACK_IMPORTED_MODULE_3__Range__["a" /* default */](dimIndices.map(__WEBPACK_IMPORTED_MODULE_0__Range1D__["a" /* default */].single));
}


/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__internal_array__ = __webpack_require__(100);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "argFilter", function() { return __WEBPACK_IMPORTED_MODULE_0__internal_array__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "argList", function() { return __WEBPACK_IMPORTED_MODULE_0__internal_array__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "argSort", function() { return __WEBPACK_IMPORTED_MODULE_0__internal_array__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "indexOf", function() { return __WEBPACK_IMPORTED_MODULE_0__internal_array__["d"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "search", function() { return __WEBPACK_IMPORTED_MODULE_0__internal_array__["e"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__internal_dnd__ = __webpack_require__(101);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "copyDnD", function() { return __WEBPACK_IMPORTED_MODULE_1__internal_dnd__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "hasDnDType", function() { return __WEBPACK_IMPORTED_MODULE_1__internal_dnd__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "updateDropEffect", function() { return __WEBPACK_IMPORTED_MODULE_1__internal_dnd__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "dragAble", function() { return __WEBPACK_IMPORTED_MODULE_1__internal_dnd__["d"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "dropAble", function() { return __WEBPACK_IMPORTED_MODULE_1__internal_dnd__["e"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__internal_unique__ = __webpack_require__(51);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "flagId", function() { return __WEBPACK_IMPORTED_MODULE_2__internal_unique__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "uniqueId", function() { return __WEBPACK_IMPORTED_MODULE_2__internal_unique__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "uniqueString", function() { return __WEBPACK_IMPORTED_MODULE_2__internal_unique__["c"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__internal_IdPool__ = __webpack_require__(98);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IdPool", function() { return __WEBPACK_IMPORTED_MODULE_3__internal_IdPool__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__internal_promise__ = __webpack_require__(8);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "resolveImmediately", function() { return __WEBPACK_IMPORTED_MODULE_4__internal_promise__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__internal_HashProperties__ = __webpack_require__(50);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "HashProperties", function() { return __WEBPACK_IMPORTED_MODULE_5__internal_HashProperties__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__internal_PropertyHandler__ = __webpack_require__(32);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyHandler", function() { return __WEBPACK_IMPORTED_MODULE_6__internal_PropertyHandler__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__internal_RemoveNodeObserver__ = __webpack_require__(99);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_tslib__ = __webpack_require__(0);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "version", function() { return version; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "offline", function() { return offline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "server_url", function() { return server_url; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "server_json_suffix", function() { return server_json_suffix; });
/* harmony export (immutable) */ __webpack_exports__["init"] = init;
/* harmony export (immutable) */ __webpack_exports__["mixin"] = mixin;
/* harmony export (immutable) */ __webpack_exports__["isUndefined"] = isUndefined;
/* harmony export (immutable) */ __webpack_exports__["mod"] = mod;
/* harmony export (immutable) */ __webpack_exports__["bind"] = bind;
/* harmony export (immutable) */ __webpack_exports__["getter"] = getter;
/* harmony export (immutable) */ __webpack_exports__["isFunction"] = isFunction;
/* harmony export (immutable) */ __webpack_exports__["identity"] = identity;
/* harmony export (immutable) */ __webpack_exports__["noop"] = noop;
/* harmony export (immutable) */ __webpack_exports__["constant"] = constant;
/* harmony export (immutable) */ __webpack_exports__["constantTrue"] = constantTrue;
/* harmony export (immutable) */ __webpack_exports__["constantFalse"] = constantFalse;
/* harmony export (immutable) */ __webpack_exports__["callable"] = callable;
/* harmony export (immutable) */ __webpack_exports__["randomId"] = randomId;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "random_id", function() { return random_id; });
/* harmony export (immutable) */ __webpack_exports__["fixId"] = fixId;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fix_id", function() { return fix_id; });
/* harmony export (immutable) */ __webpack_exports__["onDOMNodeRemoved"] = onDOMNodeRemoved;
/* harmony export (immutable) */ __webpack_exports__["extendClass"] = extendClass;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hash", function() { return hash; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "param", function() { return param; });
/* harmony export (immutable) */ __webpack_exports__["debounce"] = debounce;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "delayedCall", function() { return delayedCall; });
/* harmony export (immutable) */ __webpack_exports__["offset"] = offset;
/* harmony export (immutable) */ __webpack_exports__["bounds"] = bounds;
/* harmony export (immutable) */ __webpack_exports__["resolveIn"] = resolveIn;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */











var version = "3.1.1-20200218-080405";
/**
 * whether the standard api calls should be prevented
 * @type {boolean}
 */
var offline = false;
/* tslint:disable:variable-name */
/**
 * server prefix ofr api calls
 * @type {string}
 */
var server_url = ("/" || '/') + 'api';
/**
 * server suffix for api calls
 * @type {string}
 */
var server_json_suffix = '';
/* tslint:enable:variable-name */
/**
 * initializes certain properties of the core
 * @param config
 */
function init(config) {
    if (config === void 0) { config = {}; }
    config = mixin({
        offline: offline,
        server_url: server_url,
        server_json_suffix: server_json_suffix
    }, config);
    offline = config.offline;
    server_url = config.server_url;
    server_json_suffix = config.server_json_suffix;
}
/**
 * initializes itself based on script data attributes
 * @private
 */
function _init() {
    function find(name, camelCaseName) {
        if (camelCaseName === void 0) { camelCaseName = name.slice(0, 1).toUpperCase() + name.slice(1); }
        var node = document.currentScript || document.querySelector("script[data-phovea-" + name + "]");
        if (!node) {
            return undefined;
        }
        return node.dataset['phovea' + camelCaseName];
    }
    var config = {};
    if ('true' === find('offline')) {
        config.offline = true;
    }
    var v;
    if ((v = find('server-url', 'ServerUrl')) !== undefined) {
        config.server_url = v;
    }
    if ((v = find('server-json-suffix', 'ServerJsonSuffix')) !== undefined) {
        config.server_json_suffix = v;
    }
    //init myself
    init(config);
}
_init();
/**
 * integrate b into a and override all duplicates
 * @param {Object} a
 * @param {Object} bs
 * @returns {Object} a with extended b
 */
function mixin(a, b) {
    var bs = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        bs[_i - 2] = arguments[_i];
    }
    bs.unshift(b);
    function extend(r, b) {
        Object.keys(b).forEach(function (key) {
            var v = b[key];
            if (Object.prototype.toString.call(v) === '[object Object]') {
                r[key] = (r[key] != null) ? extend(r[key], v) : v;
            }
            else {
                r[key] = v;
            }
        });
        return r;
    }
    bs.forEach(function (b) {
        if (b) {
            a = extend(a, b);
        }
    });
    return a;
}
/**
 * @deprecated use obj === undefined directly
 * @param obj
 * @return {boolean}
 */
function isUndefined(obj) {
    return typeof obj === 'undefined';
}
//fixes a javascript bug on using "%" with negative numbers
function mod(n, m) {
    return ((n % m) + m) % m;
}
/**
 * binds the given function to the given context / this arg
 * @deprecated use Function.prototype.bind directly
 * @param f
 * @param thisArg
 * @returns {function(): any}
 */
function bind(f, thisArg) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
    }
    return f.bind.apply(f, [thisArg].concat(args));
}
/**
 * getter generator by name or index
 * @deprecated too simple to write
 */
function getter() {
    var attr = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        attr[_i] = arguments[_i];
    }
    if (attr.length === 1) {
        return function (obj) { return obj[attr[0]]; };
    }
    return function (obj) { return attr.map(function (a) { return obj[a]; }); };
}
/**
 * @deprecated use `typeof(f) === 'function`
 * @param f
 * @return {boolean}
 */
function isFunction(f) {
    return typeof (f) === 'function';
}
/**
 * @deprecated use `(d) => d`
 * identity function
 */
function identity(d) {
    return d;
}
/**
 * a dummy function, which does exactly nothing, i.e. used as default
 * @deprecated use `()=>undefined`
 */
function noop() {
    //no op
}
/**
 * just returns the argument in any case
 * @deprecated use `() => x`
 * @param r - the value to return
 * @returns {*}
 */
function constant(r) {
    if (typeof r === 'boolean' && r === true) {
        return constantTrue;
    }
    if (typeof r === 'boolean' && r === false) {
        return constantFalse;
    }
    return function () { return r; };
}
/**
 * special constant function which returns always true, i.e., as a default for a filter function
 * @deprecated use ()=>true
 * @returns {boolean}
 */
function constantTrue() {
    return true;
}
/**
 * special constant function which returns always false, i.e., as a default for a filter function
 * @deprecated use ()=>false
 * @returns {boolean}
 */
function constantFalse() {
    return false;
}
/**
 * copies a plain object into a function and call a specific method onto direct call
 * @param obj - the
 * @param f
 * @deprecated
 */
function callable(obj, f) {
    //assert this.isPlainObject(obj);
    function CallAbleFactory() {
        var that;
        function CallAble() {
            that[f].apply(that, Array.from(arguments));
        }
        that = CallAble;
        mixin(CallAble, obj);
        return CallAble;
    }
    return CallAbleFactory;
}
/**
 * generates a random id of the given length
 * @param length length of the id
 * @returns {string}
 */
function randomId(length) {
    if (length === void 0) { length = 8; }
    var id = '';
    while (id.length < length) {
        id += Math.random().toString(36).slice(-8);
    }
    return id.substr(0, length);
}
/* tslint:disable:variable-name */
/**
 * @deprecated
 */
var random_id = randomId;
/* tslint:enable:variable-name */
/**
 * fixes a given name by converting it to plain camelcase
 * @param name
 * @return {string}
 */
function fixId(name) {
    var clean = name.replace(/[\s!#$%&'()*+,.\/:;<=>?@\[\\\]\^`{|}~_-]/g, ' ');
    var words = clean.trim().split(/\s+/); //remove heading and trailing spaces and combine multiple one during split
    return words.map(function (w, i) { return (i === 0 ? w[0].toLowerCase() : w[0].toUpperCase()) + w.slice(1); }).join('');
}
/* tslint:disable:variable-name */
/**
 * @deprecated
 */
var fix_id = fixId;
/* tslint:enable:variable-name */
var removeNodeObserver = new __WEBPACK_IMPORTED_MODULE_7__internal_RemoveNodeObserver__["a" /* default */]();
/**
 * utility function to get notified, when the given dom element is removed from its parent
 * @param node
 * @param callback
 */
function onDOMNodeRemoved(node, callback, thisArg) {
    if (Array.isArray(node)) {
        node.forEach(function (nodeid) { return removeNodeObserver.observe(nodeid, callback, thisArg); });
    }
    else {
        removeNodeObserver.observe(node, callback, thisArg);
    }
}
/**
 * extends class copied from TypeScript compiler
 * @param subClass
 * @param baseClass
 */
function extendClass(subClass, baseClass) {
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_tslib__["a" /* __extends */])(subClass, baseClass);
}
/**
 * access to hash parameters and set them, too
 * @type {HashProperties}
 */
var hash = new __WEBPACK_IMPORTED_MODULE_5__internal_HashProperties__["a" /* default */]();
/**
 * access to get parameters
 * @type {PropertyHandler}
 */
var param = new __WEBPACK_IMPORTED_MODULE_6__internal_PropertyHandler__["a" /* default */](location.search);
/**
 * create a debounce call, can be called multiple times but only the last one at most delayed by timeToDelay will be executed
 * @param callback
 * @param timeToDelay
 * @return {function(...[any]): undefined}
 */
function debounce(callback, timeToDelay) {
    if (timeToDelay === void 0) { timeToDelay = 100; }
    var tm = -1;
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        if (tm >= 0) {
            clearTimeout(tm);
            tm = -1;
        }
        args.unshift(this);
        tm = setTimeout(callback.bind.apply(callback, args), timeToDelay);
    };
}
/**
 * @deprecated use debounce instead
 */
var delayedCall = debounce;
/**
 * computes the absolute offset of the given element
 * @param element
 * @return {{left: number, top: number, width: number, height: number}}
 */
function offset(element) {
    if (!element) {
        return { left: 0, top: 0, width: 0, height: 0 };
    }
    var obj = element.getBoundingClientRect();
    var w = element.ownerDocument.defaultView;
    return {
        left: obj.left + w.pageXOffset,
        top: obj.top + w.pageYOffset,
        width: obj.width,
        height: obj.height
    };
}
/**
 * returns the bounding box of a given element similar to offset
 * @param element
 * @returns {{x: number, y: number, w: number, h: number}}
 */
function bounds(element) {
    if (!element) {
        return { x: 0, y: 0, w: 0, h: 0 };
    }
    var obj = element.getBoundingClientRect();
    return {
        x: obj.left,
        y: obj.top,
        w: obj.width,
        h: obj.height
    };
}
/**
 * returns a promise that resolves in the given number of milliseconds
 * @param milliseconds the number of milliseconds to resolve
 */
function resolveIn(milliseconds) {
    if (milliseconds <= 0) {
        return Promise.resolve(null);
    }
    return new Promise(function (resolve) {
        setTimeout(resolve, milliseconds);
    });
}


/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__math__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__security__ = __webpack_require__(22);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VALUE_TYPE_CATEGORICAL", function() { return VALUE_TYPE_CATEGORICAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VALUE_TYPE_STRING", function() { return VALUE_TYPE_STRING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VALUE_TYPE_REAL", function() { return VALUE_TYPE_REAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VALUE_TYPE_INT", function() { return VALUE_TYPE_INT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ADataType", function() { return ADataType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DummyDataType", function() { return DummyDataType; });
/* harmony export (immutable) */ __webpack_exports__["isDataType"] = isDataType;
/* harmony export (immutable) */ __webpack_exports__["assignData"] = assignData;
/* harmony export (immutable) */ __webpack_exports__["transpose"] = transpose;
/* harmony export (immutable) */ __webpack_exports__["mask"] = mask;
/* harmony export (immutable) */ __webpack_exports__["categorical2partitioning"] = categorical2partitioning;
/* harmony export (immutable) */ __webpack_exports__["defineDataType"] = defineDataType;
/* harmony export (immutable) */ __webpack_exports__["guessValueTypeDesc"] = guessValueTypeDesc;
/* harmony export (immutable) */ __webpack_exports__["createDefaultDataDesc"] = createDefaultDataDesc;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 *
 * This file defines interfaces for various data types and their metadata.
 */






var VALUE_TYPE_CATEGORICAL = 'categorical';
var VALUE_TYPE_STRING = 'string';
var VALUE_TYPE_REAL = 'real';
var VALUE_TYPE_INT = 'int';
/**
 * dummy data type just holding the description
 */
var ADataType = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ADataType, _super);
    function ADataType(desc) {
        var _this = _super.call(this) || this;
        _this.desc = desc;
        return _this;
    }
    Object.defineProperty(ADataType.prototype, "dim", {
        get: function () {
            return [];
        },
        enumerable: true,
        configurable: true
    });
    ADataType.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__range__["all"])(); }
        return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__range__["none"])());
    };
    ADataType.prototype.idView = function (idRange) {
        return Promise.resolve(this);
    };
    Object.defineProperty(ADataType.prototype, "idtypes", {
        get: function () {
            return [];
        },
        enumerable: true,
        configurable: true
    });
    ADataType.prototype.persist = function () {
        return this.desc.id;
    };
    ADataType.prototype.restore = function (persisted) {
        return this;
    };
    ADataType.prototype.toString = function () {
        return this.persist();
    };
    return ADataType;
}(__WEBPACK_IMPORTED_MODULE_2__idtype__["SelectAble"]));

var DummyDataType = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](DummyDataType, _super);
    function DummyDataType(desc) {
        return _super.call(this, desc) || this;
    }
    return DummyDataType;
}(ADataType));

/**
 * since there is no instanceOf for interfaces
 * @param v
 * @return {any}
 */
function isDataType(v) {
    if (v === null || v === undefined) {
        return false;
    }
    if (v instanceof ADataType) {
        return true;
    }
    //sounds good
    return (typeof (v.idView) === 'function' && typeof (v.persist) === 'function' && typeof (v.restore) === 'function' && v instanceof __WEBPACK_IMPORTED_MODULE_2__idtype__["SelectAble"] && ('desc' in v) && ('dim' in v));
}
/**
 * utility to assign a dataset to an html element, similar to d3
 * @param node
 * @param data
 */
function assignData(node, data) {
    node.__data__ = data;
}
/**
 * transpose the given matrix
 * @param m
 * @returns {*}
 */
function transpose(m) {
    if (m.length === 0 || m[0].length === 0) {
        return [];
    }
    var r = m[0].map(function (i) { return [i]; });
    for (var i = 1; i < m.length; ++i) {
        m[i].forEach(function (v, i) { return r[i].push(v); });
    }
    return r;
}
function maskImpl(arr, missing) {
    if (Array.isArray(arr)) {
        var vs = arr;
        if (vs.indexOf(missing) >= 0) {
            return vs.map(function (v) { return v === missing ? NaN : v; });
        }
    }
    return arr === missing ? NaN : arr;
}
function mask(arr, desc) {
    if (desc.type === VALUE_TYPE_INT && 'missing' in desc) {
        return maskImpl(arr, desc.missing);
    }
    if (desc.type === VALUE_TYPE_INT || desc.type === VALUE_TYPE_REAL) {
        // replace null values with Number.NaN
        return maskImpl(arr, null);
    }
    return arr;
}
/**
 * converts the given categorical data to a grouped range
 * @param data
 * @param categories
 * @param options
 * @return {CompositeRange1D}
 */
function categorical2partitioning(data, categories, options) {
    if (options === void 0) { options = {}; }
    var m = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
        skipEmptyCategories: true,
        colors: ['gray'],
        labels: null,
        name: 'Partitioning'
    }, options);
    var groups = categories.map(function (d, i) {
        return {
            name: m.labels ? m.labels[i] : d.toString(),
            color: m.colors[Math.min(i, m.colors.length - 1)],
            indices: []
        };
    });
    data.forEach(function (d, j) {
        var i = categories.indexOf(d);
        if (i >= 0) {
            groups[i].indices.push(j);
        }
    });
    if (m.skipEmptyCategories) {
        groups = groups.filter(function (g) { return g.indices.length > 0; });
    }
    var granges = groups.map(function (g) {
        return new __WEBPACK_IMPORTED_MODULE_4__range__["Range1DGroup"](g.name, g.color, __WEBPACK_IMPORTED_MODULE_4__range__["Range1D"].from(g.indices));
    });
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__range__["composite"])(m.name, granges);
}
/**
 * utility function to create a datatype, designed for JavaScript usage
 * @param name
 * @param functions the functions to add
 * @return {function(IDataDescription): undefined}
 */
function defineDataType(name, functions) {
    function DataType(desc) {
        ADataType.call(this, desc);
        if (typeof (this.init) === 'function') {
            this.init.apply(this, Array.from(arguments));
        }
    }
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["extendClass"])(DataType, ADataType);
    DataType.prototype.toString = function () { return name; };
    DataType.prototype = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(DataType.prototype, functions);
    return DataType;
}
function isNumeric(obj) {
    return (obj - parseFloat(obj) + 1) >= 0;
}
/**
 * guesses the type of the given value array returning its description
 * @param arr
 * @return {any}
 */
function guessValueTypeDesc(arr) {
    if (arr.length === 0) {
        return { type: 'string' }; //doesn't matter
    }
    var test = arr[0];
    if (typeof test === 'number' || isNumeric(test)) {
        return { type: VALUE_TYPE_REAL, range: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__math__["extent"])(arr.map(parseFloat)) };
    }
    var values = new Set(arr);
    if (values.size < arr.length * 0.2 || values.size < 8) {
        //guess as categorical
        return { type: 'categorical', categories: Array.from(values.values()) };
    }
    return { type: 'string' };
}
/**
 * creates a default data description
 * @return {{type: string, id: string, name: string, fqname: string, description: string, creator: string, ts: number}}
 */
function createDefaultDataDesc(namespace) {
    if (namespace === void 0) { namespace = 'localData'; }
    var id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["uniqueString"])(namespace);
    return {
        type: 'default',
        id: id,
        name: id,
        fqname: id,
        description: '',
        creator: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__security__["currentUserNameOrAnonymous"])(),
        ts: Date.now()
    };
}


/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__manager__ = __webpack_require__(49);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "clearSelection", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "EVENT_REGISTER_IDTYPE", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "list", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["d"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "listAll", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["e"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "persist", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["f"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "register", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["g"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "restore", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["h"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "resolve", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "resolveProduct", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["i"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "isInternalIDType", function() { return __WEBPACK_IMPORTED_MODULE_0__manager__["j"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ASelectAble__ = __webpack_require__(48);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SelectAble", function() { return __WEBPACK_IMPORTED_MODULE_1__ASelectAble__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__IIDType__ = __webpack_require__(14);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asSelectOperation", function() { return __WEBPACK_IMPORTED_MODULE_2__IIDType__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "defaultSelectionType", function() { return __WEBPACK_IMPORTED_MODULE_2__IIDType__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "hoverSelectionType", function() { return __WEBPACK_IMPORTED_MODULE_2__IIDType__["e"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SelectOperation", function() { return __WEBPACK_IMPORTED_MODULE_2__IIDType__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "toSelectOperation", function() { return __WEBPACK_IMPORTED_MODULE_2__IIDType__["f"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "integrateSelection", function() { return __WEBPACK_IMPORTED_MODULE_2__IIDType__["g"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__IDType__ = __webpack_require__(17);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IDType", function() { return __WEBPACK_IMPORTED_MODULE_3__IDType__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__AProductSelectAble__ = __webpack_require__(47);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AProductSelectAble", function() { return __WEBPACK_IMPORTED_MODULE_4__AProductSelectAble__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ProductIDType__ = __webpack_require__(31);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ProductIDType", function() { return __WEBPACK_IMPORTED_MODULE_5__ProductIDType__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ObjectManager__ = __webpack_require__(97);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectManager", function() { return __WEBPACK_IMPORTED_MODULE_6__ObjectManager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "isId", function() { return __WEBPACK_IMPORTED_MODULE_6__ObjectManager__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "toId", function() { return __WEBPACK_IMPORTED_MODULE_6__ObjectManager__["c"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__LocalIDAssigner__ = __webpack_require__(96);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "LocalIDAssigner", function() { return __WEBPACK_IMPORTED_MODULE_7__LocalIDAssigner__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "createLocalAssigner", function() { return __WEBPACK_IMPORTED_MODULE_7__LocalIDAssigner__["b"]; });
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */










/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventHandler", function() { return EventHandler; });
/* harmony export (immutable) */ __webpack_exports__["on"] = on;
/* harmony export (immutable) */ __webpack_exports__["off"] = off;
/* harmony export (immutable) */ __webpack_exports__["fire"] = fire;
/* harmony export (immutable) */ __webpack_exports__["getRegisteredHandlerCount"] = getRegisteredHandlerCount;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */
var Event = /** @class */ (function () {
    function Event(type, args, target, delegateTarget) {
        this.type = type;
        this.args = args;
        this.target = target;
        this.delegateTarget = delegateTarget;
        this.timeStamp = new Date();
        this.stopped = false;
        this.stopedPropagation = false;
    }
    Object.defineProperty(Event.prototype, "currentTarget", {
        get: function () {
            return this.target;
        },
        enumerable: true,
        configurable: true
    });
    Event.prototype.isImmediatePropagationStopped = function () {
        return this.stopped;
    };
    Event.prototype.stopImmediatePropagation = function () {
        this.stopped = true;
    };
    Event.prototype.isPropagationStopped = function () {
        return this.stopedPropagation;
    };
    Event.prototype.stopPropagation = function () {
        this.stopedPropagation = true;
    };
    return Event;
}());
var SingleEventHandler = /** @class */ (function () {
    function SingleEventHandler(type) {
        this.type = type;
        this.listeners = [];
        //nothing else to do
    }
    SingleEventHandler.prototype.push = function (listener) {
        this.listeners.push(listener);
    };
    SingleEventHandler.prototype.remove = function (listener) {
        var i = this.listeners.indexOf(listener);
        if (i >= 0) {
            this.listeners.splice(i, 1);
            return true;
        }
        return false;
    };
    SingleEventHandler.prototype.fire = function (event) {
        if (this.listeners.length === 0) {
            return false;
        }
        var largs = [event].concat(event.args);
        if (this.listeners.length === 1) {
            this.listeners[0].apply(event, largs);
        }
        else {
            //work on a copy in case the number changes
            var l = this.listeners.slice(), ll = l.length;
            for (var i = 0; i < ll && !event.isImmediatePropagationStopped(); ++i) {
                l[i].apply(event, largs);
            }
        }
        return true;
    };
    Object.defineProperty(SingleEventHandler.prototype, "length", {
        get: function () {
            return this.listeners.length;
        },
        enumerable: true,
        configurable: true
    });
    return SingleEventHandler;
}());
function createEvent(event, args, target) {
    return new Event(event, args, target, target);
}
function propagateEvent(event, target) {
    return new Event(event.type, event.args, target, event.target);
}
/**
 * EventHandler base class
 */
var EventHandler = /** @class */ (function () {
    function EventHandler() {
        var _this = this;
        this.handlers = new Map();
        this.propagationHandler = function (event) {
            if (!event.isPropagationStopped()) {
                _this.fireEvent(propagateEvent(event, _this));
            }
        };
    }
    /**
     * register a global event handler
     * @param events either one event string (multiple are supported using , as separator) or a map of event handlers
     * @param handler the handler in case of a given string
     */
    EventHandler.prototype.on = function (events, handler) {
        var _this = this;
        if (typeof events === 'string') {
            events.split(EventHandler.MULTI_EVENT_SEPARATOR).forEach(function (event) {
                if (!_this.handlers.has(event)) {
                    _this.handlers.set(event, new SingleEventHandler(event));
                }
                _this.handlers.get(event).push(handler);
            });
        }
        else {
            Object.keys(events).forEach(function (event) {
                var h = events[event];
                _this.on(event, h);
            });
        }
        return this;
    };
    /**
     * unregister a global event handler
     * @param events
     * @param handler
     */
    EventHandler.prototype.off = function (events, handler) {
        var _this = this;
        if (typeof events === 'string') {
            events.split(EventHandler.MULTI_EVENT_SEPARATOR).forEach(function (event) {
                if (_this.handlers.has(event)) {
                    var h = _this.handlers.get(event);
                    h.remove(handler);
                    if (h.length === 0) {
                        _this.handlers.delete(event);
                    }
                }
            });
        }
        else {
            Object.keys(events).forEach(function (event) {
                var h = events[event];
                _this.off(event, h);
            });
        }
        return this;
    };
    /**
     * list for each registered event the number of listeners
     */
    EventHandler.prototype.getRegisteredHandlerCount = function () {
        var r = {};
        this.handlers.forEach(function (handler, type) {
            r[type] = handler.length;
        });
        return r;
    };
    /**
     * fires an event
     * @param events name(s) of the event
     * @param args additional arguments
     */
    EventHandler.prototype.fire = function (events) {
        var _this = this;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        events.split(EventHandler.MULTI_EVENT_SEPARATOR).forEach(function (event) {
            _this.fireEvent(createEvent(event, args, _this));
        });
        return this;
    };
    EventHandler.prototype.fireEvent = function (event) {
        if (this.handlers.has(event.type)) {
            var h = this.handlers.get(event.type);
            return h.fire(event);
        }
        return false;
    };
    /**
     * registers on the given event handler and propagates the given events to itself
     * @param progatee
     * @param events
     */
    EventHandler.prototype.propagate = function (progatee) {
        var events = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            events[_i - 1] = arguments[_i];
        }
        progatee.on(events.join(EventHandler.MULTI_EVENT_SEPARATOR), this.propagationHandler);
    };
    EventHandler.prototype.stopPropagation = function (progatee) {
        var events = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            events[_i - 1] = arguments[_i];
        }
        progatee.off(events.join(EventHandler.MULTI_EVENT_SEPARATOR), this.propagationHandler);
    };
    EventHandler.MULTI_EVENT_SEPARATOR = ',';
    return EventHandler;
}());

var globalHandler = new EventHandler();
/**
 * register a global event handler
 * @param events
 * @param handler
 */
function on(events, handler) {
    return globalHandler.on(events, handler);
}
/**
 * unregister a global event handler
 * @param events
 * @param handler
 */
function off(events, handler) {
    return globalHandler.off(events, handler);
}
/**
 * fires an event
 * @param event
 * @param extraArguments
 */
function fire(events) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
    }
    return globalHandler.fire.apply(globalHandler, [events].concat(args));
}
/**
 * list all events
 */
function getRegisteredHandlerCount() {
    return globalHandler.getRegisteredHandlerCount();
}


/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__event__ = __webpack_require__(5);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return DIM_NODES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return IDTYPE_NODES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return DIM_EDGES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return IDTYPE_EDGES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return AttributeContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return GraphNode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GraphEdge; });
/* harmony export (immutable) */ __webpack_exports__["d"] = isType;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return AGraph; });

/**
 * Created by sam on 12.02.2015.
 */
/**
 * Created by Samuel Gratzl on 22.10.2014.
 */




var DIM_NODES = 0;
var IDTYPE_NODES = '_nodes';
var DIM_EDGES = 1;
var IDTYPE_EDGES = '_edges';
var AttributeContainer = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AttributeContainer, _super);
    function AttributeContainer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.attrMap = new Map();
        return _this;
    }
    AttributeContainer.prototype.persist = function () {
        if (this.attrMap.size > 0) {
            var attrs_1 = {};
            this.attrMap.forEach(function (v, k) { return attrs_1[k] = v; });
            return { attrs: attrs_1 };
        }
        return {};
    };
    AttributeContainer.prototype.setAttr = function (attr, value) {
        var bak = this.attrMap.get(attr);
        if (bak === value && !Array.isArray(bak)) {
            return;
        }
        this.attrMap.set(attr, value);
        this.fire('attr-' + attr, value, bak);
        this.fire('setAttr', attr, value, bak);
    };
    AttributeContainer.prototype.hasAttr = function (attr) {
        return this.attrMap.has(attr);
    };
    AttributeContainer.prototype.getAttr = function (attr, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        if (this.attrMap.has(attr)) {
            return this.attrMap.get(attr);
        }
        return defaultValue;
    };
    Object.defineProperty(AttributeContainer.prototype, "attrs", {
        get: function () {
            return Array.from(this.attrMap.keys());
        },
        enumerable: true,
        configurable: true
    });
    AttributeContainer.prototype.restore = function (persisted) {
        var _this = this;
        if (persisted.attrs) {
            Object.keys(persisted.attrs).forEach(function (k) { return _this.attrMap.set(k, persisted.attrs[k]); });
        }
        return this;
    };
    return AttributeContainer;
}(__WEBPACK_IMPORTED_MODULE_4__event__["EventHandler"]));

/**
 * a simple graph none
 */
var GraphNode = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](GraphNode, _super);
    function GraphNode(type, id) {
        if (type === void 0) { type = 'node'; }
        if (id === void 0) { id = NaN; }
        var _this = _super.call(this) || this;
        _this.type = type;
        _this.outgoing = [];
        _this.incoming = [];
        _this._id = NaN;
        _this._id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["flagId"])('graph_node', id);
        return _this;
    }
    Object.defineProperty(GraphNode.prototype, "id", {
        get: function () {
            if (isNaN(this._id)) {
                this._id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["uniqueId"])('graph_node');
            }
            return this._id;
        },
        enumerable: true,
        configurable: true
    });
    GraphNode.prototype.persist = function () {
        var r = _super.prototype.persist.call(this);
        r.type = this.type;
        r.id = this.id;
        return r;
    };
    GraphNode.prototype.restore = function (persisted) {
        _super.prototype.restore.call(this, persisted);
        this.type = persisted.type;
        this._id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["flagId"])('graph_node', persisted.id);
        return this;
    };
    return GraphNode;
}(AttributeContainer));

var GraphEdge = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](GraphEdge, _super);
    function GraphEdge(type, source, target, id) {
        if (type === void 0) { type = 'edge'; }
        if (source === void 0) { source = null; }
        if (target === void 0) { target = null; }
        if (id === void 0) { id = NaN; }
        var _this = _super.call(this) || this;
        _this.type = type;
        _this.source = source;
        _this.target = target;
        _this._id = NaN;
        _this._id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["flagId"])('graph_edge', id);
        if (source && target) {
            _this.init();
        }
        return _this;
    }
    Object.defineProperty(GraphEdge.prototype, "id", {
        get: function () {
            if (isNaN(this._id)) {
                this._id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["uniqueId"])('graph_edge');
            }
            return this._id;
        },
        enumerable: true,
        configurable: true
    });
    GraphEdge.prototype.init = function () {
        this.source.outgoing.push(this);
        this.target.incoming.push(this);
    };
    GraphEdge.prototype.takeDown = function () {
        if (this.source) {
            this.source.outgoing.splice(this.source.outgoing.indexOf(this), 1);
        }
        if (this.target) {
            this.target.incoming.splice(this.target.incoming.indexOf(this), 1);
        }
    };
    GraphEdge.prototype.toString = function () {
        return this.source + " " + this.type + " " + this.target;
    };
    GraphEdge.prototype.persist = function () {
        var r = _super.prototype.persist.call(this);
        r.type = this.type;
        r.id = this.id;
        r.source = this.source.id;
        r.target = this.target.id;
        return r;
    };
    GraphEdge.prototype.restore = function (p, nodes) {
        _super.prototype.restore.call(this, p);
        this.type = p.type;
        this._id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["flagId"])('graph_edge', p.id);
        this.source = nodes(p.source);
        this.target = nodes(p.target);
        this.init();
        return this;
    };
    return GraphEdge;
}(AttributeContainer));

function isType(type) {
    return function (edge) { return type instanceof RegExp ? type.test(edge.type) : edge.type === type; };
}
var AGraph = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AGraph, _super);
    function AGraph() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(AGraph.prototype, "nnodes", {
        get: function () {
            return this.nodes.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AGraph.prototype, "nedges", {
        get: function () {
            return this.edges.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AGraph.prototype, "dim", {
        get: function () {
            return [this.nodes.length, this.edges.length];
        },
        enumerable: true,
        configurable: true
    });
    AGraph.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        var ids = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(this.nodes.map(function (n) { return n.id; }), this.edges.map(function (n) { return n.id; })));
        return Promise.resolve(ids.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range)));
    };
    AGraph.prototype.idView = function (idRange) {
        if (idRange === void 0) { idRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        throw Error('not implemented');
    };
    AGraph.prototype.selectNode = function (node, op) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_1__idtype__["SelectOperation"].SET; }
        this.select(DIM_NODES, [this.nodes.indexOf(node)], op);
    };
    AGraph.prototype.selectedNodes = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _this = this;
            var r, nodes;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.selections()];
                    case 1:
                        r = _a.sent();
                        nodes = [];
                        r.dim(DIM_NODES).forEach(function (index) { return nodes.push(_this.nodes[index]); });
                        return [2 /*return*/, nodes];
                }
            });
        });
    };
    AGraph.prototype.selectEdge = function (edge, op) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_1__idtype__["SelectOperation"].SET; }
        this.select(DIM_EDGES, [this.edges.indexOf(edge)], op);
    };
    AGraph.prototype.selectedEdges = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _this = this;
            var r, edges;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.selections()];
                    case 1:
                        r = _a.sent();
                        edges = [];
                        r.dim(DIM_EDGES).forEach(function (index) { return edges.push(_this.edges[index]); });
                        return [2 /*return*/, edges];
                }
            });
        });
    };
    Object.defineProperty(AGraph.prototype, "idtypes", {
        get: function () {
            return [IDTYPE_NODES, IDTYPE_EDGES].map(__WEBPACK_IMPORTED_MODULE_1__idtype__["resolve"]);
        },
        enumerable: true,
        configurable: true
    });
    return AGraph;
}(__WEBPACK_IMPORTED_MODULE_1__idtype__["SelectAble"]));



/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony export (immutable) */ __webpack_exports__["getFactoryMethod"] = getFactoryMethod;
/* harmony export (immutable) */ __webpack_exports__["register"] = register;
/* harmony export (immutable) */ __webpack_exports__["list"] = list;
/* harmony export (immutable) */ __webpack_exports__["get"] = get;
/* harmony export (immutable) */ __webpack_exports__["load"] = load;
/* harmony export (immutable) */ __webpack_exports__["asResource"] = asResource;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */


/**
 * determines the factory method to use in case of the 'new ' syntax wrap the class constructor using a factory method
 */
function getFactoryMethod(instance, factory) {
    var f = factory.trim();
    if (f === 'new') {
        //instantiate the default class
        f = 'new default';
    }
    if (f === 'create') { //default value
        if (typeof instance.create === 'function') {
            //default exists
            return instance.create;
        }
        // try another default
        if (typeof instance.default === 'function') {
            //we have a default export
            if (instance.default.prototype !== undefined) { // it has a prototype so guess it is a class
                f = 'new default';
            }
            else {
                f = 'default';
            }
        }
        else {
            console.error("neighter a default export nor the 'create' method exists in the module:", instance);
        }
    }
    if (f.startsWith('new ')) {
        var className_1 = f.substring('new '.length);
        return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return new ((_a = instance[className_1]).bind.apply(_a, [void 0].concat(args)))();
            var _a;
        };
    }
    return instance[f];
}
var registry = [];
function push(type, idOrLoader, descOrLoader, desc) {
    var _this = this;
    var id = typeof idOrLoader === 'string' ? idOrLoader : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["uniqueString"])(type);
    var loader = typeof idOrLoader === 'string' ? descOrLoader : descOrLoader;
    var p = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
        type: type,
        id: id,
        name: id,
        factory: 'create',
        description: '',
        version: '1.0.0',
        load: function () { return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](_this, void 0, void 0, function () {
            var instance;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, Promise.resolve(loader())];
                    case 1:
                        instance = _a.sent();
                        return [2 /*return*/, { desc: p, factory: getFactoryMethod(instance, p.factory) }];
                }
            });
        }); }
    }, typeof descOrLoader === 'function' ? desc : descOrLoader);
    registry.push(p);
}
var knownPlugins = new Set();
function register(plugin, generator) {
    if (typeof generator !== 'function') {
        //wrong type - not a function, maybe a dummy inline
        return;
    }
    if (knownPlugins.has(plugin)) {
        return; // don't call it twice
    }
    knownPlugins.add(plugin);
    generator({ push: push, flags: {} });
}
/**
 * returns a list of matching plugin descs
 * @param filter
 * @returns {IPluginDesc[]}
 */
function list(filter) {
    if (filter === void 0) { filter = function () { return true; }; }
    if (typeof filter === 'string') {
        var v_1 = filter;
        filter = function (desc) { return desc.type === v_1; };
    }
    return registry.filter(filter);
}
/**
 * returns an extension identified by type and id
 * @param type
 * @param id
 * @returns {IPluginDesc}
 */
function get(type, id) {
    return registry.find(function (d) { return d.type === type && d.id === id; });
}
function load(desc) {
    return Promise.all(desc.map(function (d) { return d.load(); }));
}
/**
 * Helper function to simplify importing of  resource files (e.g., JSON).
 * The imported resource file is returned as it is.
 *
 * @param data Imported JSON file
 */
function asResource(data) {
    return {
        create: function () { return data; }
    };
}


/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = resolveImmediately;
var ResolveNow = /** @class */ (function () {
    function ResolveNow(v) {
        this.v = v;
    }
    // When using Typescript v2.7+ the typing can be further specified as `then<TResult1 = T, TResult2 = never>(...`
    ResolveNow.prototype.then = function (onfulfilled, onrejected) {
        return resolveImmediately(onfulfilled(this.v));
    };
    return ResolveNow;
}());
/**
 * similar to Promise.resolve but executes the result immediately without an intermediate tick
 * @param {PromiseLike<T> | T} result
 * @returns {PromiseLike<T>}
 */
function resolveImmediately(result) {
    if (result instanceof Promise || (result && typeof result.then === 'function')) {
        return result;
    }
    return new ResolveNow(result);
}


/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1____ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(5);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GLOBAL_EVENT_AJAX_PRE_SEND", function() { return GLOBAL_EVENT_AJAX_PRE_SEND; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GLOBAL_EVENT_AJAX_POST_SEND", function() { return GLOBAL_EVENT_AJAX_POST_SEND; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_URL_LENGTH", function() { return MAX_URL_LENGTH; });
/* harmony export (immutable) */ __webpack_exports__["send"] = send;
/* harmony export (immutable) */ __webpack_exports__["getJSON"] = getJSON;
/* harmony export (immutable) */ __webpack_exports__["getData"] = getData;
/* harmony export (immutable) */ __webpack_exports__["api2absURL"] = api2absURL;
/* harmony export (immutable) */ __webpack_exports__["encodeParams"] = encodeParams;
/* harmony export (immutable) */ __webpack_exports__["setDefaultOfflineGenerator"] = setDefaultOfflineGenerator;
/* harmony export (immutable) */ __webpack_exports__["sendAPI"] = sendAPI;
/* harmony export (immutable) */ __webpack_exports__["getAPIJSON"] = getAPIJSON;
/* harmony export (immutable) */ __webpack_exports__["getAPIData"] = getAPIData;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
// to resolve the window extensions
/// <reference types="whatwg-fetch" />

/**
 * Created by Samuel Gratzl on 04.08.2014.
 */


var GLOBAL_EVENT_AJAX_PRE_SEND = 'ajaxPreSend';
var GLOBAL_EVENT_AJAX_POST_SEND = 'ajaxPostSend';
/**
 * Maximum number of characters of a valid URL
 */
var MAX_URL_LENGTH = 4096;
var AjaxError = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AjaxError, _super);
    function AjaxError(response, message) {
        var _this = _super.call(this, message ? message : response.statusText) || this;
        _this.response = response;
        // Set the prototype explicitly. needed for Typescript 2.1
        Object.setPrototypeOf(_this, AjaxError.prototype);
        return _this;
    }
    return AjaxError;
}(Error));
function checkStatus(response) {
    if (response.ok) {
        return response;
    }
    else {
        throw new AjaxError(response);
    }
}
function parseType(expectedDataType, response) {
    switch (expectedDataType.trim().toLowerCase()) {
        case 'json':
        case 'application/json':
            return response.json();
        case 'text':
        case 'text/plain':
            return response.text();
        case 'blob':
            return response.blob();
        case 'arraybuffer':
            return response.arrayBuffer();
        default:
            throw new AjaxError(response, "unknown expected data type: \"" + expectedDataType + "\"");
    }
}
/**
 * sends an XML http request to the server
 * @param url url
 * @param data arguments
 * @param method the http method
 * @param expectedDataType expected data type to return, in case of JSON it will be parsed using JSON.parse
 * @param requestBody body mime type, default auto derive
 * @returns {Promise<any>}
 */
function send(url, data, method, expectedDataType, requestBody) {
    if (data === void 0) { data = {}; }
    if (method === void 0) { method = 'GET'; }
    if (expectedDataType === void 0) { expectedDataType = 'json'; }
    if (requestBody === void 0) { requestBody = 'formdata'; }
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var options, mimetype, r, _a, output;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
            switch (_b.label) {
                case 0:
                    // for compatibility
                    method = method.toUpperCase();
                    // need to encode the body in the url in case of GET and HEAD
                    if (method === 'GET' || method === 'HEAD') {
                        data = encodeParams(data); //encode in url
                        if (data) {
                            url += (/\?/.test(url) ? '&' : '?') + data;
                            data = null;
                        }
                    }
                    options = {
                        credentials: 'same-origin',
                        method: method,
                        headers: {
                            'Accept': 'application/json'
                        },
                    };
                    if (data) {
                        mimetype = '';
                        switch (requestBody.trim().toLowerCase()) {
                            case 'json':
                            case 'application/json':
                                mimetype = 'application/json';
                                options.body = typeof data === 'string' ? data : JSON.stringify(data);
                                break;
                            case 'text':
                            case 'text/plain':
                                mimetype = 'text/plain';
                                options.body = String(data);
                                break;
                            case 'blob':
                            case 'arraybuffer':
                                mimetype = 'application/octet-stream';
                                options.body = data;
                                break;
                            default:
                                if (data instanceof FormData) {
                                    options.body = data;
                                }
                                else {
                                    mimetype = 'application/x-www-form-urlencoded';
                                    options.body = encodeParams(data);
                                }
                        }
                        if (mimetype) {
                            options.headers['Content-Type'] = mimetype;
                        }
                    }
                    // there are no typings for fetch so far
                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__event__["fire"])(GLOBAL_EVENT_AJAX_PRE_SEND, url, options);
                    _a = checkStatus;
                    return [4 /*yield*/, self.fetch(url, options)];
                case 1:
                    r = _a.apply(void 0, [_b.sent()]);
                    output = parseType(expectedDataType, r);
                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__event__["fire"])(GLOBAL_EVENT_AJAX_POST_SEND, url, options, r, output);
                    return [2 /*return*/, output];
            }
        });
    });
}
/**
 * to get some ajax json file
 * @param url
 * @param data
 * @returns {any}
 */
function getJSON(url, data) {
    if (data === void 0) { data = {}; }
    return send(url, data);
}
/**
 * get some generic data via ajax
 * @param url
 * @param data
 * @param expectedDataType
 * @returns {any}
 */
function getData(url, data, expectedDataType) {
    if (data === void 0) { data = {}; }
    if (expectedDataType === void 0) { expectedDataType = 'json'; }
    return send(url, data, 'GET', expectedDataType);
}
/**
 * converts the given api url to an absolute with optional get parameters
 * @param url
 * @param data
 * @returns {string}
 */
function api2absURL(url, data) {
    if (data === void 0) { data = null; }
    url = "" + __WEBPACK_IMPORTED_MODULE_1____["server_url"] + url + __WEBPACK_IMPORTED_MODULE_1____["server_json_suffix"];
    data = encodeParams(data);
    if (data) {
        url += (/\?/.test(url) ? '&' : '?') + data;
    }
    return url;
}
/**
 * convert a given object to url data similar to JQuery
 * @param data
 * @returns {any}
 */
function encodeParams(data) {
    if (data === void 0) { data = null; }
    if (data === null) {
        return null;
    }
    if (typeof data === 'string') {
        return encodeURIComponent(data);
    }
    var keys = Object.keys(data);
    if (keys.length === 0) {
        return null;
    }
    var s = [];
    function add(prefix, key, value) {
        if (Array.isArray(value)) {
            value.forEach(function (v, i) {
                if (typeof v === 'object') {
                    add(prefix, key + "[" + i + "]", v);
                }
                else {
                    //primitive values uses the same key
                    add(prefix, key + "[]", v);
                }
            });
        }
        else if (value == null) {
            // skip
        }
        else if (typeof value === 'object') {
            Object.keys(value).forEach(function (v) {
                add(prefix, key + "[" + v + "]", value[v]);
            });
        }
        else {
            s.push(encodeURIComponent(prefix + key) + '=' + encodeURIComponent(value));
        }
    }
    keys.forEach(function (key) {
        add('', key, data[key]);
    });
    // Return the resulting serialization
    return s.join('&').replace(/%20/g, '+');
}
var defaultGenerator = function () { return Promise.reject('offline'); };
function setDefaultOfflineGenerator(generator) {
    defaultGenerator = generator || (function () { return Promise.reject('offline'); });
}
/**
 * handler in case phovea is set to be in offline mode
 * @param generator
 * @param data
 * @param url
 * @returns {Promise<OfflineGenerator>}
 */
function offline(generator, url, data) {
    return Promise.resolve(typeof generator === 'function' ? generator(data, url) : generator);
}
/**
 * api version of send
 * @param url api relative url
 * @param data arguments
 * @param method http method
 * @param expectedDataType expected data type to return, in case of JSON it will be parsed using JSON.parse
 * @param offlineGenerator in case phovea is set to be offline
 * @returns {Promise<any>}
 */
function sendAPI(url, data, method, expectedDataType, offlineGenerator) {
    if (data === void 0) { data = {}; }
    if (method === void 0) { method = 'GET'; }
    if (expectedDataType === void 0) { expectedDataType = 'json'; }
    if (offlineGenerator === void 0) { offlineGenerator = defaultGenerator; }
    if (__WEBPACK_IMPORTED_MODULE_1____["offline"]) {
        return offline(offlineGenerator, url, data);
    }
    return send(api2absURL(url), data, method, expectedDataType);
}
/**
 * api version of getJSON
 * @param url api relative url
 * @param data arguments
 * @param offlineGenerator in case of offline flag is set what should be returned
 * @returns {Promise<any>}
 */
function getAPIJSON(url, data, offlineGenerator) {
    if (data === void 0) { data = {}; }
    if (offlineGenerator === void 0) { offlineGenerator = defaultGenerator; }
    if (__WEBPACK_IMPORTED_MODULE_1____["offline"]) {
        return offline(offlineGenerator, url, data);
    }
    return getJSON(api2absURL(url), data);
}
/**
 * api version of getData
 * @param url api relative url
 * @param data arguments
 * @param expectedDataType expected data type to return, in case of JSON it will be parsed using JSON.parse
 * @param offlineGenerator in case of offline flag is set what should be returned
 * @returns {Promise<any>}
 */
function getAPIData(url, data, expectedDataType, offlineGenerator) {
    if (data === void 0) { data = {}; }
    if (expectedDataType === void 0) { expectedDataType = 'json'; }
    if (offlineGenerator === void 0) { offlineGenerator = function () { return defaultGenerator; }; }
    if (__WEBPACK_IMPORTED_MODULE_1____["offline"]) {
        return offline(offlineGenerator, url, data);
    }
    return getData(api2absURL(url), data, expectedDataType);
}


/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Intersection", function() { return Intersection; });
/* harmony export (immutable) */ __webpack_exports__["vec"] = vec;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Vector2D", function() { return Vector2D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Path", function() { return Path; });
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */

function param(name, params) {
    return { name: name, params: params };
}
var Intersection = /** @class */ (function () {
    /**
     *  'Outside',
     *  'Inside',
     *  'Tangent'
     *  'Coincident'
     *  'Parallel'
     *  'Intersection'
     *  'No Intersection'
     */
    function Intersection(status) {
        if (status === void 0) { status = 'No Intersection'; }
        this.status = status;
        this.points = [];
    }
    Object.defineProperty(Intersection.prototype, "intersects", {
        get: function () {
            return this.status === 'Intersection';
        },
        enumerable: true,
        configurable: true
    });
    Intersection.prototype.appendPoint = function (point) {
        this.status = 'Intersection';
        this.points.push(point);
    };
    Intersection.prototype.appendPoints = function (points) {
        if (points.length > 0) {
            this.status = 'Intersection';
        }
        (_a = this.points).push.apply(_a, points);
        var _a;
    };
    Object.defineProperty(Intersection.prototype, "length", {
        get: function () {
            return this.points.length;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Performs the specified action for each element in an array.
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the callbackfn function one time for each element in the array.
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.
     */
    Intersection.prototype.forEach = function (callbackfn, thisArg) {
        this.points.forEach(callbackfn, thisArg);
    };
    /**
     * Calls a defined callback function on each element of an array, and returns an array that contains the results.
     * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.
     * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.
     */
    Intersection.prototype.map = function (callbackfn, thisArg) {
        return this.points.map(callbackfn, thisArg);
    };
    Intersection.intersectShapes = function (shape1, shape2) {
        var ip1 = shape1.asIntersectionParams();
        var ip2 = shape2.asIntersectionParams();
        var result;
        if (ip1 != null && ip2 != null) {
            if (shape1 instanceof Path) {
                result = Intersection.intersectPathShape(shape1, shape2);
            }
            else if (shape2 instanceof Path) {
                result = Intersection.intersectPathShape(shape2, shape1);
            }
            else {
                var method = void 0;
                var params = void 0;
                if (ip1.name < ip2.name) {
                    method = 'intersect' + ip1.name + ip2.name;
                    params = ip1.params.concat(ip2.params);
                }
                else {
                    method = 'intersect' + ip2.name + ip1.name;
                    params = ip2.params.concat(ip1.params);
                }
                var intersectionAny = Intersection;
                if (typeof intersectionAny[method] !== 'function') {
                    throw new Error('Intersection not available: ' + method);
                }
                result = intersectionAny[method].apply(null, params);
            }
        }
        else {
            result = new Intersection();
        }
        return result;
    };
    Intersection.intersectPathShape = function (path, shape) {
        return path.intersectShape(shape);
    };
    Intersection.intersectBezier2Bezier2 = function (a1, a2, a3, b1, b2, b3) {
        var TOLERANCE = 1e-4;
        var result = new Intersection();
        var a = a2.multiply(-2);
        var c12 = a1.add(a.add(a3));
        a = a1.multiply(-2);
        var b = a2.multiply(2);
        var c11 = a.add(b);
        var c10 = new Vector2D(a1.x, a1.y);
        a = b2.multiply(-2);
        var c22 = b1.add(a.add(b3));
        a = b1.multiply(-2);
        b = b2.multiply(2);
        var c21 = a.add(b);
        var c20 = new Vector2D(b1.x, b1.y);
        var af = c12.x * c11.y - c11.x * c12.y;
        var bf = c22.x * c11.y - c11.x * c22.y;
        var c = c21.x * c11.y - c11.x * c21.y;
        var d = c11.x * (c10.y - c20.y) + c11.y * (-c10.x + c20.x);
        var e = c22.x * c12.y - c12.x * c22.y;
        var f = c21.x * c12.y - c12.x * c21.y;
        var g = c12.x * (c10.y - c20.y) + c12.y * (-c10.x + c20.x);
        var poly = new Polynomial(-e * e, -2 * e * f, af * bf - f * f - 2 * e * g, af * c - 2 * f * g, af * d - g * g);
        var roots = poly.getRoots();
        for (var _i = 0, roots_1 = roots; _i < roots_1.length; _i++) {
            var s = roots_1[_i];
            if (0 <= s && s <= 1) {
                var xRoots = new Polynomial(-c12.x, -c11.x, -c10.x + c20.x + s * c21.x + s * s * c22.x).getRoots();
                var yRoots = new Polynomial(-c12.y, -c11.y, -c10.y + c20.y + s * c21.y + s * s * c22.y).getRoots();
                if (xRoots.length > 0 && yRoots.length > 0) {
                    checkRoots: for (var _a = 0, xRoots_1 = xRoots; _a < xRoots_1.length; _a++) {
                        var xRoot = xRoots_1[_a];
                        if (0 <= xRoot && xRoot <= 1) {
                            for (var _b = 0, yRoots_1 = yRoots; _b < yRoots_1.length; _b++) {
                                var yRoot = yRoots_1[_b];
                                if (Math.abs(xRoot - yRoot) < TOLERANCE) {
                                    result.points.push(c22.multiply(s * s).add(c21.multiply(s).add(c20)));
                                    break checkRoots;
                                }
                            }
                        }
                    }
                }
            }
        }
        return result;
    };
    Intersection.intersectBezier2Bezier3 = function (a1, a2, a3, b1, b2, b3, b4) {
        var a, b, c, d;
        var c12, c11, c10;
        var c23, c22, c21, c20;
        var result = new Intersection();
        a = a2.multiply(-2);
        c12 = a1.add(a.add(a3));
        a = a1.multiply(-2);
        b = a2.multiply(2);
        c11 = a.add(b);
        c10 = new Vector2D(a1.x, a1.y);
        a = b1.multiply(-1);
        b = b2.multiply(3);
        c = b3.multiply(-3);
        d = a.add(b.add(c.add(b4)));
        c23 = new Vector2D(d.x, d.y);
        a = b1.multiply(3);
        b = b2.multiply(-6);
        c = b3.multiply(3);
        d = a.add(b.add(c));
        c22 = new Vector2D(d.x, d.y);
        a = b1.multiply(-3);
        b = b2.multiply(3);
        c = a.add(b);
        c21 = new Vector2D(c.x, c.y);
        c20 = new Vector2D(b1.x, b1.y);
        var c10x2 = c10.x * c10.x;
        var c10y2 = c10.y * c10.y;
        var c11x2 = c11.x * c11.x;
        var c11y2 = c11.y * c11.y;
        var c12x2 = c12.x * c12.x;
        var c12y2 = c12.y * c12.y;
        var c20x2 = c20.x * c20.x;
        var c20y2 = c20.y * c20.y;
        var c21x2 = c21.x * c21.x;
        var c21y2 = c21.y * c21.y;
        var c22x2 = c22.x * c22.x;
        var c22y2 = c22.y * c22.y;
        var c23x2 = c23.x * c23.x;
        var c23y2 = c23.y * c23.y;
        var poly = new Polynomial(-2 * c12.x * c12.y * c23.x * c23.y + c12x2 * c23y2 + c12y2 * c23x2, -2 * c12.x * c12.y * c22.x * c23.y - 2 * c12.x * c12.y * c22.y * c23.x + 2 * c12y2 * c22.x * c23.x + 2 * c12x2 * c22.y * c23.y, -2 * c12.x * c21.x * c12.y * c23.y - 2 * c12.x * c12.y * c21.y * c23.x - 2 * c12.x * c12.y * c22.x * c22.y + 2 * c21.x * c12y2 * c23.x + c12y2 * c22x2 + c12x2 * (2 * c21.y * c23.y + c22y2), 2 * c10.x * c12.x * c12.y * c23.y + 2 * c10.y * c12.x * c12.y * c23.x + c11.x * c11.y * c12.x * c23.y + c11.x * c11.y * c12.y * c23.x - 2 * c20.x * c12.x * c12.y * c23.y - 2 * c12.x * c20.y * c12.y * c23.x - 2 * c12.x * c21.x * c12.y * c22.y - 2 * c12.x * c12.y * c21.y * c22.x - 2 * c10.x * c12y2 * c23.x - 2 * c10.y * c12x2 * c23.y + 2 * c20.x * c12y2 * c23.x + 2 * c21.x * c12y2 * c22.x - c11y2 * c12.x * c23.x - c11x2 * c12.y * c23.y + c12x2 * (2 * c20.y * c23.y + 2 * c21.y * c22.y), 2 * c10.x * c12.x * c12.y * c22.y + 2 * c10.y * c12.x * c12.y * c22.x + c11.x * c11.y * c12.x * c22.y + c11.x * c11.y * c12.y * c22.x - 2 * c20.x * c12.x * c12.y * c22.y - 2 * c12.x * c20.y * c12.y * c22.x - 2 * c12.x * c21.x * c12.y * c21.y - 2 * c10.x * c12y2 * c22.x - 2 * c10.y * c12x2 * c22.y + 2 * c20.x * c12y2 * c22.x - c11y2 * c12.x * c22.x - c11x2 * c12.y * c22.y + c21x2 * c12y2 + c12x2 * (2 * c20.y * c22.y + c21y2), 2 * c10.x * c12.x * c12.y * c21.y + 2 * c10.y * c12.x * c21.x * c12.y + c11.x * c11.y * c12.x * c21.y + c11.x * c11.y * c21.x * c12.y - 2 * c20.x * c12.x * c12.y * c21.y - 2 * c12.x * c20.y * c21.x * c12.y - 2 * c10.x * c21.x * c12y2 - 2 * c10.y * c12x2 * c21.y + 2 * c20.x * c21.x * c12y2 - c11y2 * c12.x * c21.x - c11x2 * c12.y * c21.y + 2 * c12x2 * c20.y * c21.y, -2 * c10.x * c10.y * c12.x * c12.y - c10.x * c11.x * c11.y * c12.y - c10.y * c11.x * c11.y * c12.x + 2 * c10.x * c12.x * c20.y * c12.y + 2 * c10.y * c20.x * c12.x * c12.y + c11.x * c20.x * c11.y * c12.y + c11.x * c11.y * c12.x * c20.y - 2 * c20.x * c12.x * c20.y * c12.y - 2 * c10.x * c20.x * c12y2 + c10.x * c11y2 * c12.x + c10.y * c11x2 * c12.y - 2 * c10.y * c12x2 * c20.y - c20.x * c11y2 * c12.x - c11x2 * c20.y * c12.y + c10x2 * c12y2 + c10y2 * c12x2 + c20x2 * c12y2 + c12x2 * c20y2);
        var roots = poly.getRootsInInterval(0, 1);
        for (var _i = 0, roots_2 = roots; _i < roots_2.length; _i++) {
            var s = roots_2[_i];
            var xRoots = new Polynomial(c12.x, c11.x, c10.x - c20.x - s * c21.x - s * s * c22.x - s * s * s * c23.x).getRoots();
            var yRoots = new Polynomial(c12.y, c11.y, c10.y - c20.y - s * c21.y - s * s * c22.y - s * s * s * c23.y).getRoots();
            if (xRoots.length > 0 && yRoots.length > 0) {
                var TOLERANCE = 1e-4;
                checkRoots: for (var _a = 0, xRoots_2 = xRoots; _a < xRoots_2.length; _a++) {
                    var xRoot = xRoots_2[_a];
                    if (0 <= xRoot && xRoot <= 1) {
                        for (var _b = 0, yRoots_2 = yRoots; _b < yRoots_2.length; _b++) {
                            var yRoot = yRoots_2[_b];
                            if (Math.abs(xRoot - yRoot) < TOLERANCE) {
                                result.points.push(c23.multiply(s * s * s).add(c22.multiply(s * s).add(c21.multiply(s).add(c20))));
                                break checkRoots;
                            }
                        }
                    }
                }
            }
        }
        return result;
    };
    Intersection.intersectBezier2Circle = function (p1, p2, p3, c, r) {
        return Intersection.intersectBezier2Ellipse(p1, p2, p3, c, r, r);
    };
    Intersection.intersectBezier2Ellipse = function (p1, p2, p3, ec, rx, ry) {
        var a, b;
        var c2, c1, c0;
        var result = new Intersection();
        a = p2.multiply(-2);
        c2 = p1.add(a.add(p3));
        a = p1.multiply(-2);
        b = p2.multiply(2);
        c1 = a.add(b);
        c0 = new Vector2D(p1.x, p1.y);
        var rxrx = rx * rx;
        var ryry = ry * ry;
        var roots = new Polynomial(ryry * c2.x * c2.x + rxrx * c2.y * c2.y, 2 * (ryry * c2.x * c1.x + rxrx * c2.y * c1.y), ryry * (2 * c2.x * c0.x + c1.x * c1.x) + rxrx * (2 * c2.y * c0.y + c1.y * c1.y) - 2 * (ryry * ec.x * c2.x + rxrx * ec.y * c2.y), 2 * (ryry * c1.x * (c0.x - ec.x) + rxrx * c1.y * (c0.y - ec.y)), ryry * (c0.x * c0.x + ec.x * ec.x) + rxrx * (c0.y * c0.y + ec.y * ec.y) - 2 * (ryry * ec.x * c0.x + rxrx * ec.y * c0.y) - rxrx * ryry).getRoots();
        for (var _i = 0, roots_3 = roots; _i < roots_3.length; _i++) {
            var t = roots_3[_i];
            if (0 <= t && t <= 1) {
                result.points.push(c2.multiply(t * t).add(c1.multiply(t).add(c0)));
            }
        }
        return result;
    };
    Intersection.intersectBezier2Line = function (p1, p2, p3, a1, a2) {
        var a, b;
        var c2, c1, c0;
        var cl;
        var n;
        var min = a1.min(a2);
        var max = a1.max(a2);
        var result = new Intersection();
        a = p2.multiply(-2);
        c2 = p1.add(a.add(p3));
        a = p1.multiply(-2);
        b = p2.multiply(2);
        c1 = a.add(b);
        c0 = new Vector2D(p1.x, p1.y);
        n = new Vector2D(a1.y - a2.y, a2.x - a1.x);
        cl = a1.x * a2.y - a2.x * a1.y;
        var roots = new Polynomial(n.dot(c2), n.dot(c1), n.dot(c0) + cl).getRoots();
        for (var _i = 0, roots_4 = roots; _i < roots_4.length; _i++) {
            var t = roots_4[_i];
            if (0 <= t && t <= 1) {
                var p4 = p1.lerp(p2, t);
                var p5 = p2.lerp(p3, t);
                var p6 = p4.lerp(p5, t);
                if (a1.x === a2.x) {
                    if (min.y <= p6.y && p6.y <= max.y) {
                        result.appendPoint(p6);
                    }
                }
                else if (a1.y === a2.y) {
                    if (min.x <= p6.x && p6.x <= max.x) {
                        result.appendPoint(p6);
                    }
                }
                else if (p6.gte(min) && p6.lte(max)) {
                    result.appendPoint(p6);
                }
            }
        }
        return result;
    };
    Intersection.prototype.intersectBezier2Polygon = function (p1, p2, p3, points) {
        var result = new Intersection();
        var length = points.length;
        for (var i = 0; i < length; i++) {
            var a1 = points[i];
            var a2 = points[(i + 1) % length];
            var inter = Intersection.intersectBezier2Line(p1, p2, p3, a1, a2);
            result.appendPoints(inter.points);
        }
        return result;
    };
    Intersection.intersectBezier2Rectangle = function (p1, p2, p3, r1, r2) {
        var min = r1.min(r2);
        var max = r1.max(r2);
        var topRight = new Vector2D(max.x, min.y);
        var bottomLeft = new Vector2D(min.x, max.y);
        var inter1 = Intersection.intersectBezier2Line(p1, p2, p3, min, topRight);
        var inter2 = Intersection.intersectBezier2Line(p1, p2, p3, topRight, max);
        var inter3 = Intersection.intersectBezier2Line(p1, p2, p3, max, bottomLeft);
        var inter4 = Intersection.intersectBezier2Line(p1, p2, p3, bottomLeft, min);
        var result = new Intersection();
        result.appendPoints(inter1.points);
        result.appendPoints(inter2.points);
        result.appendPoints(inter3.points);
        result.appendPoints(inter4.points);
        return result;
    };
    Intersection.intersectBezier3Bezier3 = function (a1, a2, a3, a4, b1, b2, b3, b4) {
        var a, b, c, d;
        var c13, c12, c11, c10;
        var c23, c22, c21, c20;
        var result = new Intersection();
        a = a1.multiply(-1);
        b = a2.multiply(3);
        c = a3.multiply(-3);
        d = a.add(b.add(c.add(a4)));
        c13 = new Vector2D(d.x, d.y);
        a = a1.multiply(3);
        b = a2.multiply(-6);
        c = a3.multiply(3);
        d = a.add(b.add(c));
        c12 = new Vector2D(d.x, d.y);
        a = a1.multiply(-3);
        b = a2.multiply(3);
        c = a.add(b);
        c11 = new Vector2D(c.x, c.y);
        c10 = new Vector2D(a1.x, a1.y);
        a = b1.multiply(-1);
        b = b2.multiply(3);
        c = b3.multiply(-3);
        d = a.add(b.add(c.add(b4)));
        c23 = new Vector2D(d.x, d.y);
        a = b1.multiply(3);
        b = b2.multiply(-6);
        c = b3.multiply(3);
        d = a.add(b.add(c));
        c22 = new Vector2D(d.x, d.y);
        a = b1.multiply(-3);
        b = b2.multiply(3);
        c = a.add(b);
        c21 = new Vector2D(c.x, c.y);
        c20 = new Vector2D(b1.x, b1.y);
        var c10x2 = c10.x * c10.x;
        var c10x3 = c10.x * c10.x * c10.x;
        var c10y2 = c10.y * c10.y;
        var c10y3 = c10.y * c10.y * c10.y;
        var c11x2 = c11.x * c11.x;
        var c11x3 = c11.x * c11.x * c11.x;
        var c11y2 = c11.y * c11.y;
        var c11y3 = c11.y * c11.y * c11.y;
        var c12x2 = c12.x * c12.x;
        var c12x3 = c12.x * c12.x * c12.x;
        var c12y2 = c12.y * c12.y;
        var c12y3 = c12.y * c12.y * c12.y;
        var c13x2 = c13.x * c13.x;
        var c13x3 = c13.x * c13.x * c13.x;
        var c13y2 = c13.y * c13.y;
        var c13y3 = c13.y * c13.y * c13.y;
        var c20x2 = c20.x * c20.x;
        var c20x3 = c20.x * c20.x * c20.x;
        var c20y2 = c20.y * c20.y;
        var c20y3 = c20.y * c20.y * c20.y;
        var c21x2 = c21.x * c21.x;
        var c21x3 = c21.x * c21.x * c21.x;
        var c21y2 = c21.y * c21.y;
        var c22x2 = c22.x * c22.x;
        var c22x3 = c22.x * c22.x * c22.x;
        var c22y2 = c22.y * c22.y;
        var c23x2 = c23.x * c23.x;
        var c23x3 = c23.x * c23.x * c23.x;
        var c23y2 = c23.y * c23.y;
        var c23y3 = c23.y * c23.y * c23.y;
        var poly = new Polynomial(-c13x3 * c23y3 + c13y3 * c23x3 - 3 * c13.x * c13y2 * c23x2 * c23.y + 3 * c13x2 * c13.y * c23.x * c23y2, -6 * c13.x * c22.x * c13y2 * c23.x * c23.y + 6 * c13x2 * c13.y * c22.y * c23.x * c23.y + 3 * c22.x * c13y3 * c23x2 - 3 * c13x3 * c22.y * c23y2 - 3 * c13.x * c13y2 * c22.y * c23x2 + 3 * c13x2 * c22.x * c13.y * c23y2, -6 * c21.x * c13.x * c13y2 * c23.x * c23.y - 6 * c13.x * c22.x * c13y2 * c22.y * c23.x + 6 * c13x2 * c22.x * c13.y * c22.y * c23.y + 3 * c21.x * c13y3 * c23x2 + 3 * c22x2 * c13y3 * c23.x + 3 * c21.x * c13x2 * c13.y * c23y2 - 3 * c13.x * c21.y * c13y2 * c23x2 - 3 * c13.x * c22x2 * c13y2 * c23.y + c13x2 * c13.y * c23.x * (6 * c21.y * c23.y + 3 * c22y2) + c13x3 * (-c21.y * c23y2 - 2 * c22y2 * c23.y - c23.y * (2 * c21.y * c23.y + c22y2)), c11.x * c12.y * c13.x * c13.y * c23.x * c23.y - c11.y * c12.x * c13.x * c13.y * c23.x * c23.y + 6 * c21.x * c22.x * c13y3 * c23.x + 3 * c11.x * c12.x * c13.x * c13.y * c23y2 + 6 * c10.x * c13.x * c13y2 * c23.x * c23.y - 3 * c11.x * c12.x * c13y2 * c23.x * c23.y - 3 * c11.y * c12.y * c13.x * c13.y * c23x2 - 6 * c10.y * c13x2 * c13.y * c23.x * c23.y - 6 * c20.x * c13.x * c13y2 * c23.x * c23.y + 3 * c11.y * c12.y * c13x2 * c23.x * c23.y - 2 * c12.x * c12y2 * c13.x * c23.x * c23.y - 6 * c21.x * c13.x * c22.x * c13y2 * c23.y - 6 * c21.x * c13.x * c13y2 * c22.y * c23.x - 6 * c13.x * c21.y * c22.x * c13y2 * c23.x + 6 * c21.x * c13x2 * c13.y * c22.y * c23.y + 2 * c12x2 * c12.y * c13.y * c23.x * c23.y + c22x3 * c13y3 - 3 * c10.x * c13y3 * c23x2 + 3 * c10.y * c13x3 * c23y2 + 3 * c20.x * c13y3 * c23x2 + c12y3 * c13.x * c23x2 - c12x3 * c13.y * c23y2 - 3 * c10.x * c13x2 * c13.y * c23y2 + 3 * c10.y * c13.x * c13y2 * c23x2 - 2 * c11.x * c12.y * c13x2 * c23y2 + c11.x * c12.y * c13y2 * c23x2 - c11.y * c12.x * c13x2 * c23y2 + 2 * c11.y * c12.x * c13y2 * c23x2 + 3 * c20.x * c13x2 * c13.y * c23y2 - c12.x * c12y2 * c13.y * c23x2 - 3 * c20.y * c13.x * c13y2 * c23x2 + c12x2 * c12.y * c13.x * c23y2 - 3 * c13.x * c22x2 * c13y2 * c22.y + c13x2 * c13.y * c23.x * (6 * c20.y * c23.y + 6 * c21.y * c22.y) + c13x2 * c22.x * c13.y * (6 * c21.y * c23.y + 3 * c22y2) + c13x3 * (-2 * c21.y * c22.y * c23.y - c20.y * c23y2 - c22.y * (2 * c21.y * c23.y + c22y2) - c23.y * (2 * c20.y * c23.y + 2 * c21.y * c22.y)), 6 * c11.x * c12.x * c13.x * c13.y * c22.y * c23.y + c11.x * c12.y * c13.x * c22.x * c13.y * c23.y + c11.x * c12.y * c13.x * c13.y * c22.y * c23.x - c11.y * c12.x * c13.x * c22.x * c13.y * c23.y - c11.y * c12.x * c13.x * c13.y * c22.y * c23.x - 6 * c11.y * c12.y * c13.x * c22.x * c13.y * c23.x - 6 * c10.x * c22.x * c13y3 * c23.x + 6 * c20.x * c22.x * c13y3 * c23.x + 6 * c10.y * c13x3 * c22.y * c23.y + 2 * c12y3 * c13.x * c22.x * c23.x - 2 * c12x3 * c13.y * c22.y * c23.y + 6 * c10.x * c13.x * c22.x * c13y2 * c23.y + 6 * c10.x * c13.x * c13y2 * c22.y * c23.x + 6 * c10.y * c13.x * c22.x * c13y2 * c23.x - 3 * c11.x * c12.x * c22.x * c13y2 * c23.y - 3 * c11.x * c12.x * c13y2 * c22.y * c23.x + 2 * c11.x * c12.y * c22.x * c13y2 * c23.x + 4 * c11.y * c12.x * c22.x * c13y2 * c23.x - 6 * c10.x * c13x2 * c13.y * c22.y * c23.y - 6 * c10.y * c13x2 * c22.x * c13.y * c23.y - 6 * c10.y * c13x2 * c13.y * c22.y * c23.x - 4 * c11.x * c12.y * c13x2 * c22.y * c23.y - 6 * c20.x * c13.x * c22.x * c13y2 * c23.y - 6 * c20.x * c13.x * c13y2 * c22.y * c23.x - 2 * c11.y * c12.x * c13x2 * c22.y * c23.y + 3 * c11.y * c12.y * c13x2 * c22.x * c23.y + 3 * c11.y * c12.y * c13x2 * c22.y * c23.x - 2 * c12.x * c12y2 * c13.x * c22.x * c23.y - 2 * c12.x * c12y2 * c13.x * c22.y * c23.x - 2 * c12.x * c12y2 * c22.x * c13.y * c23.x - 6 * c20.y * c13.x * c22.x * c13y2 * c23.x - 6 * c21.x * c13.x * c21.y * c13y2 * c23.x - 6 * c21.x * c13.x * c22.x * c13y2 * c22.y + 6 * c20.x * c13x2 * c13.y * c22.y * c23.y + 2 * c12x2 * c12.y * c13.x * c22.y * c23.y + 2 * c12x2 * c12.y * c22.x * c13.y * c23.y + 2 * c12x2 * c12.y * c13.y * c22.y * c23.x + 3 * c21.x * c22x2 * c13y3 + 3 * c21x2 * c13y3 * c23.x - 3 * c13.x * c21.y * c22x2 * c13y2 - 3 * c21x2 * c13.x * c13y2 * c23.y + c13x2 * c22.x * c13.y * (6 * c20.y * c23.y + 6 * c21.y * c22.y) + c13x2 * c13.y * c23.x * (6 * c20.y * c22.y + 3 * c21y2) + c21.x * c13x2 * c13.y * (6 * c21.y * c23.y + 3 * c22y2) + c13x3 * (-2 * c20.y * c22.y * c23.y - c23.y * (2 * c20.y * c22.y + c21y2) - c21.y * (2 * c21.y * c23.y + c22y2) - c22.y * (2 * c20.y * c23.y + 2 * c21.y * c22.y)), c11.x * c21.x * c12.y * c13.x * c13.y * c23.y + c11.x * c12.y * c13.x * c21.y * c13.y * c23.x + c11.x * c12.y * c13.x * c22.x * c13.y * c22.y - c11.y * c12.x * c21.x * c13.x * c13.y * c23.y - c11.y * c12.x * c13.x * c21.y * c13.y * c23.x - c11.y * c12.x * c13.x * c22.x * c13.y * c22.y - 6 * c11.y * c21.x * c12.y * c13.x * c13.y * c23.x - 6 * c10.x * c21.x * c13y3 * c23.x + 6 * c20.x * c21.x * c13y3 * c23.x + 2 * c21.x * c12y3 * c13.x * c23.x + 6 * c10.x * c21.x * c13.x * c13y2 * c23.y + 6 * c10.x * c13.x * c21.y * c13y2 * c23.x + 6 * c10.x * c13.x * c22.x * c13y2 * c22.y + 6 * c10.y * c21.x * c13.x * c13y2 * c23.x - 3 * c11.x * c12.x * c21.x * c13y2 * c23.y - 3 * c11.x * c12.x * c21.y * c13y2 * c23.x - 3 * c11.x * c12.x * c22.x * c13y2 * c22.y + 2 * c11.x * c21.x * c12.y * c13y2 * c23.x + 4 * c11.y * c12.x * c21.x * c13y2 * c23.x - 6 * c10.y * c21.x * c13x2 * c13.y * c23.y - 6 * c10.y * c13x2 * c21.y * c13.y * c23.x - 6 * c10.y * c13x2 * c22.x * c13.y * c22.y - 6 * c20.x * c21.x * c13.x * c13y2 * c23.y - 6 * c20.x * c13.x * c21.y * c13y2 * c23.x - 6 * c20.x * c13.x * c22.x * c13y2 * c22.y + 3 * c11.y * c21.x * c12.y * c13x2 * c23.y - 3 * c11.y * c12.y * c13.x * c22x2 * c13.y + 3 * c11.y * c12.y * c13x2 * c21.y * c23.x + 3 * c11.y * c12.y * c13x2 * c22.x * c22.y - 2 * c12.x * c21.x * c12y2 * c13.x * c23.y - 2 * c12.x * c21.x * c12y2 * c13.y * c23.x - 2 * c12.x * c12y2 * c13.x * c21.y * c23.x - 2 * c12.x * c12y2 * c13.x * c22.x * c22.y - 6 * c20.y * c21.x * c13.x * c13y2 * c23.x - 6 * c21.x * c13.x * c21.y * c22.x * c13y2 + 6 * c20.y * c13x2 * c21.y * c13.y * c23.x + 2 * c12x2 * c21.x * c12.y * c13.y * c23.y + 2 * c12x2 * c12.y * c21.y * c13.y * c23.x + 2 * c12x2 * c12.y * c22.x * c13.y * c22.y - 3 * c10.x * c22x2 * c13y3 + 3 * c20.x * c22x2 * c13y3 + 3 * c21x2 * c22.x * c13y3 + c12y3 * c13.x * c22x2 + 3 * c10.y * c13.x * c22x2 * c13y2 + c11.x * c12.y * c22x2 * c13y2 + 2 * c11.y * c12.x * c22x2 * c13y2 - c12.x * c12y2 * c22x2 * c13.y - 3 * c20.y * c13.x * c22x2 * c13y2 - 3 * c21x2 * c13.x * c13y2 * c22.y + c12x2 * c12.y * c13.x * (2 * c21.y * c23.y + c22y2) + c11.x * c12.x * c13.x * c13.y * (6 * c21.y * c23.y + 3 * c22y2) + c21.x * c13x2 * c13.y * (6 * c20.y * c23.y + 6 * c21.y * c22.y) + c12x3 * c13.y * (-2 * c21.y * c23.y - c22y2) + c10.y * c13x3 * (6 * c21.y * c23.y + 3 * c22y2) + c11.y * c12.x * c13x2 * (-2 * c21.y * c23.y - c22y2) + c11.x * c12.y * c13x2 * (-4 * c21.y * c23.y - 2 * c22y2) + c10.x * c13x2 * c13.y * (-6 * c21.y * c23.y - 3 * c22y2) + c13x2 * c22.x * c13.y * (6 * c20.y * c22.y + 3 * c21y2) + c20.x * c13x2 * c13.y * (6 * c21.y * c23.y + 3 * c22y2) + c13x3 * (-2 * c20.y * c21.y * c23.y - c22.y * (2 * c20.y * c22.y + c21y2) - c20.y * (2 * c21.y * c23.y + c22y2) - c21.y * (2 * c20.y * c23.y + 2 * c21.y * c22.y)), -c10.x * c11.x * c12.y * c13.x * c13.y * c23.y + c10.x * c11.y * c12.x * c13.x * c13.y * c23.y + 6 * c10.x * c11.y * c12.y * c13.x * c13.y * c23.x - 6 * c10.y * c11.x * c12.x * c13.x * c13.y * c23.y - c10.y * c11.x * c12.y * c13.x * c13.y * c23.x + c10.y * c11.y * c12.x * c13.x * c13.y * c23.x + c11.x * c11.y * c12.x * c12.y * c13.x * c23.y - c11.x * c11.y * c12.x * c12.y * c13.y * c23.x + c11.x * c20.x * c12.y * c13.x * c13.y * c23.y + c11.x * c20.y * c12.y * c13.x * c13.y * c23.x + c11.x * c21.x * c12.y * c13.x * c13.y * c22.y + c11.x * c12.y * c13.x * c21.y * c22.x * c13.y - c20.x * c11.y * c12.x * c13.x * c13.y * c23.y - 6 * c20.x * c11.y * c12.y * c13.x * c13.y * c23.x - c11.y * c12.x * c20.y * c13.x * c13.y * c23.x - c11.y * c12.x * c21.x * c13.x * c13.y * c22.y - c11.y * c12.x * c13.x * c21.y * c22.x * c13.y - 6 * c11.y * c21.x * c12.y * c13.x * c22.x * c13.y - 6 * c10.x * c20.x * c13y3 * c23.x - 6 * c10.x * c21.x * c22.x * c13y3 - 2 * c10.x * c12y3 * c13.x * c23.x + 6 * c20.x * c21.x * c22.x * c13y3 + 2 * c20.x * c12y3 * c13.x * c23.x + 2 * c21.x * c12y3 * c13.x * c22.x + 2 * c10.y * c12x3 * c13.y * c23.y - 6 * c10.x * c10.y * c13.x * c13y2 * c23.x + 3 * c10.x * c11.x * c12.x * c13y2 * c23.y - 2 * c10.x * c11.x * c12.y * c13y2 * c23.x - 4 * c10.x * c11.y * c12.x * c13y2 * c23.x + 3 * c10.y * c11.x * c12.x * c13y2 * c23.x + 6 * c10.x * c10.y * c13x2 * c13.y * c23.y + 6 * c10.x * c20.x * c13.x * c13y2 * c23.y - 3 * c10.x * c11.y * c12.y * c13x2 * c23.y + 2 * c10.x * c12.x * c12y2 * c13.x * c23.y + 2 * c10.x * c12.x * c12y2 * c13.y * c23.x + 6 * c10.x * c20.y * c13.x * c13y2 * c23.x + 6 * c10.x * c21.x * c13.x * c13y2 * c22.y + 6 * c10.x * c13.x * c21.y * c22.x * c13y2 + 4 * c10.y * c11.x * c12.y * c13x2 * c23.y + 6 * c10.y * c20.x * c13.x * c13y2 * c23.x + 2 * c10.y * c11.y * c12.x * c13x2 * c23.y - 3 * c10.y * c11.y * c12.y * c13x2 * c23.x + 2 * c10.y * c12.x * c12y2 * c13.x * c23.x + 6 * c10.y * c21.x * c13.x * c22.x * c13y2 - 3 * c11.x * c20.x * c12.x * c13y2 * c23.y + 2 * c11.x * c20.x * c12.y * c13y2 * c23.x + c11.x * c11.y * c12y2 * c13.x * c23.x - 3 * c11.x * c12.x * c20.y * c13y2 * c23.x - 3 * c11.x * c12.x * c21.x * c13y2 * c22.y - 3 * c11.x * c12.x * c21.y * c22.x * c13y2 + 2 * c11.x * c21.x * c12.y * c22.x * c13y2 + 4 * c20.x * c11.y * c12.x * c13y2 * c23.x + 4 * c11.y * c12.x * c21.x * c22.x * c13y2 - 2 * c10.x * c12x2 * c12.y * c13.y * c23.y - 6 * c10.y * c20.x * c13x2 * c13.y * c23.y - 6 * c10.y * c20.y * c13x2 * c13.y * c23.x - 6 * c10.y * c21.x * c13x2 * c13.y * c22.y - 2 * c10.y * c12x2 * c12.y * c13.x * c23.y - 2 * c10.y * c12x2 * c12.y * c13.y * c23.x - 6 * c10.y * c13x2 * c21.y * c22.x * c13.y - c11.x * c11.y * c12x2 * c13.y * c23.y - 2 * c11.x * c11y2 * c13.x * c13.y * c23.x + 3 * c20.x * c11.y * c12.y * c13x2 * c23.y - 2 * c20.x * c12.x * c12y2 * c13.x * c23.y - 2 * c20.x * c12.x * c12y2 * c13.y * c23.x - 6 * c20.x * c20.y * c13.x * c13y2 * c23.x - 6 * c20.x * c21.x * c13.x * c13y2 * c22.y - 6 * c20.x * c13.x * c21.y * c22.x * c13y2 + 3 * c11.y * c20.y * c12.y * c13x2 * c23.x + 3 * c11.y * c21.x * c12.y * c13x2 * c22.y + 3 * c11.y * c12.y * c13x2 * c21.y * c22.x - 2 * c12.x * c20.y * c12y2 * c13.x * c23.x - 2 * c12.x * c21.x * c12y2 * c13.x * c22.y - 2 * c12.x * c21.x * c12y2 * c22.x * c13.y - 2 * c12.x * c12y2 * c13.x * c21.y * c22.x - 6 * c20.y * c21.x * c13.x * c22.x * c13y2 - c11y2 * c12.x * c12.y * c13.x * c23.x + 2 * c20.x * c12x2 * c12.y * c13.y * c23.y + 6 * c20.y * c13x2 * c21.y * c22.x * c13.y + 2 * c11x2 * c11.y * c13.x * c13.y * c23.y + c11x2 * c12.x * c12.y * c13.y * c23.y + 2 * c12x2 * c20.y * c12.y * c13.y * c23.x + 2 * c12x2 * c21.x * c12.y * c13.y * c22.y + 2 * c12x2 * c12.y * c21.y * c22.x * c13.y + c21x3 * c13y3 + 3 * c10x2 * c13y3 * c23.x - 3 * c10y2 * c13x3 * c23.y + 3 * c20x2 * c13y3 * c23.x + c11y3 * c13x2 * c23.x - c11x3 * c13y2 * c23.y - c11.x * c11y2 * c13x2 * c23.y + c11x2 * c11.y * c13y2 * c23.x - 3 * c10x2 * c13.x * c13y2 * c23.y + 3 * c10y2 * c13x2 * c13.y * c23.x - c11x2 * c12y2 * c13.x * c23.y + c11y2 * c12x2 * c13.y * c23.x - 3 * c21x2 * c13.x * c21.y * c13y2 - 3 * c20x2 * c13.x * c13y2 * c23.y + 3 * c20y2 * c13x2 * c13.y * c23.x + c11.x * c12.x * c13.x * c13.y * (6 * c20.y * c23.y + 6 * c21.y * c22.y) + c12x3 * c13.y * (-2 * c20.y * c23.y - 2 * c21.y * c22.y) + c10.y * c13x3 * (6 * c20.y * c23.y + 6 * c21.y * c22.y) + c11.y * c12.x * c13x2 * (-2 * c20.y * c23.y - 2 * c21.y * c22.y) + c12x2 * c12.y * c13.x * (2 * c20.y * c23.y + 2 * c21.y * c22.y) + c11.x * c12.y * c13x2 * (-4 * c20.y * c23.y - 4 * c21.y * c22.y) + c10.x * c13x2 * c13.y * (-6 * c20.y * c23.y - 6 * c21.y * c22.y) + c20.x * c13x2 * c13.y * (6 * c20.y * c23.y + 6 * c21.y * c22.y) + c21.x * c13x2 * c13.y * (6 * c20.y * c22.y + 3 * c21y2) + c13x3 * (-2 * c20.y * c21.y * c22.y - c20y2 * c23.y - c21.y * (2 * c20.y * c22.y + c21y2) - c20.y * (2 * c20.y * c23.y + 2 * c21.y * c22.y)), -c10.x * c11.x * c12.y * c13.x * c13.y * c22.y + c10.x * c11.y * c12.x * c13.x * c13.y * c22.y + 6 * c10.x * c11.y * c12.y * c13.x * c22.x * c13.y - 6 * c10.y * c11.x * c12.x * c13.x * c13.y * c22.y - c10.y * c11.x * c12.y * c13.x * c22.x * c13.y + c10.y * c11.y * c12.x * c13.x * c22.x * c13.y + c11.x * c11.y * c12.x * c12.y * c13.x * c22.y - c11.x * c11.y * c12.x * c12.y * c22.x * c13.y + c11.x * c20.x * c12.y * c13.x * c13.y * c22.y + c11.x * c20.y * c12.y * c13.x * c22.x * c13.y + c11.x * c21.x * c12.y * c13.x * c21.y * c13.y - c20.x * c11.y * c12.x * c13.x * c13.y * c22.y - 6 * c20.x * c11.y * c12.y * c13.x * c22.x * c13.y - c11.y * c12.x * c20.y * c13.x * c22.x * c13.y - c11.y * c12.x * c21.x * c13.x * c21.y * c13.y - 6 * c10.x * c20.x * c22.x * c13y3 - 2 * c10.x * c12y3 * c13.x * c22.x + 2 * c20.x * c12y3 * c13.x * c22.x + 2 * c10.y * c12x3 * c13.y * c22.y - 6 * c10.x * c10.y * c13.x * c22.x * c13y2 + 3 * c10.x * c11.x * c12.x * c13y2 * c22.y - 2 * c10.x * c11.x * c12.y * c22.x * c13y2 - 4 * c10.x * c11.y * c12.x * c22.x * c13y2 + 3 * c10.y * c11.x * c12.x * c22.x * c13y2 + 6 * c10.x * c10.y * c13x2 * c13.y * c22.y + 6 * c10.x * c20.x * c13.x * c13y2 * c22.y - 3 * c10.x * c11.y * c12.y * c13x2 * c22.y + 2 * c10.x * c12.x * c12y2 * c13.x * c22.y + 2 * c10.x * c12.x * c12y2 * c22.x * c13.y + 6 * c10.x * c20.y * c13.x * c22.x * c13y2 + 6 * c10.x * c21.x * c13.x * c21.y * c13y2 + 4 * c10.y * c11.x * c12.y * c13x2 * c22.y + 6 * c10.y * c20.x * c13.x * c22.x * c13y2 + 2 * c10.y * c11.y * c12.x * c13x2 * c22.y - 3 * c10.y * c11.y * c12.y * c13x2 * c22.x + 2 * c10.y * c12.x * c12y2 * c13.x * c22.x - 3 * c11.x * c20.x * c12.x * c13y2 * c22.y + 2 * c11.x * c20.x * c12.y * c22.x * c13y2 + c11.x * c11.y * c12y2 * c13.x * c22.x - 3 * c11.x * c12.x * c20.y * c22.x * c13y2 - 3 * c11.x * c12.x * c21.x * c21.y * c13y2 + 4 * c20.x * c11.y * c12.x * c22.x * c13y2 - 2 * c10.x * c12x2 * c12.y * c13.y * c22.y - 6 * c10.y * c20.x * c13x2 * c13.y * c22.y - 6 * c10.y * c20.y * c13x2 * c22.x * c13.y - 6 * c10.y * c21.x * c13x2 * c21.y * c13.y - 2 * c10.y * c12x2 * c12.y * c13.x * c22.y - 2 * c10.y * c12x2 * c12.y * c22.x * c13.y - c11.x * c11.y * c12x2 * c13.y * c22.y - 2 * c11.x * c11y2 * c13.x * c22.x * c13.y + 3 * c20.x * c11.y * c12.y * c13x2 * c22.y - 2 * c20.x * c12.x * c12y2 * c13.x * c22.y - 2 * c20.x * c12.x * c12y2 * c22.x * c13.y - 6 * c20.x * c20.y * c13.x * c22.x * c13y2 - 6 * c20.x * c21.x * c13.x * c21.y * c13y2 + 3 * c11.y * c20.y * c12.y * c13x2 * c22.x + 3 * c11.y * c21.x * c12.y * c13x2 * c21.y - 2 * c12.x * c20.y * c12y2 * c13.x * c22.x - 2 * c12.x * c21.x * c12y2 * c13.x * c21.y - c11y2 * c12.x * c12.y * c13.x * c22.x + 2 * c20.x * c12x2 * c12.y * c13.y * c22.y - 3 * c11.y * c21x2 * c12.y * c13.x * c13.y + 6 * c20.y * c21.x * c13x2 * c21.y * c13.y + 2 * c11x2 * c11.y * c13.x * c13.y * c22.y + c11x2 * c12.x * c12.y * c13.y * c22.y + 2 * c12x2 * c20.y * c12.y * c22.x * c13.y + 2 * c12x2 * c21.x * c12.y * c21.y * c13.y - 3 * c10.x * c21x2 * c13y3 + 3 * c20.x * c21x2 * c13y3 + 3 * c10x2 * c22.x * c13y3 - 3 * c10y2 * c13x3 * c22.y + 3 * c20x2 * c22.x * c13y3 + c21x2 * c12y3 * c13.x + c11y3 * c13x2 * c22.x - c11x3 * c13y2 * c22.y + 3 * c10.y * c21x2 * c13.x * c13y2 - c11.x * c11y2 * c13x2 * c22.y + c11.x * c21x2 * c12.y * c13y2 + 2 * c11.y * c12.x * c21x2 * c13y2 + c11x2 * c11.y * c22.x * c13y2 - c12.x * c21x2 * c12y2 * c13.y - 3 * c20.y * c21x2 * c13.x * c13y2 - 3 * c10x2 * c13.x * c13y2 * c22.y + 3 * c10y2 * c13x2 * c22.x * c13.y - c11x2 * c12y2 * c13.x * c22.y + c11y2 * c12x2 * c22.x * c13.y - 3 * c20x2 * c13.x * c13y2 * c22.y + 3 * c20y2 * c13x2 * c22.x * c13.y + c12x2 * c12.y * c13.x * (2 * c20.y * c22.y + c21y2) + c11.x * c12.x * c13.x * c13.y * (6 * c20.y * c22.y + 3 * c21y2) + c12x3 * c13.y * (-2 * c20.y * c22.y - c21y2) + c10.y * c13x3 * (6 * c20.y * c22.y + 3 * c21y2) + c11.y * c12.x * c13x2 * (-2 * c20.y * c22.y - c21y2) + c11.x * c12.y * c13x2 * (-4 * c20.y * c22.y - 2 * c21y2) + c10.x * c13x2 * c13.y * (-6 * c20.y * c22.y - 3 * c21y2) + c20.x * c13x2 * c13.y * (6 * c20.y * c22.y + 3 * c21y2) + c13x3 * (-2 * c20.y * c21y2 - c20y2 * c22.y - c20.y * (2 * c20.y * c22.y + c21y2)), -c10.x * c11.x * c12.y * c13.x * c21.y * c13.y + c10.x * c11.y * c12.x * c13.x * c21.y * c13.y + 6 * c10.x * c11.y * c21.x * c12.y * c13.x * c13.y - 6 * c10.y * c11.x * c12.x * c13.x * c21.y * c13.y - c10.y * c11.x * c21.x * c12.y * c13.x * c13.y + c10.y * c11.y * c12.x * c21.x * c13.x * c13.y - c11.x * c11.y * c12.x * c21.x * c12.y * c13.y + c11.x * c11.y * c12.x * c12.y * c13.x * c21.y + c11.x * c20.x * c12.y * c13.x * c21.y * c13.y + 6 * c11.x * c12.x * c20.y * c13.x * c21.y * c13.y + c11.x * c20.y * c21.x * c12.y * c13.x * c13.y - c20.x * c11.y * c12.x * c13.x * c21.y * c13.y - 6 * c20.x * c11.y * c21.x * c12.y * c13.x * c13.y - c11.y * c12.x * c20.y * c21.x * c13.x * c13.y - 6 * c10.x * c20.x * c21.x * c13y3 - 2 * c10.x * c21.x * c12y3 * c13.x + 6 * c10.y * c20.y * c13x3 * c21.y + 2 * c20.x * c21.x * c12y3 * c13.x + 2 * c10.y * c12x3 * c21.y * c13.y - 2 * c12x3 * c20.y * c21.y * c13.y - 6 * c10.x * c10.y * c21.x * c13.x * c13y2 + 3 * c10.x * c11.x * c12.x * c21.y * c13y2 - 2 * c10.x * c11.x * c21.x * c12.y * c13y2 - 4 * c10.x * c11.y * c12.x * c21.x * c13y2 + 3 * c10.y * c11.x * c12.x * c21.x * c13y2 + 6 * c10.x * c10.y * c13x2 * c21.y * c13.y + 6 * c10.x * c20.x * c13.x * c21.y * c13y2 - 3 * c10.x * c11.y * c12.y * c13x2 * c21.y + 2 * c10.x * c12.x * c21.x * c12y2 * c13.y + 2 * c10.x * c12.x * c12y2 * c13.x * c21.y + 6 * c10.x * c20.y * c21.x * c13.x * c13y2 + 4 * c10.y * c11.x * c12.y * c13x2 * c21.y + 6 * c10.y * c20.x * c21.x * c13.x * c13y2 + 2 * c10.y * c11.y * c12.x * c13x2 * c21.y - 3 * c10.y * c11.y * c21.x * c12.y * c13x2 + 2 * c10.y * c12.x * c21.x * c12y2 * c13.x - 3 * c11.x * c20.x * c12.x * c21.y * c13y2 + 2 * c11.x * c20.x * c21.x * c12.y * c13y2 + c11.x * c11.y * c21.x * c12y2 * c13.x - 3 * c11.x * c12.x * c20.y * c21.x * c13y2 + 4 * c20.x * c11.y * c12.x * c21.x * c13y2 - 6 * c10.x * c20.y * c13x2 * c21.y * c13.y - 2 * c10.x * c12x2 * c12.y * c21.y * c13.y - 6 * c10.y * c20.x * c13x2 * c21.y * c13.y - 6 * c10.y * c20.y * c21.x * c13x2 * c13.y - 2 * c10.y * c12x2 * c21.x * c12.y * c13.y - 2 * c10.y * c12x2 * c12.y * c13.x * c21.y - c11.x * c11.y * c12x2 * c21.y * c13.y - 4 * c11.x * c20.y * c12.y * c13x2 * c21.y - 2 * c11.x * c11y2 * c21.x * c13.x * c13.y + 3 * c20.x * c11.y * c12.y * c13x2 * c21.y - 2 * c20.x * c12.x * c21.x * c12y2 * c13.y - 2 * c20.x * c12.x * c12y2 * c13.x * c21.y - 6 * c20.x * c20.y * c21.x * c13.x * c13y2 - 2 * c11.y * c12.x * c20.y * c13x2 * c21.y + 3 * c11.y * c20.y * c21.x * c12.y * c13x2 - 2 * c12.x * c20.y * c21.x * c12y2 * c13.x - c11y2 * c12.x * c21.x * c12.y * c13.x + 6 * c20.x * c20.y * c13x2 * c21.y * c13.y + 2 * c20.x * c12x2 * c12.y * c21.y * c13.y + 2 * c11x2 * c11.y * c13.x * c21.y * c13.y + c11x2 * c12.x * c12.y * c21.y * c13.y + 2 * c12x2 * c20.y * c21.x * c12.y * c13.y + 2 * c12x2 * c20.y * c12.y * c13.x * c21.y + 3 * c10x2 * c21.x * c13y3 - 3 * c10y2 * c13x3 * c21.y + 3 * c20x2 * c21.x * c13y3 + c11y3 * c21.x * c13x2 - c11x3 * c21.y * c13y2 - 3 * c20y2 * c13x3 * c21.y - c11.x * c11y2 * c13x2 * c21.y + c11x2 * c11.y * c21.x * c13y2 - 3 * c10x2 * c13.x * c21.y * c13y2 + 3 * c10y2 * c21.x * c13x2 * c13.y - c11x2 * c12y2 * c13.x * c21.y + c11y2 * c12x2 * c21.x * c13.y - 3 * c20x2 * c13.x * c21.y * c13y2 + 3 * c20y2 * c21.x * c13x2 * c13.y, c10.x * c10.y * c11.x * c12.y * c13.x * c13.y - c10.x * c10.y * c11.y * c12.x * c13.x * c13.y + c10.x * c11.x * c11.y * c12.x * c12.y * c13.y - c10.y * c11.x * c11.y * c12.x * c12.y * c13.x - c10.x * c11.x * c20.y * c12.y * c13.x * c13.y + 6 * c10.x * c20.x * c11.y * c12.y * c13.x * c13.y + c10.x * c11.y * c12.x * c20.y * c13.x * c13.y - c10.y * c11.x * c20.x * c12.y * c13.x * c13.y - 6 * c10.y * c11.x * c12.x * c20.y * c13.x * c13.y + c10.y * c20.x * c11.y * c12.x * c13.x * c13.y - c11.x * c20.x * c11.y * c12.x * c12.y * c13.y + c11.x * c11.y * c12.x * c20.y * c12.y * c13.x + c11.x * c20.x * c20.y * c12.y * c13.x * c13.y - c20.x * c11.y * c12.x * c20.y * c13.x * c13.y - 2 * c10.x * c20.x * c12y3 * c13.x + 2 * c10.y * c12x3 * c20.y * c13.y - 3 * c10.x * c10.y * c11.x * c12.x * c13y2 - 6 * c10.x * c10.y * c20.x * c13.x * c13y2 + 3 * c10.x * c10.y * c11.y * c12.y * c13x2 - 2 * c10.x * c10.y * c12.x * c12y2 * c13.x - 2 * c10.x * c11.x * c20.x * c12.y * c13y2 - c10.x * c11.x * c11.y * c12y2 * c13.x + 3 * c10.x * c11.x * c12.x * c20.y * c13y2 - 4 * c10.x * c20.x * c11.y * c12.x * c13y2 + 3 * c10.y * c11.x * c20.x * c12.x * c13y2 + 6 * c10.x * c10.y * c20.y * c13x2 * c13.y + 2 * c10.x * c10.y * c12x2 * c12.y * c13.y + 2 * c10.x * c11.x * c11y2 * c13.x * c13.y + 2 * c10.x * c20.x * c12.x * c12y2 * c13.y + 6 * c10.x * c20.x * c20.y * c13.x * c13y2 - 3 * c10.x * c11.y * c20.y * c12.y * c13x2 + 2 * c10.x * c12.x * c20.y * c12y2 * c13.x + c10.x * c11y2 * c12.x * c12.y * c13.x + c10.y * c11.x * c11.y * c12x2 * c13.y + 4 * c10.y * c11.x * c20.y * c12.y * c13x2 - 3 * c10.y * c20.x * c11.y * c12.y * c13x2 + 2 * c10.y * c20.x * c12.x * c12y2 * c13.x + 2 * c10.y * c11.y * c12.x * c20.y * c13x2 + c11.x * c20.x * c11.y * c12y2 * c13.x - 3 * c11.x * c20.x * c12.x * c20.y * c13y2 - 2 * c10.x * c12x2 * c20.y * c12.y * c13.y - 6 * c10.y * c20.x * c20.y * c13x2 * c13.y - 2 * c10.y * c20.x * c12x2 * c12.y * c13.y - 2 * c10.y * c11x2 * c11.y * c13.x * c13.y - c10.y * c11x2 * c12.x * c12.y * c13.y - 2 * c10.y * c12x2 * c20.y * c12.y * c13.x - 2 * c11.x * c20.x * c11y2 * c13.x * c13.y - c11.x * c11.y * c12x2 * c20.y * c13.y + 3 * c20.x * c11.y * c20.y * c12.y * c13x2 - 2 * c20.x * c12.x * c20.y * c12y2 * c13.x - c20.x * c11y2 * c12.x * c12.y * c13.x + 3 * c10y2 * c11.x * c12.x * c13.x * c13.y + 3 * c11.x * c12.x * c20y2 * c13.x * c13.y + 2 * c20.x * c12x2 * c20.y * c12.y * c13.y - 3 * c10x2 * c11.y * c12.y * c13.x * c13.y + 2 * c11x2 * c11.y * c20.y * c13.x * c13.y + c11x2 * c12.x * c20.y * c12.y * c13.y - 3 * c20x2 * c11.y * c12.y * c13.x * c13.y - c10x3 * c13y3 + c10y3 * c13x3 + c20x3 * c13y3 - c20y3 * c13x3 - 3 * c10.x * c20x2 * c13y3 - c10.x * c11y3 * c13x2 + 3 * c10x2 * c20.x * c13y3 + c10.y * c11x3 * c13y2 + 3 * c10.y * c20y2 * c13x3 + c20.x * c11y3 * c13x2 + c10x2 * c12y3 * c13.x - 3 * c10y2 * c20.y * c13x3 - c10y2 * c12x3 * c13.y + c20x2 * c12y3 * c13.x - c11x3 * c20.y * c13y2 - c12x3 * c20y2 * c13.y - c10.x * c11x2 * c11.y * c13y2 + c10.y * c11.x * c11y2 * c13x2 - 3 * c10.x * c10y2 * c13x2 * c13.y - c10.x * c11y2 * c12x2 * c13.y + c10.y * c11x2 * c12y2 * c13.x - c11.x * c11y2 * c20.y * c13x2 + 3 * c10x2 * c10.y * c13.x * c13y2 + c10x2 * c11.x * c12.y * c13y2 + 2 * c10x2 * c11.y * c12.x * c13y2 - 2 * c10y2 * c11.x * c12.y * c13x2 - c10y2 * c11.y * c12.x * c13x2 + c11x2 * c20.x * c11.y * c13y2 - 3 * c10.x * c20y2 * c13x2 * c13.y + 3 * c10.y * c20x2 * c13.x * c13y2 + c11.x * c20x2 * c12.y * c13y2 - 2 * c11.x * c20y2 * c12.y * c13x2 + c20.x * c11y2 * c12x2 * c13.y - c11.y * c12.x * c20y2 * c13x2 - c10x2 * c12.x * c12y2 * c13.y - 3 * c10x2 * c20.y * c13.x * c13y2 + 3 * c10y2 * c20.x * c13x2 * c13.y + c10y2 * c12x2 * c12.y * c13.x - c11x2 * c20.y * c12y2 * c13.x + 2 * c20x2 * c11.y * c12.x * c13y2 + 3 * c20.x * c20y2 * c13x2 * c13.y - c20x2 * c12.x * c12y2 * c13.y - 3 * c20x2 * c20.y * c13.x * c13y2 + c12x2 * c20y2 * c12.y * c13.x);
        var roots = poly.getRootsInInterval(0, 1);
        for (var _i = 0, roots_5 = roots; _i < roots_5.length; _i++) {
            var s = roots_5[_i];
            var xRoots = new Polynomial(c13.x, c12.x, c11.x, c10.x - c20.x - s * c21.x - s * s * c22.x - s * s * s * c23.x).getRoots();
            var yRoots = new Polynomial(c13.y, c12.y, c11.y, c10.y - c20.y - s * c21.y - s * s * c22.y - s * s * s * c23.y).getRoots();
            if (xRoots.length > 0 && yRoots.length > 0) {
                var TOLERANCE = 1e-4;
                checkRoots: for (var _a = 0, xRoots_3 = xRoots; _a < xRoots_3.length; _a++) {
                    var xRoot = xRoots_3[_a];
                    if (0 <= xRoot && xRoot <= 1) {
                        for (var _b = 0, yRoots_3 = yRoots; _b < yRoots_3.length; _b++) {
                            var yRoot = yRoots_3[_b];
                            if (Math.abs(xRoot - yRoot) < TOLERANCE) {
                                result.points.push(c23.multiply(s * s * s).add(c22.multiply(s * s).add(c21.multiply(s).add(c20))));
                                break checkRoots;
                            }
                        }
                    }
                }
            }
        }
        return result;
    };
    Intersection.intersectBezier3Circle = function (p1, p2, p3, p4, c, r) {
        return Intersection.intersectBezier3Ellipse(p1, p2, p3, p4, c, r, r);
    };
    Intersection.intersectBezier3Ellipse = function (p1, p2, p3, p4, ec, rx, ry) {
        var a, b, c, d;
        var c3, c2, c1, c0;
        var result = new Intersection();
        a = p1.multiply(-1);
        b = p2.multiply(3);
        c = p3.multiply(-3);
        d = a.add(b.add(c.add(p4)));
        c3 = new Vector2D(d.x, d.y);
        a = p1.multiply(3);
        b = p2.multiply(-6);
        c = p3.multiply(3);
        d = a.add(b.add(c));
        c2 = new Vector2D(d.x, d.y);
        a = p1.multiply(-3);
        b = p2.multiply(3);
        c = a.add(b);
        c1 = new Vector2D(c.x, c.y);
        c0 = new Vector2D(p1.x, p1.y);
        var rxrx = rx * rx;
        var ryry = ry * ry;
        var poly = new Polynomial(c3.x * c3.x * ryry + c3.y * c3.y * rxrx, 2 * (c3.x * c2.x * ryry + c3.y * c2.y * rxrx), 2 * (c3.x * c1.x * ryry + c3.y * c1.y * rxrx) + c2.x * c2.x * ryry + c2.y * c2.y * rxrx, 2 * c3.x * ryry * (c0.x - ec.x) + 2 * c3.y * rxrx * (c0.y - ec.y) + 2 * (c2.x * c1.x * ryry + c2.y * c1.y * rxrx), 2 * c2.x * ryry * (c0.x - ec.x) + 2 * c2.y * rxrx * (c0.y - ec.y) + c1.x * c1.x * ryry + c1.y * c1.y * rxrx, 2 * c1.x * ryry * (c0.x - ec.x) + 2 * c1.y * rxrx * (c0.y - ec.y), c0.x * c0.x * ryry - 2 * c0.y * ec.y * rxrx - 2 * c0.x * ec.x * ryry + c0.y * c0.y * rxrx + ec.x * ec.x * ryry + ec.y * ec.y * rxrx - rxrx * ryry);
        var roots = poly.getRootsInInterval(0, 1);
        for (var _i = 0, roots_6 = roots; _i < roots_6.length; _i++) {
            var t = roots_6[_i];
            result.points.push(c3.multiply(t * t * t).add(c2.multiply(t * t).add(c1.multiply(t).add(c0))));
        }
        return result;
    };
    Intersection.intersectBezier3Line = function (p1, p2, p3, p4, a1, a2) {
        var a, b, c, d;
        var c3, c2, c1, c0;
        var cl;
        var n;
        var min = a1.min(a2);
        var max = a1.max(a2);
        var result = new Intersection();
        a = p1.multiply(-1);
        b = p2.multiply(3);
        c = p3.multiply(-3);
        d = a.add(b.add(c.add(p4)));
        c3 = new Vector2D(d.x, d.y);
        a = p1.multiply(3);
        b = p2.multiply(-6);
        c = p3.multiply(3);
        d = a.add(b.add(c));
        c2 = new Vector2D(d.x, d.y);
        a = p1.multiply(-3);
        b = p2.multiply(3);
        c = a.add(b);
        c1 = new Vector2D(c.x, c.y);
        c0 = new Vector2D(p1.x, p1.y);
        n = new Vector2D(a1.y - a2.y, a2.x - a1.x);
        cl = a1.x * a2.y - a2.x * a1.y;
        var roots = new Polynomial(n.dot(c3), n.dot(c2), n.dot(c1), n.dot(c0) + cl).getRoots();
        for (var _i = 0, roots_7 = roots; _i < roots_7.length; _i++) {
            var t = roots_7[_i];
            if (0 <= t && t <= 1) {
                var p5 = p1.lerp(p2, t);
                var p6 = p2.lerp(p3, t);
                var p7 = p3.lerp(p4, t);
                var p8 = p5.lerp(p6, t);
                var p9 = p6.lerp(p7, t);
                var p10 = p8.lerp(p9, t);
                if (a1.x === a2.x) {
                    if (min.y <= p10.y && p10.y <= max.y) {
                        result.appendPoint(p10);
                    }
                }
                else if (a1.y === a2.y) {
                    if (min.x <= p10.x && p10.x <= max.x) {
                        result.appendPoint(p10);
                    }
                }
                else if (p10.gte(min) && p10.lte(max)) {
                    result.appendPoint(p10);
                }
            }
        }
        return result;
    };
    Intersection.intersectBezier3Polygon = function (p1, p2, p3, p4, points) {
        var result = new Intersection();
        var length = points.length;
        for (var i = 0; i < length; i++) {
            var a1 = points[i];
            var a2 = points[(i + 1) % length];
            var inter = Intersection.intersectBezier3Line(p1, p2, p3, p4, a1, a2);
            result.appendPoints(inter.points);
        }
        return result;
    };
    Intersection.intersectBezier3Rectangle = function (p1, p2, p3, p4, r1, r2) {
        var min = r1.min(r2);
        var max = r1.max(r2);
        var topRight = new Vector2D(max.x, min.y);
        var bottomLeft = new Vector2D(min.x, max.y);
        var inter1 = Intersection.intersectBezier3Line(p1, p2, p3, p4, min, topRight);
        var inter2 = Intersection.intersectBezier3Line(p1, p2, p3, p4, topRight, max);
        var inter3 = Intersection.intersectBezier3Line(p1, p2, p3, p4, max, bottomLeft);
        var inter4 = Intersection.intersectBezier3Line(p1, p2, p3, p4, bottomLeft, min);
        var result = new Intersection();
        result.appendPoints(inter1.points);
        result.appendPoints(inter2.points);
        result.appendPoints(inter3.points);
        result.appendPoints(inter4.points);
        return result;
    };
    Intersection.intersectCircleCircle = function (c1, r1, c2, r2) {
        var result;
        var rMax = r1 + r2;
        var rMin = Math.abs(r1 - r2);
        var cDist = c1.distanceFrom(c2);
        if (cDist > rMax) {
            result = new Intersection('Outside');
        }
        else if (cDist < rMin) {
            result = new Intersection('Inside');
        }
        else {
            result = new Intersection('Intersection');
            var a = (r1 * r1 - r2 * r2 + cDist * cDist) / (2 * cDist);
            var h = Math.sqrt(r1 * r1 - a * a);
            var p = c1.lerp(c2, a / cDist);
            var b = h / cDist;
            result.points.push(new Vector2D(p.x - b * (c2.y - c1.y), p.y + b * (c2.x - c1.x)));
            result.points.push(new Vector2D(p.x + b * (c2.y - c1.y), p.y - b * (c2.x - c1.x)));
        }
        return result;
    };
    Intersection.intersectCircleEllipse = function (cc, r, ec, rx, ry) {
        return Intersection.intersectEllipseEllipse(cc, r, r, ec, rx, ry);
    };
    Intersection.intersectCircleLine = function (c, r, a1, a2) {
        var result;
        var a = (a2.x - a1.x) * (a2.x - a1.x) + (a2.y - a1.y) * (a2.y - a1.y);
        var b = 2 * ((a2.x - a1.x) * (a1.x - c.x) + (a2.y - a1.y) * (a1.y - c.y));
        var cc = c.x * c.x + c.y * c.y + a1.x * a1.x + a1.y * a1.y - 2 * (c.x * a1.x + c.y * a1.y) - r * r;
        var deter = b * b - 4 * a * cc;
        if (deter < 0) {
            result = new Intersection('Outside');
        }
        else if (deter === 0) {
            result = new Intersection('Tangent');
        }
        else {
            var e = Math.sqrt(deter);
            var u1 = (-b + e) / (2 * a);
            var u2 = (-b - e) / (2 * a);
            if ((u1 < 0 || u1 > 1) && (u2 < 0 || u2 > 1)) {
                if ((u1 < 0 && u2 < 0) || (u1 > 1 && u2 > 1)) {
                    result = new Intersection('Outside');
                }
                else {
                    result = new Intersection('Inside');
                }
            }
            else {
                result = new Intersection('Intersection');
                if (0 <= u1 && u1 <= 1) {
                    result.points.push(a1.lerp(a2, u1));
                }
                if (0 <= u2 && u2 <= 1) {
                    result.points.push(a1.lerp(a2, u2));
                }
            }
        }
        return result;
    };
    Intersection.intersectCirclePolygon = function (c, r, points) {
        var result = new Intersection();
        var length = points.length;
        var inter;
        for (var i = 0; i < length; i++) {
            var a1 = points[i];
            var a2 = points[(i + 1) % length];
            inter = Intersection.intersectCircleLine(c, r, a1, a2);
            result.appendPoints(inter.points);
        }
        if (result.points.length > 0) {
            result.status = 'Intersection';
        }
        else {
            result.status = inter.status;
        }
        return result;
    };
    Intersection.intersectCircleRectangle = function (c, r, r1, r2) {
        var min = r1.min(r2);
        var max = r1.max(r2);
        var topRight = new Vector2D(max.x, min.y);
        var bottomLeft = new Vector2D(min.x, max.y);
        var inter1 = Intersection.intersectCircleLine(c, r, min, topRight);
        var inter2 = Intersection.intersectCircleLine(c, r, topRight, max);
        var inter3 = Intersection.intersectCircleLine(c, r, max, bottomLeft);
        var inter4 = Intersection.intersectCircleLine(c, r, bottomLeft, min);
        var result = new Intersection();
        result.appendPoints(inter1.points);
        result.appendPoints(inter2.points);
        result.appendPoints(inter3.points);
        result.appendPoints(inter4.points);
        if (result.points.length > 0) {
            result.status = 'Intersection';
        }
        else {
            result.status = inter1.status;
        }
        return result;
    };
    Intersection.intersectEllipseEllipse = function (c1, rx1, ry1, c2, rx2, ry2) {
        var a = [ry1 * ry1, 0, rx1 * rx1, -2 * ry1 * ry1 * c1.x, -2 * rx1 * rx1 * c1.y, ry1 * ry1 * c1.x * c1.x + rx1 * rx1 * c1.y * c1.y - rx1 * rx1 * ry1 * ry1];
        var b = [ry2 * ry2, 0, rx2 * rx2, -2 * ry2 * ry2 * c2.x, -2 * rx2 * rx2 * c2.y, ry2 * ry2 * c2.x * c2.x + rx2 * rx2 * c2.y * c2.y - rx2 * rx2 * ry2 * ry2];
        var yPoly = Intersection.bezout(a, b);
        var yRoots = yPoly.getRoots();
        var epsilon = 1e-3;
        var norm0 = (a[0] * a[0] + 2 * a[1] * a[1] + a[2] * a[2]) * epsilon;
        var norm1 = (b[0] * b[0] + 2 * b[1] * b[1] + b[2] * b[2]) * epsilon;
        var result = new Intersection();
        for (var _i = 0, yRoots_4 = yRoots; _i < yRoots_4.length; _i++) {
            var yRoot = yRoots_4[_i];
            var xPoly = new Polynomial(a[0], a[3] + yRoot * a[1], a[5] + yRoot * (a[4] + yRoot * a[2]));
            var xRoots = xPoly.getRoots();
            for (var _a = 0, xRoots_4 = xRoots; _a < xRoots_4.length; _a++) {
                var xRoot = xRoots_4[_a];
                var test = (a[0] * xRoot + a[1] * yRoot + a[3]) * xRoot + (a[2] * yRoot + a[4]) * yRoot + a[5];
                if (Math.abs(test) < norm0) {
                    test = (b[0] * xRoot + b[1] * yRoot + b[3]) * xRoot + (b[2] * yRoot + b[4]) * yRoot + b[5];
                    if (Math.abs(test) < norm1) {
                        result.appendPoint(new Vector2D(xRoot, yRoot));
                    }
                }
            }
        }
        return result;
    };
    Intersection.intersectEllipseLine = function (c, rx, ry, a1, a2) {
        var result;
        var origin = new Vector2D(a1.x, a1.y);
        var dir = Vector2D.fromPoints(a1, a2);
        var center = new Vector2D(c.x, c.y);
        var diff = origin.subtract(center);
        var mDir = new Vector2D(dir.x / (rx * rx), dir.y / (ry * ry));
        var mDiff = new Vector2D(diff.x / (rx * rx), diff.y / (ry * ry));
        var a = dir.dot(mDir);
        var b = dir.dot(mDiff);
        var cdot = diff.dot(mDiff) - 1.0;
        var d = b * b - a * cdot;
        if (d < 0) {
            result = new Intersection('Outside');
        }
        else if (d > 0) {
            var root = Math.sqrt(d);
            var tA = (-b - root) / a;
            var tB = (-b + root) / a;
            if ((tA < 0 || 1 < tA) && (tB < 0 || 1 < tB)) {
                if ((tA < 0 && tB < 0) || (tA > 1 && tB > 1)) {
                    result = new Intersection('Outside');
                }
                else {
                    result = new Intersection('Inside');
                }
            }
            else {
                result = new Intersection('Intersection');
                if (0 <= tA && tA <= 1) {
                    result.appendPoint(a1.lerp(a2, tA));
                }
                if (0 <= tB && tB <= 1) {
                    result.appendPoint(a1.lerp(a2, tB));
                }
            }
        }
        else {
            var t = -b / a;
            if (0 <= t && t <= 1) {
                result = new Intersection('Intersection');
                result.appendPoint(a1.lerp(a2, t));
            }
            else {
                result = new Intersection('Outside');
            }
        }
        return result;
    };
    Intersection.intersectEllipsePolygon = function (c, rx, ry, points) {
        var result = new Intersection();
        var length = points.length;
        for (var i = 0; i < length; i++) {
            var b1 = points[i];
            var b2 = points[(i + 1) % length];
            var inter = Intersection.intersectEllipseLine(c, rx, ry, b1, b2);
            result.appendPoints(inter.points);
        }
        return result;
    };
    Intersection.intersectEllipseRectangle = function (c, rx, ry, r1, r2) {
        var min = r1.min(r2);
        var max = r1.max(r2);
        var topRight = new Vector2D(max.x, min.y);
        var bottomLeft = new Vector2D(min.x, max.y);
        var inter1 = Intersection.intersectEllipseLine(c, rx, ry, min, topRight);
        var inter2 = Intersection.intersectEllipseLine(c, rx, ry, topRight, max);
        var inter3 = Intersection.intersectEllipseLine(c, rx, ry, max, bottomLeft);
        var inter4 = Intersection.intersectEllipseLine(c, rx, ry, bottomLeft, min);
        var result = new Intersection();
        result.appendPoints(inter1.points);
        result.appendPoints(inter2.points);
        result.appendPoints(inter3.points);
        result.appendPoints(inter4.points);
        return result;
    };
    Intersection.intersectLineLine = function (a1, a2, b1, b2) {
        var result;
        var uaT = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);
        var ubT = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x);
        var uB = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);
        if (uB !== 0) {
            var ua = uaT / uB;
            var ub = ubT / uB;
            if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {
                result = new Intersection('Intersection');
                result.points.push(new Vector2D(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y)));
            }
            else {
                result = new Intersection();
            }
        }
        else {
            if (uaT === 0 || ubT === 0) {
                result = new Intersection('Coincident');
            }
            else {
                result = new Intersection('Parallel');
            }
        }
        return result;
    };
    Intersection.intersectLinePolygon = function (a1, a2, points) {
        var result = new Intersection();
        var length = points.length;
        for (var i = 0; i < length; i++) {
            var b1 = points[i];
            var b2 = points[(i + 1) % length];
            var inter = Intersection.intersectLineLine(a1, a2, b1, b2);
            result.appendPoints(inter.points);
        }
        return result;
    };
    Intersection.intersectLineRectangle = function (a1, a2, r1, r2) {
        var min = r1.min(r2);
        var max = r1.max(r2);
        var topRight = new Vector2D(max.x, min.y);
        var bottomLeft = new Vector2D(min.x, max.y);
        var inter1 = Intersection.intersectLineLine(min, topRight, a1, a2);
        var inter2 = Intersection.intersectLineLine(topRight, max, a1, a2);
        var inter3 = Intersection.intersectLineLine(max, bottomLeft, a1, a2);
        var inter4 = Intersection.intersectLineLine(bottomLeft, min, a1, a2);
        var result = new Intersection();
        result.appendPoints(inter1.points);
        result.appendPoints(inter2.points);
        result.appendPoints(inter3.points);
        result.appendPoints(inter4.points);
        return result;
    };
    Intersection.intersectPolygonPolygon = function (points1, points2) {
        var result = new Intersection();
        var length = points1.length;
        for (var i = 0; i < length; i++) {
            var a1 = points1[i];
            var a2 = points1[(i + 1) % length];
            var inter = Intersection.intersectLinePolygon(a1, a2, points2);
            result.appendPoints(inter.points);
        }
        return result;
    };
    Intersection.intersectPolygonRectangle = function (points, r1, r2) {
        var min = r1.min(r2);
        var max = r1.max(r2);
        var topRight = new Vector2D(max.x, min.y);
        var bottomLeft = new Vector2D(min.x, max.y);
        var inter1 = Intersection.intersectLinePolygon(min, topRight, points);
        var inter2 = Intersection.intersectLinePolygon(topRight, max, points);
        var inter3 = Intersection.intersectLinePolygon(max, bottomLeft, points);
        var inter4 = Intersection.intersectLinePolygon(bottomLeft, min, points);
        var result = new Intersection();
        result.appendPoints(inter1.points);
        result.appendPoints(inter2.points);
        result.appendPoints(inter3.points);
        result.appendPoints(inter4.points);
        return result;
    };
    Intersection.intersectRayRay = function (a1, a2, b1, b2) {
        var result;
        var uaT = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);
        var ubT = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x);
        var uB = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);
        if (uB !== 0) {
            var ua = uaT / uB;
            result = new Intersection('Intersection');
            result.points.push(new Vector2D(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y)));
        }
        else {
            if (uaT === 0 || ubT === 0) {
                result = new Intersection('Coincident');
            }
            else {
                result = new Intersection('Parallel');
            }
        }
        return result;
    };
    Intersection.intersectRectangleRectangle = function (a1, a2, b1, b2) {
        var min = a1.min(a2);
        var max = a1.max(a2);
        var topRight = new Vector2D(max.x, min.y);
        var bottomLeft = new Vector2D(min.x, max.y);
        var inter1 = Intersection.intersectLineRectangle(min, topRight, b1, b2);
        var inter2 = Intersection.intersectLineRectangle(topRight, max, b1, b2);
        var inter3 = Intersection.intersectLineRectangle(max, bottomLeft, b1, b2);
        var inter4 = Intersection.intersectLineRectangle(bottomLeft, min, b1, b2);
        var result = new Intersection();
        result.appendPoints(inter1.points);
        result.appendPoints(inter2.points);
        result.appendPoints(inter3.points);
        result.appendPoints(inter4.points);
        return result;
    };
    Intersection.bezout = function (e1, e2) {
        var AB = e1[0] * e2[1] - e2[0] * e1[1];
        var AC = e1[0] * e2[2] - e2[0] * e1[2];
        var AD = e1[0] * e2[3] - e2[0] * e1[3];
        var AE = e1[0] * e2[4] - e2[0] * e1[4];
        var AF = e1[0] * e2[5] - e2[0] * e1[5];
        var BC = e1[1] * e2[2] - e2[1] * e1[2];
        var BE = e1[1] * e2[4] - e2[1] * e1[4];
        var BF = e1[1] * e2[5] - e2[1] * e1[5];
        var CD = e1[2] * e2[3] - e2[2] * e1[3];
        var DE = e1[3] * e2[4] - e2[3] * e1[4];
        var DF = e1[3] * e2[5] - e2[3] * e1[5];
        var BFPLUSDE = BF + DE;
        var BEMINUSCD = BE - CD;
        return new Polynomial(AB * BC - AC * AC, AB * BEMINUSCD + AD * BC - 2 * AC * AE, AB * BFPLUSDE + AD * BEMINUSCD - AE * AE - 2 * AC * AF, AB * DF + AD * BFPLUSDE - 2 * AE * AF, AD * DF - AF * AF);
    };
    return Intersection;
}());

function vec(x, y) {
    if (y === void 0) { y = Number.NaN; }
    if (typeof x === 'number') {
        return new Vector2D(x, y);
    }
    else {
        return new Vector2D(x.x, x.y);
    }
}
var Vector2D = /** @class */ (function () {
    function Vector2D(x, y) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        this.x = x;
        this.y = y;
    }
    Vector2D.prototype.add = function (that) {
        return new Vector2D(this.x + that.x, this.y + that.y);
    };
    Vector2D.prototype.addEquals = function (that) {
        this.x += that.x;
        this.y += that.y;
        return this;
    };
    Vector2D.prototype.scalarAdd = function (scalar) {
        return new Vector2D(this.x + scalar, this.y + scalar);
    };
    Vector2D.prototype.scalarAddEquals = function (scalar) {
        this.x += scalar;
        this.y += scalar;
        return this;
    };
    Vector2D.prototype.subtract = function (that) {
        return new Vector2D(this.x - that.x, this.y - that.y);
    };
    Vector2D.prototype.subtractEquals = function (that) {
        this.x -= that.x;
        this.y -= that.y;
        return this;
    };
    Vector2D.prototype.scalarSubtract = function (scalar) {
        return new Vector2D(this.x - scalar, this.y - scalar);
    };
    Vector2D.prototype.scalarSubtractEquals = function (scalar) {
        this.x -= scalar;
        this.y -= scalar;
        return this;
    };
    Vector2D.prototype.multiply = function (scalar) {
        return new Vector2D(this.x * scalar, this.y * scalar);
    };
    Vector2D.prototype.multiplyEquals = function (scalar) {
        this.x *= scalar;
        this.y *= scalar;
        return this;
    };
    Vector2D.prototype.divide = function (scalar) {
        return new Vector2D(this.x / scalar, this.y / scalar);
    };
    Vector2D.prototype.divideEquals = function (scalar) {
        this.x /= scalar;
        this.y /= scalar;
        return this;
    };
    Vector2D.prototype.eq = function (that) {
        return (this.x === that.x && this.y === that.y);
    };
    Vector2D.prototype.lt = function (that) {
        return (this.x < that.x && this.y < that.y);
    };
    Vector2D.prototype.lte = function (that) {
        return (this.x <= that.x && this.y <= that.y);
    };
    Vector2D.prototype.gt = function (that) {
        return (this.x > that.x && this.y > that.y);
    };
    Vector2D.prototype.gte = function (that) {
        return (this.x >= that.x && this.y >= that.y);
    };
    Vector2D.prototype.lerp = function (that, t) {
        return new Vector2D(this.x + (that.x - this.x) * t, this.y + (that.y - this.y) * t);
    };
    Vector2D.prototype.distanceFrom = function (that) {
        var dx = this.x - that.x;
        var dy = this.y - that.y;
        return Math.sqrt(dx * dx + dy * dy);
    };
    Vector2D.prototype.min = function (that) {
        return new Vector2D(Math.min(this.x, that.x), Math.min(this.y, that.y));
    };
    Vector2D.prototype.max = function (that) {
        return new Vector2D(Math.max(this.x, that.x), Math.max(this.y, that.y));
    };
    Vector2D.prototype.toString = function () {
        return this.x + ',' + this.y;
    };
    Vector2D.prototype.setXY = function (x, y) {
        this.x = x;
        this.y = y;
    };
    Vector2D.prototype.setFromPoint = function (that) {
        this.x = that.x;
        this.y = that.y;
    };
    Vector2D.prototype.swap = function (that) {
        var x = this.x;
        var y = this.y;
        this.x = that.x;
        this.y = that.y;
        that.x = x;
        that.y = y;
    };
    Vector2D.prototype.length = function () {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    };
    Vector2D.prototype.dot = function (that) {
        return this.x * that.x + this.y * that.y;
    };
    Vector2D.prototype.cross = function (that) {
        return this.x * that.y - this.y * that.x;
    };
    Vector2D.prototype.unit = function () {
        return this.divide(this.length());
    };
    Vector2D.prototype.unitEquals = function () {
        this.divideEquals(this.length());
        return this;
    };
    Vector2D.prototype.perp = function () {
        return new Vector2D(-this.y, this.x);
    };
    Vector2D.fromPoints = function (p1, p2) {
        return new Vector2D(p2.x - p1.x, p2.y - p1.y);
    };
    return Vector2D;
}());

var Polynomial = /** @class */ (function () {
    function Polynomial() {
        var coefs = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            coefs[_i] = arguments[_i];
        }
        this.coefs = [];
        for (var i = coefs.length - 1; i >= 0; i--) {
            this.coefs.push(coefs[i]);
        }
    }
    Polynomial.prototype.eval = function (x) {
        var result = 0;
        for (var i = this.coefs.length - 1; i >= 0; i--) {
            result = result * x + this.coefs[i];
        }
        return result;
    };
    Polynomial.prototype.multiply = function (that) {
        var result = new Polynomial();
        var i;
        for (i = 0; i <= this.getDegree() + that.getDegree(); i++) {
            result.coefs.push(0);
        }
        for (i = 0; i <= this.getDegree(); i++) {
            for (var j = 0; j <= that.getDegree(); j++) {
                result.coefs[i + j] += this.coefs[i] * that.coefs[j];
            }
        }
        return result;
    };
    Polynomial.prototype.divide_scalar = function (scalar) {
        for (var i = 0; i < this.coefs.length; i++) {
            this.coefs[i] /= scalar;
        }
    };
    Polynomial.prototype.simplify = function () {
        for (var i = this.getDegree(); i >= 0; i--) {
            if (Math.abs(this.coefs[i]) <= Polynomial.TOLERANCE) {
                this.coefs.pop();
            }
            else {
                break;
            }
        }
    };
    Polynomial.prototype.bisection = function (min, max) {
        var minValue = this.eval(min);
        var maxValue = this.eval(max);
        var result;
        if (Math.abs(minValue) <= Polynomial.TOLERANCE) {
            result = min;
        }
        else if (Math.abs(maxValue) <= Polynomial.TOLERANCE) {
            result = max;
        }
        else if (minValue * maxValue <= 0) {
            var tmp1 = Math.log(max - min);
            var tmp2 = Math.log(10) * Polynomial.ACCURACY;
            var iters = Math.ceil((tmp1 + tmp2) / Math.log(2));
            for (var i = 0; i < iters; i++) {
                result = 0.5 * (min + max);
                var value = this.eval(result);
                if (Math.abs(value) <= Polynomial.TOLERANCE) {
                    break;
                }
                if (value * minValue < 0) {
                    max = result;
                    maxValue = value;
                }
                else {
                    min = result;
                    minValue = value;
                }
            }
        }
        return result;
    };
    Polynomial.prototype.toString = function () {
        var coefs = [];
        var signs = [];
        var i;
        for (i = this.coefs.length - 1; i >= 0; i--) {
            var value = this.coefs[i];
            if (value !== 0) {
                var sign = (value < 0) ? ' - ' : ' + ';
                value = Math.abs(value);
                if (i > 0 && value === 1) {
                    value = 'x';
                }
                else {
                    value += 'x';
                }
                if (i > 1) {
                    value += '^' + i;
                }
                signs.push(sign);
                coefs.push(value);
            }
        }
        signs[0] = (signs[0] === ' + ') ? '' : '-';
        var result = '';
        for (i = 0; i < coefs.length; i++) {
            result += signs[i] + coefs[i];
        }
        return result;
    };
    Polynomial.prototype.getDegree = function () {
        return this.coefs.length - 1;
    };
    Polynomial.prototype.getDerivative = function () {
        var derivative = new Polynomial();
        for (var i = 1; i < this.coefs.length; i++) {
            derivative.coefs.push(i * this.coefs[i]);
        }
        return derivative;
    };
    Polynomial.prototype.getRoots = function () {
        var result;
        this.simplify();
        switch (this.getDegree()) {
            case 0:
                result = [];
                break;
            case 1:
                result = this.getLinearRoot();
                break;
            case 2:
                result = this.getQuadraticRoots();
                break;
            case 3:
                result = this.getCubicRoots();
                break;
            case 4:
                result = this.getQuarticRoots();
                break;
            default:
                result = [];
        }
        return result;
    };
    Polynomial.prototype.getRootsInInterval = function (min, max) {
        var roots = [];
        var i;
        var root;
        if (this.getDegree() === 1) {
            root = this.bisection(min, max);
            if (root != null) {
                roots.push(root);
            }
        }
        else {
            var deriv = this.getDerivative();
            var droots = deriv.getRootsInInterval(min, max);
            if (droots.length > 0) {
                root = this.bisection(min, droots[0]);
                if (root != null) {
                    roots.push(root);
                }
                for (i = 0; i <= droots.length - 2; i++) {
                    root = this.bisection(droots[i], droots[i + 1]);
                    if (root != null) {
                        roots.push(root);
                    }
                }
                root = this.bisection(droots[droots.length - 1], max);
                if (root != null) {
                    roots.push(root);
                }
            }
            else {
                root = this.bisection(min, max);
                if (root != null) {
                    roots.push(root);
                }
            }
        }
        return roots;
    };
    Polynomial.prototype.getLinearRoot = function () {
        var result = [];
        var a = this.coefs[1];
        if (a !== 0) {
            result.push(-this.coefs[0] / a);
        }
        return result;
    };
    Polynomial.prototype.getQuadraticRoots = function () {
        var results = [];
        if (this.getDegree() === 2) {
            var a = this.coefs[2];
            var b = this.coefs[1] / a;
            var c = this.coefs[0] / a;
            var d = b * b - 4 * c;
            if (d > 0) {
                var e = Math.sqrt(d);
                results.push(0.5 * (-b + e));
                results.push(0.5 * (-b - e));
            }
            else if (d === 0) {
                results.push(0.5 * -b);
            }
        }
        return results;
    };
    Polynomial.prototype.getCubicRoots = function () {
        var results = [];
        var disrim;
        if (this.getDegree() === 3) {
            var c3 = this.coefs[3];
            var c2 = this.coefs[2] / c3;
            var c1 = this.coefs[1] / c3;
            var c0 = this.coefs[0] / c3;
            var a = (3 * c1 - c2 * c2) / 3;
            var b = (2 * c2 * c2 * c2 - 9 * c1 * c2 + 27 * c0) / 27;
            var offset = c2 / 3;
            var discrim = b * b / 4 + a * a * a / 27;
            var halfB = b / 2;
            if (Math.abs(discrim) <= Polynomial.TOLERANCE) {
                disrim = 0;
            }
            var tmp = void 0;
            if (discrim > 0) {
                var e = Math.sqrt(discrim);
                var root = void 0;
                tmp = -halfB + e;
                if (tmp >= 0) {
                    root = Math.pow(tmp, 1 / 3);
                }
                else {
                    root = -Math.pow(-tmp, 1 / 3);
                }
                tmp = -halfB - e;
                if (tmp >= 0) {
                    root += Math.pow(tmp, 1 / 3);
                }
                else {
                    root -= Math.pow(-tmp, 1 / 3);
                }
                results.push(root - offset);
            }
            else if (discrim < 0) {
                var distance = Math.sqrt(-a / 3);
                var angle = Math.atan2(Math.sqrt(-discrim), -halfB) / 3;
                var cos = Math.cos(angle);
                var sin = Math.sin(angle);
                var sqrt3 = Math.sqrt(3);
                results.push(2 * distance * cos - offset);
                results.push(-distance * (cos + sqrt3 * sin) - offset);
                results.push(-distance * (cos - sqrt3 * sin) - offset);
            }
            else {
                if (halfB >= 0) {
                    tmp = -Math.pow(halfB, 1 / 3);
                }
                else {
                    tmp = Math.pow(-halfB, 1 / 3);
                }
                results.push(2 * tmp - offset);
                results.push(-tmp - offset);
            }
        }
        return results;
    };
    Polynomial.prototype.getQuarticRoots = function () {
        var results = [];
        if (this.getDegree() === 4) {
            var c4 = this.coefs[4];
            var c3 = this.coefs[3] / c4;
            var c2 = this.coefs[2] / c4;
            var c1 = this.coefs[1] / c4;
            var c0 = this.coefs[0] / c4;
            var resolveRoots = new Polynomial(1, -c2, c3 * c1 - 4 * c0, -c3 * c3 * c0 + 4 * c2 * c0 - c1 * c1).getCubicRoots();
            var y = resolveRoots[0];
            var discrim = c3 * c3 / 4 - c2 + y;
            if (Math.abs(discrim) <= Polynomial.TOLERANCE) {
                discrim = 0;
            }
            var t2 = void 0;
            var d = void 0;
            if (discrim > 0) {
                var e = Math.sqrt(discrim);
                var t1 = 3 * c3 * c3 / 4 - e * e - 2 * c2;
                t2 = (4 * c3 * c2 - 8 * c1 - c3 * c3 * c3) / (4 * e);
                var plus = t1 + t2;
                var minus = t1 - t2;
                var f = void 0;
                if (Math.abs(plus) <= Polynomial.TOLERANCE) {
                    plus = 0;
                }
                if (Math.abs(minus) <= Polynomial.TOLERANCE) {
                    minus = 0;
                }
                if (plus >= 0) {
                    f = Math.sqrt(plus);
                    results.push(-c3 / 4 + (e + f) / 2);
                    results.push(-c3 / 4 + (e - f) / 2);
                }
                if (minus >= 0) {
                    f = Math.sqrt(minus);
                    results.push(-c3 / 4 + (f - e) / 2);
                    results.push(-c3 / 4 - (f + e) / 2);
                }
            }
            else if (discrim >= 0) {
                t2 = y * y - 4 * c0;
                if (t2 >= -Polynomial.TOLERANCE) {
                    if (t2 < 0) {
                        t2 = 0;
                    }
                    t2 = 2 * Math.sqrt(t2);
                    var t1 = 3 * c3 * c3 / 4 - 2 * c2;
                    if (t1 + t2 >= Polynomial.TOLERANCE) {
                        d = Math.sqrt(t1 + t2);
                        results.push(-c3 / 4 + d / 2);
                        results.push(-c3 / 4 - d / 2);
                    }
                    if (t1 - t2 >= Polynomial.TOLERANCE) {
                        d = Math.sqrt(t1 - t2);
                        results.push(-c3 / 4 + d / 2);
                        results.push(-c3 / 4 - d / 2);
                    }
                }
            }
        }
        return results;
    };
    Polynomial.TOLERANCE = 1e-6;
    Polynomial.ACCURACY = 6;
    return Polynomial;
}());
var Token = /** @class */ (function () {
    function Token(type, text) {
        this.type = type;
        this.text = text;
    }
    Token.prototype.typeis = function (t) {
        return this.type === t;
    };
    return Token;
}());
var Path = /** @class */ (function () {
    function Path(path) {
        this.segments = null;
        this.parseData(path);
    }
    Path.prototype.appendPathSegment = function (segment) {
        segment.previous = this.segments[this.segments.length - 1];
        this.segments.push(segment);
    };
    Path.prototype.parseData = function (d) {
        var tokens = this.tokenize(d);
        var index = 0;
        var token = tokens[index];
        var mode = 'BOD';
        this.segments = [];
        while (!token.typeis(Path.EOD)) {
            var paramLength = void 0;
            var params = [];
            if (mode === 'BOD') {
                if (token.text === 'M' || token.text === 'm') {
                    index++;
                    paramLength = Path.PARAMS[token.text].length;
                    mode = token.text;
                }
                else {
                    throw new Error('Path data must begin with a moveto command');
                }
            }
            else {
                if (token.typeis(Path.NUMBER)) {
                    paramLength = Path.PARAMS[mode].length;
                }
                else {
                    index++;
                    paramLength = Path.PARAMS[token.text].length;
                    mode = token.text;
                }
            }
            if ((index + paramLength) < tokens.length) {
                for (var i = index; i < index + paramLength; i++) {
                    var n = tokens[i];
                    if (n.typeis(Path.NUMBER)) {
                        params[params.length] = n.text;
                    }
                    else {
                        throw new Error('Parameter type is not a number: ' + mode + ',' + n.text);
                    }
                }
                var segment = void 0;
                var length_1 = this.segments.length;
                var previous = (length_1 === 0) ? null : this.segments[length_1 - 1];
                switch (mode) {
                    case 'A':
                        segment = new AbsoluteArcPath(params, this, previous);
                        break;
                    case 'C':
                        segment = new AbsoluteCurveto3(params, this, previous);
                        break;
                    case 'c':
                        segment = new RelativeCurveto3(params, this, previous);
                        break;
                    case 'H':
                        segment = new AbsoluteHLineto(params, this, previous);
                        break;
                    case 'L':
                        segment = new AbsoluteLineto(params, this, previous);
                        break;
                    case 'l':
                        segment = new RelativeLineto(params, this, previous);
                        break;
                    case 'M':
                        segment = new AbsoluteMoveto(params, this, previous);
                        break;
                    case 'm':
                        segment = new RelativeMoveto(params, this, previous);
                        break;
                    case 'Q':
                        segment = new AbsoluteCurveto2(params, this, previous);
                        break;
                    case 'q':
                        segment = new RelativeCurveto2(params, this, previous);
                        break;
                    case 'S':
                        segment = new AbsoluteSmoothCurveto3(params, this, previous);
                        break;
                    case 's':
                        segment = new RelativeSmoothCurveto3(params, this, previous);
                        break;
                    case 'T':
                        segment = new AbsoluteSmoothCurveto2(params, this, previous);
                        break;
                    case 't':
                        segment = new RelativeSmoothCurveto2(params, this, previous);
                        break;
                    case 'Z':
                        segment = new RelativeClosePath(params, this, previous);
                        break;
                    case 'z':
                        segment = new RelativeClosePath(params, this, previous);
                        break;
                    default:
                        throw new Error('Unsupported segment type: ' + mode);
                }
                this.segments.push(segment);
                index += paramLength;
                token = tokens[index];
                if (mode === 'M') {
                    mode = 'L';
                }
                if (mode === 'm') {
                    mode = 'l';
                }
            }
            else {
                throw new Error('Path data ended before all parameters were found');
            }
        }
    };
    Path.prototype.tokenize = function (d) {
        var tokens = [];
        while (d !== '') {
            if (d.match(/^([ \t\r\n,]+)/)) {
                d = d.substr(RegExp.$1.length);
            }
            else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {
                tokens[tokens.length] = new Token(Path.COMMAND, RegExp.$1);
                d = d.substr(RegExp.$1.length);
            }
            else if (d.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {
                tokens[tokens.length] = new Token(Path.NUMBER, parseFloat(RegExp.$1));
                d = d.substr(RegExp.$1.length);
            }
            else {
                throw new Error('Unrecognized segment command: ' + d);
            }
        }
        tokens[tokens.length] = new Token(Path.EOD, null);
        return tokens;
    };
    Path.prototype.intersectShape = function (shape) {
        var result = new Intersection();
        for (var _i = 0, _a = this.segments; _i < _a.length; _i++) {
            var segment = _a[_i];
            var inter = Intersection.intersectShapes(segment, shape);
            result.appendPoints(inter.points);
        }
        return result;
    };
    Path.prototype.asIntersectionParams = function () {
        return param('Path', []);
    };
    Path.COMMAND = 0;
    Path.NUMBER = 1;
    Path.EOD = 2;
    Path.PARAMS = {
        A: ['rx', 'ry', 'x-axis-rotation', 'large-arc-flag', 'sweep-flag', 'x', 'y'],
        a: ['rx', 'ry', 'x-axis-rotation', 'large-arc-flag', 'sweep-flag', 'x', 'y'],
        C: ['x1', 'y1', 'x2', 'y2', 'x', 'y'],
        c: ['x1', 'y1', 'x2', 'y2', 'x', 'y'],
        H: ['x'],
        h: ['x'],
        L: ['x', 'y'],
        l: ['x', 'y'],
        M: ['x', 'y'],
        m: ['x', 'y'],
        Q: ['x1', 'y1', 'x', 'y'],
        q: ['x1', 'y1', 'x', 'y'],
        S: ['x2', 'y2', 'x', 'y'],
        s: ['x2', 'y2', 'x', 'y'],
        T: ['x', 'y'],
        t: ['x', 'y'],
        V: ['y'],
        v: ['y'],
        Z: [],
        z: []
    };
    return Path;
}());

var AbsolutePathSegment = /** @class */ (function () {
    function AbsolutePathSegment(command, params, owner, previous) {
        this.command = command;
        this.owner = owner;
        this.previous = previous;
        this.points = [];
        var index = 0;
        while (index < params.length) {
            this.points.push(new Vector2D(parseFloat(params[index]), parseFloat(params[index + 1])));
            index += 2;
        }
    }
    AbsolutePathSegment.prototype.toString = function () {
        var points = this.points.map(function (v) { return v.toString(); });
        var command = '';
        if (this.previous.command !== this.command) {
            command = this.command;
        }
        return command + points.join(' ');
    };
    Object.defineProperty(AbsolutePathSegment.prototype, "lastPoint", {
        get: function () {
            return this.points[this.points.length - 1];
        },
        enumerable: true,
        configurable: true
    });
    AbsolutePathSegment.prototype.asIntersectionParams = function () {
        return null;
    };
    return AbsolutePathSegment;
}());
var AbsoluteArcPath = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteArcPath, _super);
    function AbsoluteArcPath(params, owner, previous) {
        var _this = _super.call(this, 'A', params.slice(params.length - 2), owner, previous) || this;
        _this.rx = parseFloat(params.shift());
        _this.ry = parseFloat(params.shift());
        _this.angle = parseFloat(params.shift());
        _this.arcFlag = parseFloat(params.shift());
        _this.sweepFlag = parseFloat(params.shift());
        return _this;
    }
    AbsoluteArcPath.prototype.toString = function () {
        var command = '';
        if (this.previous.command !== this.command) {
            command = this.command;
        }
        return command + [this.rx, this.ry, this.angle, this.arcFlag, this.sweepFlag, this.points[0].toString()].join(',');
    };
    AbsoluteArcPath.prototype.asIntersectionParams = function () {
        return param('Ellipse', [this.center, this.rx, this.ry]);
    };
    Object.defineProperty(AbsoluteArcPath.prototype, "center", {
        get: function () {
            var startPoint = this.previous.lastPoint;
            var endPoint = this.points[0];
            var rx = this.rx;
            var ry = this.ry;
            var angle = this.angle * Math.PI / 180;
            var c = Math.cos(angle);
            var s = Math.sin(angle);
            var TOLERANCE = 1e-6;
            var halfDiff = startPoint.subtract(endPoint).divide(2);
            var x1p = halfDiff.x * c + halfDiff.y * s;
            var y1p = halfDiff.x * -s + halfDiff.y * c;
            var x1px1p = x1p * x1p;
            var y1py1p = y1p * y1p;
            var lambda = (x1px1p / (rx * rx)) + (y1py1p / (ry * ry));
            var factor;
            if (lambda > 1) {
                factor = Math.sqrt(lambda);
                rx *= factor;
                ry *= factor;
            }
            var rxrx = rx * rx;
            var ryry = ry * ry;
            var rxy1 = rxrx * y1py1p;
            var ryx1 = ryry * x1px1p;
            factor = (rxrx * ryry - rxy1 - ryx1) / (rxy1 + ryx1);
            if (Math.abs(factor) < TOLERANCE) {
                factor = 0;
            }
            var sq = Math.sqrt(factor);
            if (this.arcFlag === this.sweepFlag) {
                sq = -sq;
            }
            var mid = startPoint.add(endPoint).divide(2);
            var cxp = sq * rx * y1p / ry;
            var cyp = sq * -ry * x1p / rx;
            return new Vector2D(cxp * c - cyp * s + mid.x, cxp * s + cyp * c + mid.y);
        },
        enumerable: true,
        configurable: true
    });
    return AbsoluteArcPath;
}(AbsolutePathSegment));
var AbsoluteCurveto2 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteCurveto2, _super);
    function AbsoluteCurveto2(params, owner, previous) {
        return _super.call(this, 'Q', params, owner, previous) || this;
    }
    Object.defineProperty(AbsoluteCurveto2.prototype, "controlPoint", {
        get: function () {
            return this.points[0];
        },
        enumerable: true,
        configurable: true
    });
    AbsoluteCurveto2.prototype.asIntersectionParams = function () {
        return param('Bezier2', [this.previous.lastPoint, this.points[0], this.points[1]]);
    };
    return AbsoluteCurveto2;
}(AbsolutePathSegment));
var AbsoluteCurveto3 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteCurveto3, _super);
    function AbsoluteCurveto3(params, owner, previous) {
        return _super.call(this, 'C', params, owner, previous) || this;
    }
    Object.defineProperty(AbsoluteCurveto3.prototype, "lastControlPoint", {
        get: function () {
            return this.points[1];
        },
        enumerable: true,
        configurable: true
    });
    AbsoluteCurveto3.prototype.asIntersectionParams = function () {
        return param('Bezier3', [this.previous.lastPoint, this.points[0], this.points[1], this.points[2]]);
    };
    return AbsoluteCurveto3;
}(AbsolutePathSegment));
var AbsoluteHLineto = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteHLineto, _super);
    function AbsoluteHLineto(params, owner, previous) {
        return _super.call(this, 'H', [params.pop(), String(previous.lastPoint.y)], owner, previous) || this;
    }
    AbsoluteHLineto.prototype.toString = function () {
        var command = '';
        if (this.previous.command !== this.command) {
            command = this.command;
        }
        return command + this.points[0].x;
    };
    return AbsoluteHLineto;
}(AbsolutePathSegment));
var AbsoluteLineto = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteLineto, _super);
    function AbsoluteLineto(params, owner, previous) {
        return _super.call(this, 'L', params, owner, previous) || this;
    }
    AbsoluteLineto.prototype.toString = function () {
        var command = '';
        if (this.previous.command !== this.command && this.previous.command !== 'M') {
            command = this.command;
        }
        return command + this.points[0].toString();
    };
    AbsoluteLineto.prototype.asIntersectionParams = function () {
        return param('Line', [this.previous.lastPoint, this.points[0]]);
    };
    return AbsoluteLineto;
}(AbsolutePathSegment));
var AbsoluteMoveto = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteMoveto, _super);
    function AbsoluteMoveto(params, owner, previous) {
        return _super.call(this, 'M', params, owner, previous) || this;
    }
    AbsoluteMoveto.prototype.toString = function () {
        return 'M' + this.points[0].toString();
    };
    return AbsoluteMoveto;
}(AbsolutePathSegment));
var AbsoluteSmoothCurveto2 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteSmoothCurveto2, _super);
    function AbsoluteSmoothCurveto2(params, owner, previous) {
        return _super.call(this, 'T', params, owner, previous) || this;
    }
    Object.defineProperty(AbsoluteSmoothCurveto2.prototype, "controlPoint", {
        get: function () {
            var lastPoint = this.previous.lastPoint;
            var point;
            if (this.previous.command.match(/^[QqTt]$/)) {
                var ctrlPoint = this.previous.controlPoint;
                var diff = ctrlPoint.subtract(lastPoint);
                point = lastPoint.subtract(diff);
            }
            else {
                point = lastPoint;
            }
            return point;
        },
        enumerable: true,
        configurable: true
    });
    AbsoluteSmoothCurveto2.prototype.asIntersectionParams = function () {
        return param('Bezier2', [this.previous.lastPoint, this.controlPoint, this.points[0]]);
    };
    return AbsoluteSmoothCurveto2;
}(AbsolutePathSegment));
var AbsoluteSmoothCurveto3 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AbsoluteSmoothCurveto3, _super);
    function AbsoluteSmoothCurveto3(params, owner, previous) {
        return _super.call(this, 'S', params, owner, previous) || this;
    }
    Object.defineProperty(AbsoluteSmoothCurveto3.prototype, "firstControlPoint", {
        get: function () {
            var lastPoint = this.previous.lastPoint;
            var point;
            if (this.previous.command.match(/^[SsCc]$/)) {
                var lastControl = this.previous.lastControlPoint;
                var diff = lastControl.subtract(lastPoint);
                point = lastPoint.subtract(diff);
            }
            else {
                point = lastPoint;
            }
            return point;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbsoluteSmoothCurveto3.prototype, "lastControlPoint", {
        get: function () {
            return this.points[0];
        },
        enumerable: true,
        configurable: true
    });
    AbsoluteSmoothCurveto3.prototype.asIntersectionParams = function () {
        return param('Bezier3', [this.previous.lastPoint, this.firstControlPoint, this.points[0], this.points[1]]);
    };
    return AbsoluteSmoothCurveto3;
}(AbsolutePathSegment));
var RelativePathSegment = /** @class */ (function () {
    function RelativePathSegment(command, params, owner, previous) {
        this.command = command;
        this.owner = owner;
        this.previous = previous;
        this.points = [];
        var lastPoint = this.previous ? this.previous.lastPoint : new Vector2D(0, 0);
        var index = 0;
        while (index < params.length) {
            var handle = new Vector2D(lastPoint.x + parseFloat(params[index]), lastPoint.y + parseFloat(params[index + 1]));
            this.points.push(handle);
            index += 2;
        }
    }
    RelativePathSegment.prototype.toString = function () {
        var points = [];
        var command = '';
        var lastPoint = this.previous ? this.previous.lastPoint : new Vector2D(0, 0);
        if (this.previous == null || this.previous.command !== this.command) {
            command = this.command;
        }
        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {
            var point = _a[_i];
            var diff = point.subtract(lastPoint);
            points.push(diff.toString());
        }
        return command + points.join(' ');
    };
    Object.defineProperty(RelativePathSegment.prototype, "lastPoint", {
        get: function () {
            return this.points[this.points.length - 1];
        },
        enumerable: true,
        configurable: true
    });
    RelativePathSegment.prototype.asIntersectionParams = function () {
        return null;
    };
    return RelativePathSegment;
}());
var RelativeClosePath = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RelativeClosePath, _super);
    function RelativeClosePath(params, owner, previous) {
        return _super.call(this, 'z', params, owner, previous) || this;
    }
    Object.defineProperty(RelativeClosePath.prototype, "lastPoint", {
        get: function () {
            var current = this.previous;
            var point;
            while (current) {
                if (current.command.match(/^[mMzZ]$/)) {
                    point = current.lastPoint;
                    break;
                }
                current = current.previous;
            }
            return point;
        },
        enumerable: true,
        configurable: true
    });
    RelativeClosePath.prototype.asIntersectionParams = function () {
        return param('Line', [this.previous.lastPoint, this.lastPoint]);
    };
    return RelativeClosePath;
}(RelativePathSegment));
var RelativeCurveto2 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RelativeCurveto2, _super);
    function RelativeCurveto2(params, owner, previous) {
        return _super.call(this, 'q', params, owner, previous) || this;
    }
    Object.defineProperty(RelativeCurveto2.prototype, "controlPoint", {
        get: function () {
            return this.points[0];
        },
        enumerable: true,
        configurable: true
    });
    RelativeCurveto2.prototype.asIntersectionParams = function () {
        return param('Bezier2', [this.previous.lastPoint, this.points[0], this.points[1]]);
    };
    return RelativeCurveto2;
}(RelativePathSegment));
var RelativeCurveto3 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RelativeCurveto3, _super);
    function RelativeCurveto3(params, owner, previous) {
        return _super.call(this, 'c', params, owner, previous) || this;
    }
    Object.defineProperty(RelativeCurveto3.prototype, "lastControlPoint", {
        get: function () {
            return this.points[1];
        },
        enumerable: true,
        configurable: true
    });
    RelativeCurveto3.prototype.asIntersectionParams = function () {
        return param('Bezier3', [this.previous.lastPoint, this.points[0], this.points[1], this.points[2]]);
    };
    return RelativeCurveto3;
}(RelativePathSegment));
var RelativeLineto = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RelativeLineto, _super);
    function RelativeLineto(params, owner, previous) {
        return _super.call(this, 'l', params, owner, previous) || this;
    }
    RelativeLineto.prototype.toString = function () {
        var lastPoint = this.previous ? this.previous.lastPoint : new Vector2D(0, 0);
        var point = this.points[0].subtract(lastPoint);
        var command = '';
        if (this.previous.command !== this.command && this.previous.command !== 'm') {
            command = this.command;
        }
        return command + point.toString();
    };
    RelativeLineto.prototype.asIntersectionParams = function () {
        return param('Line', [this.previous.lastPoint, this.points[0]]);
    };
    return RelativeLineto;
}(RelativePathSegment));
var RelativeMoveto = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RelativeMoveto, _super);
    function RelativeMoveto(params, owner, previous) {
        return _super.call(this, 'm', params, owner, previous) || this;
    }
    RelativeMoveto.prototype.toString = function () {
        return 'm' + this.points[0].toString();
    };
    return RelativeMoveto;
}(RelativePathSegment));
var RelativeSmoothCurveto2 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RelativeSmoothCurveto2, _super);
    function RelativeSmoothCurveto2(params, owner, previous) {
        return _super.call(this, 't', params, owner, previous) || this;
    }
    Object.defineProperty(RelativeSmoothCurveto2.prototype, "controlPoint", {
        get: function () {
            var lastPoint = this.previous.lastPoint;
            var point;
            if (this.previous.command.match(/^[QqTt]$/)) {
                var ctrlPoint = this.previous.controlPoint;
                var diff = ctrlPoint.subtract(lastPoint);
                point = lastPoint.subtract(diff);
            }
            else {
                point = lastPoint;
            }
            return point;
        },
        enumerable: true,
        configurable: true
    });
    RelativeSmoothCurveto2.prototype.asIntersectionParams = function () {
        return param('Bezier2', [this.previous.lastPoint, this.controlPoint, this.points[0]]);
    };
    return RelativeSmoothCurveto2;
}(RelativePathSegment));
var RelativeSmoothCurveto3 = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RelativeSmoothCurveto3, _super);
    function RelativeSmoothCurveto3(params, owner, previous) {
        return _super.call(this, 's', params, owner, previous) || this;
    }
    Object.defineProperty(RelativeSmoothCurveto3.prototype, "firstControlPoint", {
        get: function () {
            var lastPoint = this.previous.lastPoint;
            var point;
            if (this.previous.command.match(/^[SsCc]$/)) {
                var lastControl = this.previous.lastControlPoint;
                var diff = lastControl.subtract(lastPoint);
                point = lastPoint.subtract(diff);
            }
            else {
                point = lastPoint;
            }
            return point;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RelativeSmoothCurveto3.prototype, "lastControlPoint", {
        get: function () {
            return this.points[0];
        },
        enumerable: true,
        configurable: true
    });
    RelativeSmoothCurveto3.prototype.asIntersectionParams = function () {
        return param('Bezier3', [this.previous.lastPoint, this.firstControlPoint, this.points[0], this.points[1]]);
    };
    return RelativeSmoothCurveto3;
}(RelativePathSegment));


/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony export (immutable) */ __webpack_exports__["computeStats"] = computeStats;
/* harmony export (immutable) */ __webpack_exports__["computeAdvancedStats"] = computeAdvancedStats;
/* harmony export (immutable) */ __webpack_exports__["hist"] = hist;
/* harmony export (immutable) */ __webpack_exports__["categoricalHist"] = categoricalHist;
/* harmony export (immutable) */ __webpack_exports__["rangeHist"] = rangeHist;
/* harmony export (immutable) */ __webpack_exports__["wrapHist"] = wrapHist;
/* harmony export (immutable) */ __webpack_exports__["extent"] = extent;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 29.08.2014.
 */


var Statistics = /** @class */ (function () {
    function Statistics() {
        this.min = NaN;
        this.max = NaN;
        this.sum = 0;
        this.mean = 0;
        this._var = 0;
        this.n = 0;
        this.nans = 0;
        this.moment2 = NaN;
        this.moment3 = NaN;
        this.moment4 = NaN;
    }
    Object.defineProperty(Statistics.prototype, "var", {
        get: function () {
            return this.n > 1 ? this._var / (this.n - 1) : 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Statistics.prototype, "sd", {
        /** Returns the standard deviation */
        get: function () {
            return Math.sqrt(this.var);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Statistics.prototype, "kurtosis", {
        get: function () {
            if (this.n === 0) {
                return 0;
            }
            return (this.n * this.moment4) / (this.moment2 * this.moment2) - 3;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Statistics.prototype, "skewness", {
        get: function () {
            if (this.n === 0) {
                return 0;
            }
            return Math.sqrt(this.n) * this.moment3 / (Math.pow(this.moment2, 3. / 2.));
        },
        enumerable: true,
        configurable: true
    });
    Statistics.prototype.push = function (x) {
        if (typeof x !== 'number') {
            x = Number.NaN;
        }
        if (isNaN(x)) {
            this.nans++;
            return;
        }
        this.n++;
        this.sum += x;
        if (x < this.min || isNaN(this.min)) {
            this.min = x;
        }
        if (this.max < x || isNaN(this.max)) {
            this.max = x;
        }
        // http://www.johndcook.com/standard_deviation.html
        // See Knuth TAOCP vol 2, 3rd edition, page 232
        // http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance#Higher-order_statistics
        if (this.n === 1) {
            this.mean = x;
            this._var = 0;
            this.moment2 = this.moment3 = this.moment4 = 0;
        }
        else {
            var meanMinus1 = this.mean;
            this.mean = meanMinus1 + (x - meanMinus1) / this.n;
            this._var = this._var + (x - meanMinus1) * (x - this.mean);
            var delta = x - meanMinus1;
            var deltaN = delta / this.n;
            var deltaNSquare = deltaN * deltaN;
            var term1 = delta * deltaN * (this.n - 1);
            this.moment4 += term1 * deltaNSquare * (this.n * this.n - 3 * this.n + 3) + 6 * deltaNSquare * this.moment2 - 4 * deltaN * this.moment3;
            this.moment3 += term1 * deltaN * (this.n - 2) - 3 * deltaN * this.moment2;
            this.moment2 += term1;
        }
    };
    return Statistics;
}());
var AdvancedStatistics = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AdvancedStatistics, _super);
    function AdvancedStatistics(median, q1, q3) {
        var _this = _super.call(this) || this;
        _this.median = median;
        _this.q1 = q1;
        _this.q3 = q3;
        return _this;
    }
    return AdvancedStatistics;
}(Statistics));
function computeStats() {
    var arr = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        arr[_i] = arguments[_i];
    }
    var r = new Statistics();
    arr.forEach(function (a) { return a.forEach(r.push, r); });
    return r;
}
function quantile(arr, percentile) {
    var n = arr.length;
    if (n === 0) {
        return NaN;
    }
    if (n < 2 || percentile <= 0) {
        return arr[0];
    }
    if (percentile >= 1) {
        return arr[n - 1];
    }
    var target = percentile * (n - 1);
    var targetIndex = Math.floor(target);
    var a = arr[targetIndex], b = arr[targetIndex + 1];
    return a + (b - a) * (target - targetIndex);
}
function computeAdvancedStats(arr) {
    arr = arr.slice().sort(function (a, b) { return a - b; });
    var r = new AdvancedStatistics(quantile(arr, 0.5), quantile(arr, 0.25), quantile(arr, 0.75));
    arr.forEach(function (a) { return r.push(a); });
    return r;
}
var AHistogram = /** @class */ (function () {
    function AHistogram(bins, hist) {
        this._missing = 0;
        this._missingRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["none"])();
        this._bins = [];
        for (var i = 0; i < bins; ++i) {
            this._bins.push(hist && hist.length > i ? hist[i] : 0);
        }
    }
    Object.defineProperty(AHistogram.prototype, "largestFrequency", {
        get: function () {
            return Math.max(Math.max.apply(Math, this._bins), this._missing);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AHistogram.prototype, "largestBin", {
        get: function () {
            return Math.max.apply(Math, this._bins);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AHistogram.prototype, "count", {
        get: function () {
            return this.validCount + this._missing;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AHistogram.prototype, "validCount", {
        get: function () {
            return this._bins.reduce(function (p, s) { return p + s; }, 0);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AHistogram.prototype, "bins", {
        get: function () {
            return this._bins.length;
        },
        enumerable: true,
        configurable: true
    });
    AHistogram.prototype.binOf = function (value) {
        return -1;
    };
    AHistogram.prototype.frequency = function (bin) {
        return this._bins[bin];
    };
    AHistogram.prototype.range = function (bin) {
        return this._ranges ? this._ranges[bin] : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["none"])();
    };
    Object.defineProperty(AHistogram.prototype, "missing", {
        get: function () {
            return this._missing;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AHistogram.prototype, "missingRange", {
        get: function () {
            return this._missingRange;
        },
        enumerable: true,
        configurable: true
    });
    AHistogram.prototype.pushAll = function (arr, indices, size) {
        var _this = this;
        var binindex = [], missingindex = [];
        for (var i = this.bins - 1; i >= 0; --i) {
            binindex.push([]);
        }
        if (indices) {
            var it_1 = indices.iter(size);
            arr.forEach(function (x) {
                var index = it_1.next();
                var bin = _this.binOf(x);
                if (bin < 0) {
                    _this._missing++;
                    missingindex.push(index);
                }
                else {
                    _this._bins[bin]++;
                    binindex[bin].push(index);
                }
            });
            //build range and remove duplicates
            this._ranges = binindex.map(function (d) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(d.sort().filter(function (di, i, a) { return di !== a[i - 1]; })); });
            this._missingRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(missingindex.sort().filter(function (di, i, a) { return di !== a[i - 1]; }));
        }
        else {
            arr.forEach(function (x) {
                var bin = _this.binOf(x);
                if (bin < 0) {
                    _this._missing++;
                }
                else {
                    _this._bins[bin]++;
                }
            });
            this._ranges = null;
            this._missingRange = null;
        }
    };
    AHistogram.prototype.forEach = function (callbackfn, thisArg) {
        return this._bins.forEach(callbackfn, thisArg);
    };
    return AHistogram;
}());
var Histogram = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Histogram, _super);
    function Histogram(bins, valueRange, hist) {
        var _this = _super.call(this, bins, hist) || this;
        _this.valueRange = valueRange;
        return _this;
    }
    Histogram.prototype.binOf = function (value) {
        if (typeof value === 'number') {
            return this.binOfImpl(value);
        }
        return -1;
    };
    Histogram.prototype.binOfImpl = function (value) {
        if (isNaN(value)) {
            return -1;
        }
        var n = (value - this.valueRange[0]) / (this.valueRange[1] - this.valueRange[0]);
        var bin = Math.round(n * (this.bins - 1));
        if (bin < 0) {
            bin = 0;
        }
        if (bin >= this.bins) {
            bin = this.bins - 1;
        }
        return isNaN(bin) ? -1 : bin;
    };
    return Histogram;
}(AHistogram));
var CatHistogram = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](CatHistogram, _super);
    function CatHistogram(values, categories, colors) {
        var _this = _super.call(this, values.length) || this;
        _this.values = values;
        _this.categories = categories;
        _this.colors = colors;
        return _this;
    }
    CatHistogram.prototype.binOf = function (value) {
        return this.values.indexOf(value);
    };
    return CatHistogram;
}(AHistogram));
var RangeHistogram = /** @class */ (function () {
    function RangeHistogram(_range) {
        this._range = _range;
    }
    Object.defineProperty(RangeHistogram.prototype, "categories", {
        get: function () {
            return this._range.groups.map(function (g) { return g.name; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeHistogram.prototype, "colors", {
        get: function () {
            return this._range.groups.map(function (g) { return g.color; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeHistogram.prototype, "largestFrequency", {
        get: function () {
            return Math.max.apply(Math, this._range.groups.map(function (g) { return g.length; }));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeHistogram.prototype, "largestBin", {
        get: function () {
            return this.largestFrequency;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeHistogram.prototype, "count", {
        get: function () {
            return this._range.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeHistogram.prototype, "validCount", {
        get: function () {
            return this.count;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeHistogram.prototype, "bins", {
        get: function () {
            return this._range.groups.length;
        },
        enumerable: true,
        configurable: true
    });
    RangeHistogram.prototype.binOf = function (value) {
        return this._range.groups.findIndex(function (g) { return g.name === value; });
    };
    RangeHistogram.prototype.frequency = function (bin) {
        return this._range.groups[bin].length;
    };
    RangeHistogram.prototype.range = function (bin) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(this._range.groups[bin]);
    };
    Object.defineProperty(RangeHistogram.prototype, "missing", {
        get: function () {
            return 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeHistogram.prototype, "missingRange", {
        get: function () {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["none"])();
        },
        enumerable: true,
        configurable: true
    });
    RangeHistogram.prototype.forEach = function (callbackfn, thisArg) {
        return this._range.groups.forEach(function (g, i) { return callbackfn.call(thisArg, g.length, i); });
    };
    return RangeHistogram;
}());
function hist(arr, indices, size, bins, range) {
    var r = new Histogram(bins, range);
    r.pushAll(arr, indices, size);
    return r;
}
function categoricalHist(arr, indices, size, categories, labels, colors) {
    var r = new CatHistogram(categories, labels, colors);
    r.pushAll(arr, indices, size);
    return r;
}
function rangeHist(range) {
    return new RangeHistogram(range);
}
function wrapHist(hist, valueRange) {
    return new Histogram(hist.length, valueRange, hist);
}
/**
 * computes the extent [min, max] for the given array, in case of empty array [NaN, NaN] is returned
 * @param arr the array
 * @return {[number,number]} [min, max]
 */
function extent(arr) {
    var min = NaN, max = NaN;
    arr.forEach(function (v) {
        if (isNaN(v)) {
            return;
        }
        if (isNaN(min) || min > v) {
            min = v;
        }
        if (isNaN(max) || min < v) {
            max = v;
        }
    });
    return [min, max];
}


/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__math__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__internal_StratificationVector__ = __webpack_require__(137);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__internal_ProjectedAtom__ = __webpack_require__(136);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AVector; });
/* unused harmony export VectorView */
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */








/**
 * base class for different Vector implementations, views, transposed,...
 * @internal
 */
var AVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AVector, _super);
    function AVector(root) {
        var _this = _super.call(this) || this;
        _this.root = root;
        return _this;
    }
    Object.defineProperty(AVector.prototype, "dim", {
        get: function () {
            return [this.length];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AVector.prototype, "length", {
        get: function () {
            return this.size();
        },
        enumerable: true,
        configurable: true
    });
    AVector.prototype.view = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        // tslint:disable:no-use-before-declare
        // Disabled the rule, because the classes below reference each other in a way that it is impossible to find a successful order.
        return new VectorView(this.root, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    AVector.prototype.idView = function (idRange) {
        if (idRange === void 0) { idRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var ids;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ids()];
                    case 1:
                        ids = _a.sent();
                        return [2 /*return*/, this.view(ids.indexOf(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(idRange)))];
                }
            });
        });
    };
    AVector.prototype.stats = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (this.root.valuetype.type !== __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"] && this.root.valuetype.type !== __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"]) {
                            return [2 /*return*/, Promise.reject('invalid value type: ' + this.root.valuetype.type)];
                        }
                        _a = __WEBPACK_IMPORTED_MODULE_5__math__["computeStats"];
                        return [4 /*yield*/, this.data(range)];
                    case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
                }
            });
        });
    };
    AVector.prototype.statsAdvanced = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (this.root.valuetype.type !== __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"] && this.root.valuetype.type !== __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"]) {
                            return [2 /*return*/, Promise.reject('invalid value type: ' + this.root.valuetype.type)];
                        }
                        _a = __WEBPACK_IMPORTED_MODULE_5__math__["computeAdvancedStats"];
                        return [4 /*yield*/, this.data(range)];
                    case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
                }
            });
        });
    };
    Object.defineProperty(AVector.prototype, "indices", {
        get: function () {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["range"])(0, this.length);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * return the range of this vector as a grouped range, depending on the type this might be a single group or multiple ones
     */
    AVector.prototype.groups = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var v, vc, d, options, vcc;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        v = this.root.valuetype;
                        if (!(v.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_CATEGORICAL"])) return [3 /*break*/, 2];
                        vc = v;
                        return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        options = {
                            name: this.root.desc.id
                        };
                        if (typeof vc.categories[0] !== 'string') {
                            vcc = vc.categories;
                            if (vcc[0].color) {
                                options.colors = vcc.map(function (d) { return d.color; });
                            }
                            if (vcc[0].label) {
                                options.labels = vcc.map(function (d) { return d.label; });
                            }
                        }
                        return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__datatype__["categorical2partitioning"])(d, vc.categories.map(function (d) { return typeof d === 'string' ? d : d.name; }), options)];
                    case 2: return [2 /*return*/, Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["composite"])(this.root.desc.id, [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["asUngrouped"])(this.indices.dim(0))]))];
                }
            });
        });
    };
    AVector.prototype.stratification = function () {
        return this.asStratification();
    };
    AVector.prototype.asStratification = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a, _b;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _a = __WEBPACK_IMPORTED_MODULE_6__internal_StratificationVector__["a" /* default */].bind;
                        _b = [void 0, this.root];
                        return [4 /*yield*/, this.groups()];
                    case 1: return [2 /*return*/, new (_a.apply(__WEBPACK_IMPORTED_MODULE_6__internal_StratificationVector__["a" /* default */], _b.concat([_c.sent()])))()];
                }
            });
        });
    };
    AVector.prototype.hist = function (bins, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var v, d, vc, vn;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        v = this.root.valuetype;
                        return [4 /*yield*/, this.data(range)];
                    case 1:
                        d = _a.sent();
                        switch (v.type) {
                            case __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_CATEGORICAL"]:
                                vc = v;
                                return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__["categoricalHist"])(d, this.indices.dim(0), d.length, vc.categories.map(function (d) { return typeof d === 'string' ? d : d.name; }), vc.categories.map(function (d) { return typeof d === 'string' ? d : d.label || d.name; }), vc.categories.map(function (d) { return typeof d === 'string' ? 'gray' : d.color || 'gray'; }))];
                            case __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"]:
                            case __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"]:
                                vn = v;
                                return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__["hist"])(d, this.indices.dim(0), d.length, bins ? bins : Math.round(Math.sqrt(this.length)), vn.range)];
                            default:
                                return [2 /*return*/, null]; //cant create hist for unique objects or other ones
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    AVector.prototype.every = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1: return [2 /*return*/, (_a.sent()).every(callbackfn, thisArg)];
                }
            });
        });
    };
    AVector.prototype.some = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1: return [2 /*return*/, (_a.sent()).some(callbackfn, thisArg)];
                }
            });
        });
    };
    AVector.prototype.forEach = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        (_a.sent()).forEach(callbackfn, thisArg);
                        return [2 /*return*/];
                }
            });
        });
    };
    AVector.prototype.reduce = function (callbackfn, initialValue, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            function helper() {
                return callbackfn.apply(thisArg, Array.from(arguments));
            }
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1: return [2 /*return*/, (_a.sent()).reduce(helper, initialValue)];
                }
            });
        });
    };
    AVector.prototype.reduceRight = function (callbackfn, initialValue, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            function helper() {
                return callbackfn.apply(thisArg, Array.from(arguments));
            }
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1: return [2 /*return*/, (_a.sent()).reduceRight(helper, initialValue)];
                }
            });
        });
    };
    AVector.prototype.reduceAtom = function (f, thisArgument, valuetype, idtype) {
        var r = this;
        return new __WEBPACK_IMPORTED_MODULE_7__internal_ProjectedAtom__["a" /* default */](r, f, thisArgument, valuetype, idtype);
    };
    AVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.f) {
            /* tslint:disable:no-eval */
            return this.reduceAtom(eval(persisted.f), this, persisted.valuetype, persisted.idtype ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["resolve"])(persisted.idtype) : undefined);
            /* tslint:enable:no-eval */
        }
        else if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(persisted.range));
        }
        return r;
    };
    return AVector;
}(__WEBPACK_IMPORTED_MODULE_3__idtype__["SelectAble"]));

/* harmony default export */ __webpack_exports__["b"] = (AVector);
/**
 * view on the vector restricted by a range
 * @internal
 */
var VectorView = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](VectorView, _super);
    /**
     * @param root underlying matrix
     * @param range range selection
     */
    function VectorView(root, range) {
        var _this = _super.call(this, root) || this;
        _this.range = range;
        return _this;
    }
    Object.defineProperty(VectorView.prototype, "desc", {
        get: function () {
            return this.root.desc;
        },
        enumerable: true,
        configurable: true
    });
    VectorView.prototype.persist = function () {
        return {
            root: this.root.persist(),
            range: this.range.toString()
        };
    };
    VectorView.prototype.size = function () {
        return this.range.size(this.root.dim)[0];
    };
    VectorView.prototype.at = function (i) {
        var inverted = this.range.invert([i], this.root.dim);
        return this.root.at(inverted[0]);
    };
    VectorView.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.data(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    VectorView.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.names(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    VectorView.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.ids(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    VectorView.prototype.view = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range);
        if (r.isAll) {
            return this;
        }
        return new VectorView(this.root, this.range.preMultiply(r, this.dim));
    };
    Object.defineProperty(VectorView.prototype, "valuetype", {
        get: function () {
            return this.root.valuetype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VectorView.prototype, "idtype", {
        get: function () {
            return this.root.idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VectorView.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    /*get indices() {
     return this.range;
     }*/
    VectorView.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(indices))];
                }
            });
        });
    };
    VectorView.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(indices))];
                }
            });
        });
    };
    return VectorView;
}(AVector));



/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__2D__ = __webpack_require__(10);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return CORNER; });
/* unused harmony export AShape */
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */

var CORNER = [];
CORNER.N = CORNER[0] = 'n';
CORNER.NE = CORNER[1] = 'ne';
CORNER.E = CORNER[2] = 'e';
CORNER.SE = CORNER[3] = 'se';
CORNER.S = CORNER[4] = 's';
CORNER.SW = CORNER[5] = 'sw';
CORNER.W = CORNER[6] = 'w';
CORNER.NW = CORNER[7] = 'nw';
/**
 * a simple basic shape
 */
var AShape = /** @class */ (function () {
    function AShape() {
    }
    AShape.prototype.shift = function () {
        if (typeof arguments[0] === 'number') {
            this.shiftImpl(arguments[0], arguments[1]);
        }
        else if (Array.isArray(arguments[0])) {
            this.shiftImpl(arguments[0][0], arguments[0][1]);
        }
        else {
            this.shiftImpl(arguments[0].x, arguments[0].y);
        }
        return this;
    };
    Object.defineProperty(AShape.prototype, "center", {
        /**
         * center of this shape
         * @returns {Circle}
         */
        get: function () {
            return this.bs().xy;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * a specific corner of th axis aligned bounding box
     * @param corner
     * @returns {Vector2D}
     */
    AShape.prototype.corner = function (corner) {
        var r = this.aabb();
        switch (corner) {
            case CORNER.N:
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__2D__["vec"])(r.cx, r.y);
            case CORNER.S:
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__2D__["vec"])(r.cx, r.y2);
            case CORNER.W:
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__2D__["vec"])(r.x, r.cy);
            case CORNER.E:
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__2D__["vec"])(r.x2, r.cy);
            case CORNER.NE:
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__2D__["vec"])(r.x2, r.y);
            case CORNER.NW:
                return r.xy;
            case CORNER.SE:
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__2D__["vec"])(r.x2, r.y2);
            case CORNER.SW:
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__2D__["vec"])(r.x, r.y2);
        }
        return this.center;
    };
    AShape.prototype.intersects = function (other) {
        return __WEBPACK_IMPORTED_MODULE_0__2D__["Intersection"].intersectShapes(this, other);
    };
    return AShape;
}());

/* harmony default export */ __webpack_exports__["a"] = (AShape);


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__range__ = __webpack_require__(1);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return defaultSelectionType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return hoverSelectionType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return SelectOperation; });
/* harmony export (immutable) */ __webpack_exports__["f"] = toSelectOperation;
/* harmony export (immutable) */ __webpack_exports__["b"] = asSelectOperation;
/* harmony export (immutable) */ __webpack_exports__["d"] = fillWithNone;
/* harmony export (immutable) */ __webpack_exports__["g"] = integrateSelection;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */

var defaultSelectionType = 'selected';
var hoverSelectionType = 'hovered';
var SelectOperation;
(function (SelectOperation) {
    SelectOperation[SelectOperation["SET"] = 0] = "SET";
    SelectOperation[SelectOperation["ADD"] = 1] = "ADD";
    SelectOperation[SelectOperation["REMOVE"] = 2] = "REMOVE";
})(SelectOperation || (SelectOperation = {}));
function toSelectOperation(event) {
    var ctryKeyDown, shiftDown, altDown, metaDown;
    if (typeof event === 'boolean') {
        ctryKeyDown = event;
        altDown = arguments[1] || false;
        shiftDown = arguments[2] || false;
        metaDown = arguments[3] || false;
    }
    else {
        ctryKeyDown = event.ctrlKey || false;
        altDown = event.altKey || false;
        shiftDown = event.shiftKey || false;
        metaDown = event.metaKey || false;
    }
    if (ctryKeyDown || shiftDown) {
        return SelectOperation.ADD;
    }
    else if (altDown || metaDown) {
        return SelectOperation.REMOVE;
    }
    return SelectOperation.SET;
}
function asSelectOperation(v) {
    if (!v) {
        return SelectOperation.SET;
    }
    if (typeof v === 'string') {
        switch (v.toLowerCase()) {
            case 'add':
                return SelectOperation.ADD;
            case 'remove':
                return SelectOperation.REMOVE;
            default:
                return SelectOperation.SET;
        }
    }
    return +v;
}
function fillWithNone(r, ndim) {
    while (r.ndim < ndim) {
        r.dims[r.ndim] = __WEBPACK_IMPORTED_MODULE_0__range__["Range1D"].none();
    }
    return r;
}
function integrateSelection(current, additional, operation) {
    if (operation === void 0) { operation = SelectOperation.SET; }
    var next = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__range__["parse"])(additional);
    switch (operation) {
        case SelectOperation.ADD:
            return current.union(next);
        case SelectOperation.REMOVE:
            return current.without(next);
        default:
            return next;
    }
}


/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__2D__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AShape__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Rect__ = __webpack_require__(16);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */




var Circle = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Circle, _super);
    function Circle(x, y, radius) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        if (radius === void 0) { radius = 0; }
        var _this = _super.call(this) || this;
        _this.x = x;
        _this.y = y;
        _this.radius = radius;
        return _this;
    }
    Object.defineProperty(Circle.prototype, "xy", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](this.x, this.y);
        },
        enumerable: true,
        configurable: true
    });
    Circle.prototype.toString = function () {
        return "Circle(x=" + this.x + ",y=" + this.y + ",radius=" + this.radius + ")";
    };
    Circle.prototype.shiftImpl = function (x, y) {
        this.x += x;
        this.y += y;
    };
    Circle.prototype.aabb = function () {
        return new __WEBPACK_IMPORTED_MODULE_3__Rect__["a" /* default */](this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);
    };
    Circle.prototype.bs = function () {
        return this;
    };
    Circle.prototype.transform = function (scale, rotate) {
        return new Circle(this.x * scale[0], this.y * scale[1], this.radius * (scale[0] + scale[1]) / 2);
    };
    Circle.prototype.asIntersectionParams = function () {
        return {
            name: 'Circle',
            params: [this.xy, this.radius]
        };
    };
    return Circle;
}(__WEBPACK_IMPORTED_MODULE_2__AShape__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (Circle);


/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__2D__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AShape__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Circle__ = __webpack_require__(15);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */




/**
 * a simple bounding rect
 */
var Rect = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Rect, _super);
    function Rect(x, y, w, h) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        if (w === void 0) { w = 0; }
        if (h === void 0) { h = 0; }
        var _this = _super.call(this) || this;
        _this.x = x;
        _this.y = y;
        _this.w = w;
        _this.h = h;
        return _this;
    }
    Rect.prototype.eq = function (that) {
        return this.x === that.x && this.y === that.y && this.w === that.w && this.h === that.h;
    };
    Rect.prototype.toString = function () {
        return "Rect(x=" + this.x + ",y=" + this.y + ",w=" + this.w + ",h=" + this.h + ")";
    };
    Object.defineProperty(Rect.prototype, "xy", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](this.x, this.y);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "x2y2", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](this.x2, this.y2);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "size", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](this.w, this.h);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "cx", {
        get: function () {
            return this.x + this.w / 2;
        },
        set: function (val) {
            this.x = val - this.w / 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "cy", {
        get: function () {
            return this.y + this.h / 2;
        },
        set: function (val) {
            this.y = val - this.y / 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "x2", {
        get: function () {
            return this.x + this.w;
        },
        set: function (val) {
            this.w = val - this.x;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "y2", {
        get: function () {
            return this.y + this.h;
        },
        set: function (val) {
            this.h = val - this.y;
        },
        enumerable: true,
        configurable: true
    });
    Rect.prototype.shiftImpl = function (x, y) {
        this.x += x;
        this.y += y;
    };
    Rect.prototype.aabb = function () {
        return this;
    };
    Rect.prototype.bs = function () {
        return new __WEBPACK_IMPORTED_MODULE_3__Circle__["a" /* default */](this.cx, this.cy, Math.sqrt(this.w * 2 + this.h * 2) / 2);
    };
    Rect.prototype.transform = function (scale, rotate) {
        //TODO rotate
        return new Rect(this.x * scale[0], this.y * scale[1], this.w * scale[0], this.h * scale[1]);
    };
    Rect.prototype.asIntersectionParams = function () {
        return {
            name: 'Rectangle',
            params: [this.xy, this.x2y2]
        };
    };
    return Rect;
}(__WEBPACK_IMPORTED_MODULE_2__AShape__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (Rect);


/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__IIDType__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__manager__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__internal_promise__ = __webpack_require__(8);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */







/**
 * An IDType is a semantic aggregation of an entity type, like Patient and Gene.
 *
 * An entity is tracked by a unique identifier (integer) within the system,
 * which is mapped to a common, external identifier or name (string) as well.
 */
var IDType = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](IDType, _super);
    /**
     * @param id the system identifier of this IDType
     * @param name the name of this IDType for external presentation
     * @param names the plural form of above name
     * @param internal whether this is an internal type or not
     */
    function IDType(id, name, names, internal) {
        if (internal === void 0) { internal = false; }
        var _this = _super.call(this) || this;
        _this.id = id;
        _this.name = name;
        _this.names = names;
        _this.internal = internal;
        /**
         * the current selections
         */
        _this.sel = new Map();
        // TODO: is this cache ever emptied, or do we assume a reasonable upper bound on the entities in IDType?
        _this.name2idCache = new Map();
        _this.id2nameCache = new Map();
        _this.canBeMappedTo = null;
        return _this;
    }
    IDType.prototype.persist = function () {
        var s = {};
        this.sel.forEach(function (v, k) { return s[k] = v.toString(); });
        return {
            sel: s,
            name: this.name,
            names: this.names
        };
    };
    IDType.prototype.restore = function (persisted) {
        var _this = this;
        this.name = persisted.name;
        this.names = persisted.names;
        Object.keys(persisted.sel).forEach(function (type) { return _this.sel.set(type, persisted.sel[type]); });
        return this;
    };
    IDType.prototype.toString = function () {
        return this.name;
    };
    IDType.prototype.selectionTypes = function () {
        return Array.from(this.sel.keys());
    };
    /**
     * return the current selections of the given type
     * @param type optional the selection type
     * @returns {Range}
     */
    IDType.prototype.selections = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_4__IIDType__["a" /* defaultSelectionType */]; }
        if (this.sel.has(type)) {
            return this.sel.get(type);
        }
        var v = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["none"])();
        this.sel.set(type, v);
        return v;
    };
    IDType.prototype.select = function () {
        var a = Array.from(arguments);
        var type = (typeof a[0] === 'string') ? a.shift() : __WEBPACK_IMPORTED_MODULE_4__IIDType__["a" /* defaultSelectionType */], range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["parse"])(a[0]), op = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__IIDType__["b" /* asSelectOperation */])(a[1]);
        return this.selectImpl(range, op, type);
    };
    IDType.prototype.selectImpl = function (range, op, type) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].SET; }
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_4__IIDType__["a" /* defaultSelectionType */]; }
        var b = this.selections(type);
        var newValue = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["none"])();
        switch (op) {
            case __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].SET:
                newValue = range;
                break;
            case __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].ADD:
                newValue = b.union(range);
                break;
            case __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].REMOVE:
                newValue = b.without(range);
                break;
        }
        if (b.eq(newValue)) {
            return b;
        }
        this.sel.set(type, newValue);
        var added = op !== __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].REMOVE ? range : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["none"])();
        var removed = (op === __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].ADD ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["none"])() : (op === __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].SET ? b : range));
        this.fire(IDType.EVENT_SELECT, type, newValue, added, removed, b);
        this.fire(IDType.EVENT_SELECT + "-" + type, newValue, added, removed, b);
        return b;
    };
    IDType.prototype.clear = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_4__IIDType__["a" /* defaultSelectionType */]; }
        return this.selectImpl(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["none"])(), __WEBPACK_IMPORTED_MODULE_4__IIDType__["c" /* SelectOperation */].SET, type);
    };
    /**
     * Cache identifier <-> name mapping in bulk.
     * @param ids the entity identifiers to cache
     * @param names the matching entity names to cache
     */
    IDType.prototype.fillMapCache = function (ids, names) {
        var _this = this;
        ids.forEach(function (id, i) {
            var name = String(names[i]);
            _this.name2idCache.set(name, id);
            _this.id2nameCache.set(id, name);
        });
    };
    /**
     * returns the list of idtypes that this type can be mapped to
     * @returns {Promise<IDType[]>}
     */
    IDType.prototype.getCanBeMappedTo = function () {
        if (this.canBeMappedTo === null) {
            this.canBeMappedTo = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["getAPIJSON"])("/idtype/" + this.id + "/").then(function (list) { return list.map(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */]); });
        }
        return this.canBeMappedTo;
    };
    IDType.prototype.mapToFirstName = function (ids, toIDType) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDType);
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["parse"])(ids);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id, { ids: r.toString(), mode: 'first' });
    };
    IDType.prototype.mapNameToFirstName = function (names, toIDtype) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDtype);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id, { q: names, mode: 'first' });
    };
    IDType.prototype.mapToName = function (ids, toIDType) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDType);
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["parse"])(ids);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id, { ids: r.toString() });
    };
    IDType.prototype.mapNameToName = function (names, toIDtype) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDtype);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id, { q: names });
    };
    IDType.prototype.mapToFirstID = function (ids, toIDType) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDType);
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["parse"])(ids);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id + "/map", { ids: r.toString(), mode: 'first' });
    };
    IDType.prototype.mapToID = function (ids, toIDType) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDType);
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["parse"])(ids);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id + "/map", { ids: r.toString() });
    };
    IDType.prototype.mapNameToFirstID = function (names, toIDType) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDType);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id + "/map", { q: names, mode: 'first' });
    };
    IDType.prototype.mapNameToID = function (names, toIDType) {
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDType);
        return chooseRequestMethod("/idtype/" + this.id + "/" + target.id + "/map", { q: names });
    };
    /**
     * Request the system identifiers for the given entity names.
     * @param names the entity names to resolve
     * @returns a promise of system identifiers that match the input names
     */
    IDType.prototype.map = function (names) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _this = this;
            var toResolve, ids;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        names = names.map(function (s) { return String(s); }); // ensure strings
                        toResolve = names.filter(function (name) { return !_this.name2idCache.has(name); });
                        if (toResolve.length === 0) {
                            return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal_promise__["a" /* resolveImmediately */])(names.map(function (name) { return _this.name2idCache.get(name); }))];
                        }
                        return [4 /*yield*/, chooseRequestMethod("/idtype/" + this.id + "/map", { ids: toResolve })];
                    case 1:
                        ids = _a.sent();
                        toResolve.forEach(function (name, i) {
                            _this.name2idCache.set(name, ids[i]);
                            _this.id2nameCache.set(ids[i], name);
                        });
                        return [2 /*return*/, names.map(function (name) { return _this.name2idCache.get(name); })];
                }
            });
        });
    };
    /**
     * Request the names for the given entity system identifiers.
     * @param ids the entity names to resolve
     * @returns a promise of system identifiers that match the input names
     */
    IDType.prototype.unmap = function (ids) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _this = this;
            var r, toResolve, result_1, result, out;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["parse"])(ids);
                        toResolve = [];
                        r.dim(0).forEach(function (name) { return !(_this.id2nameCache.has(name)) ? toResolve.push(name) : null; });
                        if (toResolve.length === 0) {
                            result_1 = [];
                            r.dim(0).forEach(function (name) { return result_1.push(_this.id2nameCache.get(name)); });
                            return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal_promise__["a" /* resolveImmediately */])(result_1)];
                        }
                        return [4 /*yield*/, chooseRequestMethod("/idtype/" + this.id + "/unmap", { ids: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["list"])(toResolve).toString() })];
                    case 1:
                        result = _a.sent();
                        toResolve.forEach(function (id, i) {
                            var r = String(result[i]);
                            _this.id2nameCache.set(id, r);
                            _this.name2idCache.set(r, id);
                        });
                        out = [];
                        r.dim(0).forEach(function (name) { return out.push(_this.id2nameCache.get(name)); });
                        return [2 /*return*/, out];
                }
            });
        });
    };
    /**
     * search for all matching ids for a given pattern
     * @param pattern
     * @param limit maximal number of results
     * @return {Promise<void>}
     */
    IDType.prototype.search = function (pattern, limit) {
        if (limit === void 0) { limit = 10; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _this = this;
            var result;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["getAPIJSON"])("/idtype/" + this.id + "/search", { q: pattern, limit: limit })];
                    case 1:
                        result = _a.sent();
                        // cache results
                        result.forEach(function (pair) {
                            var r = String(pair.name);
                            _this.id2nameCache.set(pair.id, r);
                            _this.name2idCache.set(r, pair.id);
                        });
                        return [2 /*return*/, result];
                }
            });
        });
    };
    /**
     * search for all matching ids for a given pattern
     * @param pattern
     * @param limit maximal number of results
     * @return {Promise<void>}
     */
    IDType.prototype.searchMapping = function (pattern, toIDType, limit) {
        if (limit === void 0) { limit = 10; }
        var target = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__manager__["a" /* resolve */])(toIDType);
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["getAPIJSON"])("/idtype/" + this.id + "/" + target.id + "/search", { q: pattern, limit: limit });
    };
    IDType.EVENT_SELECT = 'select';
    return IDType;
}(__WEBPACK_IMPORTED_MODULE_2__event__["EventHandler"]));
/* harmony default export */ __webpack_exports__["a"] = (IDType);
/**
 * chooses whether a GET or POST request based on the expected url length
 * @param url
 * @param data
 * @returns {Promise<any>}
 */
function chooseRequestMethod(url, data) {
    if (data === void 0) { data = {}; }
    var dataLengthGuess = JSON.stringify(data);
    var lengthGuess = url.length + dataLengthGuess.length;
    var method = lengthGuess < 2000 ? 'GET' : 'POST';
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["sendAPI"])(url, data, method);
}


/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iterator__ = __webpack_require__(26);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */


function sortNumeric(a, b) {
    return a - b;
}
var Range1D = /** @class */ (function () {
    function Range1D(arg) {
        if (arg instanceof Range1D) {
            this.arr = arg.arr;
        }
        else if (Array.isArray(arg)) {
            this.arr = arg;
        }
        else {
            this.arr = [];
        }
    }
    Object.defineProperty(Range1D.prototype, "length", {
        get: function () {
            return this.size();
        },
        enumerable: true,
        configurable: true
    });
    Range1D.all = function () {
        return new Range1D([__WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].all()]);
    };
    Range1D.single = function (item) {
        return new Range1D([__WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].single(item)]);
    };
    Range1D.none = function () {
        return new Range1D();
    };
    Range1D.from = function (indices) {
        return new Range1D(Range1D.compress(indices));
    };
    Range1D.compress = function (indices) {
        if (indices.length === 0) {
            return [];
        }
        else if (indices.length === 1) {
            return [__WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].single(indices[0])];
        }
        //return indices.map(RangeElem.single);
        var r = [], deltas = indices.slice(1).map(function (e, i) { return e - indices[i]; });
        var start = 0, act = 1, i = 0;
        while (act < indices.length) {
            while (deltas[start] === deltas[act - 1] && act < indices.length) { //while the same delta
                act++;
            }
            if (act === start + 1) { //just a single item used
                r.push(__WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].single(indices[start]));
            }
            else {
                //+1 since end is excluded
                //fix while just +1 is allowed and -1 is not allowed
                if (deltas[start] === 1) {
                    r.push(__WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].range(indices[start], indices[act - 1] + deltas[start], deltas[start]));
                }
                else {
                    for (i = start; i < act; i++) {
                        r.push(__WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].single(indices[i]));
                    }
                }
            }
            start = act;
            act += 1;
        }
        while (start < indices.length) { //corner case by adding act+1, it might happen that the last one isnt considered
            r.push(__WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].single(indices[start++]));
        }
        return r;
    };
    Object.defineProperty(Range1D.prototype, "isAll", {
        get: function () {
            return this.arr.length === 1 && this.at(0).isAll;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range1D.prototype, "isNone", {
        get: function () {
            return this.arr.length === 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range1D.prototype, "isUnbound", {
        get: function () {
            return this.arr.some(function (d) { return d.isUnbound; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range1D.prototype, "isList", {
        get: function () {
            return this.arr.every(function (d) { return d.isSingle; });
        },
        enumerable: true,
        configurable: true
    });
    Range1D.prototype.push = function () {
        var items = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            items[_i] = arguments[_i];
        }
        function p(item) {
            if (typeof item === 'string') {
                return __WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].parse(item.toString());
            }
            else if (typeof item === 'number') {
                return __WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].single(item);
            }
            else if (Array.isArray(item)) {
                return new __WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */](item[0], item[1], item[2]);
            }
            return item;
        }
        return (_a = this.arr).push.apply(_a, items.map(p));
        var _a;
    };
    Range1D.prototype.pushSlice = function (from, to, step) {
        if (to === void 0) { to = -1; }
        if (step === void 0) { step = 1; }
        this.arr.push(new __WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */](from, to, step));
    };
    Range1D.prototype.pushList = function (indices) {
        (_a = this.arr).push.apply(_a, Range1D.compress(indices));
        var _a;
    };
    Range1D.prototype.setSlice = function (from, to, step) {
        if (to === void 0) { to = -1; }
        if (step === void 0) { step = 1; }
        this.arr.length = 0;
        this.pushSlice(from, to, step);
    };
    Range1D.prototype.setList = function (indices) {
        this.arr.length = 0;
        this.pushList(indices);
    };
    Range1D.prototype.at = function (index) {
        if (index < 0) {
            index += this.length;
        }
        if (index < 0 || index >= this.arr.length) {
            return __WEBPACK_IMPORTED_MODULE_0__internal_RangeElem__["a" /* default */].none();
        }
        return this.arr[index];
    };
    Range1D.prototype.size = function (size) {
        var t = this.arr.map(function (d) { return d.size(size); });
        return t.reduce(function (a, b) { return a + b; }, 0);
    };
    Object.defineProperty(Range1D.prototype, "isIdentityRange", {
        /**
         * whether this range is the identity, i.e. the first natural numbers starting with 0
         * @return {boolean}
         */
        get: function () {
            return this.arr.length === 1 && this.arr[0].from === 0 && this.arr[0].step === 1;
        },
        enumerable: true,
        configurable: true
    });
    Range1D.prototype.repeat = function (ntimes) {
        if (ntimes === void 0) { ntimes = 1; }
        if (ntimes === 1) {
            return this;
        }
        var r = this.arr.slice();
        //push n times
        for (var i = 1; i < ntimes; ++i) {
            r.push.apply(r, this.arr);
        }
        return new Range1D(r);
    };
    /**
     * combines this range with another and returns a new one
     * this = (1,3,5,7), sub = (1,2) -> (1,2)(1,3,5,7) = (3,5)
     * @returns {Range1D}
     */
    Range1D.prototype.preMultiply = function (sub, size) {
        if (this.isAll) {
            return sub.clone();
        }
        if (sub.isAll) {
            return this.clone();
        }
        if (sub.isNone || this.isNone) {
            return Range1D.none();
        }
        if (this.isIdentityRange) { //identity lookup
            return sub.clone();
        }
        //TODO optimize
        var l = this.iter(size).asList();
        var mapImpl = function (sub) {
            var s = sub.iter(l.length);
            var r = [];
            s.forEach(function (i) {
                if (i >= 0 && i < l.length) { //check for out of range
                    r.push(l[i]);
                }
            });
            return sub.fromLike(r);
        };
        if (typeof sub.fromLikeComposite === 'function') {
            var csub = sub;
            return csub.fromLikeComposite(csub.groups.map(mapImpl));
        }
        else {
            return mapImpl(sub);
        }
    };
    /**
     * logical union between two ranges
     * @param other
     * @returns {Range1D}
     */
    Range1D.prototype.union = function (other, size) {
        if (this.isAll || other.isNone) {
            return this.clone();
        }
        if (other.isAll || this.isNone) {
            return other.clone();
        }
        var r = this.iter(size).asList();
        var it2 = other.iter(size);
        it2.forEach(function (i) {
            if (r.indexOf(i) < 0) {
                r.push(i);
            }
        });
        return other.fromLike(r.sort(sortNumeric));
    };
    /**
     * logical intersection between two ranges
     * @param other
     * @param size
     * @returns {Range1D}
     */
    Range1D.prototype.intersect = function (other, size) {
        if (this.isNone || other.isNone) {
            return Range1D.none();
        }
        if (this.isAll) {
            return other.clone();
        }
        if (other.isAll) {
            return this.clone();
        }
        var it1 = this.iter(size).asList();
        var it2 = other.iter(size);
        var r = [];
        it2.forEach(function (i) {
            if (it1.indexOf(i) >= 0) {
                r.push(i);
            }
        });
        return other.fromLike(r.sort(sortNumeric));
    };
    Range1D.prototype.toSet = function (size) {
        return this.removeDuplicates(size);
    };
    /**
     * logical difference between two ranges
     * @param without
     * @param size
     * @returns {Range1D}
     */
    Range1D.prototype.without = function (without, size) {
        if (this.isNone || without.isNone) {
            return this.clone();
        }
        if (without.isAll) {
            return Range1D.none();
        }
        var it1 = this.iter(size);
        var it2 = without.iter(size).asList();
        var r = [];
        it1.forEach(function (i) {
            if (it2.indexOf(i) < 0) {
                r.push(i);
            }
        });
        return Range1D.from(r.sort(sortNumeric));
    };
    /**
     * clones this range
     * @returns {Range1D}
     */
    Range1D.prototype.clone = function () {
        return new Range1D(this.arr.map(function (d) { return d.clone(); }));
    };
    /**
     * inverts the given index to the original range
     * @param index
     * @param size the underlying size for negative indices
     * @returns {number}
     */
    Range1D.prototype.invert = function (index, size) {
        if (this.isAll) {
            return index;
        }
        if (this.isNone) {
            return -1; //not mapped
        }
        // find the range element that contain the index-th element
        var s = this.arr[0].size(size);
        var act = 0, total = s;
        var nElems = this.arr.length - 1;
        while (total < index && act < nElems) {
            act++;
            s = this.arr[act].size(size);
            total += s;
        }
        if (act >= this.arr.length) {
            return -1; //not mapped
        }
        return this.arr[act].invert(index - total + s, size);
    };
    /**
     * returns the index(ices) of the given elements
     * @return {*}
     */
    Range1D.prototype.indexOf = function () {
        if (arguments[0] instanceof Range) {
            return this.indexRangeOf(arguments[0], arguments[1]);
        }
        var arr;
        var base = this.iter().asList();
        if (arguments.length === 1) {
            if (typeof arguments[0] === 'number') {
                return base.indexOf(arguments[0]);
            }
            arr = arguments[0];
        }
        else {
            arr = Array.from(arguments);
        }
        if (arr.length === 0) {
            return [];
        }
        return arr.map(function (index, i) { return base.indexOf(index); });
    };
    /**
     * returns the range representing the indices of the given range within the current data
     * @param r
     * @param size
     * @return {Range1D}
     */
    Range1D.prototype.indexRangeOf = function (r, size) {
        if (r.isNone || this.isNone) {
            return r.fromLike([]);
        }
        if (r.isAll) { //index of all is still all
            return Range1D.all();
        }
        //
        var mapImpl;
        if (this.isIdentityRange) {
            var end_1 = this.arr[0].to;
            mapImpl = function (d, result) {
                if (d >= 0 && d < end_1) {
                    result.push(d);
                }
            };
        }
        else {
            var arr_1 = this.iter().asList();
            mapImpl = function (d, result) {
                var i = arr_1.indexOf(d);
                if (i >= 0) {
                    result.push(i);
                }
            };
        }
        if (typeof r.fromLikeComposite === 'function') {
            var csub = r;
            return csub.fromLikeComposite(csub.groups.map(function (g) {
                var result = [];
                g.forEach(function (d) { return mapImpl(d, result); });
                return g.fromLike(result);
            }));
        }
        else {
            var result_1 = [];
            r.forEach(function (d) { return mapImpl(d, result_1); });
            return r.fromLike(result_1);
        }
    };
    /**
     * filters the given data according to this range
     * @param data
     * @param size the total size for resolving negative indices
     * @returns {*}
     */
    Range1D.prototype.filter = function (data, size, transform) {
        if (transform === void 0) { transform = function (d) { return d; }; }
        if (this.isAll) {
            return data.map(transform);
        }
        var it = this.iter(size);
        //optimization
        if (it.byOne && it instanceof __WEBPACK_IMPORTED_MODULE_1__iterator__["Iterator"]) {
            return data.slice(it.from, it.to).map(transform);
            //} else if (it.byMinusOne) {
            //  var d = data.slice();
            //  d.reverse();
            //  return d;
        }
        else {
            var r = [];
            while (it.hasNext()) {
                r.push(transform(data[it.next()]));
            }
            return r;
        }
    };
    /**
     * creates an iterator of this range
     * @param size the underlying size for negative indices
     */
    Range1D.prototype.iter = function (size) {
        if (this.isList) {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__iterator__["forList"])(this.arr.map(function (d) { return d.from; }));
        }
        var its = this.arr.map(function (d) { return d.iter(size); });
        return __WEBPACK_IMPORTED_MODULE_1__iterator__["concat"].apply(null, its);
    };
    Object.defineProperty(Range1D.prototype, "__iterator__", {
        get: function () {
            return this.iter();
        },
        enumerable: true,
        configurable: true
    });
    Range1D.prototype.asList = function (size) {
        return this.iter(size).asList();
    };
    Object.defineProperty(Range1D.prototype, "first", {
        get: function () {
            if (this.isNone) {
                return null;
            }
            return this.arr[0].from;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range1D.prototype, "last", {
        get: function () {
            if (this.isNone) {
                return null;
            }
            return this.arr[this.arr.length - 1].from;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * for each element
     * @param callbackfn
     * @param thisArg
     */
    Range1D.prototype.forEach = function (callbackfn, thisArg) {
        return this.iter().forEach(callbackfn, thisArg);
    };
    Range1D.prototype.contains = function (value, size) {
        return this.arr.some(function (elem) { return elem.contains(value, size); });
    };
    /**
     * sort
     * @param cmp
     * @return {Range1D}
     */
    Range1D.prototype.sort = function (cmp) {
        if (cmp === void 0) { cmp = sortNumeric; }
        var arr = this.iter().asList();
        var r = arr.sort(cmp);
        return this.fromLike(r);
    };
    Range1D.prototype.removeDuplicates = function (size) {
        var arr = this.iter().asList();
        arr = arr.sort(sortNumeric);
        arr = arr.filter(function (di, i) { return di !== arr[i - 1]; }); //same value as before, remove
        return Range1D.from(arr);
    };
    /**
     * reverts the order of this range
     */
    Range1D.prototype.reverse = function () {
        var a = this.arr.map(function (r) { return r.reverse(); });
        a.reverse();
        return new Range1D(a);
    };
    Range1D.prototype.toString = function () {
        if (this.isAll) {
            return '';
        }
        if (this.length === 1) {
            return this.arr[0].toString();
        }
        return '(' + this.arr.join(',') + ')';
    };
    Range1D.prototype.eq = function (other) {
        if (this === other || (this.isAll && other.isAll) || (this.isNone && other.isNone)) {
            return true;
        }
        //TODO more performant comparison
        return this.toString() === other.toString();
    };
    Range1D.prototype.fromLike = function (indices) {
        return Range1D.from(indices);
    };
    return Range1D;
}());
/* harmony default export */ __webpack_exports__["a"] = (Range1D);


/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__datatype__ = __webpack_require__(3);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "random_id", function() { return __WEBPACK_IMPORTED_MODULE_1__index__["random_id"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "fixId", function() { return __WEBPACK_IMPORTED_MODULE_1__index__["fixId"]; });
/* harmony export (immutable) */ __webpack_exports__["clearCache"] = clearCache;
/* harmony export (immutable) */ __webpack_exports__["list"] = list;
/* harmony export (immutable) */ __webpack_exports__["convertToTree"] = convertToTree;
/* harmony export (immutable) */ __webpack_exports__["tree"] = tree;
/* harmony export (immutable) */ __webpack_exports__["getFirst"] = getFirst;
/* harmony export (immutable) */ __webpack_exports__["getFirstByName"] = getFirstByName;
/* harmony export (immutable) */ __webpack_exports__["getFirstByFQName"] = getFirstByFQName;
/* harmony export (immutable) */ __webpack_exports__["get"] = get;
/* harmony export (immutable) */ __webpack_exports__["create"] = create;
/* harmony export (immutable) */ __webpack_exports__["upload"] = upload;
/* harmony export (immutable) */ __webpack_exports__["update"] = update;
/* harmony export (immutable) */ __webpack_exports__["modify"] = modify;
/* harmony export (immutable) */ __webpack_exports__["remove"] = remove;

/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 *
 * This module provides access functions for dataset stored on a server, including functions to list all datasets,
 * to retrieve datasets by names, id types, ids, etc.
 *
 * See IDataDescriptionMetaData in datatype.ts for various legal parameters
 */





//export {convertTableToVectors, convertToTable, listAsTable} from './internal/data_utils';
//find all datatype plugins
var available = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__plugin__["list"])('datatype');
var cacheById = new Map();
var cacheByName = new Map();
var cacheByFQName = new Map();
function clearCache(dataset) {
    if (dataset) {
        var desc = dataset.desc || dataset;
        cacheById.delete(desc.id);
        cacheByName.delete(desc.name);
        cacheByFQName.delete(desc.fqname);
    }
    else {
        cacheById.clear();
        cacheByName.clear();
        cacheByFQName.clear();
    }
}
function getCachedEntries() {
    return Promise.all(Array.from(cacheById.values()));
}
function cached(desc, result) {
    cacheById.set(desc.id, result);
    cacheByFQName.set(desc.fqname, result);
    cacheByName.set(desc.name, result);
    return result;
}
/**
 * create an object out of a description
 * @param desc
 * @returns {*}
 */
function transformEntry(desc) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var plugin;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            if (desc === undefined) {
                return [2 /*return*/, null];
            }
            desc.id = desc.id || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["fixId"])(desc.name + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["randomId"])(5));
            desc.fqname = desc.fqname || desc.name;
            desc.description = desc.description || '';
            desc.creator = desc.creator || 'Anonymous';
            desc.ts = desc.ts || 0;
            if (cacheById.has(desc.id)) {
                return [2 /*return*/, cacheById.get(desc.id)];
            }
            plugin = available.filter(function (p) { return p.id === desc.type; });
            //no type there create a dummy one
            if (plugin.length === 0) {
                return [2 /*return*/, cached(desc, Promise.resolve(new __WEBPACK_IMPORTED_MODULE_4__datatype__["DummyDataType"](desc)))];
            }
            //take the first matching one
            return [2 /*return*/, cached(desc, plugin[0].load().then(function (d) { return d.factory(desc); }))];
        });
    });
}
/**
 * returns a promise for getting a map of all available data
 * @param filter optional filter either a function or a server side interpretable filter object
 * @returns {Promise<IDataType[]>}
 */
function list(filter) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var f, q, r;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            f = (typeof filter === 'function') ? filter : null;
            q = (typeof filter !== 'undefined' && typeof filter !== 'function') ? filter : {};
            if (__WEBPACK_IMPORTED_MODULE_1__index__["offline"]) {
                r = getCachedEntries();
            }
            else {
                //load descriptions and create data out of them
                r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ajax__["getAPIJSON"])('/dataset/', q).then(function (r) { return Promise.all(r.map(transformEntry)); });
            }
            if (f !== null) {
                r = r.then(function (d) { return d.filter(f); });
            }
            return [2 /*return*/, r];
        });
    });
}
/**
 * converts a given list of datasets to a tree
 * @param list
 * @returns {{children: Array, name: string, data: null}}
 */
function convertToTree(list) {
    //create a tree out of the list by the fqname
    var root = { children: [], name: '/', data: null };
    list.forEach(function (entry) {
        var path = entry.desc.fqname.split('/');
        var act = root;
        path.forEach(function (node) {
            var next = act.children.find(function (d) { return d.name === node; });
            if (!next) {
                next = { children: [], name: node, data: null };
                act.children.push(next);
            }
            act = next;
        });
        act.data = entry;
    });
    return root;
}
/**
 * returns a tree of all available datasets
 */
function tree(filter) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var _a;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
            switch (_b.label) {
                case 0:
                    _a = convertToTree;
                    return [4 /*yield*/, list(filter)];
                case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
            }
        });
    });
}
/**
 * Returns the first dataset matching the given query
 * @param query
 * @returns {any}
 */
function getFirst(query) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var q, result;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (typeof query === 'string' || query instanceof RegExp) {
                        return [2 /*return*/, getFirstByName(query)];
                    }
                    q = query;
                    q.limit = 1;
                    return [4 /*yield*/, list(q)];
                case 1:
                    result = _a.sent();
                    if (result.length === 0) {
                        return [2 /*return*/, Promise.reject({ error: 'nothing found, matching', args: q })];
                    }
                    return [2 /*return*/, Promise.resolve(result[0])];
            }
        });
    });
}
/*function escapeRegExp(string){
 return string.replace(/([.*+?^${}()|\[\]\/\\])/g, '\\$1');
 }*/
function getFirstByName(name) {
    return getFirstWithCache(name, cacheByName, 'name');
}
function getFirstByFQName(name) {
    return getFirstWithCache(name, cacheByFQName, 'fqname');
}
function getFirstWithCache(name, cache, attr) {
    var r = typeof name === 'string' ? new RegExp(name) : name;
    for (var _i = 0, _a = Array.from(cache.entries()); _i < _a.length; _i++) {
        var _b = _a[_i], k = _b[0], v = _b[1];
        if (r.test(k)) {
            return v;
        }
    }
    return getFirst((_c = {},
        _c[attr] = typeof name === 'string' ? name : name.source,
        _c));
    var _c;
}
/**
 * Returns a promise for getting dataset based on a specific ID.
 * @param id the ID, as defined in IDataDescriptionData#id
 * @returns {Promise<any>}
 */
function getById(id) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var _a;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
            switch (_b.label) {
                case 0:
                    if (cacheById.has(id)) {
                        return [2 /*return*/, cacheById.get(id)];
                    }
                    _a = transformEntry;
                    return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ajax__["getAPIJSON"])("/dataset/" + id + "/desc")];
                case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
            }
        });
    });
}
/**
 * Returns a promise for getting a specific dataset
 * @param a persisted id or persisted object containing the id
 * @returns {Promise<IDataType>}
 */
function get(persisted) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var parent_1;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (typeof persisted === 'string') {
                        return [2 /*return*/, getById(persisted)];
                    }
                    if (!persisted.root) return [3 /*break*/, 2];
                    return [4 /*yield*/, get(persisted.root)];
                case 1:
                    parent_1 = _a.sent();
                    return [2 /*return*/, parent_1 ? parent_1.restore(persisted) : null];
                case 2: 
                //can't restore non root and non data id
                return [2 /*return*/, Promise.reject('cannot restore non root and non data id')];
            }
        });
    });
}
/**
 * creates a new dataset for the given description
 * @param desc
 * @returns {Promise<IDataType>}
 */
function create(desc) {
    return transformEntry(desc);
}
function prepareData(desc, file) {
    var data = new FormData();
    data.append('desc', JSON.stringify(desc));
    if (file) {
        data.append('file', file);
    }
    return data;
}
/**
 * uploads a given dataset description with optional file attachment ot the server
 * @param data
 * @param file
 * @returns {Promise<*>}
 */
function upload(data, file) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var _a;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
            switch (_b.label) {
                case 0:
                    data = prepareData(data, file);
                    _a = transformEntry;
                    return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ajax__["sendAPI"])('/dataset/', data, 'POST')];
                case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
            }
        });
    });
}
/**
 * updates an existing dataset with a new description and optional file
 * @returns {Promise<*>} returns the update dataset
 */
function update(entry, data, file) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var desc;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0:
                    data = prepareData(data, file);
                    return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ajax__["sendAPI"])("/dataset/" + entry.desc.id, data, 'PUT')];
                case 1:
                    desc = _a.sent();
                    // clear existing cache
                    clearCache(entry);
                    //update with current one
                    return [2 /*return*/, transformEntry(desc)];
            }
        });
    });
}
/**
 * modifies an existing dataset with a new description and optional file, the difference to update is that this should be used for partial changes
 * @returns {Promise<*>} returns the update dataset
 */
function modify(entry, data, file) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var desc;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0:
                    data = prepareData(data, file);
                    return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ajax__["sendAPI"])("/dataset/" + entry.desc.id, data, 'POST')];
                case 1:
                    desc = _a.sent();
                    clearCache(entry);
                    return [2 /*return*/, transformEntry(desc)];
            }
        });
    });
}
/**
 * removes a given dataset
 * @param entry
 * @returns {Promise<boolean>}
 */
function remove(entry) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var desc;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0:
                    desc = entry.desc || entry;
                    return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ajax__["sendAPI"])("/dataset/" + desc.id, {}, 'DELETE')];
                case 1:
                    _a.sent();
                    clearCache(desc);
                    return [2 /*return*/, true];
            }
        });
    });
}


/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__graph__ = __webpack_require__(6);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return defaultGraphFactory; });

/**
 * Created by sam on 12.02.2015.
 */
/**
 * Created by Samuel Gratzl on 22.10.2014.
 */

var defaultGraphFactory = {
    makeNode: function (p) { return ((new __WEBPACK_IMPORTED_MODULE_1__graph__["b" /* GraphNode */]()).restore(p)); },
    makeEdge: function (p, lookup) { return ((new __WEBPACK_IMPORTED_MODULE_1__graph__["a" /* GraphEdge */]()).restore(p, lookup)); }
};
var GraphBase = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](GraphBase, _super);
    function GraphBase(desc, nodes, edges) {
        if (nodes === void 0) { nodes = []; }
        if (edges === void 0) { edges = []; }
        var _this = _super.call(this) || this;
        _this.desc = desc;
        _this._nodes = nodes;
        _this._edges = edges;
        return _this;
    }
    Object.defineProperty(GraphBase.prototype, "nodes", {
        get: function () {
            return this._nodes;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GraphBase.prototype, "edges", {
        get: function () {
            return this._edges;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * migrate one graph to another cleaning this graph returning node references
     * @returns {{nodes: GraphNode[]; edges: GraphEdge[]}}
     */
    GraphBase.prototype.migrate = function () {
        return {
            nodes: this.nodes,
            edges: this.edges
        };
    };
    GraphBase.prototype.addNode = function (n) {
        this.nodes.push(n);
        this.fire('add_node', n);
        return this;
    };
    GraphBase.prototype.updateNode = function (n) {
        //since we store a reference we don't need to do anything
        this.fire('update_node', n);
        return this;
    };
    GraphBase.prototype.removeNode = function (n) {
        var i = this.nodes.indexOf(n);
        if (i < 0) {
            return null;
        }
        this.nodes.splice(i, 1);
        this.fire('remove_node', n);
        return this;
    };
    GraphBase.prototype.addEdge = function (edgeOrSource, type, t) {
        if (edgeOrSource instanceof __WEBPACK_IMPORTED_MODULE_1__graph__["a" /* GraphEdge */]) {
            var e = edgeOrSource;
            this.edges.push(e);
            this.fire('add_edge', e, e.type, e.source, e.target);
            return this;
        }
        return this.addEdge(new __WEBPACK_IMPORTED_MODULE_1__graph__["a" /* GraphEdge */](type, edgeOrSource, t));
    };
    GraphBase.prototype.updateEdge = function (e) {
        //since we store a reference we don't need to do anything
        this.fire('update_edge', e);
        return this;
    };
    GraphBase.prototype.removeEdge = function (e) {
        var i = this.edges.indexOf(e);
        if (i < 0) {
            return null;
        }
        e.takeDown();
        this.edges.splice(i, 1);
        this.fire('remove_edge', e);
        return this;
    };
    GraphBase.prototype.clear = function () {
        this.nodes.splice(0, this.nodes.length);
        this.edges.splice(0, this.edges.length);
        return Promise.resolve(this);
    };
    GraphBase.prototype.persist = function () {
        var r = {
            root: this.desc.id
        };
        r.nodes = this.nodes.map(function (s) { return s.persist(); });
        r.edges = this.edges.map(function (l) { return l.persist(); });
        return r;
    };
    GraphBase.prototype.restore = function (dump) {
        return this;
    };
    return GraphBase;
}(__WEBPACK_IMPORTED_MODULE_1__graph__["c" /* AGraph */]));
/* harmony default export */ __webpack_exports__["b"] = (GraphBase);


/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ObjectNode__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__StateNode__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ActionNode__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__SlideNode__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__graph_graph__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__internal_promise__ = __webpack_require__(8);
/* harmony export (immutable) */ __webpack_exports__["b"] = compress;
/* harmony export (immutable) */ __webpack_exports__["d"] = provenanceGraphFactory;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ProvenanceGraphDim; });
/* harmony export (immutable) */ __webpack_exports__["e"] = toSlidePath;

/**
 * Created by sam on 12.02.2015.
 */











function removeNoops(path) {
    return path.filter(function (a) { return a.f_id !== 'noop'; });
}
function compositeCompressor(cs) {
    return function (path) {
        path = removeNoops(path);
        var before;
        do {
            before = path.length;
            cs.forEach(function (c) { return path = c(path); });
        } while (before > path.length);
        return path;
    };
}
function createCompressor(path) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var toload, _a;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
            switch (_b.label) {
                case 0:
                    toload = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__plugin__["list"])('actionCompressor').filter(function (plugin) {
                        return path.some(function (action) { return action.f_id.match(plugin.matches) != null; });
                    });
                    _a = compositeCompressor;
                    return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__plugin__["load"])(toload)];
                case 1: return [2 /*return*/, _a.apply(void 0, [(_b.sent()).map(function (l) { return l.factory; })])];
            }
        });
    });
}
/**
 * returns a compressed version of the paths where just the last selection operation remains
 * @param path
 */
function compress(path) {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var compressor, before;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (path.length <= 1) {
                        return [2 /*return*/, path]; //can't compress single one
                    }
                    return [4 /*yield*/, createCompressor(path)];
                case 1:
                    compressor = _a.sent();
                    do {
                        before = path.length;
                        path = compressor(path);
                    } while (before > path.length);
                    //console.log('after', path.map((path) => path.toString()));
                    return [2 /*return*/, path];
            }
        });
    });
}
/**
 * find common element in the list of two elements returning the indices of the first same item
 * @param a
 * @param b
 * @returns {any}
 */
function findCommon(a, b) {
    var c = 0;
    while (c < a.length && c < b.length && a[c] === b[c]) { //go to next till a difference
        c++;
    }
    if (c === 0) { //not even the root common
        return null;
    }
    return {
        i: c - 1,
        j: c - 1
    };
}
function asFunction(i) {
    if (typeof (i) !== 'function') { //make a function
        return function () { return i; };
    }
    return i;
}
function noop(inputs, parameter) {
    return {
        inverse: createNoop()
    };
}
function createNoop() {
    return {
        meta: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__ActionNode__["d" /* meta */])('noop', __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["b" /* cat */].custom),
        id: 'noop',
        f: noop,
        inputs: [],
        parameter: {}
    };
}
function createLazyCmdFunctionFactory() {
    var facts = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__plugin__["list"])('actionFactory');
    var singles = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__plugin__["list"])('actionFunction');
    function resolveFun(id) {
        if (id === 'noop') {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__internal_promise__["a" /* resolveImmediately */])(noop);
        }
        var single = singles.find(function (f) { return f.id === id; });
        if (single) {
            return single.load().then(function (f) { return f.factory; });
        }
        var factory = facts.find(function (f) { return id.match(f.creates) != null; });
        if (factory) {
            return factory.load().then(function (f) { return f.factory(id); });
        }
        return Promise.reject('no factory found for ' + id);
    }
    var lazyFunction = function (id) {
        var _resolved = null;
        return function (inputs, parameters) {
            var that = this, args = Array.from(arguments);
            if (_resolved == null) {
                _resolved = resolveFun(id);
            }
            return _resolved.then(function (f) { return f.apply(that, args); });
        };
    };
    return function (id) { return lazyFunction(id); };
}
function provenanceGraphFactory() {
    var factory = createLazyCmdFunctionFactory();
    var types = {
        action: __WEBPACK_IMPORTED_MODULE_8__ActionNode__["a" /* default */],
        state: __WEBPACK_IMPORTED_MODULE_7__StateNode__["a" /* default */],
        object: __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */],
        story: __WEBPACK_IMPORTED_MODULE_9__SlideNode__["a" /* default */]
    };
    return {
        makeNode: function (n) { return types[n.type].restore(n, factory); },
        makeEdge: function (n, lookup) { return ((new __WEBPACK_IMPORTED_MODULE_10__graph_graph__["a" /* GraphEdge */]()).restore(n, lookup)); }
    };
}
var ProvenanceGraphDim;
(function (ProvenanceGraphDim) {
    ProvenanceGraphDim[ProvenanceGraphDim["Action"] = 0] = "Action";
    ProvenanceGraphDim[ProvenanceGraphDim["Object"] = 1] = "Object";
    ProvenanceGraphDim[ProvenanceGraphDim["State"] = 2] = "State";
    ProvenanceGraphDim[ProvenanceGraphDim["Slide"] = 3] = "Slide";
})(ProvenanceGraphDim || (ProvenanceGraphDim = {}));
function toSlidePath(s) {
    var r = [];
    while (s) {
        if (r.indexOf(s) >= 0) {
            return r;
        }
        r.push(s);
        s = s.next;
    }
    return r;
}
function findMetaObject(find) {
    return function (obj) { return find === obj || ((obj.value === null || obj.value === find.value) && (find.hash === obj.hash)); };
}
var ProvenanceGraph = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ProvenanceGraph, _super);
    function ProvenanceGraph(desc, backend) {
        var _this = _super.call(this, desc) || this;
        _this.backend = backend;
        _this._actions = [];
        _this._objects = [];
        _this._states = [];
        _this._slides = [];
        _this.act = null;
        _this.lastAction = null;
        //currently executing promise
        _this.currentlyRunning = false;
        _this.executeCurrentActionWithin = -1;
        _this.nextQueue = [];
        _this.propagate.apply(_this, [_this.backend].concat(ProvenanceGraph.PROPAGATED_EVENTS));
        if (_this.backend.nnodes === 0) {
            _this.act = new __WEBPACK_IMPORTED_MODULE_7__StateNode__["a" /* default */]('Start');
            _this._states.push(_this.act);
            _this.backend.addNode(_this.act);
        }
        else {
            var act = desc.act;
            _this._actions = _this.backend.nodes.filter(function (n) { return (n instanceof __WEBPACK_IMPORTED_MODULE_8__ActionNode__["a" /* default */]); });
            _this._objects = _this.backend.nodes.filter(function (n) { return (n instanceof __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */]); });
            _this._states = _this.backend.nodes.filter(function (n) { return (n instanceof __WEBPACK_IMPORTED_MODULE_7__StateNode__["a" /* default */]); });
            _this._slides = _this.backend.nodes.filter(function (n) { return (n instanceof __WEBPACK_IMPORTED_MODULE_9__SlideNode__["a" /* default */]); });
            _this.act = (act >= 0 ? _this.getStateById(act) : _this._states[0]);
        }
        return _this;
    }
    ProvenanceGraph.prototype.migrateBackend = function (backend) {
        //asserts that the old backend and the new one have the same nodes inside of them
        this.stopPropagation.apply(this, [this.backend].concat(ProvenanceGraph.PROPAGATED_EVENTS));
        this.backend = backend;
        this.propagate.apply(this, [this.backend].concat(ProvenanceGraph.PROPAGATED_EVENTS));
        //hack to update the description object
        this.desc = backend.desc;
    };
    Object.defineProperty(ProvenanceGraph.prototype, "isEmpty", {
        get: function () {
            return this._states.length <= 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProvenanceGraph.prototype, "dim", {
        get: function () {
            return [this._actions.length, this._objects.length, this._states.length, this._slides.length];
        },
        enumerable: true,
        configurable: true
    });
    ProvenanceGraph.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["all"])(); }
        var toID = function (a) { return a.id; };
        var actions = __WEBPACK_IMPORTED_MODULE_3__range__["Range1D"].from(this._actions.map(toID));
        var objects = __WEBPACK_IMPORTED_MODULE_3__range__["Range1D"].from(this._objects.map(toID));
        var states = __WEBPACK_IMPORTED_MODULE_3__range__["Range1D"].from(this._states.map(toID));
        var stories = __WEBPACK_IMPORTED_MODULE_3__range__["Range1D"].from(this._slides.map(toID));
        return Promise.resolve(range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["list"])(actions, objects, states, stories)));
    };
    ProvenanceGraph.prototype.selectState = function (state, op, type, extras) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_2__idtype__["SelectOperation"].SET; }
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__idtype__["defaultSelectionType"]; }
        if (extras === void 0) { extras = {}; }
        this.fire('select_state,select_state_' + type, state, type, op, extras);
        this.select(ProvenanceGraphDim.State, type, state ? [this._states.indexOf(state)] : [], op);
    };
    ProvenanceGraph.prototype.selectSlide = function (state, op, type, extras) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_2__idtype__["SelectOperation"].SET; }
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__idtype__["defaultSelectionType"]; }
        if (extras === void 0) { extras = {}; }
        this.fire('select_slide,select_slide_' + type, state, type, op, extras);
        this.select(ProvenanceGraphDim.Slide, type, state ? [this._slides.indexOf(state)] : [], op);
    };
    ProvenanceGraph.prototype.selectAction = function (action, op, type) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_2__idtype__["SelectOperation"].SET; }
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__idtype__["defaultSelectionType"]; }
        this.fire('select_action,select_action_' + type, action, type, op);
        this.select(ProvenanceGraphDim.Action, type, action ? [this._actions.indexOf(action)] : [], op);
    };
    ProvenanceGraph.prototype.selectedStates = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__idtype__["defaultSelectionType"]; }
        var sel = this.idtypes[ProvenanceGraphDim.State].selections(type);
        if (sel.isNone) {
            return [];
        }
        var lookup = new Map();
        this._states.forEach(function (s) { return lookup.set(s.id, s); });
        var nodes = [];
        sel.dim(0).forEach(function (id) {
            var n = lookup.get(id);
            if (n) {
                nodes.push(n);
            }
        });
        return nodes;
    };
    ProvenanceGraph.prototype.selectedSlides = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__idtype__["defaultSelectionType"]; }
        var sel = this.idtypes[ProvenanceGraphDim.Slide].selections(type);
        if (sel.isNone) {
            return [];
        }
        var lookup = new Map();
        this._slides.forEach(function (s) { return lookup.set(s.id, s); });
        var nodes = [];
        sel.dim(0).forEach(function (id) {
            var n = lookup.get(id);
            if (n) {
                nodes.push(n);
            }
        });
        return nodes;
    };
    Object.defineProperty(ProvenanceGraph.prototype, "idtypes", {
        get: function () {
            return ['_provenance_actions', '_provenance_objects', '_provenance_states', '_provenance_stories'].map(__WEBPACK_IMPORTED_MODULE_2__idtype__["resolve"]);
        },
        enumerable: true,
        configurable: true
    });
    ProvenanceGraph.prototype.clear = function () {
        var r = this.backend.clear();
        this._states = [];
        this._actions = [];
        this._objects = [];
        this._slides = [];
        this.act = null;
        this.lastAction = null;
        this.act = new __WEBPACK_IMPORTED_MODULE_7__StateNode__["a" /* default */]('start');
        this._states.push(this.act);
        this.backend.addNode(this.act);
        this.fire('clear');
        return Promise.resolve(r);
    };
    Object.defineProperty(ProvenanceGraph.prototype, "states", {
        get: function () {
            return this._states;
        },
        enumerable: true,
        configurable: true
    });
    ProvenanceGraph.prototype.getStateById = function (id) {
        return this._states.find(function (s) { return s.id === id; });
    };
    Object.defineProperty(ProvenanceGraph.prototype, "actions", {
        get: function () {
            return this._actions;
        },
        enumerable: true,
        configurable: true
    });
    ProvenanceGraph.prototype.getActionById = function (id) {
        return this._actions.find(function (s) { return s.id === id; });
    };
    Object.defineProperty(ProvenanceGraph.prototype, "objects", {
        get: function () {
            return this._objects;
        },
        enumerable: true,
        configurable: true
    });
    ProvenanceGraph.prototype.getObjectById = function (id) {
        return this._objects.find(function (s) { return s.id === id; });
    };
    Object.defineProperty(ProvenanceGraph.prototype, "stories", {
        get: function () {
            return this._slides;
        },
        enumerable: true,
        configurable: true
    });
    ProvenanceGraph.prototype.getSlideById = function (id) {
        return this._slides.find(function (s) { return s.id === id; });
    };
    ProvenanceGraph.prototype.getSlideChains = function () {
        return this.stories.filter(function (n) { return n.isStart; });
    };
    ProvenanceGraph.prototype.getSlides = function () {
        return this.getSlideChains().map(toSlidePath);
    };
    Object.defineProperty(ProvenanceGraph.prototype, "edges", {
        get: function () {
            return this.backend.edges;
        },
        enumerable: true,
        configurable: true
    });
    ProvenanceGraph.prototype.addEdge = function (s, type, t, attrs) {
        if (attrs === void 0) { attrs = {}; }
        var l = new __WEBPACK_IMPORTED_MODULE_10__graph_graph__["a" /* GraphEdge */](type, s, t);
        Object.keys(attrs).forEach(function (attr) { return l.setAttr(attr, attrs[attr]); });
        this.backend.addEdge(l);
        return l;
    };
    ProvenanceGraph.prototype.createAction = function (meta, functionId, f, inputs, parameter) {
        if (inputs === void 0) { inputs = []; }
        if (parameter === void 0) { parameter = {}; }
        var r = new __WEBPACK_IMPORTED_MODULE_8__ActionNode__["a" /* default */](meta, functionId, f, parameter);
        return this.initAction(r, inputs);
    };
    ProvenanceGraph.prototype.initAction = function (r, inputs) {
        var _this = this;
        if (inputs === void 0) { inputs = []; }
        var inobjects = inputs.map(function (i) { return ProvenanceGraph.findInArray(_this._objects, i); });
        this._actions.push(r);
        this.backend.addNode(r);
        this.fire('add_action', r);
        inobjects.forEach(function (obj, i) {
            _this.addEdge(r, 'requires', obj, { index: i });
        });
        return r;
    };
    ProvenanceGraph.prototype.createInverse = function (action, inverter) {
        var _this = this;
        var creates = action.creates, removes = action.removes;
        var i = inverter.call(action, action.requires, creates, removes);
        var inverted = this.createAction(i.meta, i.id, i.f, i.inputs, i.parameter);
        inverted.onceExecuted = true;
        this.addEdge(inverted, 'inverses', action);
        //the inverted action should create the removed ones and removes the crated ones
        removes.forEach(function (c, i) {
            _this.addEdge(inverted, 'creates', c, { index: i });
        });
        creates.forEach(function (c) {
            _this.addEdge(inverted, 'removes', c);
        });
        //create the loop in the states
        this.addEdge(action.resultsIn, 'next', inverted);
        this.addEdge(inverted, 'resultsIn', action.previous);
        return inverted;
    };
    ProvenanceGraph.prototype.push = function (arg, functionId, f, inputs, parameter) {
        var _this = this;
        if (functionId === void 0) { functionId = ''; }
        if (f === void 0) { f = null; }
        if (inputs === void 0) { inputs = []; }
        if (parameter === void 0) { parameter = {}; }
        return this.inOrder(function () {
            if (arg instanceof __WEBPACK_IMPORTED_MODULE_8__ActionNode__["c" /* ActionMetaData */]) {
                return _this.run(_this.createAction(arg, functionId, f, inputs, parameter), null);
            }
            else {
                var a = arg;
                return _this.run(_this.createAction(a.meta, a.id, a.f, a.inputs || [], a.parameter || {}), null);
            }
        });
    };
    ProvenanceGraph.prototype.pushWithResult = function (action, result) {
        var _this = this;
        return this.inOrder(function () {
            var a = _this.createAction(action.meta, action.id, action.f, action.inputs || [], action.parameter || {});
            return _this.run(a, result);
        });
    };
    ProvenanceGraph.prototype.findObject = function (value) {
        var r = this._objects.find(function (obj) { return obj.value === value; });
        if (r) {
            return r;
        }
        return null;
    };
    ProvenanceGraph.prototype.addObject = function (value, name, category, hash) {
        if (name === void 0) { name = value ? value.toString() : 'Null'; }
        if (category === void 0) { category = __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["b" /* cat */].data; }
        if (hash === void 0) { hash = name + '_' + category; }
        return this.addObjectImpl(value, name, category, hash, true);
    };
    ProvenanceGraph.prototype.addJustObject = function (value, name, category, hash) {
        if (name === void 0) { name = value ? value.toString() : 'Null'; }
        if (category === void 0) { category = __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["b" /* cat */].data; }
        if (hash === void 0) { hash = name + '_' + category; }
        return this.addObjectImpl(value, name, category, hash, false);
    };
    ProvenanceGraph.prototype.addObjectImpl = function (value, name, category, hash, createEdge) {
        if (name === void 0) { name = value ? value.toString() : 'Null'; }
        if (category === void 0) { category = __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["b" /* cat */].data; }
        if (hash === void 0) { hash = name + '_' + category; }
        if (createEdge === void 0) { createEdge = false; }
        var r = new __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */](value, name, category, hash);
        this._objects.push(r);
        this.backend.addNode(r);
        if (createEdge) {
            this.addEdge(this.act, 'consistsOf', r);
        }
        this.fire('add_object', r);
        return r;
    };
    ProvenanceGraph.prototype.resolve = function (arr) {
        var _this = this;
        return arr.map(function (r) {
            if (r instanceof __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */]) {
                return r;
            }
            if (r._resolvesTo instanceof __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */]) {
                return r._resolvesTo;
            }
            //else create a new instance
            var result = _this.addJustObject(r.value, r.name, r.category, r.hash);
            r._resolvesTo = result;
            return result;
        });
    };
    ProvenanceGraph.findInArray = function (arr, r) {
        if (r instanceof __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */]) {
            return r;
        }
        if (r._resolvesTo instanceof __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */]) {
            return r._resolvesTo;
        }
        //else create a new instance
        var result = arr.find(findMetaObject(r));
        r._resolvesTo = result;
        return result;
    };
    ProvenanceGraph.prototype.findOrAddObject = function (i, name, type) {
        return this.findOrAddObjectImpl(i, name, type, true);
    };
    ProvenanceGraph.prototype.findOrAddJustObject = function (i, name, type) {
        return this.findOrAddObjectImpl(i, name, type, false);
    };
    ProvenanceGraph.prototype.findOrAddObjectImpl = function (i, name, type, createEdge) {
        if (createEdge === void 0) { createEdge = false; }
        var r;
        var j = i;
        if (i instanceof __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */]) {
            return i;
        }
        if (j._resolvesTo instanceof __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["a" /* default */]) {
            return j._resolvesTo;
        }
        if (j.hasOwnProperty('value') && j.hasOwnProperty('name')) { //sounds like an proxy
            j.category = j.category || __WEBPACK_IMPORTED_MODULE_6__ObjectNode__["b" /* cat */].data;
            r = this._objects.find(findMetaObject(j));
            if (r) {
                if (r.value === null) { //restore instance
                    r.value = j.value;
                }
                //cache result
                j._resolvesTo = r;
                return r;
            }
            return this.addObjectImpl(j.value, j.name, j.category, j.hash, createEdge);
        }
        else { //raw value
            r = this._objects.find(function (obj) { return (obj.value === null || obj.value === i) && (name === null || obj.name === name) && (type === null || type === obj.category); });
            if (r) {
                if (r.value === null) { //restore instance
                    r.value = i;
                }
                return r;
            }
            return this.addObjectImpl(i, name, type, name + '_' + type, createEdge);
        }
    };
    ProvenanceGraph.prototype.inOrder = function (f) {
        var _this = this;
        if (this.currentlyRunning) {
            var helper_1;
            var r = new Promise(function (resolve) {
                helper_1 = resolve.bind(_this);
            });
            this.nextQueue.push(helper_1);
            return r.then(f);
        }
        else {
            return f();
        }
    };
    ProvenanceGraph.prototype.executedAction = function (action, newState, result) {
        var _this = this;
        var current = this.act;
        var next = action.resultsIn;
        result = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({ created: [], removed: [], inverse: null, consumed: 0 }, result);
        this.fire('executed', action, result);
        var firstTime = !action.onceExecuted;
        action.onceExecuted = true;
        var created;
        var removed;
        if (firstTime) {
            //create an link outputs
            //
            created = this.resolve(result.created);
            created.forEach(function (c, i) {
                _this.addEdge(action, 'creates', c, { index: i });
            });
            // a removed one should be part of the inputs
            var requires_1 = action.requires;
            removed = result.removed.map(function (r) { return ProvenanceGraph.findInArray(requires_1, r); });
            removed.forEach(function (c) {
                c.value = null; //free reference
                _this.addEdge(action, 'removes', c);
            });
            //update new state
            if (newState) {
                var objs_1 = current.consistsOf;
                objs_1.push.apply(objs_1, created);
                removed.forEach(function (r) {
                    var i = objs_1.indexOf(r);
                    objs_1.splice(i, 1);
                });
                objs_1.forEach(function (obj) { return _this.addEdge(next, 'consistsOf', obj); });
            }
            this.fire('executed_first', action, next);
        }
        else {
            created = action.creates;
            //update creates reference values
            created.forEach(function (c, i) {
                c.value = result.created[i].value;
            });
            removed = action.removes;
            removed.forEach(function (c) { return c.value = null; });
        }
        result.inverse = asFunction(result.inverse);
        action.updateInverse(this, result.inverse);
        this.switchToImpl(action, next);
        return {
            action: action,
            state: next,
            created: created,
            removed: removed,
            consumed: result.consumed
        };
    };
    ProvenanceGraph.prototype.run = function (action, result, withinMilliseconds) {
        var _this = this;
        if (withinMilliseconds === void 0) { withinMilliseconds = -1; }
        var next = action.resultsIn, newState = false;
        if (!next) { //create a new state
            newState = true;
            this.addEdge(this.act, 'next', action);
            next = this.makeState(action.meta.name);
            this.addEdge(action, 'resultsIn', next);
        }
        this.fire('execute', action);
        if (__WEBPACK_IMPORTED_MODULE_1__index__["hash"].has('debug')) {
            console.log('execute ' + action.meta + ' ' + action.f_id);
        }
        this.currentlyRunning = true;
        if (typeof (withinMilliseconds) === 'function') {
            withinMilliseconds = withinMilliseconds();
        }
        this.executeCurrentActionWithin = withinMilliseconds;
        var runningAction = (result ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__internal_promise__["a" /* resolveImmediately */])(result) : action.execute(this, this.executeCurrentActionWithin)).then(this.executedAction.bind(this, action, newState));
        runningAction.then(function (result) {
            var q = _this.nextQueue.shift();
            if (q) {
                q();
            }
            else {
                _this.currentlyRunning = false;
            }
        });
        return runningAction;
    };
    ProvenanceGraph.prototype.switchToImpl = function (action, state) {
        var bak = this.act;
        this.act = state;
        this.fire('switch_state', state, bak);
        bak = this.lastAction;
        this.lastAction = action;
        this.fire('switch_action', action, bak);
    };
    /**
     * execute a bunch of already executed actions
     * @param actions
     */
    ProvenanceGraph.prototype.runChain = function (actions, withinMilliseconds) {
        if (withinMilliseconds === void 0) { withinMilliseconds = -1; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            function guessTime(index) {
                var left = torun.length - index;
                return function () { return remaining < 0 ? -1 : remaining / left; }; //uniformly distribute
            }
            function updateTime(consumed) {
                remaining -= consumed;
            }
            var last, torun, remaining, results, i, action, result;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (actions.length === 0) {
                            if (withinMilliseconds > 0) {
                                return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["resolveIn"])(withinMilliseconds).then(function () { return []; })];
                            }
                            return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__internal_promise__["a" /* resolveImmediately */])([])];
                        }
                        last = actions[actions.length - 1];
                        return [4 /*yield*/, compress(actions)];
                    case 1:
                        torun = _a.sent();
                        remaining = withinMilliseconds;
                        this.fire('run_chain', torun);
                        results = [];
                        i = 0;
                        _a.label = 2;
                    case 2:
                        if (!(i < torun.length)) return [3 /*break*/, 5];
                        action = torun[i];
                        return [4 /*yield*/, this.run(action, null, withinMilliseconds < 0 ? -1 : guessTime(i))];
                    case 3:
                        result = _a.sent();
                        results.push(result);
                        updateTime(result.consumed);
                        _a.label = 4;
                    case 4:
                        ++i;
                        return [3 /*break*/, 2];
                    case 5:
                        if (this.act !== last.resultsIn) {
                            this.switchToImpl(last, last.resultsIn);
                        }
                        this.fire('ran_chain', this.act, torun);
                        return [2 /*return*/, results];
                }
            });
        });
    };
    ProvenanceGraph.prototype.undo = function () {
        var _this = this;
        if (!this.lastAction) {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__internal_promise__["a" /* resolveImmediately */])(null);
        }
        //create and store the inverse
        if (this.lastAction.inverses != null) {
            //undo and undoing should still go one up
            return this.jumpTo(this.act.previousState);
        }
        else {
            return this.inOrder(function () { return _this.run(_this.lastAction.getOrCreateInverse(_this), null); });
        }
    };
    ProvenanceGraph.prototype.jumpTo = function (state, withinMilliseconds) {
        var _this = this;
        if (withinMilliseconds === void 0) { withinMilliseconds = -1; }
        return this.inOrder(function () {
            var actions = [];
            var act = _this.act;
            if (act === state) { //jump to myself
                return withinMilliseconds >= 0 ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["resolveIn"])(withinMilliseconds).then(function () { return []; }) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__internal_promise__["a" /* resolveImmediately */])([]);
            }
            //lets look at the simple past
            var actPath = act.path, targetPath = state.path;
            var common = findCommon(actPath, targetPath);
            if (common) {
                var toRevert = actPath.slice(common.i + 1).reverse(), toForward = targetPath.slice(common.j + 1);
                actions = actions.concat(toRevert.map(function (r) { return r.resultsFrom[0].getOrCreateInverse(_this); }));
                actions = actions.concat(toForward.map(function (r) { return r.resultsFrom[0]; }));
            }
            //no in the direct branches maybe in different loop instances?
            //TODO
            return _this.runChain(actions, withinMilliseconds);
        });
    };
    /**
     *
     * @param action the action to fork and attach to target
     * @param target the state to attach the given action and all of the rest
     * @param objectReplacements mappings of object replacements
     * @returns {boolean}
     */
    ProvenanceGraph.prototype.fork = function (action, target, objectReplacements) {
        var _this = this;
        if (objectReplacements === void 0) { objectReplacements = []; }
        //sanity check if target is a child of target ... bad
        //collect all states
        var all = [];
        var queue = [action.resultsIn];
        while (queue.length > 0) {
            var next = queue.shift();
            if (all.indexOf(next) >= 0) {
                continue;
            }
            all.push(next);
            queue.push.apply(queue, next.nextStates);
        }
        if (all.indexOf(target) >= 0) {
            return false; //target is a child of state
        }
        var targetObjects = target.consistsOf;
        var sourceObjects = action.previous.consistsOf;
        //function isSame(a: any[], b : any[]) {
        //  return a.length === b.length && a.every((ai, i) => ai === b[i]);
        //}
        //if (isSame(targetObjects, sourceObjects)) {
        //no state change ~ similar state, just create a link
        //we can copy the action and point to the same target
        //  const clone = this.initAction(action.clone(), action.requires);
        //  this.addEdge(target, 'next', clone);
        //  this.addEdge(clone, 'resultsIn', action.resultsIn);
        //} else {
        var removedObjects = sourceObjects.filter(function (o) { return targetObjects.indexOf(o) < 0; });
        var replacements = {};
        objectReplacements.forEach(function (d) { return replacements[_this.findOrAddObject(d.from).id] = d.to; });
        //need to copy all the states and actions
        this.copyBranch(action, target, removedObjects, replacements);
        //}
        this.fire('forked_branch', action, target);
        return true;
    };
    ProvenanceGraph.prototype.copyAction = function (action, appendTo, objectReplacements) {
        var clone = this.initAction(action.clone(), action.requires.map(function (a) { return objectReplacements[String(a.id)] || a; }));
        this.addEdge(appendTo, 'next', clone);
        var s = this.makeState(action.resultsIn.name, action.resultsIn.description);
        this.addEdge(clone, 'resultsIn', s);
        return s;
    };
    ProvenanceGraph.prototype.copyBranch = function (action, target, removedObject, objectReplacements) {
        var queue = [{ a: action, b: target }];
        var _loop_1 = function () {
            var next = queue.shift();
            var b = next.b;
            var a = next.a;
            var someRemovedObjectRequired = a.requires.some(function (ai) { return removedObject.indexOf(ai) >= 0 && !(String(ai.id) in objectReplacements); });
            if (!someRemovedObjectRequired) {
                //copy it and create a new pair to execute
                b = this_1.copyAction(a, next.b, objectReplacements);
            }
            queue.push.apply(queue, a.resultsIn.next.map(function (aa) { return ({ a: aa, b: b }); }));
        };
        var this_1 = this;
        while (queue.length > 0) {
            _loop_1();
        }
    };
    ProvenanceGraph.prototype.makeState = function (name, description) {
        if (description === void 0) { description = ''; }
        var s = new __WEBPACK_IMPORTED_MODULE_7__StateNode__["a" /* default */](name, description);
        this._states.push(s);
        this.backend.addNode(s);
        this.fire('add_state', s);
        return s;
    };
    ProvenanceGraph.prototype.persist = function () {
        var r = this.backend.persist();
        r.act = this.act ? this.act.id : null;
        r.lastAction = this.lastAction ? this.lastAction.id : null;
        return r;
    };
    /*
     restore(persisted: any) {
     const lookup = {},
     lookupFun = (id) => lookup[id];
     const types = {
     action: ActionNode,
     state: StateNode,
     object: ObjectNode
     };
     this.clear();
     persisted.nodes.forEach((p) => {
     var n = types[p.type].restore(p, factory);
     lookup[n.id] = n;
     if (n instanceof ActionNode) {
     this._actions.push(n);
     } else if (n instanceof StateNode) {
     this._states.push(n);
     } else if (n instanceof ObjectNode) {
     this._objects.push(n);
     }
     this.backend.addNode(n);
     });
     if (persisted.act) {
     this.act = lookup[persisted.id];
     }
     if (persisted.lastAction) {
     this.lastAction = lookup[persisted.lastAction];
     }
  
     persisted.edges.forEach((p) => {
     var n = (new graph.GraphEdge()).restore(p, lookupFun);
     this.backend.addEdge(n);
     });
     return this;
     }*/
    ProvenanceGraph.prototype.wrapAsSlide = function (state) {
        var node = new __WEBPACK_IMPORTED_MODULE_9__SlideNode__["a" /* default */]();
        node.name = state.name;
        this.addEdge(node, 'jumpTo', state);
        this._slides.push(node);
        this.backend.addNode(node);
        this.fire('add_slide', node);
        return node;
    };
    ProvenanceGraph.prototype.cloneSingleSlideNode = function (state) {
        var clone = state.state != null ? this.wrapAsSlide(state.state) : this.makeTextSlide();
        state.attrs.forEach(function (attr) {
            if (attr !== 'annotations') {
                clone.setAttr(attr, state.getAttr(attr, null));
            }
        });
        clone.setAttr('annotations', state.annotations.map(function (a) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({}, a); }));
        return clone;
    };
    /**
     * creates a new slide of the given StateNode by jumping to them
     * @param states
     */
    ProvenanceGraph.prototype.extractSlide = function (states, addStartEnd) {
        var _this = this;
        if (addStartEnd === void 0) { addStartEnd = true; }
        var addSlide = function (node) {
            _this._slides.push(node);
            _this.backend.addNode(node);
            _this.fire('add_slide', node);
            return node;
        };
        var slide = addStartEnd ? addSlide(__WEBPACK_IMPORTED_MODULE_9__SlideNode__["a" /* default */].makeText('Unnamed Story')) : null, prev = slide;
        states.forEach(function (s, i) {
            var node = addSlide(new __WEBPACK_IMPORTED_MODULE_9__SlideNode__["a" /* default */]());
            node.name = s.name;
            _this.addEdge(node, 'jumpTo', s);
            if (prev) {
                _this.addEdge(prev, 'next', node);
            }
            else {
                slide = node;
            }
            prev = node;
        });
        if (addStartEnd) {
            var last = __WEBPACK_IMPORTED_MODULE_9__SlideNode__["a" /* default */].makeText('Thanks');
            addSlide(last);
            this.addEdge(prev, 'next', last);
        }
        this.fire('extract_slide', slide);
        this.selectSlide(slide);
        return slide;
    };
    ProvenanceGraph.prototype.startNewSlide = function (title, states) {
        if (states === void 0) { states = []; }
        var s = this.makeTextSlide(title);
        if (states.length > 0) {
            var s2 = this.extractSlide(states, false);
            this.addEdge(s, 'next', s2);
        }
        this.fire('start_slide', s);
        return s;
    };
    ProvenanceGraph.prototype.makeTextSlide = function (title) {
        var s = __WEBPACK_IMPORTED_MODULE_9__SlideNode__["a" /* default */].makeText(title);
        this._slides.push(s);
        this.backend.addNode(s);
        this.fire('add_slide', s);
        return s;
    };
    ProvenanceGraph.prototype.insertIntoSlide = function (toInsert, slide, beforeIt) {
        if (beforeIt === void 0) { beforeIt = false; }
        this.moveSlide(toInsert, slide, beforeIt);
    };
    ProvenanceGraph.prototype.appendToSlide = function (slide, elem) {
        var s = toSlidePath(slide);
        return this.moveSlide(elem, s[s.length - 1], false);
    };
    ProvenanceGraph.prototype.moveSlide = function (node, to, beforeIt) {
        var _this = this;
        if (beforeIt === void 0) { beforeIt = false; }
        if ((beforeIt && node.next === to) || (!beforeIt && node.previous === to)) {
            return; //already matches
        }
        //1. extract the node
        //create other links
        var prev = node.previous;
        if (prev) {
            node.nexts.forEach(function (n) {
                _this.addEdge(prev, 'next', n);
            });
        }
        //remove links
        this.edges.filter(function (e) { return (e.source === node || e.target === node) && e.type === 'next'; }).forEach(function (e) {
            _this.backend.removeEdge(e);
        });
        //insert into the new place
        if (beforeIt) {
            var tprev = to.previous;
            if (tprev) {
                this.edges.filter(function (e) { return (e.target === to) && e.type === 'next'; }).forEach(function (e) {
                    _this.backend.removeEdge(e);
                });
                this.addEdge(tprev, 'next', node);
                this.addEdge(node, 'next', to);
            }
            this.addEdge(node, 'next', to);
        }
        else {
            var tnexts = to.nexts;
            if (tnexts.length > 0) {
                this.edges.filter(function (e) { return (e.source === to) && e.type === 'next'; }).forEach(function (e) {
                    _this.backend.removeEdge(e);
                });
                tnexts.forEach(function (next) {
                    _this.addEdge(node, 'next', next);
                });
            }
            this.addEdge(to, 'next', node);
        }
        this.fire('move_slide', node, to, beforeIt);
    };
    ProvenanceGraph.prototype.removeSlideNode = function (node) {
        var _this = this;
        var prev = node.previous;
        if (prev) {
            node.nexts.forEach(function (n) {
                _this.addEdge(prev, 'next', n);
            });
        }
        this.edges.filter(function (e) { return e.source === node || e.target === node; }).forEach(function (e) {
            _this.backend.removeEdge(e);
        });
        this._slides.splice(this._slides.indexOf(node), 1);
        this.backend.removeNode(node);
        this.fire('remove_slide', node);
    };
    ProvenanceGraph.prototype.removeFullSlide = function (node) {
        //go to the beginning
        while (node.previous) {
            node = node.previous;
        }
        var bak = node;
        while (node) {
            var next = node.next;
            this.removeSlideNode(node);
            node = next;
        }
        this.fire('destroy_slide', bak);
    };
    ProvenanceGraph.prototype.setSlideJumpToTarget = function (node, state) {
        var old = node.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__graph_graph__["d" /* isType */])('jumpTo'))[0];
        if (old) {
            this.backend.removeEdge(old);
        }
        if (state) {
            this.addEdge(node, 'jumpTo', state);
        }
        this.fire('set_jump_target', node, old ? old.target : null, state);
    };
    ProvenanceGraph.PROPAGATED_EVENTS = ['sync', 'add_edge', 'add_node', 'sync_node', 'sync_edge', 'sync_start'];
    return ProvenanceGraph;
}(__WEBPACK_IMPORTED_MODULE_4__datatype__["ADataType"]));
/* harmony default export */ __webpack_exports__["a"] = (ProvenanceGraph);


/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__session__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__extensions__ = __webpack_require__(24);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GLOBAL_EVENT_USER_LOGGED_IN", function() { return GLOBAL_EVENT_USER_LOGGED_IN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GLOBAL_EVENT_USER_LOGGED_OUT", function() { return GLOBAL_EVENT_USER_LOGGED_OUT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ANONYMOUS_USER", function() { return ANONYMOUS_USER; });
/* harmony export (immutable) */ __webpack_exports__["reset"] = reset;
/* harmony export (immutable) */ __webpack_exports__["isLoggedIn"] = isLoggedIn;
/* harmony export (immutable) */ __webpack_exports__["login"] = login;
/* harmony export (immutable) */ __webpack_exports__["logout"] = logout;
/* harmony export (immutable) */ __webpack_exports__["currentUser"] = currentUser;
/* harmony export (immutable) */ __webpack_exports__["currentUserNameOrAnonymous"] = currentUserNameOrAnonymous;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EPermission", function() { return EPermission; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EEntity", function() { return EEntity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_READ_READ", function() { return ALL_READ_READ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_NONE_NONE", function() { return ALL_NONE_NONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_READ_NONE", function() { return ALL_READ_NONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_PERMISSION", function() { return DEFAULT_PERMISSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_ALL_READ_READ", function() { return ALL_ALL_READ_READ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_ALL_NONE_NONE", function() { return ALL_ALL_NONE_NONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_ALL_READ_NONE", function() { return ALL_ALL_READ_NONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Permission", function() { return Permission; });
/* harmony export (immutable) */ __webpack_exports__["encode"] = encode;
/* harmony export (immutable) */ __webpack_exports__["decode"] = decode;
/* harmony export (immutable) */ __webpack_exports__["canRead"] = canRead;
/* harmony export (immutable) */ __webpack_exports__["canWrite"] = canWrite;
/* harmony export (immutable) */ __webpack_exports__["canExecute"] = canExecute;
/* harmony export (immutable) */ __webpack_exports__["hasPermission"] = hasPermission;
/**
 * Created by sam on 27.02.2017.
 */




var GLOBAL_EVENT_USER_LOGGED_IN = 'USER_LOGGED_IN';
var GLOBAL_EVENT_USER_LOGGED_OUT = 'USER_LOGGED_OUT';
var ANONYMOUS_USER = { name: 'anonymous', roles: ['anonymous'] };
/**
 * resets the stored session data that will be automatically filled during login
 */
function reset() {
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["remove"])('logged_in');
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["remove"])('username');
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["remove"])('user');
}
/**
 * whether the user is logged in
 * @returns {boolean}
 */
function isLoggedIn() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["retrieve"])('logged_in') === true;
}
/**
 * stores the given user information
 * @param user
 */
function login(user) {
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["store"])('logged_in', true);
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["store"])('username', user.name);
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["store"])('user', user);
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__plugin__["list"])(__WEBPACK_IMPORTED_MODULE_3__extensions__["EP_PHOVEA_CORE_LOGIN"]).map(function (desc) {
        desc.load().then(function (plugin) { return plugin.factory(user); });
    });
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__event__["fire"])(GLOBAL_EVENT_USER_LOGGED_IN, user);
}
/**
 * logs the current user out
 */
function logout() {
    var wasLoggedIn = isLoggedIn();
    reset();
    if (wasLoggedIn) {
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__plugin__["list"])(__WEBPACK_IMPORTED_MODULE_3__extensions__["EP_PHOVEA_CORE_LOGOUT"]).map(function (desc) {
            desc.load().then(function (plugin) { return plugin.factory(); });
        });
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__event__["fire"])(GLOBAL_EVENT_USER_LOGGED_OUT);
    }
}
/**
 * returns the current user or null
 * @returns {any}
 */
function currentUser() {
    if (!isLoggedIn()) {
        return null;
    }
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__session__["retrieve"])('user', ANONYMOUS_USER);
}
/**
 * returns the current user name else an anonymous user name
 */
function currentUserNameOrAnonymous() {
    var u = currentUser();
    return u ? u.name : ANONYMOUS_USER.name;
}
var EPermission;
(function (EPermission) {
    EPermission[EPermission["READ"] = 4] = "READ";
    EPermission[EPermission["WRITE"] = 2] = "WRITE";
    EPermission[EPermission["EXECUTE"] = 1] = "EXECUTE";
})(EPermission || (EPermission = {}));
var EEntity;
(function (EEntity) {
    EEntity[EEntity["USER"] = 0] = "USER";
    EEntity[EEntity["GROUP"] = 1] = "GROUP";
    EEntity[EEntity["OTHERS"] = 2] = "OTHERS";
    EEntity[EEntity["BUDDIES"] = 3] = "BUDDIES";
})(EEntity || (EEntity = {}));
function toNumber(p) {
    return (p.has(EPermission.READ) ? 4 : 0) + (p.has(EPermission.WRITE) ? 2 : 0) + (p.has(EPermission.EXECUTE) ? 1 : 0);
}
function toString(p) {
    return (p.has(EPermission.READ) ? 'r' : '-') + (p.has(EPermission.WRITE) ? 'w' : '-') + (p.has(EPermission.EXECUTE) ? 'x' : '-');
}
function fromNumber(p) {
    var r = new Set();
    if (p >= 4) {
        r.add(EPermission.READ);
        p -= 4;
    }
    if (p >= 2) {
        r.add(EPermission.WRITE);
        p -= 2;
    }
    if (p >= 1) {
        r.add(EPermission.EXECUTE);
    }
    return r;
}
/**
 * by default only the creator has all permissions
 * @type {number}
 */
var ALL_READ_READ = 744;
var ALL_NONE_NONE = 700;
var ALL_READ_NONE = 740;
var DEFAULT_PERMISSION = ALL_READ_READ;
/**
 * buddy variants: buddy, creator, group, others
 * buddies first for backward compatibility
 */
var ALL_ALL_READ_READ = 7744;
var ALL_ALL_NONE_NONE = 7700;
var ALL_ALL_READ_NONE = 7740;
var Permission = /** @class */ (function () {
    function Permission(user, group, others, buddies) {
        if (buddies === void 0) { buddies = new Set(); }
        this.user = user;
        this.group = group;
        this.others = others;
        this.buddies = buddies;
    }
    Permission.prototype.encode = function () {
        return encode(this.user, this.group, this.others);
    };
    Permission.prototype.toString = function () {
        var userEncoded = toString(this.user);
        var groupEncoded = toString(this.group);
        var othersEncoded = toString(this.others);
        return userEncoded + groupEncoded + othersEncoded;
    };
    Permission.prototype.getPermissions = function (entity) {
        switch (entity) {
            case EEntity.USER: return this.user;
            case EEntity.GROUP: return this.group;
            case EEntity.OTHERS: return this.others;
        }
    };
    Permission.prototype.hasPermission = function (entity, permission) {
        var permissions = this.getPermissions(entity);
        return permissions.has(permission);
    };
    return Permission;
}());

function encode(user, group, others, buddies) {
    if (buddies === void 0) { buddies = new Set(); }
    var userEncoded = toNumber(user);
    var groupEncoded = toNumber(group);
    var othersEncoded = toNumber(others);
    var buddiesEncoded = toNumber(buddies);
    return buddiesEncoded * 1000 + userEncoded * 100 + groupEncoded * 10 + othersEncoded;
}
function decode(permission) {
    if (permission === void 0) { permission = DEFAULT_PERMISSION; }
    if (typeof permission !== 'number') {
        permission = DEFAULT_PERMISSION;
    }
    var others = fromNumber(permission % 10);
    var group = fromNumber(Math.floor(permission / 10) % 10);
    var user = fromNumber(Math.floor(permission / 100) % 10);
    var buddies = fromNumber(Math.floor(permission / 1000) % 10);
    return new Permission(user, group, others, buddies);
}
function isEqual(a, b) {
    if (a === b) {
        return true;
    }
    if (a === null || b === null) {
        return false;
    }
    a = a.toLowerCase();
    b = b.toLowerCase();
    return a.localeCompare(b) === 0;
}
function includes(items, item) {
    if (!item) {
        return false;
    }
    return items.some(function (r) { return isEqual(item, r); });
}
function can(item, permission, user) {
    if (user === void 0) { user = currentUser(); }
    if (!user) {
        user = ANONYMOUS_USER;
    }
    var permissions = decode(item.permissions);
    // I'm the creator and have the right
    if (isEqual(user.name, item.creator) && permissions.user.has(permission)) {
        return true;
    }
    // check if I'm in the group and have the right
    if (item.group && includes(user.roles, item.group) && permissions.group.has(permission)) {
        return true;
    }
    // check if I'm a buddy having the right
    if (item.buddies && Array.isArray(item.buddies) && includes(item.buddies, user.name) && permissions.buddies.has(permission)) {
        return true;
    }
    // check others
    return permissions.others.has(permission);
}
/**
 * check whether the given user can read the given item
 * @param item the item to check
 * @param user the user by default the current user
 * @returns {boolean}
 */
function canRead(item, user) {
    if (user === void 0) { user = currentUser(); }
    return can(item, EPermission.READ, user);
}
/**
 * check whether the given user can write the given item
 * @param item the item to check
 * @param user the user by default the current user
 * @returns {boolean}
 */
function canWrite(item, user) {
    if (user === void 0) { user = currentUser(); }
    return can(item, EPermission.WRITE, user);
}
/**
 * check whether the given user can execute the given item
 * @param item the item to check
 * @param user the user by default the current user
 * @returns {boolean}
 */
function canExecute(item, user) {
    if (user === void 0) { user = currentUser(); }
    return can(item, EPermission.EXECUTE, user);
}
function hasPermission(item, entity, permission) {
    if (entity === void 0) { entity = EEntity.USER; }
    if (permission === void 0) { permission = EPermission.READ; }
    var permissions = decode(item.permissions);
    return permissions.hasPermission(entity, permission);
}


/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AVector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3____ = __webpack_require__(2);
/* unused harmony export ANameVector */

/**
 * Created by Samuel Gratzl on 16.03.2017.
 */



var ANameVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ANameVector, _super);
    function ANameVector(base) {
        var _this = _super.call(this, null) || this;
        _this.base = base;
        _this.desc = {
            type: 'vector',
            name: base.desc.name,
            fqname: base.desc.fqname,
            description: base.desc.description,
            id: base.desc.id + '_names',
            value: {
                type: 'string'
            },
            idtype: _this.idtype.id,
            size: _this.length,
            ts: base.desc.ts,
            creator: base.desc.creator,
            group: base.desc.group,
            permissions: base.desc.permissions
        };
        return _this;
    }
    Object.defineProperty(ANameVector.prototype, "valuetype", {
        get: function () {
            return this.desc.value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ANameVector.prototype, "idtype", {
        // TODO This method should be abstract. However, it results in a compile error with Typescript v2.7.2:
        // `TS2715: Abstract property 'idtype' in class 'ANameVector' cannot be accessed in the constructor.`
        /*abstract*/ get: function () {
            return null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ANameVector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    ANameVector.prototype.persist = function () {
        return {
            root: this.base.persist(),
            names: true
        };
    };
    ANameVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(persisted.range));
        }
        return r;
    };
    ANameVector.prototype.at = function (i) {
        return this.data(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(i)).then(function (names) { return names[0]; });
    };
    ANameVector.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.names(range);
    };
    ANameVector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3____["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    ANameVector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3____["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    return ANameVector;
}(__WEBPACK_IMPORTED_MODULE_1__AVector__["a" /* AVector */]));

/* harmony default export */ __webpack_exports__["a"] = (ANameVector);


/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EP_PHOVEA_CORE_LOGIN", function() { return EP_PHOVEA_CORE_LOGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EP_PHOVEA_CORE_LOGOUT", function() { return EP_PHOVEA_CORE_LOGOUT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EP_PHOVEA_CORE_LOCALE", function() { return EP_PHOVEA_CORE_LOCALE; });
/**
 * Triggered when a user was logged in
 */
var EP_PHOVEA_CORE_LOGIN = 'epPhoveaCoreLogin';
/**
 * Triggered when a user was logged out. Does not provide any further information.
 */
var EP_PHOVEA_CORE_LOGOUT = 'epPhoveaCoreLogout';
/**
 * Load locale JSON files with translations
 */
var EP_PHOVEA_CORE_LOCALE = 'epPhoveaCoreLocale';


/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__2D__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Rect__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Circle__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Polygon__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Line__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Ellipse__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AShape__ = __webpack_require__(13);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Rect", function() { return __WEBPACK_IMPORTED_MODULE_1__Rect__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Circle", function() { return __WEBPACK_IMPORTED_MODULE_2__Circle__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Polygon", function() { return __WEBPACK_IMPORTED_MODULE_3__Polygon__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Line", function() { return __WEBPACK_IMPORTED_MODULE_4__Line__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Ellipse", function() { return __WEBPACK_IMPORTED_MODULE_5__Ellipse__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AShape", function() { return __WEBPACK_IMPORTED_MODULE_6__AShape__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CORNER", function() { return __WEBPACK_IMPORTED_MODULE_6__AShape__["b"]; });
/* harmony export (immutable) */ __webpack_exports__["vec2"] = vec2;
/* harmony export (immutable) */ __webpack_exports__["rect"] = rect;
/* harmony export (immutable) */ __webpack_exports__["circle"] = circle;
/* harmony export (immutable) */ __webpack_exports__["ellipse"] = ellipse;
/* harmony export (immutable) */ __webpack_exports__["line"] = line;
/* harmony export (immutable) */ __webpack_exports__["polygon"] = polygon;
/* harmony export (immutable) */ __webpack_exports__["wrap"] = wrap;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 08.10.2014.
 */













function vec2(x, y) {
    return new __WEBPACK_IMPORTED_MODULE_0__2D__["Vector2D"](x, y);
}
function rect(x, y, w, h) {
    return new __WEBPACK_IMPORTED_MODULE_1__Rect__["a" /* default */](x, y, w, h);
}
function circle(x, y, radius) {
    return new __WEBPACK_IMPORTED_MODULE_2__Circle__["a" /* default */](x, y, radius);
}
function ellipse(x, y, radiusX, radiusY) {
    return new __WEBPACK_IMPORTED_MODULE_5__Ellipse__["a" /* default */](x, y, radiusX, radiusY);
}
function line(x1, y1, x2, y2) {
    return new __WEBPACK_IMPORTED_MODULE_4__Line__["a" /* default */](x1, y1, x2, y2);
}
function polygon() {
    if (Array.isArray(arguments[0])) {
        return new __WEBPACK_IMPORTED_MODULE_3__Polygon__["a" /* default */](arguments[0]);
    }
    return new __WEBPACK_IMPORTED_MODULE_3__Polygon__["a" /* default */](Array.from(arguments));
}
function wrap(obj) {
    if (!obj) {
        return obj;
    }
    if (obj instanceof __WEBPACK_IMPORTED_MODULE_6__AShape__["a" /* default */]) {
        return obj;
    }
    if (obj.hasOwnProperty('x') && obj.hasOwnProperty('y')) {
        if (obj.hasOwnProperty('radius') || obj.hasOwnProperty('r')) {
            return circle(obj.x, obj.y, obj.hasOwnProperty('radius') ? obj.radius : obj.r);
        }
        if ((obj.hasOwnProperty('radiusX') || obj.hasOwnProperty('rx')) && (obj.hasOwnProperty('radiusY') || obj.hasOwnProperty('ry'))) {
            return ellipse(obj.x, obj.y, obj.hasOwnProperty('radiusX') ? obj.radiusX : obj.rx, obj.hasOwnProperty('radiusY') ? obj.radiusY : obj.ry);
        }
        if (obj.hasOwnProperty('w') && obj.hasOwnProperty('h')) {
            return rect(obj.x, obj.y, obj.w, obj.h);
        }
        if (obj.hasOwnProperty('width') && obj.hasOwnProperty('height')) {
            return rect(obj.x, obj.y, obj.width, obj.height);
        }
    }
    if (obj.hasOwnProperty('x1') && obj.hasOwnProperty('y1') && obj.hasOwnProperty('x2') && obj.hasOwnProperty('y2')) {
        return line(obj.x1, obj.y1, obj.x2, obj.y2);
    }
    if (Array.isArray(obj) && obj.length > 0 && obj[0].hasOwnProperty('x') && obj[0].hasOwnProperty('y')) {
        return polygon(obj);
    }
    // TODO throw error?
    return obj; //can't derive it, yet
}


/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AIterator", function() { return AIterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Iterator", function() { return Iterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListIterator", function() { return ListIterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SingleIterator", function() { return SingleIterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConcatIterator", function() { return ConcatIterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyIterator", function() { return EmptyIterator; });
/* harmony export (immutable) */ __webpack_exports__["empty"] = empty;
/* harmony export (immutable) */ __webpack_exports__["concat"] = concat;
/* harmony export (immutable) */ __webpack_exports__["range"] = range;
/* harmony export (immutable) */ __webpack_exports__["single"] = single;
/* harmony export (immutable) */ __webpack_exports__["forList"] = forList;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */

var AIterator = /** @class */ (function () {
    function AIterator() {
    }
    AIterator.prototype.hasNext = function () {
        return false;
    };
    AIterator.prototype.next = function () {
        return null;
    };
    AIterator.prototype.forEach = function (callbackfn, thisArg) {
        var i = 0;
        while (this.hasNext()) {
            callbackfn.call(thisArg, this.next(), i++);
        }
    };
    /**
     * Calls a defined callback function on each element of an array, and returns an array that contains the results.
     * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.
     * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.
     */
    AIterator.prototype.map = function (callbackfn, thisArg) {
        // tslint:disable:no-use-before-declare
        // Disabled the rule, because the classes below reference each other in a way that it is impossible to find a successful order.
        return new TransformIterator(this, callbackfn, thisArg);
    };
    /**
     * converts the remaining of this iterator to a list
     * @returns {Array}
     */
    AIterator.prototype.asList = function () {
        var r = [];
        while (this.hasNext()) {
            r.push(this.next());
        }
        return r;
    };
    Object.defineProperty(AIterator.prototype, "isIncreasing", {
        get: function () {
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AIterator.prototype, "isDecreasing", {
        get: function () {
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AIterator.prototype, "byOne", {
        get: function () {
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AIterator.prototype, "byMinusOne", {
        get: function () {
            return false;
        },
        enumerable: true,
        configurable: true
    });
    return AIterator;
}());

/**
 * iterator for a given range
 */
var Iterator = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Iterator, _super);
    function Iterator(from, to, step) {
        var _this = _super.call(this) || this;
        _this.from = from;
        _this.to = to;
        _this.step = step;
        _this.act = _this.from;
        return _this;
    }
    /**
     * whether more items are available
     */
    Iterator.prototype.hasNext = function () {
        return this.act !== this.to && ((this.step > 0 && this.act < this.to) || (this.step < 0 && this.act > this.to));
    };
    /**
     * returns the next item
     */
    Iterator.prototype.next = function () {
        if (!this.hasNext()) {
            throw new RangeError('end of iterator');
        }
        var r = this.act;
        this.act += this.step;
        if (this.step < 0 && this.act < this.to) {
            this.act = this.to;
        }
        else if (this.step > 0 && this.act > this.to) {
            this.act = this.to;
        }
        return r;
    };
    Object.defineProperty(Iterator.prototype, "isIncreasing", {
        get: function () {
            return this.step > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Iterator.prototype, "isDecreasing", {
        get: function () {
            return this.step < 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Iterator.prototype, "byOne", {
        get: function () {
            return this.step === 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Iterator.prototype, "byMinusOne", {
        get: function () {
            return this.step === -1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Iterator.prototype, "size", {
        get: function () {
            if (this.byOne) {
                return Math.max(this.to - this.from, 0);
            }
            else if (this.byMinusOne) {
                return Math.max(this.from - this.to, 0);
            }
            var d = this.isIncreasing ? (this.to - this.from + 1) : (this.from - this.to + 1);
            var s = Math.abs(this.step);
            if (d <= 0) { //no range
                return 0;
            }
            return Math.floor(d / s);
        },
        enumerable: true,
        configurable: true
    });
    return Iterator;
}(AIterator));

var ListIterator = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ListIterator, _super);
    function ListIterator(arr) {
        var _this = _super.call(this) || this;
        _this.arr = arr;
        _this.it = new Iterator(0, arr.length, 1);
        return _this;
    }
    /**
     * whether more items are available
     */
    ListIterator.prototype.hasNext = function () {
        return this.it.hasNext();
    };
    /**
     * returns the next item
     */
    ListIterator.prototype.next = function () {
        if (!this.hasNext()) {
            throw new RangeError('end of iterator');
        }
        return this.arr[this.it.next()];
    };
    ListIterator.prototype.asList = function () {
        return this.arr.slice();
    };
    return ListIterator;
}(AIterator));

var SingleIterator = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](SingleIterator, _super);
    function SingleIterator(value) {
        var _this = _super.call(this) || this;
        _this.value = value;
        _this.delivered = false;
        return _this;
    }
    SingleIterator.prototype.hasNext = function () {
        return !this.delivered;
    };
    SingleIterator.prototype.next = function () {
        if (!this.hasNext()) {
            throw new RangeError('end of iterator');
        }
        this.delivered = true;
        return this.value;
    };
    SingleIterator.prototype.asList = function () {
        return [this.value];
    };
    Object.defineProperty(SingleIterator.prototype, "isIncreasing", {
        get: function () {
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SingleIterator.prototype, "isDecreasing", {
        get: function () {
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SingleIterator.prototype, "byOne", {
        get: function () {
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SingleIterator.prototype, "byMinusOne", {
        get: function () {
            return true;
        },
        enumerable: true,
        configurable: true
    });
    return SingleIterator;
}(AIterator));

var ConcatIterator = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ConcatIterator, _super);
    function ConcatIterator(its) {
        var _this = _super.call(this) || this;
        _this.its = its;
        _this.act = its.shift();
        return _this;
    }
    /**
     * whether more items are available
     */
    ConcatIterator.prototype.hasNext = function () {
        //based on http://grepcode.com/file/repo1.maven.org/maven2/com.google.guava/guava/r08/com/google/common/collect/Iterators.java#Iterators.concat%28java.util.Iterator%29
        var currentHasNext = false;
        while (!(currentHasNext = this.act.hasNext()) && this.its.length > 0) {
            this.act = this.its.shift();
        }
        return currentHasNext;
    };
    /**
     * returns the next item
     */
    ConcatIterator.prototype.next = function () {
        if (!this.hasNext()) {
            throw new RangeError('end of iterator');
        }
        return this.act.next();
    };
    /**
     * converts the remaining of this iterator to a list
     * @returns {Array}
     */
    ConcatIterator.prototype.asList = function () {
        var r = [];
        while (this.hasNext()) {
            r.push(this.next());
        }
        return r;
    };
    Object.defineProperty(ConcatIterator.prototype, "isIncreasing", {
        get: function () {
            return this.its.every(function (it) { return it.isIncreasing; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConcatIterator.prototype, "isDecreasing", {
        get: function () {
            return this.its.every(function (it) { return it.isDecreasing; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConcatIterator.prototype, "byOne", {
        get: function () {
            return this.its.every(function (it) { return it.byOne; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConcatIterator.prototype, "byMinusOne", {
        get: function () {
            return this.its.every(function (it) { return it.byMinusOne; });
        },
        enumerable: true,
        configurable: true
    });
    return ConcatIterator;
}(AIterator));

var EmptyIterator = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](EmptyIterator, _super);
    function EmptyIterator() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isIncreasing = false;
        _this.isDecreasing = false;
        _this.byOne = false;
        _this.byMinusOne = false;
        return _this;
    }
    /**
     * whether more items are available
     */
    EmptyIterator.prototype.hasNext = function () {
        return false;
    };
    /**
     * returns the next item
     */
    EmptyIterator.prototype.next = function () {
        throw new RangeError('end of iterator');
    };
    /**
     * converts the remaining of this iterator to a list
     * @returns {Array}
     */
    EmptyIterator.prototype.asList = function () {
        return [];
    };
    return EmptyIterator;
}(AIterator));

var TransformIterator = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](TransformIterator, _super);
    function TransformIterator(it, f, thisArg) {
        var _this = _super.call(this) || this;
        _this.it = it;
        _this.f = f;
        _this.thisArg = thisArg;
        return _this;
    }
    /**
     * whether more items are available
     */
    TransformIterator.prototype.hasNext = function () {
        return this.it.hasNext();
    };
    /**
     * returns the next item
     */
    TransformIterator.prototype.next = function () {
        if (!this.hasNext()) {
            throw new RangeError('end of iterator');
        }
        return this.f.call(this.thisArg, this.it.next());
    };
    Object.defineProperty(TransformIterator.prototype, "isIncreasing", {
        get: function () {
            return this.it.isIncreasing;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TransformIterator.prototype, "isDecreasing", {
        get: function () {
            return this.it.isDecreasing;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TransformIterator.prototype, "byOne", {
        get: function () {
            return this.it.byOne;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TransformIterator.prototype, "byMinusOne", {
        get: function () {
            return this.it.byMinusOne;
        },
        enumerable: true,
        configurable: true
    });
    return TransformIterator;
}(AIterator));
function empty() {
    return new EmptyIterator();
}
function concat() {
    var its = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        its[_i] = arguments[_i];
    }
    if (its.length === 0) {
        return empty();
    }
    else if (its.length === 1) {
        return its[0];
    }
    return new ConcatIterator(its);
}
/**
 * creates a new iterator for the given range
 * @param from
 * @param to
 * @param step
 * @returns {Iterator}
 */
function range(from, to, step) {
    return new Iterator(from, to, step);
}
function single(value) {
    return new SingleIterator(value);
}
/**
 * creates a new iterator for the given list
 * @param arr
 * @returns {ListIterator}
 */
function forList(arr) {
    return new ListIterator(arr);
}


/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ProxyMetaData; });
/* harmony export (immutable) */ __webpack_exports__["c"] = selectVis;
/* harmony export (immutable) */ __webpack_exports__["d"] = clearNode;
/* harmony export (immutable) */ __webpack_exports__["a"] = createNode;
/**
 * Created by sam on 26.12.2016.
 */
/**
 * @internal
 */
var ProxyMetaData = /** @class */ (function () {
    function ProxyMetaData(proxy) {
        this.proxy = proxy;
    }
    Object.defineProperty(ProxyMetaData.prototype, "scaling", {
        get: function () {
            var p = this.proxy();
            return p ? p.scaling : 'free';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProxyMetaData.prototype, "rotation", {
        get: function () {
            var p = this.proxy();
            return p ? p.rotation : 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProxyMetaData.prototype, "sizeDependsOnDataDimension", {
        get: function () {
            var p = this.proxy();
            return p ? p.sizeDependsOnDataDimension : [false, false];
        },
        enumerable: true,
        configurable: true
    });
    return ProxyMetaData;
}());

/**
 * @internal
 */
function selectVis(initial, visses) {
    switch (typeof initial) {
        case 'number':
            return visses[Math.max(0, Math.min(initial, visses.length - 1))];
        case 'string':
            return visses[Math.max(0, visses.findIndex(function (v) { return v.id === initial; }))];
        default:
            return visses[Math.max(0, visses.indexOf(initial))];
    }
}
/**
 * @internal
 */
function clearNode(parent) {
    var node = parent.firstChild;
    while ((node = parent.firstChild) != null) {
        parent.removeChild(node);
    }
}
/**
 * @internal
 */
function createNode(parent, type, clazz) {
    if (type === void 0) { type = 'div'; }
    var node = parent.ownerDocument.createElement(type);
    if (clazz) {
        clazz.split(' ').forEach(function (c) { return node.classList.add(c); });
    }
    parent.appendChild(node);
    return node;
}


/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__event__ = __webpack_require__(5);
/* harmony export (immutable) */ __webpack_exports__["assignVis"] = assignVis;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AVisInstance", function() { return AVisInstance; });
/* harmony export (immutable) */ __webpack_exports__["list"] = list;

/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 05.08.2014.
 */



function assignVis(node, vis) {
    node.__vis__ = vis;
}
/**
 * base class for an visualization
 */
var AVisInstance = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AVisInstance, _super);
    function AVisInstance() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["uniqueId"])('vis');
        _this._built = false;
        return _this;
    }
    AVisInstance.prototype.option = function (name, value) {
        //dummy
        //if (value) {
        //  this.fire('option', name, value, null);
        //}
        return null;
    };
    AVisInstance.prototype.persist = function () {
        return null;
    };
    Object.defineProperty(AVisInstance.prototype, "isBuilt", {
        get: function () {
            return this._built;
        },
        enumerable: true,
        configurable: true
    });
    AVisInstance.prototype.markReady = function (built) {
        if (built === void 0) { built = true; }
        this._built = built;
        if (built) {
            this.fire('ready');
        }
    };
    AVisInstance.prototype.locate = function () {
        var range = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            range[_i] = arguments[_i];
        }
        if (range.length === 1) {
            return this.locateImpl(range[0]);
        }
        return Promise.all(range.map(this.locateImpl, this));
    };
    AVisInstance.prototype.locateById = function () {
        var range = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            range[_i] = arguments[_i];
        }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _this = this;
            var ids;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data.ids()];
                    case 1:
                        ids = _a.sent();
                        if (range.length === 1) {
                            return [2 /*return*/, this.locateImpl(ids.indexOf(range[0]))];
                        }
                        return [2 /*return*/, Promise.all(range.map(function (r) { return _this.locateImpl(ids.indexOf(r)); }))];
                }
            });
        });
    };
    AVisInstance.prototype.locateImpl = function (range) {
        //no resolution by default
        return Promise.resolve(null);
    };
    AVisInstance.prototype.restore = function (persisted) {
        return Promise.resolve(this);
    };
    AVisInstance.prototype.update = function () {
        //do nothing
    };
    AVisInstance.prototype.destroy = function () {
        // nothing to destroy
        var n = this.node;
        var w = n ? n.ownerDocument.defaultView : null;
        if (n && n.parentNode && !(w && w.event && w.event.type === 'DOMNodeRemoved' && w.event.target === n)) {
            n.parentNode.removeChild(n);
        }
        this.fire('destroyed');
    };
    AVisInstance.prototype.transform = function () {
        return {
            scale: [1, 1],
            rotate: 0
        };
    };
    Object.defineProperty(AVisInstance.prototype, "rawSize", {
        get: function () {
            return [100, 100];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AVisInstance.prototype, "size", {
        get: function () {
            var t = this.transform();
            var r = this.rawSize;
            //TODO rotation
            return [r[0] * t.scale[0], r[1] * t.scale[1]];
        },
        enumerable: true,
        configurable: true
    });
    return AVisInstance;
}(__WEBPACK_IMPORTED_MODULE_3__event__["EventHandler"]));

function extrapolateFilter(r) {
    var v = r.filter;
    if (typeof v === 'undefined') {
        r.filter = function () { return true; };
    }
    else if (typeof v === 'string') {
        r.filter = function (data) { return data && data.desc.type && data.desc.type.match(v) != null; };
    }
    else if (Array.isArray(v)) {
        r.filter = function (data) { return data && data && (data.desc.type && data.desc.type.match(v[0])) && (data.desc.value === undefined || data.desc.value.type.match(v[1])); };
    }
}
function extrapolateIconify(r) {
    if (typeof r.iconify === 'function') {
        return;
    }
    r.iconify = function iconfiy(node) {
        node.title = this.name;
        var anyThis = this;
        if (anyThis.iconcss) {
            node.classList.add('phovea-vis-icon');
            node.classList.add(anyThis.iconcss);
        }
        else if (anyThis.icon) {
            node.classList.add('phovea-vis-icon');
            node.style.width = '1em';
            node.style.display = 'inline-block';
            node.style.textAlign = 'center';
            node.style.backgroundSize = '100%';
            node.style.backgroundRepeat = 'no-repeat';
            //lazy load icon
            anyThis.icon().then(function (iconData) {
                node.style.backgroundImage = "url(" + iconData + ")";
            });
            node.innerHTML = '&nbsp';
        }
        else {
            node.innerText = this.name.substr(0, 1).toUpperCase();
        }
        return node;
    };
}
function extrapolateSize(r) {
    r.scaling = r.scaling || 'free';
    if (Array.isArray(r.sizeDependsOnDataDimension) && typeof r.sizeDependsOnDataDimension[0] === 'boolean') {
        // ok
    }
    else if (typeof r.sizeDependsOnDataDimension === 'boolean') {
        r.sizeDependsOnDataDimension = [r.sizeDependsOnDataDimension, r.sizeDependsOnDataDimension];
    }
    else {
        r.sizeDependsOnDataDimension = [false, false];
    }
}
function extrapolateRotation(r) {
    var m = {
        free: NaN,
        no: 0,
        transpose: 90,
        swap: 180
    };
    if (typeof r.rotation === 'string' && r.rotation in m) {
        r.rotation = m[r.rotation];
    }
    else if (typeof r.rotation === 'number') {
        r.rotation = +r.rotation;
    }
    else if (r.rotation === null) {
        r.rotation = NaN;
    }
    else {
        r.rotation = 0;
    }
}
function toVisPlugin(plugin) {
    var r = plugin;
    extrapolateFilter(r);
    extrapolateIconify(r);
    extrapolateSize(r);
    extrapolateRotation(r);
    return r;
}
/**
 * list a vis plugins and check in addition whether the match the given data type
 * @param data the data type to visualize
 * @returns {IPluginDesc[]}
 */
function list(data) {
    //filter additionally with the filter attribute, which can be a function or the expected data type
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__plugin__["list"])('vis').map(toVisPlugin).filter(function (desc) { return desc.filter(data); });
}


/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GraphBase__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__graph__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__internal_promise__ = __webpack_require__(8);




var LocalStorageGraph = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](LocalStorageGraph, _super);
    function LocalStorageGraph(desc, nodes, edges, storage) {
        if (nodes === void 0) { nodes = []; }
        if (edges === void 0) { edges = []; }
        if (storage === void 0) { storage = sessionStorage; }
        var _this = _super.call(this, desc, nodes, edges) || this;
        _this.storage = storage;
        _this.updateHandler = function (event) {
            var s = event.target;
            if (s instanceof __WEBPACK_IMPORTED_MODULE_2__graph__["b" /* GraphNode */]) {
                _this.updateNode(s);
            }
            if (s instanceof __WEBPACK_IMPORTED_MODULE_2__graph__["a" /* GraphEdge */]) {
                _this.updateEdge(s);
            }
        };
        var uid = _this.uid;
        if (nodes.length > 0 || edges.length > 0) {
            _this.storage.setItem(uid + ".nodes", JSON.stringify(nodes.map(function (d) { return d.id; })));
            nodes.forEach(function (n) {
                _this.storage.setItem(uid + '.node.' + n.id, JSON.stringify(n.persist()));
                n.on('setAttr', _this.updateHandler);
            });
            _this.storage.setItem(uid + ".edges", JSON.stringify(edges.map(function (d) { return d.id; })));
            edges.forEach(function (e) {
                _this.storage.setItem(uid + ".edge." + e.id, JSON.stringify(e.persist()));
                e.on('setAttr', _this.updateHandler);
            });
        }
        return _this;
    }
    LocalStorageGraph.migrate = function (graph, storage) {
        if (storage === void 0) { storage = sessionStorage; }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__internal_promise__["a" /* resolveImmediately */])(graph.migrate()).then(function (_a) {
            var nodes = _a.nodes, edges = _a.edges;
            return new LocalStorageGraph(graph.desc, nodes, edges, storage);
        });
    };
    LocalStorageGraph.prototype.migrate = function () {
        var _this = this;
        this.nodes.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        this.edges.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        return _super.prototype.migrate.call(this);
    };
    LocalStorageGraph.load = function (desc, factory, storage, reset) {
        if (storage === void 0) { storage = sessionStorage; }
        if (reset === void 0) { reset = false; }
        var r = new LocalStorageGraph(desc, [], [], storage);
        if (!reset) {
            r.load(factory);
        }
        return r;
    };
    LocalStorageGraph.clone = function (graph, factory, storage) {
        if (storage === void 0) { storage = sessionStorage; }
        var r = new LocalStorageGraph(graph.desc, [], [], storage);
        r.restoreDump(graph.persist(), factory);
        return r;
    };
    Object.defineProperty(LocalStorageGraph.prototype, "uid", {
        get: function () {
            return "graph" + this.desc.id;
        },
        enumerable: true,
        configurable: true
    });
    LocalStorageGraph.prototype.load = function (factory) {
        var _this = this;
        var uid = this.uid;
        if (this.storage.getItem(uid + ".nodes") == null) {
            return;
        }
        var nodeIds = JSON.parse(this.storage.getItem(uid + ".nodes"));
        var lookup = new Map();
        nodeIds.forEach(function (id) {
            var n = JSON.parse(_this.storage.getItem(uid + ".node." + id));
            var nn = factory.makeNode(n);
            lookup.set(nn.id, nn);
            nn.on('setAttr', _this.updateHandler);
            _super.prototype.addNode.call(_this, nn);
        });
        var edgeIds = JSON.parse(this.storage.getItem(uid + ".edges"));
        edgeIds.forEach(function (id) {
            var n = JSON.parse(_this.storage.getItem(uid + ".edge." + id));
            var nn = factory.makeEdge(n, lookup.get.bind(lookup));
            nn.on('setAttr', _this.updateHandler);
            _super.prototype.addEdge.call(_this, nn);
        });
        this.fire('loaded');
    };
    LocalStorageGraph.delete = function (desc, storage) {
        if (storage === void 0) { storage = sessionStorage; }
        var uid = "graph" + desc.id;
        JSON.parse(storage.getItem(uid + ".nodes") || '[]').forEach(function (id) {
            storage.removeItem(uid + ".node." + id);
        });
        storage.removeItem(uid + ".nodes");
        JSON.parse(storage.getItem(uid + ".edges") || '[]').forEach(function (id) {
            storage.removeItem(uid + ".edge." + id);
        });
        storage.removeItem(uid + ".edges");
        return true;
    };
    LocalStorageGraph.update = function (desc, storage) {
        if (storage === void 0) { storage = sessionStorage; }
        var uid = "graph" + desc.id;
    };
    LocalStorageGraph.prototype.restoreDump = function (persisted, factory) {
        var _this = this;
        var lookup = new Map();
        persisted.nodes.forEach(function (p) {
            var n = factory.makeNode(p);
            lookup.set(n.id, n);
            _this.addNode(n);
        });
        persisted.edges.forEach(function (p) {
            var n = factory.makeEdge(p, lookup.get.bind(lookup));
            _this.addEdge(n);
        });
        return this;
    };
    LocalStorageGraph.prototype.addNode = function (n) {
        _super.prototype.addNode.call(this, n);
        var uid = this.uid;
        this.storage.setItem(uid + '.node.' + n.id, JSON.stringify(n.persist()));
        this.storage.setItem(uid + ".nodes", JSON.stringify(this.nodes.map(function (d) { return d.id; })));
        n.on('setAttr', this.updateHandler);
        return this;
    };
    LocalStorageGraph.prototype.updateNode = function (n) {
        _super.prototype.updateNode.call(this, n);
        var uid = this.uid;
        this.storage.setItem(uid + '.node.' + n.id, JSON.stringify(n.persist()));
        return this;
    };
    LocalStorageGraph.prototype.removeNode = function (n) {
        if (!_super.prototype.removeNode.call(this, n)) {
            return null;
        }
        var uid = this.uid;
        this.storage.setItem(uid + ".nodes", JSON.stringify(this.nodes.map(function (d) { return d.id; })));
        this.storage.removeItem(uid + ".node." + n.id);
        n.off('setAttr', this.updateHandler);
        return this;
    };
    LocalStorageGraph.prototype.addEdge = function (edgeOrSource, type, t) {
        if (edgeOrSource instanceof __WEBPACK_IMPORTED_MODULE_2__graph__["a" /* GraphEdge */]) {
            _super.prototype.addEdge.call(this, edgeOrSource);
            var e = edgeOrSource;
            var uid = this.uid;
            this.storage.setItem(uid + ".edges", JSON.stringify(this.edges.map(function (d) { return d.id; })));
            this.storage.setItem(uid + ".edge." + e.id, JSON.stringify(e.persist()));
            e.on('setAttr', this.updateHandler);
            return this;
        }
        return _super.prototype.addEdge.call(this, edgeOrSource, type, t);
    };
    LocalStorageGraph.prototype.removeEdge = function (e) {
        if (!_super.prototype.removeEdge.call(this, e)) {
            return null;
        }
        //need to shift all
        var uid = this.uid;
        this.storage.setItem(uid + ".edges", JSON.stringify(this.edges.map(function (d) { return d.id; })));
        this.storage.removeItem(uid + ".edge." + e.id);
        e.off('setAttr', this.updateHandler);
        return this;
    };
    LocalStorageGraph.prototype.updateEdge = function (e) {
        _super.prototype.updateEdge.call(this, e);
        var uid = this.uid;
        this.storage.setItem(uid + ".edge." + e.id, JSON.stringify(e.persist()));
        return this;
    };
    LocalStorageGraph.prototype.clear = function () {
        var _this = this;
        var nnodes = this.nnodes, nedges = this.nedges;
        if (nnodes === 0 && nedges === 0) {
            return Promise.resolve(this);
        }
        this.nodes.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        this.edges.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        _super.prototype.clear.call(this);
        var uid = this.uid;
        JSON.parse(this.storage.getItem(uid + '.nodes')).forEach(function (id) {
            _this.storage.removeItem(uid + ".node." + id);
        });
        this.storage.removeItem(uid + ".nodes");
        JSON.parse(this.storage.getItem(uid + '.edges')).forEach(function (id) {
            _this.storage.removeItem(uid + ".edge." + id);
        });
        this.storage.removeItem(uid + ".edges");
        return Promise.resolve(this);
    };
    LocalStorageGraph.prototype.persist = function () {
        var r = {
            root: this.desc.id
        };
        r.nodes = this.nodes.map(function (s) { return s.persist(); });
        r.edges = this.edges.map(function (l) { return l.persist(); });
        return r;
    };
    return LocalStorageGraph;
}(__WEBPACK_IMPORTED_MODULE_1__GraphBase__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (LocalStorageGraph);


/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GraphBase__ = __webpack_require__(20);


var MemoryGraph = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](MemoryGraph, _super);
    function MemoryGraph(desc, nodes, edges, factory) {
        if (nodes === void 0) { nodes = []; }
        if (edges === void 0) { edges = []; }
        if (factory === void 0) { factory = __WEBPACK_IMPORTED_MODULE_1__GraphBase__["a" /* defaultGraphFactory */]; }
        var _this = _super.call(this, desc, nodes, edges) || this;
        _this.factory = factory;
        return _this;
    }
    MemoryGraph.prototype.restore = function (persisted) {
        var _this = this;
        var lookup = new Map();
        persisted.nodes.forEach(function (p) {
            var n = _this.factory.makeNode(p);
            lookup.set(n.id, n);
            _this.addNode(n);
        });
        persisted.edges.forEach(function (p) {
            var n = _this.factory.makeEdge(p, lookup.get.bind(lookup));
            _this.addEdge(n);
        });
        return this;
    };
    return MemoryGraph;
}(__WEBPACK_IMPORTED_MODULE_1__GraphBase__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (MemoryGraph);


/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__IIDType__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__IDType__ = __webpack_require__(17);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */





//function indicesCompare(a: number[], b: number[]) {
//  //assert a.length = b.length
//  for(let i = 0; i < a.length; ++i) {
//    if (a[i] !== b[i]) {
//      return a[i] - b[i];
//    }
//  }
//  return 0;
//}
//
//function compressPairs(pairs: number[][]): Range[] {
//  return pairs.map((a) => rlist(...a));
//}
function overlaps(r, withRange, ndim) {
    if (withRange.ndim === 0) {
        return true; //catch all
    }
    var _loop_1 = function (i) {
        var ri = r.dim(i);
        var wi = withRange.dim(i);
        if (wi.isAll || ri.isAll) {
            return { value: true };
        }
        if (!ri.isUnbound && ri.asList().every(function (rii) { return !wi.contains(rii); })) {
            return { value: false };
        }
        //TODO
    };
    for (var i = 0; i < Math.min(r.ndim, ndim); ++i) {
        var state_1 = _loop_1(i);
        if (typeof state_1 === "object")
            return state_1.value;
    }
    return false;
}
function removeCells(b, without, ndim) {
    if (without.length === 0) {
        return b;
    }
    var r = [];
    b.forEach(function (bi) {
        if (without.some(function (w) { return w.eq(bi); })) {
            //skip
        }
        else if (without.some(function (w) { return overlaps(bi, w, ndim); })) {
            //TODO
        }
        else {
            r.push(bi);
        }
    });
    return r;
}
/**
 * a product idtype is a product of multiple underlying ones, e.g. patient x gene.
 */
var ProductIDType = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ProductIDType, _super);
    function ProductIDType(elems, internal) {
        if (internal === void 0) { internal = false; }
        var _this = _super.call(this) || this;
        _this.elems = elems;
        _this.internal = internal;
        _this.sel = new Map();
        _this.isOn = false;
        _this.selectionListener = function (event, type, act, added, removed) {
            _this.fire(ProductIDType.EVENT_SELECT_DIM + "," + ProductIDType.EVENT_SELECT_PRODUCT, _this.elems.indexOf(event.currentTarget), type, act, added, removed);
            _this.fire(ProductIDType.EVENT_SELECT_DIM + "-" + type + "," + ProductIDType.EVENT_SELECT_PRODUCT + "-" + type, _this.elems.indexOf(event.currentTarget), act, added, removed);
        };
        return _this;
    }
    ProductIDType.prototype.on = function (events, listener) {
        if (!this.isOn) {
            this.enable();
            this.isOn = true;
        }
        return _super.prototype.on.call(this, events, listener);
    };
    Object.defineProperty(ProductIDType.prototype, "id", {
        get: function () {
            return this.elems.map(function (e) { return e.id; }).join('X');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProductIDType.prototype, "name", {
        get: function () {
            return this.elems.map(function (e) { return e.name; }).join(' x ');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProductIDType.prototype, "names", {
        get: function () {
            return this.elems.map(function (e) { return e.names; }).join(' x ');
        },
        enumerable: true,
        configurable: true
    });
    ProductIDType.prototype.enable = function () {
        var _this = this;
        this.elems.forEach(function (elem) { return elem.on(__WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */].EVENT_SELECT, _this.selectionListener); });
    };
    ProductIDType.prototype.disable = function () {
        var _this = this;
        this.elems.forEach(function (elem) { return elem.off(__WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */].EVENT_SELECT, _this.selectionListener); });
    };
    ProductIDType.prototype.persist = function () {
        var s = {};
        this.sel.forEach(function (v, type) { return s[type] = v.map(function (r) { return r.toString(); }); });
        return {
            sel: s
        };
    };
    ProductIDType.prototype.restore = function (persisted) {
        var _this = this;
        Object.keys(persisted.sel).forEach(function (type) { return _this.sel.set(type, persisted.sel[type].map(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])); });
        return this;
    };
    ProductIDType.prototype.toString = function () {
        return this.name;
    };
    ProductIDType.prototype.selectionTypes = function () {
        return Array.from(this.sel.keys());
    };
    /**
     * return the current selections of the given type
     * @param type optional the selection type
     * @returns {Range[]}
     */
    ProductIDType.prototype.selections = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */]; }
        if (this.sel.has(type)) {
            return this.sel.get(type).slice();
        }
        this.sel.set(type, []);
        return [];
    };
    ProductIDType.prototype.productSelections = function (type /*, wildcardLookup: (idtype: IDType) => Promise<number> */) {
        var _this = this;
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */]; }
        var cells = this.selections(type);
        var usedCells = this.toPerDim(cells);
        this.elems.forEach(function (e, i) {
            var s = e.selections(type);
            //remove all already used rows / columns as part of the cells
            var wildcard = s.without(usedCells[i]);
            if (!wildcard.isNone) {
                //create wildcard cells, e.g., the remaining ones are row/column selections
                cells.push(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(_this.elems.map(function (e2) { return e === e2 ? wildcard.dim(0) : __WEBPACK_IMPORTED_MODULE_2__range__["Range1D"].all(); })));
            }
        });
        return cells;
        /* TODO no duplicates
         if (cells.every((c) => !c.isUnbound)) {
         //all cells are bound, just cells
         return Promise.resolve(cells);
         }
         //we need to resolve some wildcards
         return Promise.all(this.elems.map((elem, i) => {
         if (cells.some((c) => c.dim(i).isUnbound)) {
         return wildcardLookup(elem);
         } else {
         return Promise.resolve(0);
         }
         })).then((size: number[]) => {
         const fullCells : any = {};
         cells.forEach((cell) => {
         cell.product((indices: number[]) => {
         const id = indices.join('_');
         fullCells[id] = indices;
         });
         }, size);
         //fullCells contains all cells that we have to take care of
         const pairs = Object.keys(fullCells).map((k) => fullCells[k]).sort(indicesCompare);
         return compressPairs(pairs);
         });
         */
    };
    ProductIDType.prototype.select = function () {
        var a = Array.from(arguments);
        var type = (typeof a[0] === 'string') ? a.shift() : __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */], range = a[0].map(__WEBPACK_IMPORTED_MODULE_2__range__["parse"]), op = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__IIDType__["b" /* asSelectOperation */])(a[1]);
        return this.selectImpl(range, op, type);
    };
    ProductIDType.prototype.selectImpl = function (cells, op, type) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].SET; }
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */]; }
        var rcells = cells.map(__WEBPACK_IMPORTED_MODULE_2__range__["parse"]);
        var b = this.selections(type);
        var newRange = [];
        switch (op) {
            case __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].SET:
                newRange = rcells;
                break;
            case __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].ADD:
                newRange = b.concat(rcells);
                break;
            case __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].REMOVE:
                newRange = removeCells(b, rcells, this.elems.length);
                break;
        }
        //if (b.eq(new_)) {
        //  return b;
        //}
        this.sel.set(type, newRange);
        //individual selection per dimension
        var perDimSelections = this.toPerDim(newRange);
        this.disable();
        this.elems.forEach(function (e, i) { return e.select(type, perDimSelections[i]); });
        this.enable();
        var added = op !== __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].REMOVE ? rcells : [];
        var removed = (op === __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].ADD ? [] : (op === __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].SET ? b : rcells));
        this.fire(__WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */].EVENT_SELECT, type, newRange, added, removed, b);
        this.fire(ProductIDType.EVENT_SELECT_PRODUCT, -1, type, newRange, added, removed, b);
        this.fire(__WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */].EVENT_SELECT + "-" + type, newRange, added, removed, b);
        this.fire(ProductIDType.EVENT_SELECT_PRODUCT + "-" + type, -1, newRange, added, removed, b);
        return b;
    };
    ProductIDType.prototype.toPerDim = function (sel) {
        return this.elems.map(function (elem, i) {
            if (sel.length === 0) {
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["none"])();
            }
            var dimselections = sel.map(function (r) { return r.dim(i); });
            var selection = dimselections.reduce(function (p, a) { return p ? p.union(a) : a; }, null);
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(selection);
        });
    };
    ProductIDType.prototype.clear = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */]; }
        return this.selectImpl([], __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].SET, type);
    };
    ProductIDType.EVENT_SELECT_DIM = 'selectDim';
    ProductIDType.EVENT_SELECT_PRODUCT = 'selectProduct';
    return ProductIDType;
}(__WEBPACK_IMPORTED_MODULE_1__event__["EventHandler"]));
/* harmony default export */ __webpack_exports__["a"] = (ProductIDType);


/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event__ = __webpack_require__(5);

/**
 * Created by Samuel Gratzl on 27.12.2016.
 */

var PropertyHandler = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](PropertyHandler, _super);
    function PropertyHandler(code) {
        var _this = _super.call(this) || this;
        _this.map = new Map();
        if (code) {
            _this.parse(code);
        }
        return _this;
    }
    /**
     * returns the contained keys of this property handler
     * @returns {string[]}
     */
    PropertyHandler.prototype.keys = function () {
        return Array.from(this.map.keys());
    };
    /**
     * iterate over each entry in the map
     * @param f
     */
    PropertyHandler.prototype.forEach = function (f) {
        this.map.forEach(function (v, k) { return f(k, v); });
    };
    /**
     * whether the given name is defined i.e., not null
     * @deprecated use has(name)
     * @param name
     * @returns {boolean}
     */
    PropertyHandler.prototype.is = function (name) {
        return this.has(name);
    };
    PropertyHandler.prototype.has = function (name) {
        return this.getProp(name, null) != null;
    };
    /**
     * returns the given value with optional default value
     * @param name
     * @param defaultValue
     * @returns {any}
     */
    PropertyHandler.prototype.getProp = function (name, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        if (this.map.has(name)) {
            var v = this.map.get(name);
            return v === null ? null : v.toString();
        }
        return defaultValue;
    };
    /**
     * returns the given integer value with optional default, the value itself might be encoded to safe space
     * @param name
     * @param defaultValue
     * @returns {number}
     */
    PropertyHandler.prototype.getInt = function (name, defaultValue) {
        if (defaultValue === void 0) { defaultValue = NaN; }
        var l = this.getProp(name, null);
        if (l === null) {
            return defaultValue;
        }
        return parseInt(l, 10);
    };
    /**
     * removes the property from the map
     * @param name
     * @returns {boolean}
     */
    PropertyHandler.prototype.removeProp = function (name) {
        if (this.map.has(name)) {
            this.fire(PropertyHandler.EVENT_ENTRY_CHANGED + PropertyHandler.MULTI_EVENT_SEPARATOR + PropertyHandler.EVENT_CHANGED, name, this.map.get(name), null);
            this.map.delete(name);
            return true;
        }
        return false;
    };
    PropertyHandler.prototype.toString = function () {
        var r = [];
        this.map.forEach(function (v, key) {
            r.push(encodeURIComponent(key) + '=' + encodeURIComponent(v));
        });
        return r.join('&');
    };
    PropertyHandler.prototype.parse = function (code) {
        var _this = this;
        if (code === void 0) { code = ''; }
        //if available use https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams
        var oldLength = this.map.size;
        this.map.clear();
        if (code.length <= 1) { //just the starting character ? or #
            if (oldLength !== 0) {
                this.fire(PropertyHandler.EVENT_CHANGED);
            }
            return;
        }
        //http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript/21152762#21152762
        code.substr(1).split('&').forEach(function (item) {
            var s = item.split('='), k = decodeURIComponent(s[0]), v = s[1] && decodeURIComponent(s[1]);
            if (_this.map.has(k)) {
                var old = _this.map.get(k);
                if (!Array.isArray(old)) {
                    _this.map.set(k, [old, v]);
                }
                else {
                    _this.map.get(k).push(v);
                }
            }
            else {
                _this.map.set(k, v);
            }
        });
        this.fire(PropertyHandler.EVENT_CHANGED);
    };
    PropertyHandler.EVENT_CHANGED = 'changed';
    PropertyHandler.EVENT_ENTRY_CHANGED = 'entryChanged';
    return PropertyHandler;
}(__WEBPACK_IMPORTED_MODULE_1__event__["EventHandler"]));
/* harmony default export */ __webpack_exports__["a"] = (PropertyHandler);


/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__internal__ = __webpack_require__(27);
/* harmony export (immutable) */ __webpack_exports__["a"] = addIconVisChooser;
/* harmony export (immutable) */ __webpack_exports__["b"] = addSelectVisChooser;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 27.08.2014.
 */

/**
 * computes the selectable vis techniques for a given set of multi form objects
 * @param forms
 * @return {*}
 */
function toAvailableVisses(forms) {
    if (forms.length === 0) {
        return [];
    }
    if (forms.length === 1) {
        return forms[0].visses;
    }
    //intersection of all
    return forms[0].visses.filter(function (vis) { return forms.every(function (f) { return f.visses.indexOf(vis) >= 0; }); });
}
function addIconVisChooser(toolbar) {
    var forms = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        forms[_i - 1] = arguments[_i];
    }
    var s = toolbar.ownerDocument.createElement('div');
    toolbar.insertBefore(s, toolbar.firstChild);
    var visses = toAvailableVisses(forms);
    visses.forEach(function (v) {
        var child = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__internal__["a" /* createNode */])(s, 'i');
        v.iconify(child);
        child.onclick = function () { return forms.forEach(function (f) { return f.switchTo(v); }); };
    });
}
function addSelectVisChooser(toolbar) {
    var forms = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        forms[_i - 1] = arguments[_i];
    }
    var s = toolbar.ownerDocument.createElement('select');
    toolbar.insertBefore(s, toolbar.firstChild);
    var visses = toAvailableVisses(forms);
    visses.forEach(function (v, i) {
        var child = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__internal__["a" /* createNode */])(s, 'option');
        child.setAttribute('value', String(i));
        child.textContent = v.name;
    });
    // use only the current selection of the first form
    if (forms[0]) {
        s.selectedIndex = visses.indexOf(forms[0].act);
    }
    s.onchange = function () { return forms.forEach(function (f) { return f.switchTo(visses[s.selectedIndex]); }); };
}


/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__graph_graph__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__internal_promise__ = __webpack_require__(8);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return cat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return op; });
/* harmony export (immutable) */ __webpack_exports__["d"] = ref;

/**
 * Created by sam on 12.02.2015.
 */




/**
 * list of categories for actions and objects
 */
var cat = {
    data: 'data',
    selection: 'selection',
    visual: 'visual',
    layout: 'layout',
    logic: 'logic',
    custom: 'custom',
    annotation: 'annotation'
};
/**
 * list of operations
 */
var op = {
    create: 'create',
    update: 'update',
    remove: 'remove'
};
/**
 * creates an object reference to the given object
 * @param v
 * @param name
 * @param category
 * @param hash
 * @returns {{v: T, name: string, category: string}}
 */
function ref(v, name, category, hash) {
    if (category === void 0) { category = cat.data; }
    if (hash === void 0) { hash = name + '_' + category; }
    return {
        v: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])(v),
        value: v,
        name: name,
        category: category,
        hash: hash
    };
}
/**
 * tries to persist an object value supporting datatypes and DOM elements having an id
 * @param v
 * @returns {any}
 */
function persistData(v) {
    if (v === undefined || v === null) {
        return null;
    }
    if (v instanceof Element) {
        var e = v, id = e.getAttribute('id');
        return { type: 'element', id: id };
    }
    if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["isDataType"])(v)) {
        var e = v;
        return { type: 'dataset', id: e.desc.id, persist: e.persist() };
    }
    if (typeof v === 'string' || typeof v === 'number') {
        return { type: 'primitive', v: v };
    }
    return null;
}
function restoreData(v) {
    if (!v) {
        return null;
    }
    switch (v.type) {
        case 'element':
            if (v.id) {
                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])(document.getElementById(v.id));
            }
            return null;
        case 'dataset':
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__data__["get"])(v.persist);
        case 'primitive':
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])(v.v);
    }
    return null;
}
/**
 * a graph node of type object
 */
var ObjectNode = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ObjectNode, _super);
    function ObjectNode(_v, name, category, hash, description) {
        if (category === void 0) { category = cat.data; }
        if (hash === void 0) { hash = name + '_' + category; }
        if (description === void 0) { description = ''; }
        var _this = _super.call(this, 'object') || this;
        _this._v = _v;
        _this._persisted = null;
        if (_v != null) { //if the value is given, auto generate a promise for it
            _this._promise = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])(_v);
        }
        _super.prototype.setAttr.call(_this, 'name', name);
        _super.prototype.setAttr.call(_this, 'category', category);
        _super.prototype.setAttr.call(_this, 'hash', hash);
        _super.prototype.setAttr.call(_this, 'description', description);
        return _this;
    }
    Object.defineProperty(ObjectNode.prototype, "value", {
        get: function () {
            this.checkPersisted();
            return this._v;
        },
        set: function (v) {
            this._v = v;
            this._promise = v == null ? null : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])(v);
            this._persisted = null;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * checks whether the persisted value was already restored
     */
    ObjectNode.prototype.checkPersisted = function () {
        var _this = this;
        if (this._persisted != null) {
            this._promise = restoreData(this._persisted);
            if (this._promise) {
                this._promise.then(function (v) {
                    _this._v = v;
                });
            }
            this._persisted = null;
        }
    };
    Object.defineProperty(ObjectNode.prototype, "v", {
        get: function () {
            this.checkPersisted();
            return this._promise;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectNode.prototype, "name", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'name', '');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectNode.prototype, "category", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'category', '');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectNode.prototype, "hash", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'hash', '');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectNode.prototype, "description", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'description', '');
        },
        enumerable: true,
        configurable: true
    });
    ObjectNode.prototype.persist = function () {
        var r = _super.prototype.persist.call(this);
        if (!r.attrs) {
            r.attrs = {};
        }
        r.attrs.v = this._persisted ? this._persisted : persistData(this.value);
        return r;
    };
    ObjectNode.prototype.restore = function (p) {
        this._persisted = p.attrs.v;
        delete p.attrs.v;
        _super.prototype.restore.call(this, p);
        return this;
    };
    ObjectNode.restore = function (p) {
        var r = new ObjectNode(null, p.attrs.name, p.attrs.category, p.attrs.hash || p.attrs.name + '_' + p.attrs.category);
        return r.restore(p);
    };
    Object.defineProperty(ObjectNode.prototype, "createdBy", {
        get: function () {
            var r = this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__graph_graph__["d" /* isType */])('creates'))[0];
            return r ? r.source : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectNode.prototype, "removedBy", {
        get: function () {
            var r = this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__graph_graph__["d" /* isType */])('removes'))[0];
            return r ? r.source : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectNode.prototype, "requiredBy", {
        get: function () {
            return this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__graph_graph__["d" /* isType */])('requires')).map(function (e) { return e.source; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectNode.prototype, "partOf", {
        get: function () {
            return this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__graph_graph__["d" /* isType */])('consistsOf')).map(function (e) { return e.source; });
        },
        enumerable: true,
        configurable: true
    });
    ObjectNode.prototype.toString = function () {
        return this.name;
    };
    return ObjectNode;
}(__WEBPACK_IMPORTED_MODULE_3__graph_graph__["b" /* GraphNode */]));
/* harmony default export */ __webpack_exports__["a"] = (ObjectNode);


/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Range1D__ = __webpack_require__(18);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */


function toBase(groups) {
    if (groups.length === 1) {
        return groups[0];
    }
    var r = groups[0].iter().asList();
    groups.slice(1).forEach(function (g) {
        g.iter().forEach(function (i) {
            if (r.indexOf(i) < 0) {
                r.push(i);
            }
        });
    });
    return __WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */].from(r);
}
var CompositeRange1D = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](CompositeRange1D, _super);
    function CompositeRange1D(name, groups, base) {
        var _this = _super.call(this, base ? base : toBase(groups)) || this;
        _this.name = name;
        _this.groups = groups;
        return _this;
    }
    CompositeRange1D.prototype.preMultiply = function (sub, size) {
        var r = this.groups.length > 1 ? _super.prototype.preMultiply.call(this, sub, size) : undefined;
        return new CompositeRange1D(this.name, this.groups.map(function (g) { return g.preMultiply(sub, size); }), r);
    };
    CompositeRange1D.prototype.union = function (other, size) {
        var r = this.groups.length > 1 ? _super.prototype.union.call(this, other, size) : undefined;
        return new CompositeRange1D(this.name, this.groups.map(function (g) { return g.union(other, size); }), r);
    };
    CompositeRange1D.prototype.intersect = function (other, size) {
        var r = this.groups.length > 1 ? _super.prototype.intersect.call(this, other, size) : undefined;
        return new CompositeRange1D(this.name, this.groups.map(function (g) { return g.intersect(other, size); }), r);
    };
    CompositeRange1D.prototype.without = function (without, size) {
        var r = this.groups.length > 1 ? _super.prototype.without.call(this, without, size) : undefined;
        return new CompositeRange1D(this.name, this.groups.map(function (g) { return g.without(without, size); }), r);
    };
    CompositeRange1D.prototype.clone = function () {
        var r = this.groups.length > 1 ? _super.prototype.clone.call(this) : undefined;
        return new CompositeRange1D(name, this.groups.map(function (g) { return g.clone(); }), r);
    };
    CompositeRange1D.prototype.sort = function (cmp) {
        var r = this.groups.length > 1 ? _super.prototype.sort.call(this, cmp) : undefined;
        return new CompositeRange1D(this.name, this.groups.map(function (g) { return g.sort(cmp); }), r);
    };
    CompositeRange1D.prototype.toSet = function (size) {
        var r = this.groups.length > 1 ? _super.prototype.toSet.call(this, size) : undefined;
        return new CompositeRange1D(this.name, this.groups.map(function (g) { return g.toSet(size); }), r);
    };
    CompositeRange1D.prototype.toString = function () {
        return '"' + this.name + '"{' + this.groups.join(',') + '}';
    };
    CompositeRange1D.prototype.fromLikeComposite = function (groups) {
        return new CompositeRange1D(this.name, groups);
    };
    return CompositeRange1D;
}(__WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (CompositeRange1D);


/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Range1D__ = __webpack_require__(18);
/* harmony export (immutable) */ __webpack_exports__["b"] = all;
/* harmony export (immutable) */ __webpack_exports__["c"] = none;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */

/**
 * multi dimensional version of a RangeDim
 */
var Range = /** @class */ (function () {
    function Range(dims) {
        if (dims === void 0) { dims = []; }
        this.dims = dims;
    }
    Object.defineProperty(Range.prototype, "isAll", {
        /**
         * checks if this range is all
         * @returns {boolean}
         */
        get: function () {
            return this.dims.every(function (dim) { return dim.isAll; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range.prototype, "isNone", {
        get: function () {
            return this.dims.every(function (dim) { return dim.isNone; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range.prototype, "isUnbound", {
        /**
         * checks whether there are any wildcards
         */
        get: function () {
            return this.dims.some(function (dim) { return dim.isUnbound; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range.prototype, "first", {
        get: function () {
            return this.dim(0).first;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range.prototype, "last", {
        get: function () {
            return this.dim(0).last;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Range.prototype, "ndim", {
        /**
         * number of defined dimensions
         * @returns {number}
         */
        get: function () {
            return this.dims.length;
        },
        enumerable: true,
        configurable: true
    });
    Range.prototype.eq = function (other) {
        if (this === other || (this.isAll && other.isAll) || (this.isNone && other.isNone)) {
            return true;
        }
        //TODO more performant comparison
        return this.toString() === other.toString();
    };
    /**
     * combines this range with another and returns a new one
     * this = (1,3,5,7), other = (1,2) -> (1,2)(1,3,5,7) = (3,5)
     * @param other
     * @returns {*}
     */
    Range.prototype.preMultiply = function (other, size) {
        if (this.isAll) {
            return other.clone();
        }
        if (other.isAll) {
            return this.clone();
        }
        var r = new Range();
        this.dims.forEach(function (d, i) {
            r.dims[i] = d.preMultiply(other.dim(i), size ? size[i] : undefined);
        });
        return r;
    };
    Range.prototype.union = function (other, size) {
        if (this.isAll || other.isNone) {
            return this.clone();
        }
        if (other.isAll || this.isNone) {
            return other.clone();
        }
        var r = new Range();
        this.dims.forEach(function (d, i) {
            r.dims[i] = d.union(other.dim(i), size ? size[i] : undefined);
        });
        return r;
    };
    /**
     * logical intersection between two ranges
     * @param other
     * @returns {RangeDim}
     */
    Range.prototype.intersect = function (other, size) {
        if (this.isNone || other.isNone) {
            return none();
        }
        if (this.isAll) {
            return other.clone();
        }
        if (other.isAll) {
            return this.clone();
        }
        var r = new Range();
        this.dims.forEach(function (d, i) {
            r.dims[i] = d.intersect(other.dim(i), size ? size[i] : undefined);
        });
        return r;
    };
    Range.prototype.without = function (without, size) {
        if (this.isNone || without.isNone) {
            return this.clone();
        }
        if (without.isAll) {
            return none();
        }
        var r = new Range();
        this.dims.forEach(function (d, i) {
            r.dims[i] = d.without(without.dim(i), size ? size[i] : undefined);
        });
        return r;
    };
    /**
     * clones this range
     * @returns {*}
     */
    Range.prototype.clone = function () {
        var r = new Range();
        this.dims.forEach(function (d, i) {
            r.dims[i] = d.clone();
        });
        return r;
    };
    /**
     * create a new range and reverse the dimensions
     */
    Range.prototype.swap = function () {
        return new Range(this.dims.map(function (d) { return d.clone(); }).reverse());
    };
    /**
     * filter the given multi dimensional data according to the current range
     * @param data
     * @param size the underlying size for negative indices
     * @returns {*}
     */
    Range.prototype.filter = function (data, size) {
        if (this.isAll) {
            return data;
        }
        var ndim = this.ndim;
        var that = this;
        //recursive variant for just filtering the needed rows
        var filterDim = function (i) {
            if (i >= ndim) { //out of range no filtering anymore
                return function (d) { return d; };
            }
            var d = that.dim(i);
            var next = filterDim(i + 1); //compute next transform
            var s = size ? size[i] : undefined;
            return function (elem) {
                return Array.isArray(elem) ? d.filter(elem, s, next) : elem;
            };
        };
        var f = filterDim(0);
        return f(data);
    };
    /**
     * return a specific dimension
     * @param dimension
     * @returns {r}
     */
    Range.prototype.dim = function (dimension) {
        var r = this.dims[dimension];
        if (r) {
            return r;
        }
        //not yet existing create one
        this.dims[dimension] = __WEBPACK_IMPORTED_MODULE_0__Range1D__["a" /* default */].all();
        return this.dims[dimension];
    };
    /**
     * transforms the given multi dimensional indices to their parent notation
     * @param indices
     * @param size the underlying size for negative indices
     */
    Range.prototype.invert = function (indices, size) {
        var _this = this;
        if (this.isAll) {
            return indices;
        }
        return indices.map(function (index, i) {
            return _this.dim(i).invert(index, size ? size[i] : undefined);
        });
    };
    Range.prototype.indexRangeOf = function (r, size) {
        if (r.isNone || this.isNone) {
            return none();
        }
        if (this.isNone || r.isAll) {
            return this.clone();
        }
        return new Range(this.dims.map(function (d, i) { return d.indexRangeOf(r.dim(i), size ? size[i] : undefined); }));
    };
    Range.prototype.indexOf = function () {
        var _this = this;
        if (arguments[0] instanceof Range) {
            return this.indexRangeOf(arguments[0], arguments[1]);
        }
        var arr;
        if (arguments.length === 1) {
            if (typeof arguments[0] === 'number') {
                return this.dim(0).indexOf(arguments[0]);
            }
            arr = arguments[0];
        }
        else {
            arr = Array.from(arguments);
        }
        if (arr.length === 0) {
            return [];
        }
        return arr.map(function (index, i) { return _this.dim(i).indexOf(index); });
    };
    /**
     * returns the range size
     * @param size the underlying size for negative indices
     * @returns {*}
     */
    Range.prototype.size = function (size) {
        if (this.isAll) {
            return size;
        }
        return this.dims.map(function (r, i) {
            return r.size(size ? size[i] : undefined);
        });
    };
    Range.prototype.split = function () {
        return this.dims.map(function (dim) {
            return new Range([dim]);
        });
    };
    /**
     * iterates over the product of this range, e.g. (0,1,2),(3) => (0,3),(1,3),(2,3)
     * @param callback
     * @param size
     */
    Range.prototype.product = function (callback, size) {
        var _this = this;
        var ndim = this.ndim;
        var iter = function (ids) {
            var act = ids.length;
            if (act < ndim) {
                var dim = _this.dims[act];
                dim.iter(size ? size[act] : null).forEach(function (id) {
                    ids.push(id);
                    iter(ids);
                    ids.pop();
                });
            }
            else {
                callback(ids.slice());
            }
        };
        iter([]);
    };
    /**
     * encoded the given range in a string
     */
    Range.prototype.toString = function () {
        return this.dims.map(function (d) {
            return d.toString();
        }).join(',');
    };
    return Range;
}());
/* harmony default export */ __webpack_exports__["a"] = (Range);
/**
 * creates a new range including everything
 * @returns {Range}
 */
function all() {
    return new Range();
}
function none() {
    //ensure two dimensions
    return new Range([__WEBPACK_IMPORTED_MODULE_0__Range1D__["a" /* default */].none(), __WEBPACK_IMPORTED_MODULE_0__Range1D__["a" /* default */].none()]);
}


/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Range1D__ = __webpack_require__(18);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */


var Range1DGroup = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Range1DGroup, _super);
    function Range1DGroup(name, color, base) {
        var _this = _super.call(this, base) || this;
        _this.name = name;
        _this.color = color;
        return _this;
    }
    Range1DGroup.prototype.preMultiply = function (sub, size) {
        var r = _super.prototype.preMultiply.call(this, sub, size);
        return new Range1DGroup(this.name, this.color, r);
    };
    Range1DGroup.prototype.union = function (other, size) {
        var r = _super.prototype.union.call(this, other, size);
        return new Range1DGroup(this.name, this.color, r);
    };
    Range1DGroup.prototype.intersect = function (other, size) {
        var r = _super.prototype.intersect.call(this, other, size);
        return new Range1DGroup(this.name, this.color, r);
    };
    Range1DGroup.prototype.without = function (without, size) {
        var r = _super.prototype.without.call(this, without, size);
        return new Range1DGroup(this.name, this.color, r);
    };
    Range1DGroup.prototype.clone = function () {
        return new Range1DGroup(this.name, this.color, _super.prototype.clone.call(this));
    };
    Range1DGroup.prototype.toString = function () {
        return '"' + this.name + '""' + this.color + '"' + _super.prototype.toString.call(this);
    };
    Range1DGroup.prototype.toSet = function (size) {
        return new Range1DGroup(this.name, this.color, _super.prototype.toSet.call(this, size));
    };
    Range1DGroup.prototype.fromLike = function (indices) {
        return new Range1DGroup(this.name, this.color, _super.prototype.fromLike.call(this, indices));
    };
    return Range1DGroup;
}(__WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (Range1DGroup);


/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _assertThisInitialized;
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _typeof;
function _typeof(obj) {
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function _typeof(obj) {
      return typeof obj;
    };
  } else {
    _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1____ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__IAtom__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__AAtom__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__range__ = __webpack_require__(1);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Atom", function() { return Atom; });
/* harmony export (immutable) */ __webpack_exports__["create"] = create;
/* harmony export (immutable) */ __webpack_exports__["asAtom"] = asAtom;
/**
 * Created by Samuel Gratzl on 14.02.2017.
 */







var Atom = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Atom, _super);
    function Atom(desc, loaded) {
        var _this = _super.call(this, desc) || this;
        _this.loaded = loaded;
        return _this;
    }
    Atom.prototype.id = function () {
        return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__range__["list"])(this.loaded.id));
    };
    Atom.prototype.name = function () {
        return Promise.resolve(this.loaded.name);
    };
    Atom.prototype.data = function () {
        return Promise.resolve(this.loaded.value);
    };
    return Atom;
}(__WEBPACK_IMPORTED_MODULE_5__AAtom__["a" /* default */]));

var noValue = {
    id: -1,
    name: '',
    value: null
};
function create(desc) {
    if (typeof (desc.data) !== undefined) {
        return new Atom(desc, desc.data);
    }
    return new Atom(desc, noValue);
}
function asAtom(name, value, options) {
    if (options === void 0) { options = {}; }
    var desc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1____["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__IAtom__["a" /* createDefaultAtomDesc */])(), {
        value: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["guessValueTypeDesc"])([value])
    }, options);
    var rowAssigner = options.rowassigner || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["createLocalAssigner"])();
    var atom = {
        name: name,
        value: value,
        id: rowAssigner([name]).first
    };
    return new Atom(desc, atom);
}


/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__2D__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AShape__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Circle__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Rect__ = __webpack_require__(16);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */





var Ellipse = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Ellipse, _super);
    function Ellipse(x, y, radiusX, radiusY) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        if (radiusX === void 0) { radiusX = 0; }
        if (radiusY === void 0) { radiusY = 0; }
        var _this = _super.call(this) || this;
        _this.x = x;
        _this.y = y;
        _this.radiusX = radiusX;
        _this.radiusY = radiusY;
        return _this;
    }
    Object.defineProperty(Ellipse.prototype, "xy", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](this.x, this.y);
        },
        enumerable: true,
        configurable: true
    });
    Ellipse.prototype.toString = function () {
        return "Ellipse(x=" + this.x + ",y=" + this.y + ",radiusX=" + this.radiusX + ",radiusY=" + this.radiusY + ")";
    };
    Ellipse.prototype.shiftImpl = function (x, y) {
        this.x += x;
        this.y += y;
    };
    Ellipse.prototype.aabb = function () {
        return new __WEBPACK_IMPORTED_MODULE_4__Rect__["a" /* default */](this.x - this.radiusX, this.y - this.radiusY, this.radiusX * 2, this.radiusY * 2);
    };
    Ellipse.prototype.bs = function () {
        return new __WEBPACK_IMPORTED_MODULE_3__Circle__["a" /* default */](this.x, this.y, Math.max(this.radiusX, this.radiusY));
    };
    Ellipse.prototype.transform = function (scale, rotate) {
        //TODO rotate
        return new Ellipse(this.x * scale[0], this.y * scale[1], this.radiusX * scale[0], this.radiusY * scale[1]);
    };
    Ellipse.prototype.asIntersectionParams = function () {
        return {
            name: 'Ellipse',
            params: [this.xy, this.radiusX, this.radiusY]
        };
    };
    return Ellipse;
}(__WEBPACK_IMPORTED_MODULE_2__AShape__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (Ellipse);


/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__2D__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AShape__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Circle__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Rect__ = __webpack_require__(16);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */





var Line = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Line, _super);
    function Line(x1, y1, x2, y2) {
        if (x1 === void 0) { x1 = 0; }
        if (y1 === void 0) { y1 = 0; }
        if (x2 === void 0) { x2 = 0; }
        if (y2 === void 0) { y2 = 0; }
        var _this = _super.call(this) || this;
        _this.x1 = x1;
        _this.y1 = y1;
        _this.x2 = x2;
        _this.y2 = y2;
        return _this;
    }
    Object.defineProperty(Line.prototype, "xy", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](this.x1, this.y1);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Line.prototype, "x1y1", {
        get: function () {
            return this.xy;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Line.prototype, "x2y2", {
        get: function () {
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](this.x2, this.y2);
        },
        enumerable: true,
        configurable: true
    });
    Line.prototype.toString = function () {
        return "Line(x1=" + this.x1 + ",y1=" + this.y1 + ",x2=" + this.x2 + ",y2=" + this.y2 + ")";
    };
    Line.prototype.shiftImpl = function (x, y) {
        this.x1 += x;
        this.y1 += y;
        this.x2 += x;
        this.y2 += y;
    };
    Line.prototype.aabb = function () {
        return new __WEBPACK_IMPORTED_MODULE_4__Rect__["a" /* default */](Math.min(this.x1, this.x2), Math.min(this.y1, this.y2), Math.abs(this.x1 - this.x2), Math.abs(this.y1 - this.y2));
    };
    Line.prototype.bs = function () {
        var x = 0.5 * (this.x1 + this.x2);
        var y = 0.5 * (this.y1 + this.y2);
        var dx = (this.x1 - this.x2);
        var dy = (this.y1 - this.y2);
        return new __WEBPACK_IMPORTED_MODULE_3__Circle__["a" /* default */](x, y, Math.sqrt(dx * dx + dy * dy) / 2);
    };
    Line.prototype.transform = function (scale, rotate) {
        //TODO rotate
        return new Line(this.x1 * scale[0], this.y1 * scale[1], this.x2 * scale[0], this.y2 * scale[1]);
    };
    Line.prototype.asIntersectionParams = function () {
        return {
            name: 'Line',
            params: [this.xy, this.x2y2]
        };
    };
    return Line;
}(__WEBPACK_IMPORTED_MODULE_2__AShape__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (Line);


/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__2D__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AShape__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Circle__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Rect__ = __webpack_require__(16);

/**
 * Created by Samuel Gratzl on 27.12.2016.
 */




var Polygon = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Polygon, _super);
    function Polygon(points) {
        if (points === void 0) { points = []; }
        var _this = _super.call(this) || this;
        _this.points = points;
        return _this;
    }
    Polygon.prototype.push = function () {
        if (arguments.length === 2 && typeof arguments[0] === 'number') {
            this.points.push(new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](arguments[0], arguments[1]));
        }
        else {
            (_a = this.points).push.apply(_a, Array.from(arguments));
        }
        var _a;
    };
    Polygon.prototype.toString = function () {
        return "Polygon(" + this.points.join(',') + ")";
    };
    Polygon.prototype.shiftImpl = function (x, y) {
        this.points.forEach(function (p) {
            p.x += x;
            p.y += y;
        });
    };
    Object.defineProperty(Polygon.prototype, "length", {
        get: function () {
            return this.points.length;
        },
        enumerable: true,
        configurable: true
    });
    Polygon.prototype.aabb = function () {
        var minX = Number.POSITIVE_INFINITY, minY = Number.POSITIVE_INFINITY, maxX = Number.NEGATIVE_INFINITY, maxY = Number.NEGATIVE_INFINITY;
        this.points.forEach(function (p) {
            if (p.x < minX) {
                minX = p.x;
            }
            if (p.y < minY) {
                minY = p.y;
            }
            if (p.x > maxX) {
                maxX = p.x;
            }
            if (p.y > maxY) {
                maxY = p.y;
            }
        });
        return new __WEBPACK_IMPORTED_MODULE_4__Rect__["a" /* default */](minX, minY, maxX - minX, maxY - minY);
    };
    Polygon.prototype.bs = function () {
        var centroid = this.centroid;
        var radius2 = 0;
        this.points.forEach(function (p) {
            var dx = p.x - centroid.x;
            var dy = p.y - centroid.x;
            var d = dx * dx + dy * dy;
            if (d > radius2) {
                radius2 = d;
            }
        });
        return new __WEBPACK_IMPORTED_MODULE_3__Circle__["a" /* default */](centroid.x, centroid.y, Math.sqrt(radius2));
    };
    Polygon.prototype.transform = function (scale, rotate) {
        //TODO rotate
        return new Polygon(this.points.map(function (p) { return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](p.x * scale[0], p.y * scale[1]); }));
    };
    Polygon.prototype.pointInPolygon = function (point) {
        var length = this.points.length;
        var counter = 0;
        var p1 = this.points[0];
        for (var i = 1; i <= length; i++) {
            var p2 = this.points[i % length];
            if (point.y > Math.min(p1.y, p2.y) && point.y <= Math.max(p1.y, p2.y) && point.x <= Math.max(p1.x, p2.x) && p1.y !== p2.y) {
                var xInter = (point.y - p1.y) * (p2.x - p1.x) / (p2.y - p1.y) + p1.x;
                if (p1.x === p2.x || point.x <= xInter) {
                    counter++;
                }
            }
            p1 = p2;
        }
        return (counter % 2 === 1);
    };
    Object.defineProperty(Polygon.prototype, "area", {
        get: function () {
            var area = 0;
            var length = this.points.length;
            for (var i = 0; i < length; i++) {
                var h1 = this.points[i];
                var h2 = this.points[(i + 1) % length];
                area += (h1.x * h2.y - h2.x * h1.y);
            }
            return area / 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Polygon.prototype, "centroid", {
        get: function () {
            var length = this.points.length;
            var area6x = 6 * this.area;
            var xSum = 0;
            var ySum = 0;
            for (var i = 0; i < length; i++) {
                var p1 = this.points[i];
                var p2 = this.points[(i + 1) % length];
                var cross = (p1.x * p2.y - p2.x * p1.y);
                xSum += (p1.x + p2.x) * cross;
                ySum += (p1.y + p2.y) * cross;
            }
            return new __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"](xSum / area6x, ySum / area6x);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Polygon.prototype, "isClockwise", {
        get: function () {
            return this.area < 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Polygon.prototype, "isCounterClockwise", {
        get: function () {
            return this.area > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Polygon.prototype, "isConcave", {
        get: function () {
            var positive = 0;
            var negative = 0;
            var length = this.points.length;
            for (var i = 0; i < length; i++) {
                var p0 = this.points[i];
                var p1 = this.points[(i + 1) % length];
                var p2 = this.points[(i + 2) % length];
                var v0 = __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"].fromPoints(p0, p1);
                var v1 = __WEBPACK_IMPORTED_MODULE_1__2D__["Vector2D"].fromPoints(p1, p2);
                var cross = v0.cross(v1);
                if (cross < 0) {
                    negative++;
                }
                else {
                    positive++;
                }
            }
            return (negative !== 0 && positive !== 0);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Polygon.prototype, "isConvex", {
        get: function () {
            return !this.isConcave;
        },
        enumerable: true,
        configurable: true
    });
    Polygon.prototype.asIntersectionParams = function () {
        return {
            name: 'Polygon',
            params: [this.points.slice()]
        };
    };
    return Polygon;
}(__WEBPACK_IMPORTED_MODULE_2__AShape__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (Polygon);


/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__graph__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GraphBase__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__RemoteStorageGraph__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__MemoryGraph__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__LocalStorageGraph__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__internal_promise__ = __webpack_require__(8);
/* harmony export (immutable) */ __webpack_exports__["create"] = create;

/**
 * Created by sam on 12.02.2015.
 */









var GraphProxy = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](GraphProxy, _super);
    function GraphProxy(desc) {
        var _this = _super.call(this, desc) || this;
        _this.cache = null;
        _this.loaded = null;
        return _this;
    }
    Object.defineProperty(GraphProxy.prototype, "nnodes", {
        get: function () {
            if (this.loaded) {
                return this.loaded.nnodes;
            }
            var size = this.desc.size;
            return size[__WEBPACK_IMPORTED_MODULE_4__graph__["e" /* DIM_NODES */]] || 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GraphProxy.prototype, "nedges", {
        get: function () {
            if (this.loaded) {
                return this.loaded.nedges;
            }
            var size = this.desc.size;
            return size[__WEBPACK_IMPORTED_MODULE_4__graph__["f" /* DIM_EDGES */]] || 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GraphProxy.prototype, "dim", {
        get: function () {
            return [this.nnodes, this.nedges];
        },
        enumerable: true,
        configurable: true
    });
    GraphProxy.prototype.impl = function (factory) {
        var _this = this;
        if (factory === void 0) { factory = __WEBPACK_IMPORTED_MODULE_5__GraphBase__["a" /* defaultGraphFactory */]; }
        if (this.cache) {
            return this.cache;
        }
        var type = this.desc.storage || 'remote';
        if (type === 'memory') {
            //memory only
            this.loaded = new __WEBPACK_IMPORTED_MODULE_7__MemoryGraph__["a" /* default */](this.desc, [], [], factory);
            this.cache = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__internal_promise__["a" /* resolveImmediately */])(this.loaded);
        }
        else if (type === 'local') {
            this.loaded = __WEBPACK_IMPORTED_MODULE_8__LocalStorageGraph__["a" /* default */].load(this.desc, factory, localStorage);
            this.cache = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__internal_promise__["a" /* resolveImmediately */])(this.loaded);
        }
        else if (type === 'session') {
            this.loaded = __WEBPACK_IMPORTED_MODULE_8__LocalStorageGraph__["a" /* default */].load(this.desc, factory, sessionStorage);
            this.cache = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__internal_promise__["a" /* resolveImmediately */])(this.loaded);
        }
        else if (type === 'given' && this.desc.graph instanceof __WEBPACK_IMPORTED_MODULE_4__graph__["c" /* AGraph */]) {
            this.loaded = this.desc.graph;
            this.cache = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__internal_promise__["a" /* resolveImmediately */])(this.loaded);
        }
        else {
            this.cache = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__internal_promise__["a" /* resolveImmediately */])(__WEBPACK_IMPORTED_MODULE_6__RemoteStorageGraph__["a" /* default */].load(this.desc, factory)).then(function (graph) { return _this.loaded = graph; });
        }
        return this.cache;
    };
    GraphProxy.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["all"])(); }
        if (this.cache) {
            return Promise.resolve(this.cache.then(function (i) { return i.ids(range); })); // TODO avoid <any> type cast
        }
        return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__range__["none"])());
    };
    Object.defineProperty(GraphProxy.prototype, "idtypes", {
        get: function () {
            return [__WEBPACK_IMPORTED_MODULE_4__graph__["g" /* IDTYPE_NODES */], __WEBPACK_IMPORTED_MODULE_4__graph__["h" /* IDTYPE_EDGES */]].map(__WEBPACK_IMPORTED_MODULE_1__idtype__["resolve"]);
        },
        enumerable: true,
        configurable: true
    });
    return GraphProxy;
}(__WEBPACK_IMPORTED_MODULE_2__datatype__["ADataType"]));
/* harmony default export */ __webpack_exports__["default"] = (GraphProxy);
/**
 * module entry point for creating a datatype
 * @param desc
 * @returns {IMatrix}
 */
function create(desc) {
    return new GraphProxy(desc);
}


/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GraphBase__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__graph__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__internal_promise__ = __webpack_require__(8);

/**
 * Created by Samuel Gratzl on 22.10.2014.
 */




var RemoteStoreGraph = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](RemoteStoreGraph, _super);
    function RemoteStoreGraph(desc) {
        var _this = _super.call(this, desc) || this;
        _this.updateHandler = function (event) {
            var s = event.target;
            if (s instanceof __WEBPACK_IMPORTED_MODULE_3__graph__["b" /* GraphNode */]) {
                _this.updateNode(s);
            }
            if (s instanceof __WEBPACK_IMPORTED_MODULE_3__graph__["a" /* GraphEdge */]) {
                _this.updateEdge(s);
            }
        };
        _this.waitForSynced = 0;
        _this.queue = [];
        _this.flushTimeout = -1;
        _this.batchSize = desc.attrs.batchSize || RemoteStoreGraph.DEFAULT_BATCH_SIZE;
        return _this;
    }
    RemoteStoreGraph.prototype.migrate = function () {
        var _this = this;
        this.nodes.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        this.edges.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        //TODO delete old
        return _super.prototype.migrate.call(this);
    };
    RemoteStoreGraph.load = function (desc, factory) {
        var r = new RemoteStoreGraph(desc);
        return r.load(factory);
    };
    RemoteStoreGraph.prototype.load = function (factory) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var r;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.fire('sync_load_start,sync_start', ++this.waitForSynced);
                        return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["sendAPI"])("/dataset/graph/" + this.desc.id + "/data")];
                    case 1:
                        r = _a.sent();
                        this.loadImpl(r.nodes, r.edges, factory);
                        this.fire('sync_load,sync', --this.waitForSynced);
                        return [2 /*return*/, this];
                }
            });
        });
    };
    RemoteStoreGraph.prototype.loadImpl = function (nodes, edges, factory) {
        var _this = this;
        var lookup = new Map(), lookupFun = lookup.get.bind(lookup);
        nodes.forEach(function (n) {
            var nn = factory.makeNode(n);
            lookup.set(nn.id, nn);
            nn.on('setAttr', _this.updateHandler);
            _super.prototype.addNode.call(_this, nn);
        });
        edges.forEach(function (n) {
            var nn = factory.makeEdge(n, lookupFun);
            nn.on('setAttr', _this.updateHandler);
            _super.prototype.addEdge.call(_this, nn);
        });
        this.fire('loaded');
    };
    Object.defineProperty(RemoteStoreGraph.prototype, "activeSyncOperations", {
        get: function () {
            return this.waitForSynced;
        },
        enumerable: true,
        configurable: true
    });
    RemoteStoreGraph.prototype.send = function (type, op, elem) {
        if (this.batchSize <= 1) {
            return this.sendNow(type, op, elem);
        }
        else {
            var item = { type: type, op: op, id: elem.id, desc: elem.persist() };
            return this.enqueue(item);
        }
    };
    RemoteStoreGraph.prototype.enqueue = function (item) {
        var _this = this;
        if (this.flushTimeout >= 0) {
            clearTimeout(this.flushTimeout);
            this.flushTimeout = -1;
        }
        this.queue.push(item);
        if (this.queue.length >= this.batchSize * 2) { //really full
            return this.sendQueued();
        }
        var wait = this.queue.length >= this.batchSize ? RemoteStoreGraph.DEFAULT_WAIT_TIME_BEFORE_FULL_FLUSH : RemoteStoreGraph.DEFAULT_WAIT_TIME_BEFORE_EARLY_FLUSH;
        //send it at most timeout ms if there is no update in between
        this.flushTimeout = setTimeout(function () {
            _this.sendQueued();
        }, wait);
    };
    RemoteStoreGraph.prototype.sendNow = function (type, op, elem) {
        var _this = this;
        this.fire("sync_start_" + type + ",sync_start", ++this.waitForSynced, op + "_{type}", elem);
        var data = {
            desc: JSON.stringify(elem.persist())
        };
        var create = function () {
            switch (op) {
                case 'add':
                    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["sendAPI"])("/dataset/graph/" + _this.desc.id + "/" + type, data, 'POST');
                case 'update':
                    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["sendAPI"])("/dataset/graph/" + _this.desc.id + "/" + type + "/" + elem.id, data, 'PUT');
                case 'remove':
                    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["sendAPI"])("/dataset/graph/" + _this.desc.id + "/" + type + "/" + elem.id, {}, 'DELETE');
            }
        };
        return create().then(function () {
            _this.fire("sync_" + type + ",sync", --_this.waitForSynced, elem);
        });
    };
    RemoteStoreGraph.prototype.sendQueued = function () {
        var _this = this;
        if (this.queue.length === 0) {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])(null);
        }
        var param = JSON.stringify({ operation: 'batch', items: this.queue.slice() });
        // clear
        this.queue.splice(0, this.queue.length);
        this.fire("sync_start", ++this.waitForSynced, 'batch');
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["sendAPI"])("/dataset/" + this.desc.id, { desc: param }, 'POST').then(function () {
            _this.fire("sync", --_this.waitForSynced, 'batch');
            return _this;
        });
    };
    RemoteStoreGraph.prototype.flush = function () {
        if (this.batchSize <= 1 || this.queue.length === 0) {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])('nothing queued');
        }
        return this.sendQueued();
    };
    RemoteStoreGraph.prototype.addAll = function (nodes, edges) {
        var _this = this;
        //add all and and to queue
        nodes.forEach(function (n) {
            _super.prototype.addNode.call(_this, n);
            n.on('setAttr', _this.updateHandler);
            _this.queue.push({ type: 'node', op: 'add', id: n.id, desc: n.persist() });
        });
        edges.forEach(function (e) {
            _super.prototype.addEdge.call(_this, e);
            e.on('setAttr', _this.updateHandler);
            _this.queue.push({ type: 'edge', op: 'add', id: e.id, desc: e.persist() });
        });
        return this.sendQueued();
    };
    RemoteStoreGraph.prototype.addNode = function (n) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _super.prototype.addNode.call(this, n);
                        n.on('setAttr', this.updateHandler);
                        return [4 /*yield*/, this.send('node', 'add', n)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this];
                }
            });
        });
    };
    RemoteStoreGraph.prototype.updateNode = function (n) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _super.prototype.updateNode.call(this, n);
                        return [4 /*yield*/, this.send('node', 'update', n)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this];
                }
            });
        });
    };
    RemoteStoreGraph.prototype.removeNode = function (n) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!_super.prototype.removeNode.call(this, n)) {
                            return [2 /*return*/, Promise.reject('invalid node')];
                        }
                        n.off('setAttr', this.updateHandler);
                        return [4 /*yield*/, this.send('node', 'remove', n)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this];
                }
            });
        });
    };
    RemoteStoreGraph.prototype.addEdge = function (edgeOrSource, type, t) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var e;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(edgeOrSource instanceof __WEBPACK_IMPORTED_MODULE_3__graph__["a" /* GraphEdge */])) return [3 /*break*/, 2];
                        _super.prototype.addEdge.call(this, edgeOrSource);
                        e = edgeOrSource;
                        e.on('setAttr', this.updateHandler);
                        return [4 /*yield*/, this.send('edge', 'add', e)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this];
                    case 2: return [2 /*return*/, _super.prototype.addEdge.call(this, edgeOrSource, type, t)];
                }
            });
        });
    };
    RemoteStoreGraph.prototype.removeEdge = function (e) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!_super.prototype.removeEdge.call(this, e)) {
                            return [2 /*return*/, Promise.reject('invalid edge')];
                        }
                        e.off('setAttr', this.updateHandler);
                        return [4 /*yield*/, this.send('edge', 'remove', e)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this];
                }
            });
        });
    };
    RemoteStoreGraph.prototype.updateEdge = function (e) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _super.prototype.updateEdge.call(this, e);
                        return [4 /*yield*/, this.send('edge', 'update', e)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, this];
                }
            });
        });
    };
    RemoteStoreGraph.prototype.clear = function () {
        var _this = this;
        if (this.nnodes === 0 && this.nedges === 0) {
            return Promise.resolve(this);
        }
        this.nodes.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        this.edges.forEach(function (n) { return n.off('setAttr', _this.updateHandler); });
        _super.prototype.clear.call(this);
        this.flush().then(function () {
            _this.fire('sync_start', ++_this.waitForSynced, 'clear');
            //clear all nodes
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["sendAPI"])("/dataset/graph/" + _this.desc.id + "/node", {}, 'DELETE');
        }).then(function () {
            _this.fire('sync');
            return _this;
        });
    };
    RemoteStoreGraph.DEFAULT_BATCH_SIZE = 10;
    RemoteStoreGraph.DEFAULT_WAIT_TIME_BEFORE_EARLY_FLUSH = 1000; //ms
    RemoteStoreGraph.DEFAULT_WAIT_TIME_BEFORE_FULL_FLUSH = 100; //ms
    return RemoteStoreGraph;
}(__WEBPACK_IMPORTED_MODULE_2__GraphBase__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (RemoteStoreGraph);


/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__graph__ = __webpack_require__(6);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AttributeContainer", function() { return __WEBPACK_IMPORTED_MODULE_0__graph__["i"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "GraphNode", function() { return __WEBPACK_IMPORTED_MODULE_0__graph__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "GraphEdge", function() { return __WEBPACK_IMPORTED_MODULE_0__graph__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "isType", function() { return __WEBPACK_IMPORTED_MODULE_0__graph__["d"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AGraph", function() { return __WEBPACK_IMPORTED_MODULE_0__graph__["c"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GraphProxy__ = __webpack_require__(44);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "GraphProxy", function() { return __WEBPACK_IMPORTED_MODULE_1__GraphProxy__["default"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "create", function() { return __WEBPACK_IMPORTED_MODULE_1__GraphProxy__["create"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GraphBase__ = __webpack_require__(20);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "GraphBase", function() { return __WEBPACK_IMPORTED_MODULE_2__GraphBase__["b"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MemoryGraph__ = __webpack_require__(30);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MemoryGraph", function() { return __WEBPACK_IMPORTED_MODULE_3__MemoryGraph__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RemoteStorageGraph__ = __webpack_require__(45);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "RemoteStoreGraph", function() { return __WEBPACK_IMPORTED_MODULE_4__RemoteStorageGraph__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__LocalStorageGraph__ = __webpack_require__(29);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "LocalStorageGraph", function() { return __WEBPACK_IMPORTED_MODULE_5__LocalStorageGraph__["a"]; });
/**
 * Created by sam on 12.02.2015.
 */
/**
 * Created by Samuel Gratzl on 22.10.2014.
 */








/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__IIDType__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ASelectAble__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ProductIDType__ = __webpack_require__(31);
/* unused harmony export AProductSelectAble */
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */





var AProductSelectAble = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AProductSelectAble, _super);
    function AProductSelectAble() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.numProductSelectListeners = 0;
        _this.productSelectionListener = function (event, index, type) {
            var cells = _this.producttype.productSelections(type);
            if (cells.length === 0) {
                _this.fire(__WEBPACK_IMPORTED_MODULE_4__ProductIDType__["a" /* default */].EVENT_SELECT_PRODUCT, type, []);
                _this.fire(__WEBPACK_IMPORTED_MODULE_4__ProductIDType__["a" /* default */].EVENT_SELECT_PRODUCT + "-" + type, []);
                return;
            }
            _this.ids().then(function (ids) {
                var act = cells.map(function (c) { return ids.indexOf(c); }).filter(function (c) { return !c.isNone; });
                if (act.length === 0) {
                    return;
                }
                //ensure the right number of dimensions
                act.forEach(function (a) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__IIDType__["d" /* fillWithNone */])(a, ids.ndim); });
                _this.fire(__WEBPACK_IMPORTED_MODULE_4__ProductIDType__["a" /* default */].EVENT_SELECT_PRODUCT, type, act);
                _this.fire(__WEBPACK_IMPORTED_MODULE_4__ProductIDType__["a" /* default */].EVENT_SELECT_PRODUCT + "-" + type, act);
            });
        };
        return _this;
    }
    AProductSelectAble.prototype.on = function (events, handler) {
        if (typeof events === 'string' && (events === 'select' || events === 'selectProduct' || events.slice(0, 'select-'.length) === 'select-')) {
            this.numProductSelectListeners++;
            if (this.numProductSelectListeners === 1) {
                this.producttype.on('selectProduct', this.productSelectionListener);
            }
        }
        return _super.prototype.on.call(this, events, handler);
    };
    AProductSelectAble.prototype.off = function (events, handler) {
        if (typeof events === 'string' && (events === 'select' || events === 'selectProduct' || events.slice(0, 'select-'.length) === 'select-')) {
            this.numProductSelectListeners--;
            if (this.numProductSelectListeners === 0) {
                this.producttype.off('selectProduct', this.productSelectionListener);
            }
        }
        return _super.prototype.off.call(this, events, handler);
    };
    AProductSelectAble.prototype.productSelections = function (type) {
        var _this = this;
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__IIDType__["a" /* defaultSelectionType */]; }
        return this.ids().then(function (ids) {
            var cells = _this.producttype.productSelections(type);
            var act = cells.map(function (c) { return ids.indexRangeOf(c); }).filter(function (c) { return !c.isNone; });
            //ensure the right number of dimensions
            act.forEach(function (a) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__IIDType__["d" /* fillWithNone */])(a, ids.ndim); });
            return act;
        });
    };
    AProductSelectAble.prototype.selectProduct = function () {
        var a = Array.from(arguments);
        var type = (typeof a[0] === 'string') ? a.shift() : __WEBPACK_IMPORTED_MODULE_2__IIDType__["a" /* defaultSelectionType */], range = a[0].map(__WEBPACK_IMPORTED_MODULE_1__range__["parse"]), op = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__IIDType__["b" /* asSelectOperation */])(a[1]);
        return this.selectProductImpl(range, op, type);
    };
    AProductSelectAble.prototype.selectProductImpl = function (cells, op, type) {
        var _this = this;
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_2__IIDType__["c" /* SelectOperation */].SET; }
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__IIDType__["a" /* defaultSelectionType */]; }
        return this.ids().then(function (ids) {
            cells = cells.map(function (c) { return ids.preMultiply(c); });
            return _this.producttype.select(type, cells, op);
        });
    };
    AProductSelectAble.prototype.clear = function () {
        var a = Array.from(arguments);
        if (typeof a[0] === 'number') {
            a.shift();
        }
        var type = (typeof a[0] === 'string') ? a[0] : __WEBPACK_IMPORTED_MODULE_2__IIDType__["a" /* defaultSelectionType */];
        return this.selectProductImpl([], __WEBPACK_IMPORTED_MODULE_2__IIDType__["c" /* SelectOperation */].SET, type || __WEBPACK_IMPORTED_MODULE_2__IIDType__["a" /* defaultSelectionType */]);
    };
    return AProductSelectAble;
}(__WEBPACK_IMPORTED_MODULE_3__ASelectAble__["a" /* default */]));

/* harmony default export */ __webpack_exports__["a"] = (AProductSelectAble);


/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__IIDType__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__IDType__ = __webpack_require__(17);
/* unused harmony export ASelectAble */
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */





var ASelectAble = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ASelectAble, _super);
    function ASelectAble() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.numSelectListeners = 0;
        _this.selectionListeners = [];
        _this.singleSelectionListener = function (event, type, act, added, removed) { return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](_this, void 0, void 0, function () {
            var ids;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ids()];
                    case 1:
                        ids = _a.sent();
                        //filter to the right ids and convert to indices format
                        //given all ids convert the selected ids to the indices in the data type
                        act = ids.indexOf(act);
                        added = ids.indexOf(added);
                        removed = ids.indexOf(removed);
                        if (act.isNone && added.isNone && removed.isNone) {
                            return [2 /*return*/];
                        }
                        //ensure the right number of dimensions
                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__IIDType__["d" /* fillWithNone */])(act, ids.ndim);
                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__IIDType__["d" /* fillWithNone */])(added, ids.ndim);
                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__IIDType__["d" /* fillWithNone */])(removed, ids.ndim);
                        this.fire(ASelectAble.EVENT_SELECT, type, act, added, removed);
                        this.fire(ASelectAble.EVENT_SELECT + "-" + type, act, added, removed);
                        return [2 /*return*/];
                }
            });
        }); };
        _this.selectionCache = [];
        _this.accumulateEvents = -1;
        return _this;
    }
    ASelectAble.prototype.fromIdRange = function (idRange) {
        if (idRange === void 0) { idRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ids()];
                    case 1: return [2 /*return*/, (_a.sent()).indexOf(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(idRange))];
                }
            });
        });
    };
    Object.defineProperty(ASelectAble.prototype, "idtypes", {
        get: function () {
            return [];
        },
        enumerable: true,
        configurable: true
    });
    ASelectAble.prototype.selectionListener = function (idtype, index, total) {
        var _this = this;
        return function (event, type, act, added, removed) {
            _this.selectionCache[index] = { act: act, added: added, removed: removed };
            if (_this.accumulateEvents < 0 || (++_this.accumulateEvents) === total) {
                _this.fillAndSend(type, index);
            }
        };
    };
    ASelectAble.prototype.fillAndSend = function (type, trigger) {
        var _this = this;
        var ids = this.idtypes;
        var full = ids.map(function (id, i) {
            var entry = _this.selectionCache[i];
            if (entry) {
                return entry;
            }
            return {
                act: id.selections(type),
                added: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["none"])(),
                removed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["none"])()
            };
        });
        var act = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["join"])(full.map(function (entry) { return entry.act; }));
        var added = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["join"])(full.map(function (entry) { return entry.added; }));
        var removed = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["join"])(full.map(function (entry) { return entry.removed; }));
        this.selectionCache = [];
        this.accumulateEvents = -1; //reset
        this.singleSelectionListener(null, type, act, added, removed);
    };
    ASelectAble.prototype.on = function (events, handler) {
        var _this = this;
        if (typeof events === 'string' && (events === ASelectAble.EVENT_SELECT || events.slice(0, 'select-'.length) === 'select-')) {
            this.numSelectListeners++;
            if (this.numSelectListeners === 1) {
                var idt_1 = this.idtypes;
                if (idt_1.length === 1) {
                    this.selectionListeners.push(this.singleSelectionListener);
                    idt_1[0].on(ASelectAble.EVENT_SELECT, this.singleSelectionListener);
                }
                else {
                    idt_1.forEach(function (idtype, i) {
                        var s = _this.selectionListener(idtype, i, idt_1.length);
                        _this.selectionListeners.push(s);
                        idtype.on(ASelectAble.EVENT_SELECT, s);
                    });
                }
            }
        }
        return _super.prototype.on.call(this, events, handler);
    };
    ASelectAble.prototype.off = function (events, handler) {
        var _this = this;
        if (typeof events === 'string' && (events === ASelectAble.EVENT_SELECT || events.slice(0, 'select-'.length) === 'select-')) {
            this.numSelectListeners--;
            if (this.numSelectListeners === 0) {
                this.idtypes.forEach(function (idtype, i) { return idtype.off(ASelectAble.EVENT_SELECT, _this.selectionListeners[i]); });
                this.selectionListeners = [];
            }
        }
        return _super.prototype.off.call(this, events, handler);
    };
    ASelectAble.prototype.selections = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */]; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var ids, r;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ids()];
                    case 1:
                        ids = _a.sent();
                        r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["join"])(this.idtypes.map(function (idtype) { return idtype.selections(type); }));
                        return [2 /*return*/, ids.indexRangeOf(r)];
                }
            });
        });
    };
    ASelectAble.prototype.select = function () {
        var a = Array.from(arguments);
        var dim = (typeof a[0] === 'number') ? +a.shift() : -1, type = (typeof a[0] === 'string') ? a.shift() : __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */], range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(a[0]), op = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__IIDType__["b" /* asSelectOperation */])(a[1]);
        return this.selectImpl(range, op, type, dim);
    };
    ASelectAble.prototype.selectImpl = function (range, op, type, dim) {
        if (op === void 0) { op = __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].SET; }
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */]; }
        if (dim === void 0) { dim = -1; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var types, ids, r;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        types = this.idtypes;
                        return [4 /*yield*/, this.ids()];
                    case 1:
                        ids = _a.sent();
                        if (dim === -1) {
                            range = ids.preMultiply(range);
                            this.accumulateEvents = 0;
                            r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["join"])(range.split().map(function (r, i) { return types[i].select(type, r, op); }));
                            if (this.accumulateEvents > 0) { //one event has not been fires, so do it manually
                                this.fillAndSend(type, -1);
                            }
                            while (r.ndim < types.length) {
                                r.dim(r.ndim); //create intermediate ones
                            }
                            return [2 /*return*/, ids.indexRangeOf(r)];
                        }
                        else {
                            //just a single dimension
                            ids = ids.split()[dim];
                            range = ids.preMultiply(range);
                            types[dim].select(type, range, op);
                            return [2 /*return*/, ids.indexRangeOf(range)];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ASelectAble.prototype.clear = function () {
        var a = Array.from(arguments);
        var dim = (typeof a[0] === 'number') ? +a.shift() : -1;
        var type = (typeof a[0] === 'string') ? a[0] : __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */];
        return this.selectImpl(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["none"])(), __WEBPACK_IMPORTED_MODULE_3__IIDType__["c" /* SelectOperation */].SET, type, dim);
    };
    ASelectAble.EVENT_SELECT = __WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */].EVENT_SELECT;
    return ASelectAble;
}(__WEBPACK_IMPORTED_MODULE_1__event__["EventHandler"]));

/* harmony default export */ __webpack_exports__["a"] = (ASelectAble);


/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__IIDType__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__IDType__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ProductIDType__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__plugin__ = __webpack_require__(7);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return EVENT_REGISTER_IDTYPE; });
/* harmony export (immutable) */ __webpack_exports__["a"] = resolve;
/* harmony export (immutable) */ __webpack_exports__["i"] = resolveProduct;
/* harmony export (immutable) */ __webpack_exports__["d"] = list;
/* harmony export (immutable) */ __webpack_exports__["e"] = listAll;
/* harmony export (immutable) */ __webpack_exports__["g"] = register;
/* harmony export (immutable) */ __webpack_exports__["f"] = persist;
/* harmony export (immutable) */ __webpack_exports__["h"] = restore;
/* harmony export (immutable) */ __webpack_exports__["b"] = clearSelection;
/* harmony export (immutable) */ __webpack_exports__["j"] = isInternalIDType;
/**
 * Created by sam on 26.12.2016.
 */







var cache = new Map();
var filledUp = false;
var EVENT_REGISTER_IDTYPE = 'register.idtype';
function fillUpData(entries) {
    entries.forEach(function (row) {
        var entry = cache.get(row.id);
        var newOne = false;
        if (entry) {
            if (entry instanceof __WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */]) {
                entry.name = row.name;
                entry.names = row.names;
            }
        }
        else {
            entry = new __WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */](row.id, row.name, row.names);
            newOne = true;
        }
        cache.set(row.id, entry);
        if (newOne) {
            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__event__["fire"])(EVENT_REGISTER_IDTYPE, entry);
        }
    });
}
function toPlural(name) {
    if (name[name.length - 1] === 'y') {
        return name.slice(0, name.length - 1) + 'ies';
    }
    return name + 's';
}
function resolve(id) {
    if (id instanceof __WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */]) {
        return id;
    }
    else {
        var sid = id;
        return register(sid, new __WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */](sid, sid, toPlural(sid)));
    }
}
function resolveProduct() {
    var idtypes = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        idtypes[_i] = arguments[_i];
    }
    var p = new __WEBPACK_IMPORTED_MODULE_5__ProductIDType__["a" /* default */](idtypes);
    return register(p.id, p);
}
/**
 * list currently resolved idtypes
 * @returns {Array<IDType|ProductIDType>}
 */
function list() {
    return Array.from(cache.values());
}
/**
 * Get a list of all IIDTypes available on both the server and the client.
 * @returns {any}
 */
function listAll() {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var c;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (filledUp) {
                        return [2 /*return*/, Promise.resolve(list())];
                    }
                    return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ajax__["getAPIJSON"])('/idtype/', {}, [])];
                case 1:
                    c = _a.sent();
                    filledUp = true;
                    fillUpData(c);
                    return [2 /*return*/, list()];
            }
        });
    });
}
function register(id, idtype) {
    if (cache.has(id)) {
        return cache.get(id);
    }
    cache.set(id, idtype);
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__event__["fire"])('register.idtype', idtype);
    return idtype;
}
function persist() {
    var r = {};
    cache.forEach(function (v, id) {
        r[id] = v.persist();
    });
    return r;
}
function restore(persisted) {
    Object.keys(persisted).forEach(function (id) {
        resolve(id).restore(persisted[id]);
    });
}
function clearSelection(type) {
    if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_3__IIDType__["a" /* defaultSelectionType */]; }
    cache.forEach(function (v) { return v.clear(type); });
}
/**
 * whether the given idtype is an internal one or not, i.e. the internal flag is set or it starts with an underscore
 * @param idtype
 * @return {boolean}
 */
function isInternalIDType(idtype) {
    return idtype.internal || idtype.id.startsWith('_');
}
{
    var EXTENSION_POINT_IDTYPE = 'idType';
    //register known idtypes via registry
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__plugin__["list"])(EXTENSION_POINT_IDTYPE).forEach(function (plugin) {
        var id = plugin.id;
        var name = plugin.name;
        var names = plugin.names || toPlural(name);
        var internal = Boolean(plugin.internal);
        register(id, new __WEBPACK_IMPORTED_MODULE_4__IDType__["a" /* default */](id, name, names, internal));
    });
}


/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__PropertyHandler__ = __webpack_require__(32);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */


/**
 * manages the hash location property helper
 */
var HashProperties = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](HashProperties, _super);
    function HashProperties() {
        var _this = _super.call(this) || this;
        _this.updated = function () {
            _this.parse(location.hash);
            _this.fire(HashProperties.EVENT_HASH_CHANGED);
        };
        _this.debounceTimer = -1;
        var bak = history.state;
        if (bak) {
            Object.keys(bak).forEach(function (k) { return _this.map.set(k, bak[k]); });
        }
        else {
            _this.parse(location.hash);
        }
        window.addEventListener('hashchange', _this.updated, false);
        return _this;
    }
    HashProperties.prototype.setInt = function (name, value, update) {
        if (update === void 0) { update = true; }
        this.setProp(name, String(value), update);
    };
    HashProperties.prototype.setProp = function (name, value, update) {
        if (update === void 0) { update = true; }
        if (this.map.get(name) === value) {
            return;
        }
        this.map.set(name, value);
        if (update !== false) {
            this.update(typeof update === 'number' ? update : 0);
        }
    };
    HashProperties.prototype.removeProp = function (name, update) {
        if (update === void 0) { update = true; }
        if (this.map.has(name)) {
            this.map.delete(name);
            if (update !== false) {
                this.update(typeof update === 'number' ? update : 0);
            }
            return true;
        }
        return false;
    };
    HashProperties.prototype.toObject = function () {
        var r = {};
        this.map.forEach(function (v, k) { return r[k] = v; });
        return r;
    };
    HashProperties.prototype.update = function (updateInMs) {
        var _this = this;
        if (updateInMs === void 0) { updateInMs = 0; }
        if (updateInMs <= 0) {
            return this.updateImpl();
        }
        if (this.debounceTimer >= 0) {
            self.clearTimeout(this.debounceTimer);
            this.debounceTimer = -1;
        }
        this.debounceTimer = self.setTimeout(function () { return _this.updateImpl(); }, updateInMs);
    };
    HashProperties.prototype.updateImpl = function () {
        var _this = this;
        if (this.debounceTimer >= 0) {
            self.clearTimeout(this.debounceTimer);
            this.debounceTimer = -1;
        }
        // check if same state
        if (history.state) {
            var current_1 = history.state;
            var keys = Object.keys(current_1);
            if (keys.length === this.map.size && keys.every(function (k) { return _this.map.get(k) === current_1[k]; })) {
                return;
            }
        }
        window.removeEventListener('hashchange', this.updated, false);
        history.pushState(this.toObject(), 'State ' + Date.now(), '#' + this.toString());
        window.addEventListener('hashchange', this.updated, false);
        this.fire(HashProperties.EVENT_STATE_PUSHED, 'State ' + Date.now(), '#' + this.toString());
    };
    HashProperties.EVENT_STATE_PUSHED = 'pushedState';
    HashProperties.EVENT_HASH_CHANGED = 'hashChanged';
    return HashProperties;
}(__WEBPACK_IMPORTED_MODULE_1__PropertyHandler__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (HashProperties);


/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["b"] = uniqueId;
/* harmony export (immutable) */ __webpack_exports__["a"] = flagId;
/* harmony export (immutable) */ __webpack_exports__["c"] = uniqueString;
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */
/**
 * unique id container
 * @type {{}}
 */
var idCounter = new Map();
/**
 * returns a unique id for the given domain
 * @param domain
 * @return {number}
 */
function uniqueId(domain) {
    if (domain === void 0) { domain = '_default'; }
    if (!idCounter.has(domain)) {
        idCounter.set(domain, 0);
    }
    var v = idCounter.get(domain);
    idCounter.set(domain, v + 1);
    return v;
}
function flagId(domain, id) {
    if (isNaN(id) || id < 0) {
        return id;
    }
    if (!idCounter.has(domain)) {
        idCounter.set(domain, id + 1);
    }
    else {
        idCounter.set(domain, Math.max(idCounter.get(domain), id + 1)); //use the next one afterwards
    }
    return id;
}
/**
 * returns a string, which is a unique id for the given domain
 * @param domain
 * @return {string}
 */
function uniqueString(domain) {
    if (domain === void 0) { domain = '_default'; }
    return domain + uniqueId(domain);
}


/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype_AProductSelectAble__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__math__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__internal_SliceColVector__ = __webpack_require__(108);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__internal_ProjectedVector__ = __webpack_require__(107);
/* unused harmony export AMatrix */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return MatrixView; });
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */








function flatten(arr, indices, select) {
    if (select === void 0) { select = 0; }
    var r = [];
    var dim = [arr.length, arr[0].length];
    if (select === 0) {
        r = r.concat.apply(r, arr);
    }
    else {
        var _loop_1 = function (i) {
            arr.forEach(function (ai) {
                r.push(ai[i]);
            });
        };
        //stupid slicing
        for (var i = 0; i < dim[1]; ++i) {
            _loop_1(i);
        }
    }
    return {
        data: r,
        indices: indices.dim(select).repeat(dim[1 - select])
    };
}
/**
 * base class for different Matrix implementations, views, transposed,...
 */
var AMatrix = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AMatrix, _super);
    function AMatrix(root) {
        var _this = _super.call(this) || this;
        _this.root = root;
        return _this;
    }
    Object.defineProperty(AMatrix.prototype, "dim", {
        get: function () {
            return this.size();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AMatrix.prototype, "length", {
        get: function () {
            return this.nrow * this.ncol;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AMatrix.prototype, "nrow", {
        get: function () {
            return this.dim[0];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AMatrix.prototype, "ncol", {
        get: function () {
            return this.dim[1];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AMatrix.prototype, "indices", {
        get: function () {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["range"])([0, this.nrow], [0, this.ncol]);
        },
        enumerable: true,
        configurable: true
    });
    AMatrix.prototype.view = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range);
        if (r.isAll) {
            return this.root;
        }
        // tslint:disable:no-use-before-declare
        // Disabled the rule, because the classes below reference each other in a way that it is impossible to find a successful order.
        return new MatrixView(this.root, r);
    };
    AMatrix.prototype.slice = function (col) {
        return new __WEBPACK_IMPORTED_MODULE_6__internal_SliceColVector__["a" /* default */](this.root, col);
    };
    AMatrix.prototype.stats = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var v, _a, _b, _c;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_d) {
                switch (_d.label) {
                    case 0:
                        v = this.root.valuetype;
                        if (!(v.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"] || v.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"])) return [3 /*break*/, 2];
                        _b = (_a = __WEBPACK_IMPORTED_MODULE_5__math__["computeStats"]).apply;
                        _c = [void 0];
                        return [4 /*yield*/, this.data(range)];
                    case 1: return [2 /*return*/, _b.apply(_a, _c.concat([_d.sent()]))];
                    case 2: return [2 /*return*/, Promise.reject('invalid value type: ' + v.type)];
                }
            });
        });
    };
    AMatrix.prototype.statsAdvanced = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var v, _a, _b, _c, _d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_e) {
                switch (_e.label) {
                    case 0:
                        v = this.root.valuetype;
                        if (!(v.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"] || v.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"])) return [3 /*break*/, 2];
                        _a = __WEBPACK_IMPORTED_MODULE_5__math__["computeAdvancedStats"];
                        _c = (_b = [].concat).apply;
                        _d = [[]];
                        return [4 /*yield*/, this.data(range)];
                    case 1: return [2 /*return*/, _a.apply(void 0, [_c.apply(_b, _d.concat([_e.sent()]))])];
                    case 2: return [2 /*return*/, Promise.reject('invalid value type: ' + v.type)];
                }
            });
        });
    };
    AMatrix.prototype.hist = function (bins, range, containedIds) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (containedIds === void 0) { containedIds = 0; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var v, d, flat, vc, vn;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        v = this.root.valuetype;
                        return [4 /*yield*/, this.data(range)];
                    case 1:
                        d = _a.sent();
                        flat = flatten(d, this.indices, containedIds);
                        switch (v.type) {
                            case __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_CATEGORICAL"]:
                                vc = v;
                                return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__["categoricalHist"])(flat.data, flat.indices, flat.data.length, vc.categories.map(function (d) { return typeof d === 'string' ? d : d.name; }), vc.categories.map(function (d) { return typeof d === 'string' ? d : d.label || d.name; }), vc.categories.map(function (d) { return typeof d === 'string' ? 'gray' : d.color || 'gray'; }))];
                            case __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"]:
                            case __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"]:
                                vn = v;
                                return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__["hist"])(flat.data, flat.indices, flat.data.length, bins ? bins : Math.round(Math.sqrt(this.length)), vn.range)];
                            default:
                                return [2 /*return*/, Promise.reject('invalid value type: ' + v.type)]; //cant create hist for unique objects or other ones
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    AMatrix.prototype.idView = function (idRange) {
        if (idRange === void 0) { idRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var r, ids;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(idRange);
                        if (r.isAll) {
                            return [2 /*return*/, Promise.resolve(this.root)];
                        }
                        return [4 /*yield*/, this.ids()];
                    case 1:
                        ids = _a.sent();
                        return [2 /*return*/, this.view(ids.indexOf(r))];
                }
            });
        });
    };
    AMatrix.prototype.reduce = function (f, thisArgument, valuetype, idtype) {
        return new __WEBPACK_IMPORTED_MODULE_7__internal_ProjectedVector__["a" /* default */](this.root, f, thisArgument, valuetype, idtype);
    };
    AMatrix.prototype.restore = function (persisted) {
        if (persisted && persisted.f) {
            /* tslint:disable:no-eval */
            return this.reduce(eval(persisted.f), this, persisted.valuetype, persisted.idtype ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__idtype__["resolve"])(persisted.idtype) : undefined);
            /* tslint:enable:no-eval */
        }
        else if (persisted && persisted.range) { //some view onto it
            return this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(persisted.range));
        }
        else if (persisted && persisted.transposed) {
            return this.t;
        }
        else if (persisted && persisted.col) {
            return this.slice(+persisted.col);
        }
        else if (persisted && persisted.row) {
            return this.t.slice(+persisted.row);
        }
        else {
            return this;
        }
    };
    return AMatrix;
}(__WEBPACK_IMPORTED_MODULE_3__idtype_AProductSelectAble__["a" /* default */]));

/* harmony default export */ __webpack_exports__["a"] = (AMatrix);
// circular dependency thus not extractable
/**
 * view on the matrix restricted by a range
 * @param root underlying matrix
 * @param range range selection
 * @param t optional its transposed version
 * @constructor
 */
var MatrixView = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](MatrixView, _super);
    function MatrixView(root, range, t) {
        if (t === void 0) { t = null; }
        var _this = _super.call(this, root) || this;
        _this.range = range;
        _this.t = t;
        _this.range = range;
        //ensure that there are two dimensions
        range.dim(0);
        range.dim(1);
        if (!t) {
            _this.t = new MatrixView(root.t, range.swap(), _this);
        }
        return _this;
    }
    Object.defineProperty(MatrixView.prototype, "desc", {
        get: function () {
            return this.root.desc;
        },
        enumerable: true,
        configurable: true
    });
    MatrixView.prototype.persist = function () {
        return {
            root: this.root.persist(),
            range: this.range.toString()
        };
    };
    MatrixView.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.ids(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.cols = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.cols(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.colIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.colIds(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.rows = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.rows(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.rowIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.rowIds(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.size = function () {
        return this.range.size(this.root.dim);
    };
    MatrixView.prototype.at = function (i, j) {
        var inverted = this.range.invert([i, j], this.root.dim);
        return this.root.at(inverted[0], inverted[1]);
    };
    MatrixView.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.data(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.hist = function (bins, range, containedIds) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (containedIds === void 0) { containedIds = 0; }
        return this.root.hist(bins, this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim), containedIds);
    };
    MatrixView.prototype.stats = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.stats(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.statsAdvanced = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.statsAdvanced(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    MatrixView.prototype.heatmapUrl = function (range, options) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (options === void 0) { options = {}; }
        return this.root.heatmapUrl(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim), options);
    };
    MatrixView.prototype.view = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range);
        if (r.isAll) {
            return this;
        }
        return new MatrixView(this.root, this.range.preMultiply(r, this.dim));
    };
    Object.defineProperty(MatrixView.prototype, "valuetype", {
        get: function () {
            return this.root.valuetype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MatrixView.prototype, "rowtype", {
        get: function () {
            return this.root.rowtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MatrixView.prototype, "coltype", {
        get: function () {
            return this.root.coltype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MatrixView.prototype, "producttype", {
        get: function () {
            return this.root.producttype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MatrixView.prototype, "idtypes", {
        get: function () {
            return this.root.idtypes;
        },
        enumerable: true,
        configurable: true
    });
    return MatrixView;
}(AMatrix));



/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return IDTYPE_ROW; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return IDTYPE_COLUMN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return IDTYPE_CELL; });
/* unused harmony export DIM_ROW */
/* unused harmony export DIM_COL */
/* harmony export (immutable) */ __webpack_exports__["a"] = createDefaultMatrixDesc;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */


var IDTYPE_ROW = 0;
var IDTYPE_COLUMN = 1;
var IDTYPE_CELL = 2;
var DIM_ROW = 0;
var DIM_COL = 1;
function createDefaultMatrixDesc() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__datatype__["createDefaultDataDesc"])(), {
        type: 'matrix',
        rowtype: '_rows',
        coltype: '_cols',
        size: [0, 0]
    });
}


/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__IMatrix__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AMatrix__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__internal_TransposedMatrix__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__loader__ = __webpack_require__(111);
/* harmony export (immutable) */ __webpack_exports__["create"] = create;
/* harmony export (immutable) */ __webpack_exports__["asMatrix"] = asMatrix;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */









/**
 * Base matrix implementation holding the data
 */
var Matrix = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Matrix, _super);
    function Matrix(desc, loader) {
        var _this = _super.call(this, null) || this;
        _this.desc = desc;
        _this.loader = loader;
        _this.root = _this;
        _this.valuetype = desc.value;
        _this.rowtype = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["resolve"])(desc.rowtype);
        _this.coltype = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["resolve"])(desc.coltype);
        _this._producttype = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["resolveProduct"])(_this.rowtype, _this.coltype);
        _this.t = new __WEBPACK_IMPORTED_MODULE_7__internal_TransposedMatrix__["a" /* default */](_this);
        return _this;
    }
    Object.defineProperty(Matrix.prototype, "producttype", {
        get: function () {
            return this._producttype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Matrix.prototype, "idtypes", {
        get: function () {
            return [this.rowtype, this.coltype];
        },
        enumerable: true,
        configurable: true
    });
    /**
     * access at a specific position
     * @param i
     * @param j
     * @returns {*}
     */
    Matrix.prototype.at = function (i, j) {
        return this.loader.at(this.desc, i, j);
    };
    Matrix.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.loader.data(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    Matrix.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.loader.ids(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    /**
     * return the column ids of the matrix
     * @returns {*}
     */
    Matrix.prototype.cols = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.loader.cols(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    Matrix.prototype.colIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.loader.colIds(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    /**
     * return the row ids of the matrix
     * @returns {*}
     */
    Matrix.prototype.rows = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.loader.rows(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    Matrix.prototype.rowIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.loader.rowIds(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    Matrix.prototype.hist = function (bins, range, containedIds) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (containedIds === void 0) { containedIds = 0; }
        if (this.loader.numericalHist && (this.valuetype.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"] || this.valuetype.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_INT"])) { // use loader for hist
            return this.loader.numericalHist(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), bins);
        }
        // compute
        return _super.prototype.hist.call(this, bins, range, containedIds);
    };
    Matrix.prototype.stats = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (this.loader.numericalStats && (this.valuetype.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"] || this.valuetype.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_INT"])) { // use loader for hist
            return this.loader.numericalStats(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
        }
        // compute
        return _super.prototype.stats.call(this, range);
    };
    Matrix.prototype.statsAdvanced = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (this.loader.numericalStats && (this.valuetype.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"] || this.valuetype.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_INT"])) { // use loader for hist
            return this.loader.numericalStats(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
        }
        // compute
        return _super.prototype.statsAdvanced.call(this, range);
    };
    Matrix.prototype.size = function () {
        return this.desc.size;
    };
    Matrix.prototype.persist = function () {
        return this.desc.id;
    };
    Matrix.prototype.heatmapUrl = function (range, options) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (options === void 0) { options = {}; }
        if (this.loader.heatmapUrl) {
            return this.loader.heatmapUrl(this.desc, range, options);
        }
        return null;
    };
    return Matrix;
}(__WEBPACK_IMPORTED_MODULE_6__AMatrix__["a" /* default */]));
/* harmony default export */ __webpack_exports__["default"] = (Matrix);
/**
 * module entry point for creating a datatype
 * @param desc
 * @param loader
 * @returns {IMatrix}
 */
function create(desc, loader) {
    if (typeof loader === 'function') {
        return new Matrix(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["a" /* adapterOne2Two */])(loader));
    }
    return new Matrix(desc, loader ? loader : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["b" /* viaAPI2Loader */])());
}
/**
 * parses a given dataset and convert is to a matrix
 * @param data the data array
 * @param rowsIdsOrOptions see options or the row ids of this matrix
 * @param colIds the optional column ids
 * @param options options for defining the dataset description
 * @returns {IMatrix}
 */
function asMatrix(data, rowsIdsOrOptions, colIds, options) {
    if (options === void 0) { options = {}; }
    // first column if not defined, excluding 0,0
    var rows = Array.isArray(rowsIdsOrOptions) ? rowsIdsOrOptions : data.map(function (r) { return r[0]; }).slice(1);
    // first row if not defined, excluding 0,0
    var cols = colIds ? colIds : data[0].slice(1);
    if (typeof rowsIdsOrOptions === 'object') {
        options = rowsIdsOrOptions;
    }
    options = options || {};
    var realData = Array.isArray(rowsIdsOrOptions) ? data : data.slice(1).map(function (r) { return r.slice(1); });
    var valueType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["guessValueTypeDesc"])([].concat.apply([], realData));
    if (valueType.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"]) {
        realData = realData.map(function (row) { return row.map(parseFloat); });
    }
    else if (valueType.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"]) {
        realData = realData.map(function (row) { return row.map(parseInt); });
    }
    var desc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__IMatrix__["a" /* createDefaultMatrixDesc */])(), {
        size: [rows.length, cols.length],
        value: valueType
    }, options);
    var rowAssigner = options.rowassigner || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["createLocalAssigner"])();
    var colAssigner = options.rowassigner || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["createLocalAssigner"])();
    var loader = {
        rowIds: function (desc, range) { return Promise.resolve(rowAssigner(range.filter(rows))); },
        colIds: function (desc, range) { return Promise.resolve(colAssigner(range.filter(cols))); },
        ids: function (desc, range) {
            var rc = rowAssigner(range.dim(0).filter(rows));
            var cc = colAssigner(range.dim(1).filter(cols));
            return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["join"])(rc, cc));
        },
        at: function (desc, i, j) { return Promise.resolve(realData[i][j]); },
        rows: function (desc, range) { return Promise.resolve(range.filter(rows)); },
        cols: function (desc, range) { return Promise.resolve(range.filter(cols)); },
        data: function (desc, range) { return Promise.resolve(range.filter(realData)); }
    };
    return new Matrix(desc, loader);
}


/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__extensions__ = __webpack_require__(24);


/* harmony default export */ __webpack_exports__["default"] = (function (registry) {
    //registry.push('extension-type', 'extension-id', function() { return System.import('./extension_impl'); }, {});
    /// #if include('datatype', 'matrix')
    registry.push('datatype', 'matrix', function () { return Promise.resolve().then(__webpack_require__.bind(null, 54)); }, {});
    /// #endif
    /// #if include('datatype', 'table')
    registry.push('datatype', 'table', function () { return Promise.resolve().then(__webpack_require__.bind(null, 69)); }, {});
    /// #endif
    /// #if include('datatype', 'vector')
    registry.push('datatype', 'vector', function () { return Promise.resolve().then(__webpack_require__.bind(null, 70)); }, {});
    /// #endif
    /// #if include('datatype', 'stratification')
    registry.push('datatype', 'stratification', function () { return Promise.resolve().then(__webpack_require__.bind(null, 65)); }, {});
    /// #endif
    /// #if include('datatype', 'graph')
    registry.push('datatype', 'graph', function () { return Promise.resolve().then(__webpack_require__.bind(null, 44)); }, {});
    /// #endif
    /// #if include('datatype', 'atom')
    registry.push('datatype', 'atom', function () { return Promise.resolve().then(__webpack_require__.bind(null, 40)); }, {});
    /// #endif
    /// #if include('tabSyncer', 'selection')
    registry.push('tabSyncer', 'selection', function () { return Promise.resolve().then(__webpack_require__.bind(null, 124)); }, {});
    /// #endif
    registry.push(__WEBPACK_IMPORTED_MODULE_1__extensions__["EP_PHOVEA_CORE_LOCALE"], 'phoveaCoreLocaleEN', function () {
        return Promise.resolve().then(__webpack_require__.bind(null, 142)).then(__WEBPACK_IMPORTED_MODULE_0__plugin__["asResource"]);
    }, {
        ns: 'phovea',
    });
});


/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__graph_graph__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ObjectNode__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__security__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__internal_promise__ = __webpack_require__(8);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ActionMetaData; });
/* harmony export (immutable) */ __webpack_exports__["d"] = meta;
/* harmony export (immutable) */ __webpack_exports__["b"] = action;
/**
 * Created by sam on 12.02.2015.
 */





/**
 * additional data about a performed action
 */
var ActionMetaData = /** @class */ (function () {
    function ActionMetaData(category, operation, name, timestamp, user) {
        if (timestamp === void 0) { timestamp = Date.now(); }
        if (user === void 0) { user = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__security__["currentUserNameOrAnonymous"])(); }
        this.category = category;
        this.operation = operation;
        this.name = name;
        this.timestamp = timestamp;
        this.user = user;
    }
    ActionMetaData.restore = function (p) {
        return new ActionMetaData(p.category, p.operation, p.name, p.timestamp, p.user);
    };
    ActionMetaData.prototype.eq = function (that) {
        return this.category === that.category && this.operation === that.operation && this.name === that.name;
    };
    /**
     * checks whether this metadata are the inverse of the given one in terms of category and operation
     * @param that
     * @returns {boolean}
     */
    ActionMetaData.prototype.inv = function (that) {
        if (this.category !== that.category) {
            return false;
        }
        if (this.operation === __WEBPACK_IMPORTED_MODULE_2__ObjectNode__["c" /* op */].update) {
            return that.operation === __WEBPACK_IMPORTED_MODULE_2__ObjectNode__["c" /* op */].update;
        }
        return this.operation === __WEBPACK_IMPORTED_MODULE_2__ObjectNode__["c" /* op */].create ? that.operation === __WEBPACK_IMPORTED_MODULE_2__ObjectNode__["c" /* op */].remove : that.operation === __WEBPACK_IMPORTED_MODULE_2__ObjectNode__["c" /* op */].create;
    };
    ActionMetaData.prototype.toString = function () {
        return this.category + ":" + this.operation + " " + this.name;
    };
    return ActionMetaData;
}());

function meta(name, category, operation, timestamp, user) {
    if (category === void 0) { category = __WEBPACK_IMPORTED_MODULE_2__ObjectNode__["b" /* cat */].data; }
    if (operation === void 0) { operation = __WEBPACK_IMPORTED_MODULE_2__ObjectNode__["c" /* op */].update; }
    if (timestamp === void 0) { timestamp = Date.now(); }
    if (user === void 0) { user = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__security__["currentUserNameOrAnonymous"])(); }
    return new ActionMetaData(category, operation, name, timestamp, user);
}
/**
 * creates an action given the data
 * @param meta
 * @param id
 * @param f
 * @param inputs
 * @param parameter
 * @returns {{meta: ActionMetaData, id: string, f: (function(IObjectRef<any>[], any, ProvenanceGraph): ICmdResult), inputs: IObjectRef<any>[], parameter: any}}
 */
function action(meta, id, f, inputs, parameter) {
    if (inputs === void 0) { inputs = []; }
    if (parameter === void 0) { parameter = {}; }
    return {
        meta: meta,
        id: id,
        f: f,
        inputs: inputs,
        parameter: parameter
    };
}
/**
 * comparator by index
 * @param a
 * @param b
 * @returns {number}
 */
function byIndex(a, b) {
    var ai = +a.getAttr('index', 0);
    var bi = +b.getAttr('index', 0);
    return ai - bi;
}
var ActionNode = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ActionNode, _super);
    function ActionNode(meta, functionId, f, parameter) {
        if (parameter === void 0) { parameter = {}; }
        var _this = _super.call(this, 'action') || this;
        _this.f = f;
        _super.prototype.setAttr.call(_this, 'meta', meta);
        _super.prototype.setAttr.call(_this, 'f_id', functionId);
        _super.prototype.setAttr.call(_this, 'parameter', parameter);
        return _this;
    }
    ActionNode.prototype.clone = function () {
        return new ActionNode(this.meta, this.f_id, this.f, this.parameter);
    };
    Object.defineProperty(ActionNode.prototype, "name", {
        get: function () {
            return this.meta.name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "meta", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'meta');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "f_id", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'f_id');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "parameter", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'parameter');
        },
        set: function (value) {
            _super.prototype.setAttr.call(this, 'parameter', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "onceExecuted", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'onceExecuted', false);
        },
        set: function (value) {
            if (this.onceExecuted !== value) {
                _super.prototype.setAttr.call(this, 'onceExecuted', value);
            }
        },
        enumerable: true,
        configurable: true
    });
    ActionNode.restore = function (r, factory) {
        var a = new ActionNode(ActionMetaData.restore(r.attrs.meta), r.attrs.f_id, factory(r.attrs.f_id), r.attrs.parameter);
        return a.restore(r);
    };
    ActionNode.prototype.toString = function () {
        return this.meta.name;
    };
    Object.defineProperty(ActionNode.prototype, "inversedBy", {
        get: function () {
            var r = this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('inverses'))[0];
            return r ? r.source : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "inverses", {
        /**
         * inverses another action
         * @returns {ActionNode}
         */
        get: function () {
            var r = this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('inverses'))[0];
            return r ? r.target : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "isInverse", {
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('inverses'))[0] != null;
        },
        enumerable: true,
        configurable: true
    });
    ActionNode.prototype.getOrCreateInverse = function (graph) {
        var i = this.inversedBy;
        if (i) {
            return i;
        }
        if (this.inverter) {
            return graph.createInverse(this, this.inverter);
        }
        this.inverter = null; //not needed anymore
        return null;
    };
    ActionNode.prototype.updateInverse = function (graph, inverter) {
        var i = this.inversedBy;
        if (i) { //update with the actual values / parameter only
            var c = inverter.call(this, this.requires, this.creates, this.removes);
            i.parameter = c.parameter;
            this.inverter = null;
        }
        else if (!this.isInverse) {
            //create inverse action immediatelly
            graph.createInverse(this, inverter);
            this.inverter = null;
        }
        else {
            this.inverter = inverter;
        }
    };
    ActionNode.prototype.execute = function (graph, withinMilliseconds) {
        var r = this.f.call(this, this.requires, this.parameter, graph, withinMilliseconds);
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__internal_promise__["a" /* resolveImmediately */])(r);
    };
    ActionNode.prototype.equals = function (that) {
        if (!(this.meta.category === that.meta.category && that.meta.operation === that.meta.operation)) {
            return false;
        }
        if (this.f_id !== that.f_id) {
            return false;
        }
        //TODO check parameters if they are the same
        return true;
    };
    Object.defineProperty(ActionNode.prototype, "uses", {
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])(/(creates|removes|requires)/)).map(function (e) { return e.target; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "creates", {
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('creates')).map(function (e) { return e.target; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "removes", {
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('removes')).sort(byIndex).map(function (e) { return e.target; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "requires", {
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('requires')).sort(byIndex).map(function (e) { return e.target; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "resultsIn", {
        get: function () {
            var r = this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('resultsIn'))[0];
            return r ? r.target : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActionNode.prototype, "previous", {
        get: function () {
            var r = this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('next'))[0];
            return r ? r.source : null;
        },
        enumerable: true,
        configurable: true
    });
    return ActionNode;
}(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["b" /* GraphNode */]));
/* harmony default export */ __webpack_exports__["a"] = (ActionNode);


/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__graph_LocalStorageGraph__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__graph_MemoryGraph__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__internal_promise__ = __webpack_require__(8);

/**
 * Created by sam on 12.02.2015.
 */






var LocalStorageProvenanceGraphManager = /** @class */ (function () {
    function LocalStorageProvenanceGraphManager(options) {
        if (options === void 0) { options = {}; }
        this.options = {
            storage: localStorage,
            prefix: 'clue',
            application: 'unknown'
        };
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(this.options, options);
    }
    LocalStorageProvenanceGraphManager.prototype.loadFromLocalStorage = function (suffix, defaultValue) {
        try {
            var item = this.options.storage.getItem(this.options.prefix + suffix);
            if (item === undefined || item === null) {
                return defaultValue;
            }
            return JSON.parse(item);
        }
        catch (e) {
            console.error(e);
            return defaultValue;
        }
    };
    LocalStorageProvenanceGraphManager.prototype.listSync = function () {
        var _this = this;
        var lists = this.loadFromLocalStorage('_provenance_graphs', []);
        return lists
            .map(function (id) { return _this.loadFromLocalStorage('_provenance_graph.' + id, {}); })
            // filter to right application
            .filter(function (d) { return d.attrs && d.attrs.of === _this.options.application; });
    };
    LocalStorageProvenanceGraphManager.prototype.list = function () {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal_promise__["a" /* resolveImmediately */])(this.listSync());
    };
    LocalStorageProvenanceGraphManager.prototype.getGraph = function (desc) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal_promise__["a" /* resolveImmediately */])(__WEBPACK_IMPORTED_MODULE_3__graph_LocalStorageGraph__["a" /* default */].load(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["d" /* provenanceGraphFactory */])(), this.options.storage));
    };
    LocalStorageProvenanceGraphManager.prototype.get = function (desc) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a, _b;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _a = __WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["a" /* default */].bind;
                        _b = [void 0, desc];
                        return [4 /*yield*/, this.getGraph(desc)];
                    case 1: return [2 /*return*/, new (_a.apply(__WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["a" /* default */], _b.concat([_c.sent()])))()];
                }
            });
        });
    };
    LocalStorageProvenanceGraphManager.prototype.clone = function (graph, desc) {
        if (desc === void 0) { desc = {}; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var description, pdesc, newGraph;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        description = "Cloned from " + graph.desc.name + " created by " + graph.desc.creator + "\n" + (graph.desc.description || '');
                        pdesc = this.createDesc(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({ name: graph.desc.name, description: description }, desc));
                        return [4 /*yield*/, this.getGraph(pdesc)];
                    case 1:
                        newGraph = _a.sent();
                        newGraph.restoreDump(graph.persist(), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["d" /* provenanceGraphFactory */])());
                        return [2 /*return*/, new __WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["a" /* default */](pdesc, newGraph)];
                }
            });
        });
    };
    LocalStorageProvenanceGraphManager.prototype.import = function (json, desc) {
        if (desc === void 0) { desc = {}; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var pdesc, newGraph;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        pdesc = this.createDesc(desc);
                        return [4 /*yield*/, this.getGraph(pdesc)];
                    case 1:
                        newGraph = _a.sent();
                        newGraph.restoreDump(json, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["d" /* provenanceGraphFactory */])());
                        return [2 /*return*/, new __WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["a" /* default */](pdesc, newGraph)];
                }
            });
        });
    };
    LocalStorageProvenanceGraphManager.prototype.delete = function (desc) {
        var lists = JSON.parse(this.options.storage.getItem(this.options.prefix + '_provenance_graphs') || '[]');
        lists.splice(lists.indexOf(desc.id), 1);
        __WEBPACK_IMPORTED_MODULE_3__graph_LocalStorageGraph__["a" /* default */].delete(desc, this.options.storage);
        //just remove from the list
        this.options.storage.removeItem(this.options.prefix + '_provenance_graph.' + desc.id);
        this.options.storage.setItem(this.options.prefix + '_provenance_graphs', JSON.stringify(lists));
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal_promise__["a" /* resolveImmediately */])(true);
    };
    LocalStorageProvenanceGraphManager.prototype.edit = function (graph, desc) {
        if (desc === void 0) { desc = {}; }
        var base = graph instanceof __WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["a" /* default */] ? graph.desc : graph;
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(base, desc);
        this.options.storage.setItem(this.options.prefix + '_provenance_graph.' + base.id, JSON.stringify(base));
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal_promise__["a" /* resolveImmediately */])(base);
    };
    LocalStorageProvenanceGraphManager.prototype.createDesc = function (overrides) {
        var _this = this;
        if (overrides === void 0) { overrides = {}; }
        var lists = JSON.parse(this.options.storage.getItem(this.options.prefix + '_provenance_graphs') || '[]');
        var uid = (lists.length > 0 ? String(1 + Math.max.apply(Math, lists.map(function (d) { return parseInt(d.slice(_this.options.prefix.length), 10); }))) : '0');
        var id = this.options.prefix + uid;
        var desc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
            type: 'provenance_graph',
            name: 'Temporary Session ' + uid,
            fqname: this.options.prefix + 'Temporary Session ' + uid,
            id: id,
            local: true,
            size: [0, 0],
            attrs: {
                graphtype: 'provenance_graph',
                of: this.options.application
            },
            creator: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__security__["currentUserNameOrAnonymous"])(),
            permissions: __WEBPACK_IMPORTED_MODULE_4__security__["ALL_READ_NONE"],
            ts: Date.now(),
            description: ''
        }, overrides);
        lists.push(id);
        this.options.storage.setItem(this.options.prefix + '_provenance_graphs', JSON.stringify(lists));
        this.options.storage.setItem(this.options.prefix + '_provenance_graph.' + id, JSON.stringify(desc));
        return desc;
    };
    LocalStorageProvenanceGraphManager.prototype.create = function (desc) {
        if (desc === void 0) { desc = {}; }
        var pdesc = this.createDesc(desc);
        return this.get(pdesc);
    };
    LocalStorageProvenanceGraphManager.prototype.createInMemoryDesc = function (base) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
            type: 'provenance_graph',
            name: 'In Memory Session',
            fqname: 'In Memory Session',
            id: 'memory',
            local: true,
            size: [0, 0],
            attrs: {
                graphtype: 'provenance_graph',
                of: this.options.application
            },
            creator: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__security__["currentUserNameOrAnonymous"])(),
            permissions: __WEBPACK_IMPORTED_MODULE_4__security__["ALL_READ_NONE"],
            ts: Date.now(),
            description: ''
        }, base ? base : {}, {
            id: 'memory',
            local: true
        });
    };
    LocalStorageProvenanceGraphManager.prototype.createInMemory = function () {
        var desc = this.createInMemoryDesc();
        return new __WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["a" /* default */](desc, new __WEBPACK_IMPORTED_MODULE_5__graph_MemoryGraph__["a" /* default */](desc, [], [], __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["d" /* provenanceGraphFactory */])()));
    };
    LocalStorageProvenanceGraphManager.prototype.cloneInMemory = function (graph) {
        var desc = this.createInMemoryDesc(graph.desc);
        var m = new __WEBPACK_IMPORTED_MODULE_5__graph_MemoryGraph__["a" /* default */](desc, [], [], __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["d" /* provenanceGraphFactory */])());
        m.restore(graph.persist());
        return new __WEBPACK_IMPORTED_MODULE_2__ProvenanceGraph__["a" /* default */](desc, m);
    };
    return LocalStorageProvenanceGraphManager;
}());
/* harmony default export */ __webpack_exports__["a"] = (LocalStorageProvenanceGraphManager);


/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__data__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__security__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__internal_promise__ = __webpack_require__(8);

/**
 * Created by sam on 12.02.2015.
 */





var RemoteStorageProvenanceGraphManager = /** @class */ (function () {
    function RemoteStorageProvenanceGraphManager(options) {
        if (options === void 0) { options = {}; }
        this.options = {
            application: 'unknown'
        };
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(this.options, options);
    }
    RemoteStorageProvenanceGraphManager.prototype.list = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _this = this;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__data__["list"])(function (d) { return d.desc.type === 'graph' && d.desc.attrs.graphtype === 'provenance_graph' && d.desc.attrs.of === _this.options.application; })];
                    case 1: return [2 /*return*/, (_a.sent()).map(function (di) { return di.desc; })];
                }
            });
        });
    };
    RemoteStorageProvenanceGraphManager.prototype.getGraph = function (desc) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__data__["get"])(desc.id)];
                    case 1: return [2 /*return*/, (_a.sent()).impl(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["d" /* provenanceGraphFactory */])())];
                }
            });
        });
    };
    RemoteStorageProvenanceGraphManager.prototype.get = function (desc) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a, _b;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _a = __WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["a" /* default */].bind;
                        _b = [void 0, desc];
                        return [4 /*yield*/, this.getGraph(desc)];
                    case 1: return [2 /*return*/, new (_a.apply(__WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["a" /* default */], _b.concat([_c.sent()])))()];
                }
            });
        });
    };
    RemoteStorageProvenanceGraphManager.prototype.delete = function (desc) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__data__["remove"])(desc);
    };
    RemoteStorageProvenanceGraphManager.prototype.clone = function (graph, desc) {
        if (desc === void 0) { desc = {}; }
        return this.import(graph.persist(), desc);
    };
    RemoteStorageProvenanceGraphManager.prototype.importImpl = function (json, desc) {
        if (desc === void 0) { desc = {}; }
        var pdesc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
            type: 'graph',
            attrs: {
                graphtype: 'provenance_graph',
                of: this.options.application
            },
            name: 'Persistent WS',
            creator: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__security__["currentUserNameOrAnonymous"])(),
            ts: Date.now(),
            description: '',
            nodes: json.nodes,
            edges: json.edges
        }, desc);
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__data__["upload"])(pdesc).then(function (base) {
            return base.impl(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["d" /* provenanceGraphFactory */])());
        });
    };
    RemoteStorageProvenanceGraphManager.prototype.import = function (json, desc) {
        if (desc === void 0) { desc = {}; }
        return this.importImpl(json, desc).then(function (impl) {
            return new __WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["a" /* default */](impl.desc, impl);
        });
    };
    RemoteStorageProvenanceGraphManager.prototype.migrate = function (graph, desc) {
        if (desc === void 0) { desc = {}; }
        return this.importImpl({ nodes: [], edges: [] }, desc).then(function (backend) {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__internal_promise__["a" /* resolveImmediately */])(graph.backend.migrate())
                .then(function (_a) {
                var nodes = _a.nodes, edges = _a.edges;
                return backend.addAll(nodes, edges);
            }).then(function () {
                graph.migrateBackend(backend);
                return graph;
            });
        });
    };
    RemoteStorageProvenanceGraphManager.prototype.edit = function (graph, desc) {
        if (desc === void 0) { desc = {}; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var base, graphProxy;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        base = graph instanceof __WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["a" /* default */] ? graph.desc : graph;
                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(base, desc);
                        return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__data__["get"])(base.id)];
                    case 1:
                        graphProxy = _a.sent();
                        return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__data__["modify"])(graphProxy, desc)];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, base];
                }
            });
        });
    };
    RemoteStorageProvenanceGraphManager.prototype.create = function (desc) {
        if (desc === void 0) { desc = {}; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var pdesc, impl;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        pdesc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
                            id: undefined,
                            type: 'graph',
                            attrs: {
                                graphtype: 'provenance_graph',
                                of: this.options.application
                            },
                            name: "Persistent WS",
                            fqname: "provenance_graphs/Persistent WS",
                            creator: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__security__["currentUserNameOrAnonymous"])(),
                            size: [0, 0],
                            ts: Date.now(),
                            description: ''
                        }, desc);
                        return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__data__["upload"])(pdesc)];
                    case 1:
                        impl = (_a.sent()).impl(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["d" /* provenanceGraphFactory */])());
                        return [2 /*return*/, impl.then(function (i) { return new __WEBPACK_IMPORTED_MODULE_3__ProvenanceGraph__["a" /* default */](i.desc, i); })];
                }
            });
        });
    };
    return RemoteStorageProvenanceGraphManager;
}());
/* harmony default export */ __webpack_exports__["a"] = (RemoteStorageProvenanceGraphManager);


/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__graph_graph__ = __webpack_require__(6);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return DEFAULT_DURATION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return DEFAULT_TRANSITION; });

/**
 * Created by sam on 12.02.2015.
 */

var DEFAULT_DURATION = 1500; //ms
var DEFAULT_TRANSITION = 0; //ms
var SlideNode = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](SlideNode, _super);
    function SlideNode() {
        return _super.call(this, 'story') || this;
    }
    Object.defineProperty(SlideNode.prototype, "name", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'name', '');
        },
        set: function (value) {
            _super.prototype.setAttr.call(this, 'name', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "description", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'description', '');
        },
        set: function (value) {
            _super.prototype.setAttr.call(this, 'description', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "isTextOnly", {
        get: function () {
            return !this.outgoing.some(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('jumpTo'));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "state", {
        get: function () {
            var edge = this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('jumpTo'))[0];
            return edge ? edge.target : null;
        },
        enumerable: true,
        configurable: true
    });
    SlideNode.restore = function (dump) {
        return new SlideNode().restore(dump);
    };
    Object.defineProperty(SlideNode.prototype, "next", {
        get: function () {
            var n = this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('next'))[0];
            return n ? n.target : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "nexts", {
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('next')).map(function (n) { return n.target; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "previous", {
        get: function () {
            var n = this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('next'))[0];
            return n ? n.source : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "slideIndex", {
        get: function () {
            var p = this.previous;
            return 1 + (p ? p.slideIndex : 0);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "duration", {
        get: function () {
            return this.getAttr('duration', DEFAULT_DURATION);
        },
        set: function (value) {
            this.setAttr('duration', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "transition", {
        /**
         * the number of milliseconds for the transitions
         * @returns {number}
         */
        get: function () {
            return this.getAttr('transition', DEFAULT_TRANSITION);
        },
        set: function (value) {
            this.setAttr('transition', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SlideNode.prototype, "annotations", {
        get: function () {
            return this.getAttr('annotations', []);
        },
        enumerable: true,
        configurable: true
    });
    SlideNode.prototype.setAnnotation = function (index, ann) {
        var old = this.annotations;
        old[index] = ann;
        this.setAttr('annotations', old);
    };
    SlideNode.prototype.updateAnnotation = function (ann) {
        //since it is a reference just updated
        this.setAttr('annotations', this.annotations);
    };
    SlideNode.prototype.removeAnnotation = function (index) {
        var old = this.annotations;
        old.splice(index, 1);
        this.setAttr('annotations', old);
    };
    SlideNode.prototype.removeAnnotationElem = function (elem) {
        var old = this.annotations;
        old.splice(old.indexOf(elem), 1);
        this.setAttr('annotations', old);
    };
    SlideNode.prototype.pushAnnotation = function (ann) {
        var old = this.annotations;
        old.push(ann);
        this.setAttr('annotations', old);
        this.fire('push-annotations', ann, old);
    };
    Object.defineProperty(SlideNode.prototype, "isStart", {
        get: function () {
            return this.previous == null;
        },
        enumerable: true,
        configurable: true
    });
    SlideNode.makeText = function (title) {
        var s = new SlideNode();
        if (title) {
            s.pushAnnotation({
                type: 'text',
                pos: [25, 25],
                text: '# ${name}'
            });
            s.name = title;
        }
        return s;
    };
    return SlideNode;
}(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["b" /* GraphNode */]));
/* harmony default export */ __webpack_exports__["a"] = (SlideNode);


/***/ }),
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__graph_graph__ = __webpack_require__(6);

/**
 * Created by sam on 12.02.2015.
 */

/**
 * a state node is one state in the visual exploration consisting of an action creating it and one or more following ones.
 * In addition, a state is characterized by the set of active object nodes
 */
var StateNode = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](StateNode, _super);
    function StateNode(name, description) {
        if (description === void 0) { description = ''; }
        var _this = _super.call(this, 'state') || this;
        _super.prototype.setAttr.call(_this, 'name', name);
        _super.prototype.setAttr.call(_this, 'description', description);
        return _this;
    }
    Object.defineProperty(StateNode.prototype, "name", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'name');
        },
        set: function (value) {
            _super.prototype.setAttr.call(this, 'name', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "description", {
        get: function () {
            return _super.prototype.getAttr.call(this, 'description', '');
        },
        set: function (value) {
            _super.prototype.setAttr.call(this, 'description', value);
        },
        enumerable: true,
        configurable: true
    });
    StateNode.restore = function (p) {
        var r = new StateNode(p.attrs.name);
        return r.restore(p);
    };
    Object.defineProperty(StateNode.prototype, "consistsOf", {
        /**
         * this state consists of the following objects
         * @returns {ObjectNode<any>[]}
         */
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('consistsOf')).map(function (e) { return e.target; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "resultsFrom", {
        /**
         * returns the actions leading to this state
         * @returns {ActionNode[]}
         */
        get: function () {
            return this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('resultsIn')).map(function (e) { return e.source; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "creator", {
        /**
         *
         * @returns {any}
         */
        get: function () {
            //results and not a inversed actions
            var from = this.incoming.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('resultsIn')).map(function (e) { return e.source; }).filter(function (s) { return !s.isInverse; });
            if (from.length === 0) {
                return null;
            }
            return from[0];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "next", {
        get: function () {
            return this.outgoing.filter(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["d" /* isType */])('next')).map(function (e) { return e.target; }).filter(function (s) { return !s.isInverse; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "previousState", {
        get: function () {
            var a = this.creator;
            if (a) {
                return a.previous;
            }
            return null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "previousStates", {
        get: function () {
            return this.resultsFrom.map(function (n) { return n.previous; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "nextStates", {
        get: function () {
            return this.next.map(function (n) { return n.resultsIn; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "nextState", {
        get: function () {
            var r = this.next[0];
            return r ? r.resultsIn : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateNode.prototype, "path", {
        get: function () {
            var p = this.previousState, r = [];
            r.unshift(this);
            if (p) {
                p.pathImpl(r);
            }
            return r;
        },
        enumerable: true,
        configurable: true
    });
    StateNode.prototype.pathImpl = function (r) {
        var p = this.previousState;
        r.unshift(this);
        if (p && r.indexOf(p) < 0) { //no loop
            //console.log(p.toString() + ' path '+ r.join(','));
            p.pathImpl(r);
        }
    };
    StateNode.prototype.toString = function () {
        return this.name;
    };
    return StateNode;
}(__WEBPACK_IMPORTED_MODULE_1__graph_graph__["b" /* GraphNode */]));
/* harmony default export */ __webpack_exports__["a"] = (StateNode);


/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iterator__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__SingleRangeElem__ = __webpack_require__(118);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */



var RangeElem = /** @class */ (function () {
    function RangeElem(from, to, step) {
        if (to === void 0) { to = -1; }
        if (step === void 0) { step = 1; }
        this.from = from;
        this.to = to;
        this.step = step;
        if (step === 0) {
            throw new Error('invalid step size: ' + step);
        }
    }
    Object.defineProperty(RangeElem.prototype, "isAll", {
        get: function () {
            return this.from === 0 && this.to === -1 && this.step === 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeElem.prototype, "isSingle", {
        get: function () {
            return (this.from + this.step) === this.to;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangeElem.prototype, "isUnbound", {
        get: function () {
            return this.from < 0 || this.to < 0;
        },
        enumerable: true,
        configurable: true
    });
    RangeElem.all = function () {
        return new RangeElem(0, -1, 1);
    };
    RangeElem.none = function () {
        return new RangeElem(0, 0, 1);
    };
    RangeElem.single = function (val) {
        return new __WEBPACK_IMPORTED_MODULE_2__SingleRangeElem__["a" /* default */](val);
    };
    RangeElem.range = function (from, to, step) {
        if (to === void 0) { to = -1; }
        if (step === void 0) { step = 1; }
        if ((from + step) === to) {
            return RangeElem.single(from);
        }
        return new RangeElem(from, to, step);
    };
    RangeElem.prototype.size = function (size) {
        var t = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.to, size), f = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size);
        if (this.step === 1) {
            return Math.max(t - f, 0);
        }
        else if (this.step === -1) {
            if (this.to === -1) {
                return Math.max(f - -1, 0);
            }
            return Math.max(f - t, 0);
        }
        var d = this.step > 0 ? (t - f + 1) : (f - t + 1);
        var s = Math.abs(this.step);
        if (d <= 0) { //no range
            return 0;
        }
        return Math.floor(d / s);
    };
    RangeElem.prototype.clone = function () {
        return new RangeElem(this.from, this.to, this.step);
    };
    RangeElem.prototype.reverse = function () {
        if (this.step > 0) {
            var t = this.from - 1;
            var f = this.to - 1;
            return new RangeElem(f, t, -this.step);
        }
        else { //step <0
            var t = this.from - 1;
            var f = this.to - 1;
            return new RangeElem(f, t, -this.step);
        }
    };
    RangeElem.prototype.invert = function (index, size) {
        if (this.isAll) {
            return index;
        }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size) + index * this.step;
    };
    /**
     * creates an iterator of this range
     * @param size the underlying size for negative indices
     */
    RangeElem.prototype.iter = function (size) {
        if (this.step < 0 && this.to === -1) {
            // keep negative to have 0 included
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__iterator__["range"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size), -1, this.step);
        }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__iterator__["range"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.to, size), this.step);
    };
    Object.defineProperty(RangeElem.prototype, "__iterator__", {
        get: function () {
            return this.iter();
        },
        enumerable: true,
        configurable: true
    });
    RangeElem.prototype.contains = function (value, size) {
        if (this.isAll) {
            return true;
        }
        var f = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size);
        var t = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.to, size);
        if (this.step === -1) {
            if (this.to === -1) {
                return (value <= f && value >= 0);
            }
            return (value <= f) && (value > t);
        }
        else if (this.step === +1) { //+1
            return (value >= f) && (value < t);
        }
        else {
            return this.iter(size).asList().indexOf(value) >= 0;
        }
    };
    RangeElem.prototype.toString = function () {
        if (this.isAll) {
            return '';
        }
        if (this.isSingle) {
            return this.from.toString();
        }
        var r = this.from + ':' + this.to;
        if (this.step !== 1) {
            r += ':' + this.step;
        }
        return r;
    };
    RangeElem.parse = function (code) {
        if (code.length === 0) {
            return RangeElem.all();
        }
        var parseElem = function (v, defaultValue) {
            if (defaultValue === void 0) { defaultValue = NaN; }
            v = v.trim();
            if (v === '' && !isNaN(defaultValue)) {
                return defaultValue;
            }
            var n = parseInt(v, 10);
            if (isNaN(n)) {
                throw Error("parse error: \"" + v + "\" is not a valid integer");
            }
            return n;
        };
        var parts = code.split(':');
        switch (parts.length) {
            case 1:
                return RangeElem.single(parseElem(parts[0]));
            case 2:
                return new RangeElem(parseElem(parts[0], 0), parseElem(parts[1], -1));
            case 3:
                return new RangeElem(parseElem(parts[0], 0), parseElem(parts[1], -1), parseElem(parts[2], 1));
            default:
                throw new Error("parse error: \"" + code + "\" is not a valid range specifier");
        }
    };
    return RangeElem;
}());
/* harmony default export */ __webpack_exports__["a"] = (RangeElem);


/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = fix;
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */
function fix(v, size) {
    return v < 0 ? (size + 1 + v) : v;
}


/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (immutable) */ __webpack_exports__["store"] = store;
/* harmony export (immutable) */ __webpack_exports__["remove"] = remove;
/* harmony export (immutable) */ __webpack_exports__["has"] = has;
/* harmony export (immutable) */ __webpack_exports__["retrieve"] = retrieve;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by sam on 10.02.2015.
 */
/**
 * Use the browser's sessionStorage
 * @type {Storage}
 */
var context = sessionStorage;
/**
 * Store any value for a given key and returns the previous stored value.
 * Returns `null` if no previous value was found.
 * @param key
 * @param value
 * @returns {any}
 */
function store(key, value) {
    var bak = context.getItem(key);
    context.setItem(key, JSON.stringify(value));
    return bak;
}
/**
 * Removes the key-value pair from the session
 * @param key
 */
function remove(key) {
    context.removeItem(key);
}
/**
 * Returns true if the key exists in the session. Otherwise returns false.
 * @param key
 * @returns {boolean}
 */
function has(key) {
    return (context.getItem(key) !== null);
}
/**
 * Returns the value for the given key if it exists in the session.
 * Otherwise returns the `default_` parameter, which is by default `null`.
 * @param key
 * @param defaultValue
 * @returns {T}
 */
function retrieve(key, defaultValue) {
    if (defaultValue === void 0) { defaultValue = null; }
    return has(key) ? JSON.parse(context.getItem(key)) : defaultValue;
}


/***/ }),
/* 64 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__datatype__ = __webpack_require__(3);
/* harmony export (immutable) */ __webpack_exports__["a"] = guessColor;
/* harmony export (immutable) */ __webpack_exports__["b"] = createDefaultStratificationDesc;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */


function guessColor(stratification, group) {
    switch (group.toLowerCase()) {
        case 'male':
            return 'blue';
        case 'female':
            return 'red';
        case 'deceased':
            return '#e41a1b';
        case 'living':
            return '#377eb8';
    }
    return 'gray';
}
function createDefaultStratificationDesc() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__datatype__["createDefaultDataDesc"])(), {
        type: 'stratification',
        idtype: '_rows',
        size: 0,
        groups: [],
        ngroups: 0
    });
}


/***/ }),
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__math__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__IStratification__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__StratificationGroup__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__loader__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__StratificationVector__ = __webpack_require__(120);
/* harmony export (immutable) */ __webpack_exports__["create"] = create;
/* harmony export (immutable) */ __webpack_exports__["wrap"] = wrap;
/* harmony export (immutable) */ __webpack_exports__["asStratification"] = asStratification;
/* harmony export (immutable) */ __webpack_exports__["wrapCategoricalVector"] = wrapCategoricalVector;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */











/**
 * root matrix implementation holding the data
 * @internal
 */
var Stratification = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Stratification, _super);
    function Stratification(desc, loader) {
        var _this = _super.call(this, desc) || this;
        _this.loader = loader;
        return _this;
    }
    Object.defineProperty(Stratification.prototype, "idtype", {
        get: function () {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["resolve"])(this.desc.idtype);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Stratification.prototype, "groups", {
        get: function () {
            return this.desc.groups;
        },
        enumerable: true,
        configurable: true
    });
    Stratification.prototype.group = function (group) {
        return new __WEBPACK_IMPORTED_MODULE_8__StratificationGroup__["a" /* default */](this, group, this.groups[group]);
    };
    Stratification.prototype.hist = function (bins, range) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = __WEBPACK_IMPORTED_MODULE_6__math__["rangeHist"];
                        return [4 /*yield*/, this.range()];
                    case 1: 
                    //TODO
                    return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
                }
            });
        });
    };
    Stratification.prototype.vector = function () {
        return this.asVector();
    };
    Stratification.prototype.asVector = function () {
        var _this = this;
        if (!this._v) {
            this._v = this.loader(this.desc).then(function (data) { return new __WEBPACK_IMPORTED_MODULE_10__StratificationVector__["a" /* default */](_this, data.range); });
        }
        return this._v;
    };
    Stratification.prototype.origin = function () {
        if ('origin' in this.desc) {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__data__["getFirstByFQName"])(this.desc.origin);
        }
        return Promise.reject('no origin specified');
    };
    Stratification.prototype.range = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loader(this.desc)];
                    case 1: return [2 /*return*/, (_a.sent()).range];
                }
            });
        });
    };
    Stratification.prototype.idRange = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var data, ids, range;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loader(this.desc)];
                    case 1:
                        data = _a.sent();
                        ids = data.rowIds.dim(0);
                        range = data.range;
                        return [2 /*return*/, ids.preMultiply(range, this.dim[0])];
                }
            });
        });
    };
    Stratification.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a, _b;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _b = (_a = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range)).filter;
                        return [4 /*yield*/, this.loader(this.desc)];
                    case 1: return [2 /*return*/, _b.apply(_a, [(_c.sent()).rows, this.dim])];
                }
            });
        });
    };
    Stratification.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loader(this.desc)];
                    case 1: return [2 /*return*/, (_a.sent()).rowIds.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range), this.dim)];
                }
            });
        });
    };
    Object.defineProperty(Stratification.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    Stratification.prototype.size = function () {
        return this.desc.size;
    };
    Object.defineProperty(Stratification.prototype, "length", {
        get: function () {
            return this.dim[0];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Stratification.prototype, "ngroups", {
        get: function () {
            return this.desc.ngroups;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Stratification.prototype, "dim", {
        get: function () {
            return [this.size()];
        },
        enumerable: true,
        configurable: true
    });
    Stratification.prototype.persist = function () {
        return this.desc.id;
    };
    return Stratification;
}(__WEBPACK_IMPORTED_MODULE_4__datatype__["ADataType"]));
/* harmony default export */ __webpack_exports__["default"] = (Stratification);
/**
 * module entry point for creating a datatype
 * @param desc
 * @returns {IVector}
 */
function create(desc) {
    return new Stratification(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__loader__["a" /* viaAPILoader */])());
}
function wrap(desc, rows, rowIds, range) {
    return new Stratification(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__loader__["b" /* viaDataLoader */])(rows, rowIds, range));
}
function asStratification(rows, range, options) {
    if (options === void 0) { options = {}; }
    var desc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__IStratification__["b" /* createDefaultStratificationDesc */])(), {
        size: 0,
        groups: range.groups.map(function (r) { return ({ name: r.name, color: r.color, size: r.length }); }),
        ngroups: range.groups.length
    }, options);
    var rowAssigner = options.rowassigner || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["createLocalAssigner"])();
    return new Stratification(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__loader__["b" /* viaDataLoader */])(rows, rowAssigner(rows), range));
}
function wrapCategoricalVector(v) {
    if (v.valuetype.type !== __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_CATEGORICAL"]) {
        throw new Error('invalid vector value type: ' + v.valuetype.type);
    }
    var toGroup = function (g) {
        if (typeof g === 'string') {
            return { name: g, color: 'gray', size: NaN };
        }
        var cat = g;
        return { name: cat.name, color: cat.color || 'gray', size: NaN };
    };
    var cats = v.desc.value.categories.map(toGroup);
    var desc = {
        id: v.desc.id + '-s',
        type: 'stratification',
        name: v.desc.name + '-s',
        fqname: v.desc.fqname + '-s',
        description: v.desc.description,
        idtype: v.idtype.id,
        ngroups: cats.length,
        groups: cats,
        size: v.length,
        creator: v.desc.creator,
        ts: v.desc.ts
    };
    function loader() {
        return Promise.all([v.groups(), v.ids(), v.names()]).then(function (args) {
            var range = args[0];
            range.groups.forEach(function (g, i) { return cats[i].size = g.length; });
            return {
                range: args[0],
                rowIds: args[1],
                rows: args[2]
            };
        });
    }
    return new Stratification(desc, loader);
}


/***/ }),
/* 66 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__math__ = __webpack_require__(11);
/**
 * Created by sam on 26.12.2016.
 */




/**
 * root matrix implementation holding the data
 * @internal
 */
var StratificationGroup = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](StratificationGroup, _super);
    function StratificationGroup(root, groupIndex, groupDesc) {
        var _this = _super.call(this) || this;
        _this.root = root;
        _this.groupIndex = groupIndex;
        _this.groupDesc = groupDesc;
        return _this;
    }
    Object.defineProperty(StratificationGroup.prototype, "desc", {
        get: function () {
            return this.root.desc;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StratificationGroup.prototype, "groups", {
        get: function () {
            return [this.groupDesc];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StratificationGroup.prototype, "ngroups", {
        get: function () {
            return 1;
        },
        enumerable: true,
        configurable: true
    });
    StratificationGroup.prototype.group = function (groupIndex) {
        if (groupIndex === 0) {
            return this;
        }
        return null; //can't sub a single group
    };
    Object.defineProperty(StratificationGroup.prototype, "idtype", {
        get: function () {
            return this.root.idtype;
        },
        enumerable: true,
        configurable: true
    });
    StratificationGroup.prototype.hist = function (bins, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = __WEBPACK_IMPORTED_MODULE_3__math__["rangeHist"];
                        return [4 /*yield*/, this.range()];
                    case 1: 
                    //FIXME
                    return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
                }
            });
        });
    };
    StratificationGroup.prototype.vector = function () {
        return this.asVector();
    };
    StratificationGroup.prototype.asVector = function () {
        return Promise.all([this.root.asVector(), this.rangeGroup()]).then(function (arr) { return arr[0].view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(arr[1])); });
    };
    StratificationGroup.prototype.origin = function () {
        return this.root.origin();
    };
    StratificationGroup.prototype.range = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var g;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.rangeGroup()];
                    case 1:
                        g = _a.sent();
                        return [2 /*return*/, new __WEBPACK_IMPORTED_MODULE_1__range__["CompositeRange1D"](g.name, [g])];
                }
            });
        });
    };
    StratificationGroup.prototype.idRange = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var r, g;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.root.idRange()];
                    case 1:
                        r = _a.sent();
                        g = r.groups[this.groupIndex];
                        return [2 /*return*/, new __WEBPACK_IMPORTED_MODULE_1__range__["CompositeRange1D"](g.name, [g])];
                }
            });
        });
    };
    StratificationGroup.prototype.rangeGroup = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var r;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.root.range()];
                    case 1:
                        r = _a.sent();
                        return [2 /*return*/, r.groups[this.groupIndex]];
                }
            });
        });
    };
    StratificationGroup.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var g, r;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.rangeGroup()];
                    case 1:
                        g = _a.sent();
                        r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(g).preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
                        return [2 /*return*/, this.root.names(r)];
                }
            });
        });
    };
    StratificationGroup.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var g, r;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.rangeGroup()];
                    case 1:
                        g = _a.sent();
                        r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(g).preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
                        return [2 /*return*/, this.root.ids(r)];
                }
            });
        });
    };
    StratificationGroup.prototype.idView = function (idRange) {
        if (idRange === void 0) { idRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return Promise.reject('not implemented');
    };
    StratificationGroup.prototype.toString = function () {
        return this.persist();
    };
    Object.defineProperty(StratificationGroup.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    StratificationGroup.prototype.size = function () {
        return [this.length];
    };
    Object.defineProperty(StratificationGroup.prototype, "length", {
        get: function () {
            return this.groupDesc.size;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StratificationGroup.prototype, "dim", {
        get: function () {
            return this.size();
        },
        enumerable: true,
        configurable: true
    });
    StratificationGroup.prototype.persist = function () {
        return {
            root: this.root.persist(),
            group: this.groupIndex
        };
    };
    StratificationGroup.prototype.restore = function (persisted) {
        return this;
    };
    return StratificationGroup;
}(__WEBPACK_IMPORTED_MODULE_2__idtype__["SelectAble"]));
/* harmony default export */ __webpack_exports__["a"] = (StratificationGroup);


/***/ }),
/* 67 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Store__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__plugin__ = __webpack_require__(7);
/* unused harmony export SYNCER_EXTENSION_POINT */
/**
 * Created by Samuel Gratzl on 01.12.2016.
 */



var SYNCER_EXTENSION_POINT = 'tabSyncer';
var TabSyncer = /** @class */ (function () {
    function TabSyncer(options) {
        var _this = this;
        this.options = {
            keyPrefix: 'tab-sync-',
            storage: localStorage
        };
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0____["mixin"])(this.options, options);
        this.store = new __WEBPACK_IMPORTED_MODULE_1__Store__["a" /* default */](this.options.storage, this.options.keyPrefix);
        this.store.on(__WEBPACK_IMPORTED_MODULE_1__Store__["a" /* default */].EVENT_CHANGED, TabSyncer.handleChange.bind(this));
        // instantiate plugins
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__plugin__["load"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__plugin__["list"])(SYNCER_EXTENSION_POINT)).then(function (instances) {
            instances.forEach(function (i) { return _this.push(i.factory); });
        });
        this.registerTab(document.location.href);
        window.addEventListener('beforeunload', function () {
            _this.unregisterTab(document.location.href);
        });
    }
    TabSyncer.prototype.push = function (syncer) {
        syncer(this.store);
    };
    TabSyncer.prototype.registerTab = function (url) {
        var list = this.getTabList();
        list.push(url);
        this.store.setValue(TabSyncer.TAB_LIST, list);
    };
    TabSyncer.handleChange = function (event, key, newValue, oldValue, url) {
        console.log('change in local storage', key, newValue, oldValue, url);
    };
    TabSyncer.prototype.unregisterTab = function (url) {
        var list = this.getTabList();
        var i = list.indexOf(url);
        if (i >= 0) {
            list.splice(i, 1);
            this.store.setValue(TabSyncer.TAB_LIST, list);
        }
    };
    TabSyncer.prototype.getTabList = function () {
        return this.store.getValue(TabSyncer.TAB_LIST, []);
    };
    TabSyncer.TAB_LIST = 'tabList';
    return TabSyncer;
}());
/* harmony default export */ __webpack_exports__["a"] = (TabSyncer);


/***/ }),
/* 68 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__internal_MultiTableVector__ = __webpack_require__(129);
/* unused harmony export ATable */
/* unused harmony export TableView */
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */




/**
 * base class for different Table implementations, views, transposed,...
 * @internal
 */
var ATable = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ATable, _super);
    function ATable(root) {
        var _this = _super.call(this) || this;
        _this.root = root;
        return _this;
    }
    Object.defineProperty(ATable.prototype, "dim", {
        get: function () {
            return this.size();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ATable.prototype, "nrow", {
        get: function () {
            return this.dim[0];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ATable.prototype, "ncol", {
        get: function () {
            return this.dim[1];
        },
        enumerable: true,
        configurable: true
    });
    ATable.prototype.view = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        // tslint:disable:no-use-before-declare
        // Disabled the rule, because the classes below reference each other in a way that it is impossible to find a successful order.
        return new TableView(this.root, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range));
    };
    ATable.prototype.idView = function (idRange) {
        if (idRange === void 0) { idRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this.view;
                        return [4 /*yield*/, this.ids()];
                    case 1: return [2 /*return*/, _a.apply(this, [(_b.sent()).indexOf(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(idRange))])];
                }
            });
        });
    };
    ATable.prototype.reduce = function (f, thisArgument, valuetype, idtype) {
        return new __WEBPACK_IMPORTED_MODULE_3__internal_MultiTableVector__["a" /* default */](this.root, f, thisArgument, valuetype, idtype);
    };
    ATable.prototype.restore = function (persisted) {
        if (persisted && persisted.f) {
            /* tslint:disable:no-eval */
            return this.reduce(eval(persisted.f), this, persisted.valuetype, persisted.idtype ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__idtype__["resolve"])(persisted.idtype) : undefined);
            /* tslint:enable:no-eval */
        }
        else if (persisted && persisted.range) { //some view onto it
            return this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(persisted.range));
        }
        else {
            return this;
        }
    };
    return ATable;
}(__WEBPACK_IMPORTED_MODULE_2__idtype__["SelectAble"]));

/* harmony default export */ __webpack_exports__["a"] = (ATable);
// circular dependency thus not extractable
/**
 * @internal
 */
var TableView = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](TableView, _super);
    function TableView(root, range) {
        var _this = _super.call(this, root) || this;
        _this.range = range;
        _this.range = range;
        _this.vectors = _this.root.cols(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(range.dim(1))).map(function (v) { return v.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(range.dim(0))); });
        return _this;
    }
    Object.defineProperty(TableView.prototype, "desc", {
        get: function () {
            return this.root.desc;
        },
        enumerable: true,
        configurable: true
    });
    TableView.prototype.persist = function () {
        return {
            root: this.root.persist(),
            range: this.range.toString()
        };
    };
    TableView.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(persisted.range));
        }
        return r;
    };
    TableView.prototype.size = function () {
        return this.range.size(this.root.dim);
    };
    TableView.prototype.at = function (row, col) {
        var inverted = this.range.invert([row, col], this.root.dim);
        return this.root.at(inverted[0], inverted[1]);
    };
    TableView.prototype.col = function (i) {
        return this.vectors[i]; // TODO prevent `<any>` by using `<IVector<any, IValueTypeDesc>>` leads to TS compile errors
    };
    TableView.prototype.cols = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).filter(this.vectors, [this.ncol]);
    };
    TableView.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.data(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    TableView.prototype.colData = function (column, range) {
        return this.dataOfColumn(column, range);
    };
    TableView.prototype.dataOfColumn = function (column, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        // since we directly accessing the column by name there is no need for the column part of the range
        var rowRange = this.range.dim(0).preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).dim(0), this.root.dim[0]);
        return this.root.dataOfColumn(column, new __WEBPACK_IMPORTED_MODULE_1__range__["Range"]([rowRange]));
    };
    TableView.prototype.objects = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.objects(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    TableView.prototype.rows = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.rows(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    TableView.prototype.rowIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.root.rowIds(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range), this.root.dim));
    };
    TableView.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.rowIds(range);
    };
    TableView.prototype.view = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range);
        if (r.isAll) {
            return this;
        }
        return new TableView(this.root, this.range.preMultiply(r, this.dim));
    };
    Object.defineProperty(TableView.prototype, "idtype", {
        get: function () {
            return this.root.idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TableView.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    TableView.prototype.queryView = function (name, args) {
        throw new Error('not implemented');
    };
    return TableView;
}(ATable));



/***/ }),
/* 69 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ITable__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ATable__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__internal_TableVector__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__loader__ = __webpack_require__(133);
/* harmony export (immutable) */ __webpack_exports__["create"] = create;
/* harmony export (immutable) */ __webpack_exports__["wrapObjects"] = wrapObjects;
/* harmony export (immutable) */ __webpack_exports__["asTableFromArray"] = asTableFromArray;
/* harmony export (immutable) */ __webpack_exports__["asTable"] = asTable;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */









/**
 * root matrix implementation holding the data
 * @internal
 */
var Table = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Table, _super);
    function Table(desc, loader) {
        var _this = _super.call(this, null) || this;
        _this.desc = desc;
        _this.loader = loader;
        // set default column
        desc.columns.forEach(function (col) { return col.column = col.column || col.name; });
        _this.root = _this;
        _this.vectors = desc.columns.map(function (cdesc, i) { return new __WEBPACK_IMPORTED_MODULE_7__internal_TableVector__["a" /* default */](_this, i, cdesc); });
        return _this;
    }
    Object.defineProperty(Table.prototype, "idtype", {
        get: function () {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["resolve"])(this.desc.idtype || this.desc.rowtype);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Table.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    Table.prototype.col = function (i) {
        return this.vectors[i]; // TODO prevent `<any>` by using `<TableVector<any, IValueTypeDesc>>` leads to TS compile errors
    };
    Table.prototype.cols = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range).filter(this.vectors, [this.ncol]);
    };
    Table.prototype.at = function (row, col) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.colData(this.col(col).column, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(row))];
                    case 1: return [2 /*return*/, (_a.sent())[0]];
                }
            });
        });
    };
    Table.prototype.queryView = function (name, args) {
        return new Table(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["a" /* adapterOne2Two */])(this.loader.view(this.desc, name, args)));
    };
    Table.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.loader.data(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range));
    };
    Table.prototype.colData = function (column, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.dataOfColumn(column, range);
    };
    Table.prototype.dataOfColumn = function (column, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.loader.col(this.desc, column, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range));
    };
    Table.prototype.objects = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.loader.objs(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range));
    };
    Table.prototype.rows = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.loader.rows(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range));
    };
    Table.prototype.rowIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.loader.rowIds(this.desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range));
    };
    Table.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.rowIds(range);
    };
    Table.prototype.size = function () {
        return this.desc.size;
    };
    Table.prototype.persist = function () {
        return this.desc.id;
    };
    Table.prototype.restore = function (persisted) {
        if (persisted && typeof persisted.col === 'number') {
            return this.col(persisted.col);
        }
        return _super.prototype.restore.call(this, persisted);
    };
    return Table;
}(__WEBPACK_IMPORTED_MODULE_6__ATable__["a" /* default */]));
/* harmony default export */ __webpack_exports__["default"] = (Table);
/**
 * module entry point for creating a datatype
 * @param desc
 * @param loader
 * @returns {ITable}
 */
function create(desc, loader) {
    if (loader) {
        return new Table(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["a" /* adapterOne2Two */])(loader));
    }
    return new Table(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["b" /* viaAPI2Loader */])());
}
function wrapObjects(desc, data, nameProperty) {
    return new Table(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["a" /* adapterOne2Two */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["c" /* viaDataLoader */])(data, nameProperty)));
}
function toObjects(data, cols) {
    return data.map(function (row) {
        var r = {};
        cols.forEach(function (col, i) { return r[col] = row[i]; });
        return r;
    });
}
function toList(objs, cols) {
    return objs.map(function (obj) { return cols.map(function (c) { return obj[c]; }); });
}
function asTableImpl(columns, rows, objs, data, options) {
    if (options === void 0) { options = {}; }
    var desc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__ITable__["a" /* createDefaultTableDesc */])(), {
        columns: columns,
        size: [rows.length, columns.length]
    }, options);
    var rowAssigner = options.rowassigner || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["createLocalAssigner"])();
    var loader = function () {
        var r = {
            rowIds: rowAssigner(rows),
            rows: rows,
            objs: objs,
            data: data
        };
        return Promise.resolve(r);
    };
    return new Table(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__loader__["a" /* adapterOne2Two */])(loader));
}
function asTableFromArray(data, options) {
    if (options === void 0) { options = {}; }
    var rows = data.map(function (r) { return r[0]; });
    var cols = data[0].slice(1);
    var tableData = data.slice(1).map(function (r) { return r.slice(1); });
    var columns = cols.map(function (col, i) {
        return {
            name: col,
            column: col,
            value: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__datatype__["guessValueTypeDesc"])(tableData.map(function (row) { return row[i]; }))
        };
    });
    var realData = tableData.map(function (row) { return columns.map(function (col, i) { return (col.value.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"] || col.value.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"]) ? parseFloat(row[i]) : row[i]; }); });
    var objs = toObjects(realData, cols);
    return asTableImpl(columns, rows, objs, realData, options);
}
/**
 * Creates a new table from an array of arrays of data and an optional options data structure.
 * TODO: explain the relationship of this function and the "magic" JSON file.
 * @param data
 * @param options TODO - explain what these options are
 * @returns {Table}
 */
function asTable(data, options) {
    if (options === void 0) { options = {}; }
    var keyProperty = options.keyProperty || '_id';
    var rows = data.map(function (r, i) { return String(r[keyProperty] || i); });
    var cols = Object.keys(data[0]);
    var objs = data;
    var realData = toList(objs, cols);
    var columns = cols.map(function (col, i) {
        return {
            name: col,
            column: col,
            value: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__datatype__["guessValueTypeDesc"])(realData.map(function (row) { return row[i]; }))
        };
    });
    return asTableImpl(columns, rows, objs, realData, options);
}


/***/ }),
/* 70 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__IVector__ = __webpack_require__(134);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AVector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__loader__ = __webpack_require__(139);
/* harmony export (immutable) */ __webpack_exports__["create"] = create;
/* harmony export (immutable) */ __webpack_exports__["wrap"] = wrap;
/* harmony export (immutable) */ __webpack_exports__["asVector"] = asVector;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */









/**
 * Base vector implementation holding the data.
 * @internal
 */
var Vector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Vector, _super);
    function Vector(desc, loader) {
        var _this = _super.call(this, null) || this;
        _this.desc = desc;
        _this.loader = loader;
        _this.root = _this;
        return _this;
    }
    Object.defineProperty(Vector.prototype, "valuetype", {
        get: function () {
            return this.desc.value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Vector.prototype, "idtype", {
        get: function () {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["resolve"])(this.desc.idtype);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * loads all the underlying data in json format
     * TODO: load just needed data and not everything given by the requested range
     * @returns {*}
     */
    Vector.prototype.load = function () {
        return this.loader(this.desc);
    };
    /**
     * access at a specific position
     * @param i
     * @returns {*}
     */
    Vector.prototype.at = function (i) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load()];
                    case 1: return [2 /*return*/, (_a.sent()).data[i]];
                }
            });
        });
    };
    Vector.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var data, d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load()];
                    case 1:
                        data = _a.sent();
                        d = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range).filter(data.data, this.dim);
                        if ((this.valuetype.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_REAL"] || this.valuetype.type === __WEBPACK_IMPORTED_MODULE_4__datatype__["VALUE_TYPE_INT"])) {
                            return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__datatype__["mask"])(d, this.valuetype)];
                        }
                        return [2 /*return*/, d];
                }
            });
        });
    };
    Vector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var data;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load()];
                    case 1:
                        data = _a.sent();
                        return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range).filter(data.rows, this.dim)];
                }
            });
        });
    };
    Vector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var data;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load()];
                    case 1:
                        data = _a.sent();
                        return [2 /*return*/, data.rowIds.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range), this.dim)];
                }
            });
        });
    };
    Object.defineProperty(Vector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    Vector.prototype.size = function () {
        return this.desc.size;
    };
    Vector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    Vector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    Vector.prototype.persist = function () {
        return this.desc.id;
    };
    return Vector;
}(__WEBPACK_IMPORTED_MODULE_6__AVector__["b" /* default */]));
/* harmony default export */ __webpack_exports__["default"] = (Vector);
/**
 * module entry point for creating a datatype
 * @internal
 * @param desc
 * @returns {IVector}
 */
function create(desc) {
    if (typeof (desc.loader) === 'function') {
        return new Vector(desc, desc.loader);
    }
    return new Vector(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__loader__["a" /* viaAPILoader */])());
}
function wrap(desc, rows, rowIds, data) {
    return new Vector(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__loader__["b" /* viaDataLoader */])(rows, rowIds, data));
}
function asVector(rows, data, options) {
    if (options === void 0) { options = {}; }
    var desc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__IVector__["a" /* createDefaultVectorDesc */])(), {
        size: data.length,
        value: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__datatype__["guessValueTypeDesc"])(data)
    }, options);
    var rowAssigner = options.rowassigner || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["createLocalAssigner"])();
    return new Vector(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__loader__["b" /* viaDataLoader */])(rows, rowAssigner(rows), data));
}


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */

/**
 * generates and object that contain all modules in the src folder accessible as properties
 */

/**
 * magic file name for the pseudo root file
 * @type {string}
 */
var INDEX_FILE = './index.ts';
/**
 * sorts the given filename by name ensuring INDEX is the first one
 * @param a
 * @param b
 * @returns {number}
 */
function byName(a, b) {
  if (a === INDEX_FILE) {
    return a === b ? 0 : -1;
  }
  if (b === INDEX_FILE) {
    return 1;
  }
  return a.toLowerCase().localeCompare(b.toLowerCase());
}
// list all modules in the src folder excluding the one starting with _
var req = __webpack_require__(143);

var files = req.keys().sort(byName);

// root file exists? else use anonymous root object
if (files[0] === INDEX_FILE) {
  module.exports = req(files.shift());
} else {
  module.exports = {};
}

// generate getter for all modules
files.forEach(function (f) {
  Object.defineProperty(module.exports, f.substring(2, f.lastIndexOf('/index.') > 0 ? f.lastIndexOf('/index.') : f.lastIndexOf('.')), {
    get: function () {
      return req(f);
    },
    enumerable: true
  });
});


/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "buildInfo.json";

/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "phoveaMetaData.json";

/***/ }),
/* 74 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_phovea__ = __webpack_require__(55);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */



/**
 * build a registry by registering all phovea modules
 */
//other modules

//self
__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_plugin__["register"])('phovea_core',__WEBPACK_IMPORTED_MODULE_1__src_phovea__["default"]);


/***/ }),
/* 75 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _arrayWithHoles;
function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

/***/ }),
/* 76 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _arrayWithoutHoles;
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  }
}

/***/ }),
/* 77 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _classCallCheck;
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/***/ }),
/* 78 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _createClass;
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

/***/ }),
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _defineProperty;
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

/***/ }),
/* 80 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _getPrototypeOf;
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

/***/ }),
/* 81 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__setPrototypeOf__ = __webpack_require__(88);
/* harmony export (immutable) */ __webpack_exports__["a"] = _inherits;

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__setPrototypeOf__["a" /* default */])(subClass, superClass);
}

/***/ }),
/* 82 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _iterableToArray;
function _iterableToArray(iter) {
  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
}

/***/ }),
/* 83 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _iterableToArrayLimit;
function _iterableToArrayLimit(arr, i) {
  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) {
    return;
  }

  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

/***/ }),
/* 84 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _nonIterableRest;
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

/***/ }),
/* 85 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _nonIterableSpread;
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}

/***/ }),
/* 86 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__defineProperty__ = __webpack_require__(79);
/* harmony export (immutable) */ __webpack_exports__["a"] = _objectSpread;

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__defineProperty__["a" /* default */])(target, key, source[key]);
    });
  }

  return target;
}

/***/ }),
/* 87 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_esm_typeof__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__assertThisInitialized__ = __webpack_require__(38);
/* harmony export (immutable) */ __webpack_exports__["a"] = _possibleConstructorReturn;


function _possibleConstructorReturn(self, call) {
  if (call && (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_esm_typeof__["a" /* default */])(call) === "object" || typeof call === "function")) {
    return call;
  }

  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__assertThisInitialized__["a" /* default */])(self);
}

/***/ }),
/* 88 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = _setPrototypeOf;
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

/***/ }),
/* 89 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__arrayWithHoles__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iterableToArrayLimit__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__nonIterableRest__ = __webpack_require__(84);
/* harmony export (immutable) */ __webpack_exports__["a"] = _slicedToArray;



function _slicedToArray(arr, i) {
  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__arrayWithHoles__["a" /* default */])(arr) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__iterableToArrayLimit__["a" /* default */])(arr, i) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__nonIterableRest__["a" /* default */])();
}

/***/ }),
/* 90 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__arrayWithoutHoles__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iterableToArray__ = __webpack_require__(82);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__nonIterableSpread__ = __webpack_require__(85);
/* harmony export (immutable) */ __webpack_exports__["a"] = _toConsumableArray;



function _toConsumableArray(arr) {
  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__arrayWithoutHoles__["a" /* default */])(arr) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__iterableToArray__["a" /* default */])(arr) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__nonIterableSpread__["a" /* default */])();
}

/***/ }),
/* 91 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/* unused harmony export AAtom */
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */



/**
 * base class for different Atom implementations
 * @internal
 */
var AAtom = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AAtom, _super);
    function AAtom(desc) {
        var _this = _super.call(this) || this;
        _this.desc = desc;
        return _this;
    }
    Object.defineProperty(AAtom.prototype, "dim", {
        get: function () {
            return [1];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AAtom.prototype, "valuetype", {
        get: function () {
            return this.desc.value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AAtom.prototype, "idtype", {
        get: function () {
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__idtype__["resolve"])(this.desc.idtype);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AAtom.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    AAtom.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range);
        if (range.isNone) {
            return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["none"])());
        }
        return this.id();
    };
    AAtom.prototype.idView = function (idRange) {
        return Promise.resolve(this);
    };
    AAtom.prototype.persist = function () {
        return this.desc.id;
    };
    AAtom.prototype.restore = function (persisted) {
        return this;
    };
    return AAtom;
}(__WEBPACK_IMPORTED_MODULE_2__idtype__["SelectAble"]));

/* harmony default export */ __webpack_exports__["a"] = (AAtom);


/***/ }),
/* 92 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__datatype__ = __webpack_require__(3);
/* harmony export (immutable) */ __webpack_exports__["a"] = createDefaultAtomDesc;
/**
 * Created by Samuel Gratzl on 14.02.2017.
 */


function createDefaultAtomDesc() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__datatype__["createDefaultDataDesc"])(), {
        type: 'atom',
        idtype: '_rows',
        value: {
            type: 'string'
        }
    });
}


/***/ }),
/* 93 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Atom__ = __webpack_require__(40);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asAtom", function() { return __WEBPACK_IMPORTED_MODULE_0__Atom__["asAtom"]; });
/**
 * Created by Samuel Gratzl on 14.02.2017.
 */



/***/ }),
/* 94 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event__ = __webpack_require__(5);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZoomLogic", function() { return ZoomLogic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZoomBehavior", function() { return ZoomBehavior; });
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 16.12.2014.
 */


/**
 * utility logic for zooming a vis instance
 */
var ZoomLogic = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ZoomLogic, _super);
    function ZoomLogic(v, meta) {
        var _this = _super.call(this) || this;
        _this.v = v;
        _this.meta = meta;
        return _this;
    }
    ZoomLogic.prototype.zoomIn = function () {
        return this.zoom(1, 1);
    };
    ZoomLogic.prototype.zoomOut = function () {
        return this.zoom(-1, -1);
    };
    /**
     * zooms in/out, -1 = zoom out, +1 zoom in, 0 no zoom operation
     * @param zoomX
     * @param zoomY
     * @returns {any}
     */
    ZoomLogic.prototype.zoom = function (zoomX, zoomY) {
        if (!this.v) {
            return null;
        }
        function toDelta(x) {
            return x > 0 ? 0.2 : (x < 0 ? -0.2 : 0);
        }
        var old = this.v.transform();
        var deltaX = toDelta(zoomX);
        var deltaY = toDelta(zoomY);
        return this.zoomSet(old.scale[0] + deltaX, old.scale[1] + deltaY);
    };
    Object.defineProperty(ZoomLogic.prototype, "isWidthFixed", {
        get: function () {
            return (this.meta && this.meta.scaling === 'height-only');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ZoomLogic.prototype, "isHeightFixed", {
        get: function () {
            return (this.meta && this.meta.scaling === 'width-only');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ZoomLogic.prototype, "isFixedAspectRatio", {
        get: function () {
            return (this.meta && this.meta.scaling === 'aspect');
        },
        enumerable: true,
        configurable: true
    });
    /**
     * set specific zoom factors
     * @param zoomX
     * @param zoomY
     * @returns {any}
     */
    ZoomLogic.prototype.zoomSet = function (zoomX, zoomY) {
        if (!this.v) {
            return null;
        }
        var old = this.v.transform();
        var s = [zoomX, zoomY];
        switch ((this.meta ? this.meta.scaling : 'free')) {
            case 'width-only':
                s[1] = old.scale[1];
                break;
            case 'height-only':
                s[0] = old.scale[0];
                break;
        }
        if (s[0] <= 0) {
            s[0] = 0.001;
        }
        if (s[1] <= 0) {
            s[1] = 0.001;
        }
        if ((this.meta && this.meta.scaling === 'aspect')) { //same aspect ratio use min scale
            s[0] = s[1] = Math.min.apply(Math, s);
        }
        this.fire('zoom', {
            scale: s,
            rotate: old.rotate
        }, old);
        return this.v.transform(s, old.rotate);
    };
    /**
     * zooms to a given width and height based on the rawSize of the visualization
     * @param w
     * @param h
     * @returns {any}
     */
    ZoomLogic.prototype.zoomTo = function (w, h) {
        if (!this.v) {
            return null;
        }
        var ori = this.v.rawSize;
        return this.zoomSet(w / ori[0], h / ori[1]);
    };
    return ZoomLogic;
}(__WEBPACK_IMPORTED_MODULE_1__event__["EventHandler"]));

/**
 * addition to ZoomLogic taking care of mouse wheel operations on the vis instance
 */
var ZoomBehavior = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ZoomBehavior, _super);
    function ZoomBehavior(node, v, meta) {
        var _this = _super.call(this, v, meta) || this;
        node.addEventListener('mousewheel', function (event) {
            if (!_this.v) {
                return;
            }
            var ctrlKey = event.ctrlKey; //both
            var shiftKey = event.shiftKey; //y
            var altKey = event.altKey; //x
            var m = event.wheelDelta;
            _this.zoom(m * (ctrlKey || altKey ? 1 : 0), m * (ctrlKey || shiftKey ? 1 : 0));
            if (ctrlKey || shiftKey || altKey) {
                event.preventDefault();
            }
        });
        return _this;
    }
    return ZoomBehavior;
}(ZoomLogic));



/***/ }),
/* 95 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_i18next__ = __webpack_require__(141);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__extensions__ = __webpack_require__(24);
/* harmony export (immutable) */ __webpack_exports__["initI18n"] = initI18n;




var DEFAULT_LANGUAGE = 'en';
var DEFAULT_NAMESPACE = 'default_namespace';
/**
 * Create a unique i18next instance
 * Thus allowing the existence of multiple i18next instances with different configurations
 * without one overwriting the other
 */
var i18n = __WEBPACK_IMPORTED_MODULE_1_i18next__["a" /* default */].createInstance();
/**
 *  Awaits the translation files registered at the EP_PHOVEA_CORE_LOCALE extension point
 *  Initialize I18next with the translation files
 */
function initI18n() {
    return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
        var plugins;
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, Promise.all(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__plugin__["list"])(__WEBPACK_IMPORTED_MODULE_3__extensions__["EP_PHOVEA_CORE_LOCALE"]).map(function (pluginDesc) {
                        return pluginDesc.load().then(function (locale) {
                            return {
                                lng: pluginDesc.lng || DEFAULT_LANGUAGE,
                                ns: pluginDesc.ns || DEFAULT_NAMESPACE,
                                resources: locale.factory(),
                                order: pluginDesc.order || 0
                            };
                        });
                    }))];
                case 1:
                    plugins = _a.sent();
                    return [2 /*return*/, i18n
                            .use({
                            type: 'postProcessor',
                            name: 'showKeyDebugger',
                            process: function (value, key, option, translator) { return translator.options.debug ? key : value; }
                        })
                            .init({
                            debug: false,
                            appendNamespaceToCIMode: true,
                            interpolation: {
                                escapeValue: true,
                                format: function (value, format) {
                                    if (format === 'uppercase') {
                                        return value.toUpperCase();
                                    }
                                    if (format === 'lowercase') {
                                        return value.toLowerCase();
                                    }
                                    return value;
                                }
                            },
                            ns: DEFAULT_NAMESPACE,
                            defaultNS: DEFAULT_NAMESPACE,
                            lng: DEFAULT_LANGUAGE,
                            fallbackLng: DEFAULT_LANGUAGE,
                            postProcess: ['showKeyDebugger']
                        })
                            .then(function () {
                            /* For each plugin add the resources to the i18next configuration
                               If plugins have same language and namespace the  one with greater order
                               overwrites the others
                            */
                            plugins.sort(function (pluginA, pluginB) { return pluginA.order - pluginB.order; }).forEach(function (plugin) {
                                i18n.addResourceBundle(plugin.lng, plugin.ns, plugin.resources, true, true);
                            });
                        })];
            }
        });
    });
}
/* harmony default export */ __webpack_exports__["default"] = (i18n);


/***/ }),
/* 96 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony export (immutable) */ __webpack_exports__["b"] = createLocalAssigner;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */


var LocalIDAssigner = /** @class */ (function () {
    function LocalIDAssigner() {
        this.pool = new __WEBPACK_IMPORTED_MODULE_0__index__["IdPool"]();
        this.lookup = new Map();
    }
    LocalIDAssigner.prototype.unmapOne = function (id) {
        return this.unmap([id])[0];
    };
    LocalIDAssigner.prototype.unmap = function (ids) {
        var _this = this;
        var keys = Object.keys(this.lookup);
        return ids.map(function (id) {
            for (var k in keys) {
                if (_this.lookup.get(k) === id) {
                    return k;
                }
            }
            return null;
        });
    };
    LocalIDAssigner.prototype.mapOne = function (id) {
        if (this.lookup.has(id)) {
            return this.lookup.get(id);
        }
        this.lookup.set(id, this.pool.checkOut());
        return this.lookup.get(id);
    };
    LocalIDAssigner.prototype.map = function (ids) {
        var _this = this;
        var numbers = ids.map(function (d) { return _this.mapOne(d); });
        return __WEBPACK_IMPORTED_MODULE_1__range__["list"].apply(void 0, numbers);
    };
    return LocalIDAssigner;
}());
/* harmony default export */ __webpack_exports__["a"] = (LocalIDAssigner);
function createLocalAssigner() {
    var r = new LocalIDAssigner();
    return r.map.bind(r);
}


/***/ }),
/* 97 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__IIDType__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__IDType__ = __webpack_require__(17);
/* harmony export (immutable) */ __webpack_exports__["c"] = toId;
/* harmony export (immutable) */ __webpack_exports__["b"] = isId;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */




function toId(elem) {
    return elem.id;
}
function isId(id) {
    return function (elem) { return elem && elem.id === id; };
}
/**
 * IDType with an actual collection of entities.
 * Supports selections.
 */
var ObjectManager = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ObjectManager, _super);
    function ObjectManager(id, name) {
        var _this = _super.call(this, id, name, name + 's', true) || this;
        _this.instances = [];
        _this.pool = new __WEBPACK_IMPORTED_MODULE_1__index__["IdPool"]();
        return _this;
    }
    ObjectManager.prototype.nextId = function (item) {
        var n = this.pool.checkOut();
        if (item) {
            item.id = n;
            this.instances[n] = item;
            this.fire('add', n, item);
        }
        return n;
    };
    ObjectManager.prototype.push = function () {
        var _this = this;
        var items = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            items[_i] = arguments[_i];
        }
        items.forEach(function (item) {
            _this.instances[item.id] = item;
            _this.fire('add', item.id, item);
        });
    };
    ObjectManager.prototype.byId = function (id) {
        return this.instances[id];
    };
    ObjectManager.prototype.forEach = function (callbackfn, thisArg) {
        var _this = this;
        this.instances.forEach(function (item, i) { return _this.pool.isCheckedOut(i) ? callbackfn.call(thisArg, item) : null; });
    };
    Object.defineProperty(ObjectManager.prototype, "entries", {
        get: function () {
            var _this = this;
            return this.instances.filter(function (item, i) { return _this.pool.isCheckedOut(i); });
        },
        enumerable: true,
        configurable: true
    });
    ObjectManager.prototype.remove = function (item) {
        var _this = this;
        var old = null;
        if (typeof item.id === 'number') {
            item = item.id;
        }
        if (typeof item === 'number') {
            old = this.instances[item];
            delete this.instances[item];
            this.fire('remove', item, old);
        }
        //clear from selections
        this.selectionTypes().forEach(function (type) {
            _this.select(type, [item], __WEBPACK_IMPORTED_MODULE_2__IIDType__["c" /* SelectOperation */].REMOVE);
        });
        this.pool.checkIn(item);
        return old;
    };
    ObjectManager.prototype.selectedObjects = function (type) {
        if (type === void 0) { type = __WEBPACK_IMPORTED_MODULE_2__IIDType__["a" /* defaultSelectionType */]; }
        var s = this.selections(type);
        return s.filter(this.instances);
    };
    return ObjectManager;
}(__WEBPACK_IMPORTED_MODULE_3__IDType__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (ObjectManager);


/***/ }),
/* 98 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */
/**
 * utility class for handling a bunch of reuseable ids
 */
var IdPool = /** @class */ (function () {
    function IdPool() {
        this.counter = 0;
        this.free = [];
    }
    /**
     * check out a new id
     * @return {*}
     */
    IdPool.prototype.checkOut = function () {
        if (this.free.length === 0) { //no more cached
            return this.counter++;
        }
        else {
            return this.free.shift();
        }
    };
    /**
     * returns an id again
     * @param id
     */
    IdPool.prototype.checkIn = function (id) {
        //returned the last one, can decrease the counter
        if (id === this.counter - 1) {
            this.counter--;
        }
        else {
            this.free.push(id);
        }
    };
    /**
     * whether the given id is used
     * @param id
     * @return {boolean}
     */
    IdPool.prototype.isCheckedOut = function (id) {
        //smaller than counter and not a free one
        return id < this.counter && this.free.indexOf(id) < 0;
    };
    Object.defineProperty(IdPool.prototype, "size", {
        /**
         * return the number of checked out ids
         * @return {number}
         */
        get: function () {
            return this.counter - this.free.length;
        },
        enumerable: true,
        configurable: true
    });
    return IdPool;
}());
/* harmony default export */ __webpack_exports__["a"] = (IdPool);


/***/ }),
/* 99 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/**
 * Created by Samuel Gratzl on 20.06.2017.
 */
var RemoveParentObserver = /** @class */ (function () {
    function RemoveParentObserver(parent) {
        var _this = this;
        this.parent = parent;
        this.observer = new MutationObserver(function (events) { return _this.onChange(events); });
        this.observed = new Map();
        this.enabled = false;
    }
    RemoveParentObserver.prototype.enable = function () {
        this.enabled = true;
        this.observer.observe(this.parent, { childList: true, subtree: true });
    };
    RemoveParentObserver.prototype.disable = function () {
        this.enabled = false;
        this.observer.disconnect();
    };
    RemoveParentObserver.prototype.onChange = function (mutations) {
        var _this = this;
        //just remove events
        var events = mutations.filter(function (mutation) { return mutation.type === 'childList' && mutation.removedNodes.length > 0; });
        if (events.length === 0 || this.observed.size === 0) {
            return;
        }
        //build cache - create the list of parents all the time new to consider moving nodes?
        var toCheck = Array.from(this.observed.entries()).map(function (_a) {
            var node = _a[0], callback = _a[1];
            return { node: node, callback: callback, parents: parentList(node) };
        });
        var cleanUp = function (found) {
            if (toCheck.length === found.length) {
                //did we disable all? then we can stop early
                _this.observed.clear();
                _this.disable();
                return true;
            }
            // delete found ones and remove from toCheck list for the remaining events
            found.forEach(function (fi) {
                var entry = toCheck.splice(fi, 1)[0];
                _this.observed.delete(entry.node);
            });
            return false;
        };
        //optimization if the parents of any child doesn't contain the parent anymore it was already removed
        {
            //mark already found entries
            var found_1 = [];
            toCheck.forEach(function (_a, i) {
                var node = _a.node, parents = _a.parents, callback = _a.callback;
                if (parents.indexOf(_this.parent) < 0) {
                    //doesn't contain my parent anymore -> will never be found -> deleted
                    callback(node);
                    found_1.unshift(i); //mark for removal - reverse order for simpler splicing
                }
            });
            if (cleanUp(found_1)) {
                return;
            }
        }
        var _loop_1 = function (mutation) {
            var target = mutation.target;
            var removed = new Set(Array.from(mutation.removedNodes));
            //mark already found entries
            var found = [];
            toCheck.forEach(function (_a, i) {
                var node = _a.node, callback = _a.callback, parents = _a.parents;
                var index = parents.indexOf(target);
                if (index < 0) { //none of my parents were changed
                    return;
                }
                // child to watch for removing
                var child = parents[index + 1];
                if (removed.has(child)) {
                    //me or one of my parents were removed
                    callback(node);
                    found.unshift(i); //mark for removal - reverse order for simpler splicing
                }
            });
            if (cleanUp(found)) {
                return { value: void 0 };
            }
        };
        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {
            var mutation = events_1[_i];
            var state_1 = _loop_1(mutation);
            if (typeof state_1 === "object")
                return state_1.value;
        }
    };
    RemoveParentObserver.prototype.observe = function (node, callback, thisArg) {
        this.observed.set(node, callback.bind(thisArg));
        if (!this.enabled) {
            this.enable();
        }
    };
    return RemoveParentObserver;
}());
/**
 * the parents of the given node (including itself) from root to leaf
 * @param node
 * @return {Node[]}
 */
function parentList(node) {
    var result = [];
    var parent = node;
    while (parent) {
        result.push(parent);
        parent = parent.parentNode;
    }
    // from top to bottom
    return result.reverse();
}
var RemoveNodeObserver = /** @class */ (function () {
    function RemoveNodeObserver() {
        //weak since if the root is gone anyhow, we don't care about its listener
        this.documents = new WeakMap();
    }
    RemoveNodeObserver.prototype.observe = function (node, callback, thisArg) {
        //use body as root element
        var document = node.ownerDocument.body;
        var observer = this.documents.get(document);
        if (!observer) {
            observer = new RemoveParentObserver(document);
            this.documents.set(document, observer);
        }
        observer.observe(node, callback, thisArg);
    };
    return RemoveNodeObserver;
}());
/* harmony default export */ __webpack_exports__["a"] = (RemoveNodeObserver);


/***/ }),
/* 100 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["e"] = search;
/* harmony export (immutable) */ __webpack_exports__["d"] = indexOf;
/* harmony export (immutable) */ __webpack_exports__["b"] = argList;
/* harmony export (immutable) */ __webpack_exports__["c"] = argSort;
/* harmony export (immutable) */ __webpack_exports__["a"] = argFilter;
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */
/**
 * search item in array by function
 * @param arr
 * @param f
 * @deprecated use Array.prototype.find
 * @return {T}
 */
function search(arr, f) {
    var r = undefined;
    arr.some(function (v) {
        if (f(v)) {
            r = v;
            return true;
        }
        return false;
    });
    return r;
}
/**
 *
 * @deprecated use Array.prototype.findIndex
 * @param arr
 * @param f
 * @return {number}
 */
function indexOf(arr, f) {
    var r = -1;
    arr.some(function (v, i) {
        if (f(v)) {
            r = i;
            return true;
        }
        return false;
    });
    return r;
}
/**
 * converts the given arguments object into an array
 * @param args
 * @deprecated use Array.from(arguments) instead
 * @internal
 * @returns {*|Array}
 */
function argList(args) {
    if (arguments.length > 1) {
        return Array.prototype.slice.call(arguments);
    }
    else {
        return Array.prototype.slice.call(args);
    }
}
/**
 * array with indices of 0...n-1
 * @param n
 * @returns {any[]}
 */
function indexRange(n) {
    //http://stackoverflow.com/questions/3746725/create-a-javascript-array-containing-1-n
    return Array.apply(null, { length: n }).map(Number.call, Number);
}
/**
 * returns the sorted indices of this array, when sorting by the given function
 * @param arr
 * @param compareFn
 * @param thisArg
 */
function argSort(arr, compareFn, thisArg) {
    var indices = indexRange(arr.length);
    return indices.sort(function (a, b) {
        return compareFn.call(thisArg, arr[a], arr[b]);
    });
}
/**
 * returns the indices, which remain when filtering the given array
 * @param arr
 * @param callbackfn
 * @param thisArg
 */
function argFilter(arr, callbackfn, thisArg) {
    var indices = indexRange(arr.length);
    return indices.filter(function (value, index) {
        return callbackfn.call(thisArg, arr[value], index);
    });
}


/***/ }),
/* 101 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__unique__ = __webpack_require__(51);
/* harmony export (immutable) */ __webpack_exports__["b"] = hasDnDType;
/* harmony export (immutable) */ __webpack_exports__["a"] = copyDnD;
/* harmony export (immutable) */ __webpack_exports__["c"] = updateDropEffect;
/* harmony export (immutable) */ __webpack_exports__["d"] = dragAble;
/* harmony export (immutable) */ __webpack_exports__["e"] = dropAble;
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */

/**
 * utility for drag-n-drop support
 * @param e
 * @param typesToCheck
 * @returns {any}
 */
function hasDnDType(e) {
    var typesToCheck = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        typesToCheck[_i - 1] = arguments[_i];
    }
    var available = e.dataTransfer.types;
    /*
     * In Chrome datatransfer.types is an Array,
     * while in Firefox it is a DOMStringList
     * that only implements a contains-method!
     */
    if (typeof available.indexOf === 'function') {
        return typesToCheck.some(function (type) { return available.indexOf(type) >= 0; });
    }
    if (typeof available.includes === 'function') {
        return typesToCheck.some(function (type) { return available.includes(type); });
    }
    if (typeof available.contains === 'function') {
        return typesToCheck.some(function (type) { return available.contains(type); });
    }
    return false;
}
/**
 * helper storage for dnd in edge since edge doesn't support custom mime-types
 * @type {Map<number, {[p: string]: string}>}
 */
var dndTransferStorage = new Map();
function isEdgeDnD(e) {
    return dndTransferStorage.size > 0 && hasDnDType(e, 'text/plain');
}
/**
 * checks whether it is a copy operation
 * @param e
 * @returns {boolean|RegExpMatchArray}
 */
function copyDnD(e) {
    var dT = e.dataTransfer;
    return Boolean((e.ctrlKey && dT.effectAllowed.match(/copy/gi)) || (!dT.effectAllowed.match(/move/gi)));
}
/**
 * updates the drop effect accoriding to the current copyDnD state
 * @param e
 */
function updateDropEffect(e) {
    var dT = e.dataTransfer;
    if (copyDnD(e)) {
        dT.dropEffect = 'copy';
    }
    else {
        dT.dropEffect = 'move';
    }
}
/**
 * add drag support for the given element
 * @param {HTMLElement} node
 * @param {() => IDragStartResult} onDragStart callback to compute the payload an object of mime types
 * @param {boolean} stopPropagation whether to stop propagation in case of success
 */
function dragAble(node, onDragStart, stopPropagation) {
    if (stopPropagation === void 0) { stopPropagation = false; }
    var id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__unique__["b" /* uniqueId */])('edgeDragHelper');
    node.draggable = true;
    node.addEventListener('dragstart', function (e) {
        node.classList.add('phovea-dragging');
        var payload = onDragStart();
        e.dataTransfer.effectAllowed = payload.effectAllowed;
        if (stopPropagation) {
            e.stopPropagation();
        }
        var keys = Object.keys(payload.data);
        var allSucceded = keys.every(function (k) {
            try {
                e.dataTransfer.setData(k, payload.data[k]);
                return true;
            }
            catch (e) {
                return false;
            }
        });
        if (allSucceded) {
            return;
        }
        //compatibility mode for edge
        var text = payload.data['text/plain'] || '';
        e.dataTransfer.setData('text/plain', "" + id + (text ? ": " + text : ''));
        dndTransferStorage.set(id, payload.data);
    });
    node.addEventListener('dragend', function (e) {
        node.classList.remove('phovea-dragging');
        if (stopPropagation) {
            e.stopPropagation();
        }
        if (dndTransferStorage.size > 0) {
            //clear the id
            dndTransferStorage.delete(id);
        }
    });
    node.addEventListener('dragexit', function (e) {
        node.classList.remove('phovea-dragging');
        if (stopPropagation) {
            e.stopPropagation();
        }
    });
}
/**
 * add dropable support for the given node
 * @param {HTMLElement} node
 * @param {string[]} mimeTypes mimeTypes to look for
 * @param {(result: IDropResult, e: DragEvent) => boolean} onDrop callback when dropped, returns true if the drop was successful
 * @param {(e: DragEvent) => void} onDragOver optional drag over handler, e.g. for special effects
 * @param {boolean} stopPropagation flag if the event propagation should be stopped in case of success
 */
function dropAble(node, mimeTypes, onDrop, onDragOver, stopPropagation) {
    if (onDragOver === void 0) { onDragOver = null; }
    if (stopPropagation === void 0) { stopPropagation = false; }
    node.addEventListener('dragenter', function (e) {
        //var xy = mouse($node.node());
        if (hasDnDType.apply(void 0, [e].concat(mimeTypes)) || isEdgeDnD(e)) {
            node.classList.add('phovea-dragover');
            if (stopPropagation) {
                e.stopPropagation();
            }
            //sounds good
            return false;
        }
        //not a valid mime type
        node.classList.remove('phovea-dragover');
        return;
    });
    node.addEventListener('dragover', function (e) {
        if (hasDnDType.apply(void 0, [e].concat(mimeTypes)) || isEdgeDnD(e)) {
            e.preventDefault();
            updateDropEffect(e);
            node.classList.add('phovea-dragover');
            if (stopPropagation) {
                e.stopPropagation();
            }
            if (onDragOver) {
                onDragOver(e);
            }
            //sound good
            return false;
        }
        return;
    });
    node.addEventListener('dragleave', function (evt) {
        evt.target.classList.remove('phovea-dragover');
    });
    node.addEventListener('drop', function (e) {
        e.preventDefault();
        if (stopPropagation) {
            e.stopPropagation();
        }
        var effect = e.dataTransfer.effectAllowed;
        node.classList.remove('phovea-dragover');
        {
            var cleanup = node.ownerDocument.querySelector('.phovea-dragging');
            if (cleanup) {
                cleanup.classList.remove('phovea-dragging');
            }
        }
        if (isEdgeDnD(e)) {
            var base = e.dataTransfer.getData('text/plain');
            var id = parseInt(base.indexOf(':') >= 0 ? base.substring(0, base.indexOf(':')) : base, 10);
            if (dndTransferStorage.has(id)) {
                var data = dndTransferStorage.get(id);
                dndTransferStorage.delete(id);
                return !onDrop({ effect: effect, data: data }, e);
            }
            return;
        }
        if (hasDnDType.apply(void 0, [e].concat(mimeTypes))) {
            var data_1 = {};
            //selects the data contained in the data transfer
            mimeTypes.forEach(function (mime) {
                var value = e.dataTransfer.getData(mime);
                if (value !== '') {
                    data_1[mime] = value;
                }
            });
            return !onDrop({ effect: effect, data: data_1 }, e);
        }
        return;
    });
}


/***/ }),
/* 102 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom__ = __webpack_require__(25);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALayoutElem", function() { return ALayoutElem; });
/* harmony export (immutable) */ __webpack_exports__["wrapDOM"] = wrapDOM;
/* harmony export (immutable) */ __webpack_exports__["padding"] = padding;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noPadding", function() { return noPadding; });
/* harmony export (immutable) */ __webpack_exports__["layers"] = layers;
/* harmony export (immutable) */ __webpack_exports__["flowLayout"] = flowLayout;
/* harmony export (immutable) */ __webpack_exports__["distributeLayout"] = distributeLayout;
/* harmony export (immutable) */ __webpack_exports__["borderLayout"] = borderLayout;

/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 15.12.2014.
 */

var ALayoutElem = /** @class */ (function () {
    function ALayoutElem(options) {
        if (options === void 0) { options = {}; }
        this.options = options;
    }
    ALayoutElem.prototype.getBounds = function () {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__geom__["rect"])(0, 0, 0, 0);
    };
    ALayoutElem.prototype.getLocation = function () {
        return this.getBounds().xy;
    };
    ALayoutElem.prototype.getSize = function () {
        return this.getBounds().size;
    };
    ALayoutElem.prototype.layoutOption = function (name, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        if (this.options.hasOwnProperty(name)) {
            return this.options[name];
        }
        return defaultValue;
    };
    return ALayoutElem;
}());

var HTMLLayoutElem = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](HTMLLayoutElem, _super);
    function HTMLLayoutElem(node, options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this, options) || this;
        _this.node = node;
        return _this;
    }
    HTMLLayoutElem.prototype.setBounds = function (x, y, w, h) {
        var unit = this.layoutOption('unit', 'px'), style = this.node.style;
        style.left = x + unit;
        style.top = y + unit;
        style.width = w + unit;
        style.height = h + unit;
        return null;
    };
    HTMLLayoutElem.prototype.getBounds = function () {
        var unit = this.layoutOption('unit', 'px'), style = this.node.style;
        function v(f) {
            if (f.length >= unit.length && f.substring(f.length - unit.length) === unit) {
                f = f.substring(0, f.length - unit.length);
                return parseFloat(f);
            }
            return 0;
        }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__geom__["rect"])(v(style.left), v(style.top), v(style.width), v(style.height));
    };
    return HTMLLayoutElem;
}(ALayoutElem));
function wrapDOM(node, options) {
    if (options === void 0) { options = {}; }
    return new HTMLLayoutElem(node, options);
}
function padding(v) {
    return { top: v, left: v, right: v, bottom: v };
}
var noPadding = padding(0);
function isDefault(v) {
    return v < 0 || isNaN(v);
}
function grab(definition, v) {
    return isDefault(definition) ? v : definition;
}
function waitFor(promises, redo) {
    if (redo === void 0) { redo = false; }
    promises = promises.filter(function (p) { return p != null; });
    if (promises.length === 0) {
        return Promise.resolve(redo);
    }
    else if (promises.length === 1) {
        return promises[0].then(function () { return redo; });
    }
    return Promise.all(promises).then(function () { return redo; });
}
function layers(elems, w, h, parent) {
    return waitFor(elems.map(function (elem) {
        var x = grab(elem.layoutOption('prefX', Number.NaN), 0);
        var y = grab(elem.layoutOption('prefY', Number.NaN), 0);
        return elem.setBounds(x, y, w - x, h - y);
    }));
}
function flowLayout(horizontal, gap, padding) {
    if (padding === void 0) { padding = { top: 0, left: 0, right: 0, bottom: 0 }; }
    function getSize(w, h, child, value) {
        if (horizontal) {
            return [value, grab(child.layoutOption('prefHeight', Number.NaN), h)];
        }
        else {
            return [grab(child.layoutOption('prefWidth', Number.NaN), w), value];
        }
    }
    function FlowLayout(elems, w, h, parent) {
        w -= padding.left + padding.right;
        h -= padding.top + padding.bottom;
        var freeSpace = (horizontal ? w : h) - gap * (elems.length - 1);
        var unbound = 0, fixUsed = 0, ratioSum = 0;
        // count statistics
        elems.forEach(function (elem) {
            var fix = elem.layoutOption(horizontal ? 'prefWidth' : 'prefHeight', Number.NaN);
            var ratio = elem.layoutOption('ratio', Number.NaN);
            if (isDefault(fix) && isDefault(ratio)) {
                unbound++;
            }
            else if (fix >= 0) {
                fixUsed += fix;
            }
            else {
                ratioSum += ratio;
            }
        });
        var ratioMax = (ratioSum < 1) ? 1 : ratioSum;
        var unboundedSpace = (freeSpace - fixUsed - freeSpace * ratioSum / ratioMax) / unbound;
        // set all sizes
        var sizes = elems.map(function (elem) {
            var fix = elem.layoutOption(horizontal ? 'prefWidth' : 'prefHeight', Number.NaN);
            var ratio = elem.layoutOption('ratio', Number.NaN);
            if (isDefault(fix) && isDefault(ratio)) {
                return getSize(w, h, elem, unboundedSpace);
            }
            else if (fix >= 0) {
                return getSize(w, h, elem, fix);
            }
            else { // (ratio > 0)
                var value = (ratio / ratioMax) * freeSpace;
                return getSize(w, h, elem, value);
            }
        });
        // set all locations
        var xAccumulator = padding.left;
        var yAccumulator = padding.top;
        var promises = [];
        elems.forEach(function (elem, i) {
            var s = sizes[i];
            promises.push(elem.setBounds(xAccumulator, yAccumulator, s[0], s[1]));
            if (horizontal) {
                xAccumulator += s[0] + gap;
            }
            else {
                yAccumulator += s[1] + gap;
            }
        });
        return waitFor(promises);
    }
    return FlowLayout;
}
function distributeLayout(horizontal, defaultValue, padding) {
    if (padding === void 0) { padding = noPadding; }
    function setBounds(x, y, w, h, child, value) {
        if (horizontal) {
            return child.setBounds(x, y, value, grab(child.layoutOption('prefHeight', Number.NaN), h));
        }
        else {
            return child.setBounds(x, y, grab(child.layoutOption('prefWidth', Number.NaN), w), value);
        }
    }
    function DistributeLayout(elems, w, h, parent) {
        w -= padding.left + padding.right;
        h -= padding.top + padding.bottom;
        var freeSpace = (horizontal ? w : h);
        var fixUsed = 0;
        // count statistics
        elems.forEach(function (elem) {
            var fix = elem.layoutOption(horizontal ? 'prefWidth' : 'prefHeight', Number.NaN);
            if (isDefault(fix)) {
                fix = defaultValue;
            }
            fixUsed += fix;
        });
        var gap = (freeSpace - fixUsed) / (elems.length - 1);
        var xAccumulator = padding.left;
        var yAccumulator = padding.top;
        if (elems.length === 1) { //center the single one
            if (horizontal) {
                xAccumulator += (freeSpace - fixUsed) / 2;
            }
            else {
                yAccumulator += (freeSpace - fixUsed) / 2;
            }
        }
        var promises = [];
        elems.forEach(function (elem) {
            var fix = elem.layoutOption(horizontal ? 'prefWidth' : 'prefHeight', Number.NaN);
            if (isDefault(fix)) {
                fix = defaultValue;
            }
            promises.push(setBounds(xAccumulator, yAccumulator, w, h, elem, fix));
            if (horizontal) {
                xAccumulator += fix + gap;
            }
            else {
                yAccumulator += fix + gap;
            }
        });
        return waitFor(promises);
    }
    return DistributeLayout;
}
//     top
//------------
// l |      | r
// e |      | i
// f |center| g
// t |      | h
//   |      | t
//-------------
//   bottom
function borderLayout(horizontal, gap, percentages, padding) {
    if (percentages === void 0) { percentages = {
        top: 0.2,
        left: 0.2,
        right: 0.2,
        bottom: 0.2
    }; }
    if (padding === void 0) { padding = noPadding; }
    function BorderLayout(elems, w, h, parent) {
        w -= padding.left + padding.right;
        h -= padding.top + padding.bottom;
        var x = padding.top, y = padding.left, wc = w, hc = h;
        var pos = new Map();
        pos.set('top', []);
        pos.set('center', []);
        pos.set('left', []);
        pos.set('right', []);
        pos.set('bottom', []);
        elems.forEach(function (elem) {
            var border = elem.layoutOption('border', 'center');
            if (!pos.has(border)) {
                border = 'center'; //invalid one
            }
            pos.get(border).push(elem);
        });
        var promises = [];
        if (pos.get('top').length > 0) {
            y += h * percentages.top;
            hc -= h * percentages.top;
            promises.push(flowLayout(true, gap)(pos.get('top'), w, h * percentages.top, parent));
        }
        if (pos.get('bottom').length > 0) {
            hc -= h * percentages.bottom;
            promises.push(flowLayout(true, gap)(pos.get('bottom'), w, h * percentages.bottom, parent));
        }
        if (pos.get('left').length > 0) {
            x += w * percentages.left;
            wc -= w * percentages.left;
            promises.push(flowLayout(false, gap)(pos.get('left'), w * percentages.left, hc, parent));
        }
        if (pos.get('right').length > 0) {
            wc -= w * percentages.right;
            promises.push(flowLayout(false, gap)(pos.get('right'), w * percentages.right, hc, parent));
        }
        if (pos.get('center').length > 0) {
            promises.push(flowLayout(true, gap)(pos.get('center'), wc, hc, parent));
        }
        return waitFor(promises);
    }
    return BorderLayout;
}


/***/ }),
/* 103 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__plugin__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(5);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AView", function() { return AView; });
/* harmony export (immutable) */ __webpack_exports__["list"] = list;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by sam on 25.02.2015.
 */



var AView = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](AView, _super);
    function AView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._layoutOptions = {};
        return _this;
    }
    Object.defineProperty(AView.prototype, "data", {
        get: function () {
            return [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AView.prototype, "idtypes", {
        get: function () {
            return [];
        },
        enumerable: true,
        configurable: true
    });
    AView.prototype.setLayoutOption = function (name, value) {
        this._layoutOptions[name] = value;
    };
    AView.prototype.layoutOption = function (name, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        if (this._layoutOptions.hasOwnProperty(name)) {
            return this._layoutOptions[name];
        }
        return defaultValue;
    };
    return AView;
}(__WEBPACK_IMPORTED_MODULE_2__event__["EventHandler"]));

function convertDesc(desc) {
    var d = desc;
    d.type = d.type || 'main';
    d.location = d.location || 'center';
    return d;
}
function list() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__plugin__["list"])('view').map(convertDesc);
}


/***/ }),
/* 104 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__IMatrix__ = __webpack_require__(53);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IDTYPE_CELL", function() { return __WEBPACK_IMPORTED_MODULE_0__IMatrix__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IDTYPE_COLUMN", function() { return __WEBPACK_IMPORTED_MODULE_0__IMatrix__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IDTYPE_ROW", function() { return __WEBPACK_IMPORTED_MODULE_0__IMatrix__["d"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Matrix__ = __webpack_require__(54);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asMatrix", function() { return __WEBPACK_IMPORTED_MODULE_1__Matrix__["asMatrix"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__internal_MatrixColumnNameVector__ = __webpack_require__(105);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asColumnNameVector", function() { return __WEBPACK_IMPORTED_MODULE_2__internal_MatrixColumnNameVector__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__internal_MatrixRowNameVector__ = __webpack_require__(106);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asRowNameVector", function() { return __WEBPACK_IMPORTED_MODULE_3__internal_MatrixRowNameVector__["a"]; });
/**
 * Created by sam on 26.12.2016.
 */






/***/ }),
/* 105 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__ = __webpack_require__(23);
/* harmony export (immutable) */ __webpack_exports__["a"] = asNameVector;



var MatrixColumnNameVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](MatrixColumnNameVector, _super);
    function MatrixColumnNameVector(matrix) {
        var _this = _super.call(this, matrix) || this;
        _this.root = _this;
        return _this;
    }
    Object.defineProperty(MatrixColumnNameVector.prototype, "idtype", {
        get: function () {
            return this.base.coltype;
        },
        enumerable: true,
        configurable: true
    });
    MatrixColumnNameVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.cols(range);
    };
    MatrixColumnNameVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.colIds(range);
    };
    MatrixColumnNameVector.prototype.size = function () {
        return this.base.ncol;
    };
    MatrixColumnNameVector.prototype.persist = function () {
        return {
            root: this.base.persist(),
            names: 'column'
        };
    };
    return MatrixColumnNameVector;
}(__WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__["a" /* default */]));
/* unused harmony default export */ var _unused_webpack_default_export = (MatrixColumnNameVector);
/**
 * converts the cols of the given matrix as a string vector
 * @param matrix
 * @return {IStringVector}
 */
function asNameVector(matrix) {
    return new MatrixColumnNameVector(matrix);
}


/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__ = __webpack_require__(23);
/* harmony export (immutable) */ __webpack_exports__["a"] = asNameVector;



var MatrixRowNameVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](MatrixRowNameVector, _super);
    function MatrixRowNameVector(matrix) {
        var _this = _super.call(this, matrix) || this;
        _this.root = _this;
        return _this;
    }
    Object.defineProperty(MatrixRowNameVector.prototype, "idtype", {
        get: function () {
            return this.base.rowtype;
        },
        enumerable: true,
        configurable: true
    });
    MatrixRowNameVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.rows(range);
    };
    MatrixRowNameVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.rowIds(range);
    };
    MatrixRowNameVector.prototype.size = function () {
        return this.base.nrow;
    };
    MatrixRowNameVector.prototype.persist = function () {
        return {
            root: this.base.persist(),
            names: 'row'
        };
    };
    return MatrixRowNameVector;
}(__WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__["a" /* default */]));
/* unused harmony default export */ var _unused_webpack_default_export = (MatrixRowNameVector);
/**
 * converts the rows of the given matrix as a string vector
 * @param matrix
 * @return {IStringVector}
 */
function asNameVector(matrix) {
    return new MatrixRowNameVector(matrix);
}


/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector_AVector__ = __webpack_require__(12);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */




/**
 * a simple projection of a matrix columns to a vector
 */
var ProjectedVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ProjectedVector, _super);
    function ProjectedVector(m, f, thisArgument, valuetype, _idtype) {
        if (thisArgument === void 0) { thisArgument = m; }
        if (valuetype === void 0) { valuetype = m.valuetype; }
        if (_idtype === void 0) { _idtype = m.rowtype; }
        var _this = _super.call(this, null) || this;
        _this.m = m;
        _this.f = f;
        _this.thisArgument = thisArgument;
        _this.valuetype = valuetype;
        _this._idtype = _idtype;
        _this.desc = {
            name: m.desc.name + '-p',
            fqname: m.desc.fqname + '-p',
            type: 'vector',
            id: m.desc.id + '-p',
            size: _this.dim[0],
            idtype: m.rowtype,
            value: _this.valuetype,
            description: m.desc.description,
            creator: m.desc.creator,
            ts: m.desc.ts
        };
        _this.root = _this;
        return _this;
    }
    ProjectedVector.prototype.persist = function () {
        return {
            root: this.m.persist(),
            f: this.f.toString(),
            valuetype: this.valuetype === this.m.valuetype ? undefined : this.valuetype,
            idtype: this.idtype === this.m.rowtype ? undefined : this.idtype.name
        };
    };
    ProjectedVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(persisted.range));
        }
        return r;
    };
    Object.defineProperty(ProjectedVector.prototype, "idtype", {
        get: function () {
            return this._idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProjectedVector.prototype, "idtypes", {
        get: function () {
            return [this._idtype];
        },
        enumerable: true,
        configurable: true
    });
    ProjectedVector.prototype.size = function () {
        return this.m.nrow;
    };
    /**
     * return the associated ids of this vector
     */
    ProjectedVector.prototype.names = function (range) {
        return this.m.rows(range);
    };
    ProjectedVector.prototype.ids = function (range) {
        return this.m.rowIds(range);
    };
    /**
     * returns a promise for getting one cell
     * @param i
     */
    ProjectedVector.prototype.at = function (i) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.m.data(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(i))];
                    case 1:
                        d = _a.sent();
                        return [2 /*return*/, this.f.call(this.thisArgument, d[0])];
                }
            });
        });
    };
    /**
     * returns a promise for getting the data as two dimensional array
     * @param range
     */
    ProjectedVector.prototype.data = function (range) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.m.data(range)];
                    case 1: return [2 /*return*/, (_a.sent()).map(this.f, this.thisArgument)];
                }
            });
        });
    };
    ProjectedVector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    ProjectedVector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    return ProjectedVector;
}(__WEBPACK_IMPORTED_MODULE_3__vector_AVector__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (ProjectedVector);


/***/ }),
/* 108 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector_AVector__ = __webpack_require__(12);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */




/**
 * a simple projection of a matrix columns to a vector
 */
var SliceColVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](SliceColVector, _super);
    function SliceColVector(m, col) {
        var _this = _super.call(this, null) || this;
        _this.m = m;
        _this.col = col;
        _this.colRange = __WEBPACK_IMPORTED_MODULE_2__range__["Range1D"].from([_this.col]);
        _this.desc = {
            name: m.desc.name + '-c' + col,
            fqname: m.desc.fqname + '-c' + col,
            id: m.desc.id + '-c' + col,
            type: 'vector',
            idtype: m.rowtype,
            size: m.nrow,
            value: m.valuetype,
            description: m.desc.description,
            creator: m.desc.creator,
            ts: m.desc.ts
        };
        _this.root = _this;
        return _this;
    }
    SliceColVector.prototype.persist = function () {
        return {
            root: this.m.persist(),
            col: this.col
        };
    };
    SliceColVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(persisted.range));
        }
        return r;
    };
    Object.defineProperty(SliceColVector.prototype, "valuetype", {
        get: function () {
            return this.m.valuetype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SliceColVector.prototype, "idtype", {
        get: function () {
            return this.m.rowtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SliceColVector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    SliceColVector.prototype.size = function () {
        return this.m.nrow;
    };
    /**
     * return the associated ids of this vector
     */
    SliceColVector.prototype.names = function (range) {
        return this.m.rows(range);
    };
    SliceColVector.prototype.ids = function (range) {
        return this.m.rowIds(range);
    };
    /**
     * returns a promise for getting one cell
     * @param i
     */
    SliceColVector.prototype.at = function (i) {
        return this.m.at(i, this.col);
    };
    /**
     * returns a promise for getting the data as two dimensional array
     * @param range
     */
    SliceColVector.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var rr, r, d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        rr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range);
                        r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(rr.dim(0), this.colRange);
                        return [4 /*yield*/, this.m.data(r)];
                    case 1:
                        d = _a.sent();
                        if (d.length === 0) {
                            return [2 /*return*/, []];
                        }
                        if (Array.isArray(d[0])) {
                            return [2 /*return*/, d.map(function (di) { return di[0]; })];
                        }
                        return [2 /*return*/, d];
                }
            });
        });
    };
    SliceColVector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    SliceColVector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    return SliceColVector;
}(__WEBPACK_IMPORTED_MODULE_3__vector_AVector__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (SliceColVector);


/***/ }),
/* 109 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector_AVector__ = __webpack_require__(12);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */




/**
 * a simple projection of a matrix columns to a vector
 */
var SliceRowVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](SliceRowVector, _super);
    function SliceRowVector(m, row) {
        var _this = _super.call(this, null) || this;
        _this.m = m;
        _this.row = row;
        _this.rowRange = __WEBPACK_IMPORTED_MODULE_2__range__["Range1D"].from([_this.row]);
        _this.desc = {
            name: m.desc.name + '-r' + row,
            fqname: m.desc.fqname + '-r' + row,
            id: m.desc.id + '-r' + row,
            type: 'vector',
            idtype: m.coltype,
            size: m.ncol,
            value: m.valuetype,
            description: m.desc.description,
            creator: m.desc.creator,
            ts: m.desc.ts
        };
        _this.root = _this;
        return _this;
    }
    SliceRowVector.prototype.persist = function () {
        return {
            root: this.m.persist(),
            row: this.row
        };
    };
    SliceRowVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(persisted.range));
        }
        return r;
    };
    Object.defineProperty(SliceRowVector.prototype, "valuetype", {
        get: function () {
            return this.m.valuetype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SliceRowVector.prototype, "idtype", {
        get: function () {
            return this.m.coltype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SliceRowVector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    SliceRowVector.prototype.size = function () {
        return this.m.ncol;
    };
    /**
     * return the associated ids of this vector
     */
    SliceRowVector.prototype.names = function (range) {
        return this.m.cols(range);
    };
    SliceRowVector.prototype.ids = function (range) {
        return this.m.colIds(range);
    };
    /**
     * returns a promise for getting one cell
     * @param i
     */
    SliceRowVector.prototype.at = function (i) {
        return this.m.at(this.row, i);
    };
    /**
     * returns a promise for getting the data as two dimensional array
     * @param range
     */
    SliceRowVector.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var rr, r, d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        rr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range);
                        r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(this.rowRange, rr.dim(0));
                        return [4 /*yield*/, this.m.data(r)];
                    case 1:
                        d = _a.sent();
                        return [2 /*return*/, d[0]];
                }
            });
        });
    };
    SliceRowVector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    SliceRowVector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    return SliceRowVector;
}(__WEBPACK_IMPORTED_MODULE_3__vector_AVector__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (SliceRowVector);


/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AMatrix__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__SliceRowVector__ = __webpack_require__(109);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */





/**
 * view on the underlying matrix as transposed version
 * @param base
 * @constructor
 */
var TransposedMatrix = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](TransposedMatrix, _super);
    function TransposedMatrix(base) {
        var _this = _super.call(this, base) || this;
        _this.t = base;
        return _this;
    }
    Object.defineProperty(TransposedMatrix.prototype, "desc", {
        get: function () {
            return this.root.desc;
        },
        enumerable: true,
        configurable: true
    });
    TransposedMatrix.prototype.persist = function () {
        return {
            root: this.root.persist(),
            transposed: true
        };
    };
    Object.defineProperty(TransposedMatrix.prototype, "valuetype", {
        get: function () {
            return this.root.valuetype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TransposedMatrix.prototype, "rowtype", {
        get: function () {
            return this.root.coltype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TransposedMatrix.prototype, "coltype", {
        get: function () {
            return this.root.rowtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TransposedMatrix.prototype, "producttype", {
        get: function () {
            return this.root.producttype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TransposedMatrix.prototype, "idtypes", {
        get: function () {
            return [this.rowtype, this.coltype];
        },
        enumerable: true,
        configurable: true
    });
    TransposedMatrix.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var ids;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.t.ids(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined)];
                    case 1:
                        ids = _a.sent();
                        return [2 /*return*/, ids.swap()];
                }
            });
        });
    };
    TransposedMatrix.prototype.cols = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.t.rows(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined);
    };
    TransposedMatrix.prototype.colIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.t.rowIds(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined);
    };
    TransposedMatrix.prototype.rows = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.t.cols(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined);
    };
    TransposedMatrix.prototype.rowIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.t.colIds(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined);
    };
    TransposedMatrix.prototype.view = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        var r = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range);
        if (r.isAll) {
            return this;
        }
        return new __WEBPACK_IMPORTED_MODULE_3__AMatrix__["b" /* MatrixView */](this.root, r.swap()).t;
    };
    TransposedMatrix.prototype.slice = function (col) {
        return new __WEBPACK_IMPORTED_MODULE_4__SliceRowVector__["a" /* default */](this.root, col);
    };
    TransposedMatrix.prototype.size = function () {
        var s = this.t.dim;
        return [s[1], s[0]]; //swap dimension
    };
    TransposedMatrix.prototype.at = function (i, j) {
        return this.t.at(j, i);
    };
    TransposedMatrix.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = __WEBPACK_IMPORTED_MODULE_2__datatype__["transpose"];
                        return [4 /*yield*/, this.t.data(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined)];
                    case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
                }
            });
        });
    };
    TransposedMatrix.prototype.hist = function (bins, range, containedIds) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (containedIds === void 0) { containedIds = 0; }
        return this.t.hist(bins, range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined, 1 - containedIds);
    };
    TransposedMatrix.prototype.stats = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.t.stats(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined);
    };
    TransposedMatrix.prototype.statsAdvanced = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.t.statsAdvanced(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined);
    };
    TransposedMatrix.prototype.heatmapUrl = function (range, options) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        if (options === void 0) { options = {}; }
        options.transpose = options.transpose !== true;
        return this.t.heatmapUrl(range ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).swap() : undefined, options);
    };
    return TransposedMatrix;
}(__WEBPACK_IMPORTED_MODULE_3__AMatrix__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (TransposedMatrix);


/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__math__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__idtype__ = __webpack_require__(4);
/* harmony export (immutable) */ __webpack_exports__["a"] = adapterOne2Two;
/* harmony export (immutable) */ __webpack_exports__["b"] = viaAPI2Loader;
/* unused harmony export prepareHeatmapUrlParameter */
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */





function adapterOne2Two(loader) {
    return {
        rowIds: function (desc, range) { return loader(desc).then(function (d) { return range.preMultiply(d.rowIds, desc.size); }); },
        rows: function (desc, range) { return loader(desc).then(function (d) { return range.dim(0).filter(d.rows, desc.size[0]); }); },
        colIds: function (desc, range) { return loader(desc).then(function (d) { return range.preMultiply(d.colIds, desc.size); }); },
        cols: function (desc, range) { return loader(desc).then(function (d) { return range.dim(1).filter(d.cols, desc.size[1]); }); },
        ids: function (desc, range) { return loader(desc).then(function (d) { return range.preMultiply(d.ids, desc.size); }); },
        at: function (desc, i, j) { return loader(desc).then(function (d) { return d.data[i][j]; }); },
        data: function (desc, range) { return loader(desc).then(function (d) { return range.filter(d.data, desc.size); }); }
    };
}
function maskIt(desc) {
    if (desc.value.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_INT"] || desc.value.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"]) {
        return function (v) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["mask"])(v, desc.value); };
    }
    return function (v) { return v; };
}
function viaAPI2Loader() {
    var rowIds = null, rows = null, colIds = null, cols = null, data = null, hist = null, stats = null;
    function fillRowIds(desc) {
        if (rowIds !== null && rows !== null) {
            Promise.all([rowIds, rows]).then(function (_a) {
                var rowIdValues = _a[0], rowValues = _a[1];
                var idType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["resolve"])(desc.rowtype);
                var rowIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(rowIdValues);
                idType.fillMapCache(rowIds.dim(0).asList(rowValues.length), rowValues);
            });
        }
    }
    function fillColumnIds(desc) {
        if (colIds !== null && cols !== null) {
            Promise.all([colIds, cols]).then(function (_a) {
                var colIdValues = _a[0], colValues = _a[1];
                var idType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__idtype__["resolve"])(desc.coltype);
                var colIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(colIdValues);
                idType.fillMapCache(colIds.dim(0).asList(colValues.length), colValues);
            });
        }
    }
    var r = {
        rowIds: function (desc, range) {
            if (rowIds == null) {
                rowIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/rowIds").then(__WEBPACK_IMPORTED_MODULE_1__range__["parse"]);
                fillRowIds(desc);
            }
            return rowIds.then(function (d) { return d.preMultiply(range, desc.size); });
        },
        rows: function (desc, range) {
            if (rows == null) {
                rows = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/rows");
                fillRowIds(desc);
            }
            return rows.then(function (d) { return range.dim(0).filter(d, desc.size[0]); });
        },
        colIds: function (desc, range) {
            if (colIds == null) {
                colIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/colIds").then(__WEBPACK_IMPORTED_MODULE_1__range__["parse"]);
                fillColumnIds(desc);
            }
            return colIds.then(function (d) { return d.preMultiply(range, desc.size); });
        },
        cols: function (desc, range) {
            if (cols == null) {
                cols = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/cols");
                fillColumnIds(desc);
            }
            return cols.then(function (d) { return range.dim(1).filter(d, desc.size[1]); });
        },
        ids: function (desc, range) {
            if (range.ndim === 1) {
                return r.rowIds(desc, range);
            }
            range.dim(0); //ensure two dim
            range.dim(1); //ensure two dim
            var split = range.split();
            return Promise.all([r.rowIds(desc, split[0] || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])()), r.colIds(desc, split[1] || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])())]).then(__WEBPACK_IMPORTED_MODULE_1__range__["join"]);
        },
        numericalStats: function (desc, range) {
            if (range.isAll) {
                if (stats == null) {
                    stats = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/stats");
                }
                return stats;
            }
            var args = {
                range: range.toString()
            };
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/stats", args);
        },
        numericalHist: function (desc, range, bins) {
            if (bins === void 0) { bins = NaN; }
            var valueRange = desc.value.range;
            if (range.isAll) {
                if (hist == null) {
                    hist = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/hist").then(function (hist) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__math__["wrapHist"])(hist, valueRange); });
                }
                return hist;
            }
            var args = {
                range: range.toString()
            };
            if (!isNaN(bins)) {
                args.bins = bins;
            }
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/hist", args).then(function (hist) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__math__["wrapHist"])(hist, valueRange); });
        },
        at: function (desc, i, j) { return r.data(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])([i], [j])).then(function (data) { return maskIt(desc)(data[0][0]); }); },
        data: function (desc, range) {
            if (range.isAll) {
                if (data == null) {
                    data = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/raw").then(maskIt(desc)); // TODO avoid <any> type cast
                }
                return data;
            }
            if (data != null) { //already loading all
                return data.then(function (d) { return range.filter(d, desc.size); });
            }
            var size = desc.size;
            if (size[0] * size[1] < 1000 || desc.loadAtOnce) { // small file load all
                data = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/matrix/" + desc.id + "/raw").then(maskIt(desc)); // TODO avoid <any> type cast
                return data.then(function (d) { return range.filter(d, desc.size); });
            }
            //server side slicing
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIData"])("/dataset/matrix/" + desc.id + "/raw", { range: range.toString() }).then(maskIt(desc));
        },
        heatmapUrl: function (desc, range, options) {
            var params = prepareHeatmapUrlParameter(range, options);
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["api2absURL"])("/dataset/matrix/" + desc.id + "/data", params);
        }
    };
    return r;
}
/**
 * Prepare the URL Parameters to load the Heatmap with the given range and options
 * @param range range for the subset of the matrix
 * @param options options for the URL configuration
 */
function prepareHeatmapUrlParameter(range, options) {
    var args = {
        format: options.format || 'png',
        range: range.toString()
    };
    if (options.transpose === true) {
        args.format_transpose = true;
    }
    if (options.range) {
        args.format_min = options.range[0];
        args.format_max = options.range[1];
    }
    if (options.palette) {
        args.format_palette = options.palette.toString();
    }
    if (options.missing) {
        args.format_missing = options.missing;
    }
    return args;
}


/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vis__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__IMultiForm__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__internal__ = __webpack_require__(27);
/* harmony export (immutable) */ __webpack_exports__["b"] = create;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 27.08.2014.
 */






/**
 * a simple multi form class using a select to switch
 */
var MultiForm = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](MultiForm, _super);
    function MultiForm(data, parent, options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this) || this;
        _this.data = data;
        _this.options = options;
        _this._metaData = new __WEBPACK_IMPORTED_MODULE_5__internal__["b" /* ProxyMetaData */](function () { return _this.actDesc; });
        _this.options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
            initialVis: 0,
            all: { //options to all visses
            },
            filter: function () { return true; }
        }, options);
        _this.node = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__internal__["a" /* createNode */])(parent, 'div', 'multiform');
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["assignData"])(parent, data);
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__vis__["assignVis"])(_this.node, _this);
        //find all suitable plugins
        _this.visses = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__vis__["list"])(data).filter(_this.options.filter);
        _this.build();
        return _this;
    }
    Object.defineProperty(MultiForm.prototype, "asMetaData", {
        /**
         * converts this multiform to a vis metadata
         * @return {IVisMetaData}
         */
        get: function () {
            return this._metaData;
        },
        enumerable: true,
        configurable: true
    });
    MultiForm.prototype.build = function () {
        //create select option field
        //create content
        this.content = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__internal__["a" /* createNode */])(this.node, 'div', 'content');
        //switch to first
        this.switchTo(this.options.initialVis);
    };
    MultiForm.prototype.destroy = function () {
        if (this.actVis && typeof (this.actVis.destroy) === 'function') {
            this.actVis.destroy();
        }
        _super.prototype.destroy.call(this);
    };
    MultiForm.prototype.persist = function () {
        return {
            id: this.actDesc ? this.actDesc.id : null,
            content: this.actVis && typeof (this.actVis.persist) === 'function' ? this.actVis.persist() : null
        };
    };
    MultiForm.prototype.restore = function (persisted) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var that, selected, vis;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        that = this;
                        if (!persisted.id) return [3 /*break*/, 4];
                        selected = this.visses.find(function (e) { return e.id === persisted.id; });
                        if (!selected) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.switchTo(selected)];
                    case 1:
                        vis = _a.sent();
                        if (!(vis && persisted.content && typeof (vis.restore) === 'function')) return [3 /*break*/, 3];
                        return [4 /*yield*/, Promise.resolve(vis.restore(persisted.content))];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/, that];
                    case 4: return [2 /*return*/, Promise.resolve(that)];
                }
            });
        });
    };
    MultiForm.prototype.locate = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var p = this.actVisPromise || Promise.resolve(null);
        return p.then(function () {
            var aa = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                aa[_i] = arguments[_i];
            }
            var vis = aa.length > 0 ? aa[0] : undefined;
            if (vis && typeof (vis.locate) === 'function') {
                return vis.locate.apply(vis, args);
            }
            else {
                return Promise.resolve((aa.length === 1 ? undefined : new Array(args.length)));
            }
        });
    };
    MultiForm.prototype.locateById = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var p = this.actVisPromise || Promise.resolve(null);
        return p.then(function () {
            var aa = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                aa[_i] = arguments[_i];
            }
            var vis = aa.length > 0 ? aa[0] : undefined;
            if (vis && typeof (vis.locateById) === 'function') {
                return vis.locateById.apply(vis, args);
            }
            else {
                return Promise.resolve((aa.length === 1 ? undefined : new Array(args.length)));
            }
        });
    };
    MultiForm.prototype.transform = function (scale, rotate) {
        var _this = this;
        if (this.actVis) {
            if (arguments.length === 0) {
                return this.actVis.transform();
            }
            else {
                var t = function (event, newValue, old) {
                    _this.fire('transform', newValue, old);
                };
                this.actVis.on('transform', t);
                var r = this.actVis.transform(scale, rotate);
                this.actVis.off('transform', t);
                return r;
            }
        }
        if (this.actVisPromise && arguments.length > 0) {
            //2nd try
            this.actVisPromise.then(function (v) { return _this.transform(scale, rotate); });
        }
        return {
            scale: [1, 1],
            rotate: 0
        };
    };
    Object.defineProperty(MultiForm.prototype, "act", {
        /**
         * returns the current selected vis technique description
         * @returns {plugins.IPluginDesc}
         */
        get: function () {
            return this.actDesc;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MultiForm.prototype, "actLoader", {
        get: function () {
            return this.actVisPromise;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MultiForm.prototype, "size", {
        get: function () {
            if (this.actVis) {
                return this.actVis.size;
            }
            return [100, 100];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MultiForm.prototype, "rawSize", {
        get: function () {
            if (this.actVis) {
                return this.actVis.rawSize;
            }
            return [100, 100];
        },
        enumerable: true,
        configurable: true
    });
    /**
     * switch to the desired vis technique given by index
     * @param param
     */
    MultiForm.prototype.switchTo = function (param) {
        var _this = this;
        var vis = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__internal__["c" /* selectVis */])(param, this.visses);
        if (vis === this.actDesc) {
            return this.actVisPromise; //already selected
        }
        //gracefully destroy
        if (this.actVis) {
            this.actVis.destroy();
            this.actVis = null;
            this.actVisPromise = null;
        }
        //remove content dom side
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__internal__["d" /* clearNode */])(this.content);
        //switch and trigger event
        var bak = this.actDesc;
        this.actDesc = vis;
        this.markReady(false);
        this.fire('change', vis, bak);
        this.actVis = null;
        this.actVisPromise = null;
        if (vis) {
            //load the plugin and create the instance
            return this.actVisPromise = vis.load().then(function (plugin) {
                if (_this.actDesc !== vis) { //changed in the meanwhile
                    return null;
                }
                _this.actVis = plugin.factory(_this.data, _this.content, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({}, _this.options.all, _this.options[vis.id] || {}));
                if (_this.actVis.isBuilt) {
                    _this.markReady();
                }
                else {
                    _this.actVis.on('ready', function () {
                        _this.markReady();
                    });
                }
                _this.fire('changed', vis, bak);
                return _this.actVis;
            });
        }
        else {
            return Promise.resolve(null);
        }
    };
    MultiForm.prototype.addIconVisChooser = function (toolbar) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__IMultiForm__["a" /* addIconVisChooser */])(toolbar, this);
    };
    MultiForm.prototype.addSelectVisChooser = function (toolbar) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__IMultiForm__["b" /* addSelectVisChooser */])(toolbar);
    };
    return MultiForm;
}(__WEBPACK_IMPORTED_MODULE_3__vis__["AVisInstance"]));
/* harmony default export */ __webpack_exports__["a"] = (MultiForm);
function create(data, parent, options) {
    return new MultiForm(data, parent, options);
}


/***/ }),
/* 113 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__geom__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__vis__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__IMultiForm__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__internal__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__internal_GridElem__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__range__ = __webpack_require__(1);
/* harmony export (immutable) */ __webpack_exports__["b"] = create;
/******************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 *****************************************************************************/
/**
 * Created by Samuel Gratzl on 27.08.2014.
 */









function sum(arr) {
    return arr.reduce(function (v, x) { return v + x; }, 0);
}
function max(arr, acc) {
    if (arr.length === 0) {
        return NaN;
    }
    return arr.reduce(function (p, act) { return Math.max(p, acc(act)); }, -Infinity);
}
/**
 * a simple multi form class using a select to switch
 */
var MultiFormGrid = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](MultiFormGrid, _super);
    function MultiFormGrid(data, range, parent, viewFactory, options) {
        if (options === void 0) { options = {}; }
        var _this = _super.call(this) || this;
        _this.data = data;
        _this.range = range;
        _this.options = options;
        _this._metaData = new __WEBPACK_IMPORTED_MODULE_6__internal__["b" /* ProxyMetaData */](function () { return _this.actDesc; });
        _this.options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({
            initialVis: 0,
            singleRowOptimization: true,
            filter: function () { return true; }
        }, options);
        _this.node = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal__["a" /* createNode */])(parent, 'div', 'multiformgrid');
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["assignData"])(parent, data);
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__vis__["assignVis"])(_this.node, _this);
        //find all suitable plugins
        _this.visses = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__vis__["list"])(data).filter(_this.options.filter);
        //compute the dimensions and build the grid
        var dims = _this.dims = range.dims.map(function (dim) {
            if (dim instanceof __WEBPACK_IMPORTED_MODULE_8__range__["CompositeRange1D"]) {
                return dim.groups;
            }
            else if (dim instanceof __WEBPACK_IMPORTED_MODULE_8__range__["Range1DGroup"]) {
                return [dim];
            }
            else {
                return [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__range__["asUngrouped"])(dim)];
            }
        });
        var grid = _this.grid = [];
        function product(level, range, pos) {
            if (level === dims.length) {
                var r = range.length === 0 ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__range__["all"])() : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__range__["list"])(range.slice()); //work on a copy for safety reason
                grid.push(new __WEBPACK_IMPORTED_MODULE_7__internal_GridElem__["a" /* default */](r, pos.slice(), viewFactory(data, r, pos.slice())));
            }
            else {
                dims[level].forEach(function (group, i) {
                    range.push(group);
                    pos.push(i);
                    product(level + 1, range, pos);
                    range.pop();
                    pos.pop();
                });
            }
        }
        product(0, [], []);
        _this.build();
        return _this;
    }
    Object.defineProperty(MultiFormGrid.prototype, "dimSizes", {
        get: function () {
            return this.dims.map(function (d) { return d.length; });
        },
        enumerable: true,
        configurable: true
    });
    MultiFormGrid.prototype.toElem = function (pos) {
        var s = this.dimSizes;
        if (s.length === 1) {
            return this.grid[pos[0]];
        }
        return this.grid[pos[0] * s[1] + (pos[1] || 0)];
    };
    MultiFormGrid.prototype.getRange = function () {
        var indices = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            indices[_i] = arguments[_i];
        }
        var elem = this.toElem(indices);
        return elem.range;
    };
    MultiFormGrid.prototype.getData = function () {
        var indices = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            indices[_i] = arguments[_i];
        }
        var elem = this.toElem(indices);
        return elem.data;
    };
    MultiFormGrid.prototype.getBounds = function () {
        var indices = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            indices[_i] = arguments[_i];
        }
        var elem = this.toElem(indices);
        var absloc = elem.location;
        var size = elem.size;
        var parentLoc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["offset"])(this.content);
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__geom__["rect"])(absloc.x - parentLoc.left, absloc.y - parentLoc.top, size[0], size[1]);
    };
    Object.defineProperty(MultiFormGrid.prototype, "asMetaData", {
        /**
         * converts this multiform to a vis metadata
         * @return {IVisMetaData}
         */
        get: function () {
            return this._metaData;
        },
        enumerable: true,
        configurable: true
    });
    MultiFormGrid.prototype.build = function () {
        //create select option field
        var _this = this;
        //create content
        this.content = this.node;
        var wrap = this.options.wrap || (function (d) { return d; });
        //create groups for all grid elems
        //TODO how to layout as a grid
        if (this.dims.length === 1) {
            if (this.options.singleRowOptimization) {
                this.grid.forEach(function (elem) { return elem.setContent(wrap(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal__["a" /* createNode */])(_this.node, 'div', 'content gridrow'), elem.data, elem.range, elem.pos)); });
            }
            else {
                this.grid.forEach(function (elem) {
                    var n = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal__["a" /* createNode */])(_this.node, 'div', 'gridrow');
                    var nn = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal__["a" /* createNode */])(n, 'div', 'content');
                    nn.style.display = 'inline-block';
                    elem.setContent(wrap(nn, elem.data, elem.range, elem.pos));
                });
            }
        }
        else {
            var ndim = this.dimSizes;
            for (var i = 0; i < ndim[0]; ++i) {
                var row = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal__["a" /* createNode */])(this.node, 'div', 'gridrow');
                for (var j = 0; j < ndim[1]; ++j) {
                    var elem = this.grid[i * ndim[1] + j];
                    var nn = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal__["a" /* createNode */])(row, 'div', 'content');
                    nn.style.display = 'inline-block';
                    elem.setContent(wrap(nn, elem.data, elem.range, elem.pos));
                }
            }
        }
        //switch to first
        this.switchTo(this.options.initialVis);
    };
    MultiFormGrid.prototype.destroy = function () {
        this.grid.forEach(function (elem) { return elem.destroy(); });
        _super.prototype.destroy.call(this);
    };
    MultiFormGrid.prototype.transform = function (scale, rotate) {
        if (this.grid[0].hasOne) {
            var bak = this.grid[0].transform();
            if (arguments.length > 0) {
                this.grid.forEach(function (g) { return g.transform(scale, rotate); });
                this.fire('transform', {
                    scale: scale,
                    rotate: rotate
                }, bak);
            }
            return bak;
        }
        return {
            scale: [1, 1],
            rotate: 0
        };
    };
    MultiFormGrid.prototype.persist = function () {
        return {
            id: this.actDesc ? this.actDesc.id : null,
            contents: this.grid.map(function (elem) { return elem.persist(); })
        };
    };
    MultiFormGrid.prototype.restore = function (persisted) {
        var that = this;
        if (persisted.id) {
            var selected = this.visses.find(function (e) { return e.id === persisted.id; });
            if (selected) {
                return this.switchTo(selected).then(function (vis) {
                    //FIXME
                    if (vis && persisted.content && typeof (vis.restore) === 'function') {
                        return Promise.resolve(vis.restore(persisted.content)).then(function () { return that; });
                    }
                    return Promise.resolve(that);
                });
            }
        }
        return Promise.resolve(that);
    };
    MultiFormGrid.prototype.locateGroup = function (range) {
        var _this = this;
        if (range.isAll || range.isNone) {
            var s = this.size;
            return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__geom__["rect"])(0, 0, s[0], s[1]));
        }
        var parentLoc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["offset"])(this.content);
        function relativePos(pos) {
            return {
                x: pos.x - parentLoc.left,
                y: pos.y - parentLoc.top
            };
        }
        var filterTo = function () {
            var inElems = [];
            for (var _i = 0, _a = _this.grid; _i < _a.length; _i++) {
                var g = _a[_i];
                var matched = g.subrange(range);
                if (!matched.isNone) { //direct group hit
                    inElems.push({
                        g: g,
                        pos: relativePos(g.location),
                        r: matched
                    });
                }
            }
            return inElems;
        };
        var inElems = filterTo();
        if (inElems.length === 1) {
            return inElems[0].g.actVis.locate(inElems[0].r).then(function (loc) {
                return loc ? loc.shift(inElems[0].pos) : loc;
            });
        }
        return Promise.all(inElems.map(function (elem) { return elem.g.actVis.locate(elem.r); })).then(function (locations) {
            //shift the locations according to grid position
            locations = locations.map(function (loc, i) { return loc ? loc.shift(inElems[i].pos) : loc; }).filter(function (loc) { return loc != null; });
            //merge into a single one
            var base = locations[0].aabb();
            var x = base.x, y = base.y, x2 = base.x2, y2 = base.y2;
            locations.forEach(function (loc) {
                var aab = loc.aabb();
                x = Math.min(x, aab.x);
                y = Math.min(y, aab.y);
                x2 = Math.min(x2, aab.x2);
                y2 = Math.min(y2, aab.y2);
            });
            return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__geom__["rect"])(x, y, x2 - x, y2 - y));
        });
    };
    MultiFormGrid.prototype.locateGroupById = function (range) {
        var _this = this;
        return this.data.ids().then(function (ids) {
            return _this.locateGroup(ids.indexOf(range));
        });
    };
    MultiFormGrid.prototype.locate = function () {
        var _this = this;
        var range = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            range[_i] = arguments[_i];
        }
        var p = this.actVisPromise || Promise.resolve(null);
        return p.then(function (visses) {
            if (!visses) {
                return Promise.resolve((range.length === 1 ? undefined : new Array(range.length)));
            }
            if (visses.length === 1) {
                return visses[0].locate.apply(visses[0], range);
            }
            else {
                //multiple groups
                if (range.length === 1) {
                    return _this.locateGroup(range[0]);
                }
                else {
                    return Promise.all(range.map(function (arg) { return _this.locateGroup(arg); }));
                }
            }
        });
    };
    MultiFormGrid.prototype.locateById = function () {
        var _this = this;
        var range = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            range[_i] = arguments[_i];
        }
        var p = this.actVisPromise || Promise.resolve(null);
        return p.then(function (visses) {
            if (!visses) {
                return Promise.resolve((range.length === 1 ? undefined : new Array(range.length)));
            }
            if (visses.length === 1) {
                return visses[0].locateById.apply(visses[0], range);
            }
            else {
                //multiple groups
                if (range.length === 1) {
                    return _this.locateGroupById(range[0]);
                }
                else {
                    return Promise.all(range.map(function (arg) { return _this.locateGroupById(arg); }));
                }
            }
        });
    };
    Object.defineProperty(MultiFormGrid.prototype, "act", {
        /**
         * returns the current selected vis technique description
         * @returns {plugins.IPluginDesc}
         */
        get: function () {
            return this.actDesc;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MultiFormGrid.prototype, "actLoader", {
        get: function () {
            return this.actVisPromise;
        },
        enumerable: true,
        configurable: true
    });
    MultiFormGrid.prototype.gridSize = function (raw) {
        if (raw === void 0) { raw = false; }
        var sizes = this.grid.map(raw ? function (elem) { return elem.rawSize; } : function (elem) { return elem.size; });
        if (this.dims.length === 1) {
            //vertically groups only
            return {
                cols: [max(sizes, function (s) { return s[0]; })],
                rows: sizes.map(function (s) { return s[1]; }),
                grid: sizes.map(function (s) { return [s]; })
            };
        }
        else { //if (this.dims.length === 2)
            var cols_1 = this.dims[1].length;
            var grid_1 = this.dims[0].map(function (row, i) { return sizes.slice(i * cols_1, (i + 1) * cols_1); });
            return {
                cols: this.dims[1].map(function (d, i) { return max(grid_1, function (row) { return row[i][0]; }); }),
                rows: grid_1.map(function (row) { return max(row, function (s) { return s[1]; }); }),
                grid: grid_1
            };
        }
    };
    Object.defineProperty(MultiFormGrid.prototype, "size", {
        get: function () {
            var gridSize = this.gridSize();
            return [sum(gridSize.cols), sum(gridSize.rows)];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MultiFormGrid.prototype, "rawSize", {
        get: function () {
            var gridSize = this.gridSize(true);
            return [sum(gridSize.cols), sum(gridSize.rows)];
        },
        enumerable: true,
        configurable: true
    });
    /**
     * switch to the desired vis technique given by index
     * @param param
     */
    MultiFormGrid.prototype.switchTo = function (param) {
        var _this = this;
        var vis = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__internal__["c" /* selectVis */])(param, this.visses);
        if (vis === this.actDesc) {
            return this.actVisPromise; //already selected
        }
        //gracefully destroy
        this.grid.forEach(function (elem) { return elem.switchDestroy(); });
        //switch and trigger event
        var bak = this.actDesc;
        this.actDesc = vis;
        this.markReady(false);
        this.fire('change', vis, bak);
        this.actVisPromise = null;
        if (vis) {
            //load the plugin and create the instance
            return this.actVisPromise = vis.load().then(function (plugin) {
                if (_this.actDesc !== vis) { //changed in the meanwhile
                    return null;
                }
                var options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["mixin"])({}, _this.options.all, _this.options[vis.id] || {});
                var r = _this.grid.map(function (elem) { return elem.build(plugin, options); });
                var c = r.length;
                r.forEach(function (ri) {
                    ri.on('ready', function () {
                        c--;
                        if (c === 0) { //all built
                            _this.markReady();
                        }
                    });
                });
                _this.fire('changed', vis, bak);
                return r;
            });
        }
        else {
            return Promise.resolve([]);
        }
    };
    MultiFormGrid.prototype.addIconVisChooser = function (toolbar) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__IMultiForm__["a" /* addIconVisChooser */])(toolbar, this);
    };
    MultiFormGrid.prototype.addSelectVisChooser = function (toolbar) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__IMultiForm__["b" /* addSelectVisChooser */])(toolbar);
    };
    return MultiFormGrid;
}(__WEBPACK_IMPORTED_MODULE_4__vis__["AVisInstance"]));
/* harmony default export */ __webpack_exports__["a"] = (MultiFormGrid);
function create(data, range, parent, viewFactory, options) {
    return new MultiFormGrid(data, range, parent, viewFactory, options);
}


/***/ }),
/* 114 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MultiForm__ = __webpack_require__(112);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MultiForm", function() { return __WEBPACK_IMPORTED_MODULE_0__MultiForm__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "create", function() { return __WEBPACK_IMPORTED_MODULE_0__MultiForm__["b"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MultiFormGrid__ = __webpack_require__(113);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MultiFormGrid", function() { return __WEBPACK_IMPORTED_MODULE_1__MultiFormGrid__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "createGrid", function() { return __WEBPACK_IMPORTED_MODULE_1__MultiFormGrid__["b"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__IMultiForm__ = __webpack_require__(33);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "addIconVisChooser", function() { return __WEBPACK_IMPORTED_MODULE_2__IMultiForm__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "addSelectVisChooser", function() { return __WEBPACK_IMPORTED_MODULE_2__IMultiForm__["b"]; });
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 27.08.2014.
 */





/***/ }),
/* 115 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vis__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index__ = __webpack_require__(27);
/**
 * Created by sam on 26.12.2016.
 */




/**
 * @internal
 */
var GridElem = /** @class */ (function () {
    function GridElem(range, pos, data) {
        this.range = range;
        this.pos = pos;
        this.data = data;
    }
    GridElem.prototype.setContent = function (c) {
        this.content = c;
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__datatype__["assignData"])(this.content, this.data);
    };
    GridElem.prototype.subrange = function (r) {
        var ri = this.range.intersect(r);
        return this.range.indexOf(ri);
    };
    Object.defineProperty(GridElem.prototype, "hasOne", {
        get: function () {
            return this.actVis != null;
        },
        enumerable: true,
        configurable: true
    });
    GridElem.prototype.destroy = function () {
        if (this.actVis && typeof (this.actVis.destroy) === 'function') {
            this.actVis.destroy();
        }
    };
    Object.defineProperty(GridElem.prototype, "size", {
        get: function () {
            return this.actVis ? this.actVis.size : [100, 100];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridElem.prototype, "rawSize", {
        get: function () {
            return this.actVis ? this.actVis.rawSize : [100, 100];
        },
        enumerable: true,
        configurable: true
    });
    GridElem.prototype.persist = function () {
        return {
            range: this.range.toString(),
            content: this.actVis && typeof (this.actVis.persist) === 'function' ? this.actVis.persist() : null
        };
    };
    GridElem.prototype.restore = function (persisted) {
        //FIXME
        /*if (persisted.id) {
         var selected = search(this.visses, (e) => e.id === persisted.id);
         if (selected) {
         this.switchTo(selected).then((vis) => {
         if (vis && persisted.content && isFunction(restore)) {
         restore(persisted.content);
         }
         });
         }
         }*/
        return null;
    };
    GridElem.prototype.switchDestroy = function () {
        //remove content dom side
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__index__["d" /* clearNode */])(this.content);
        if (this.actVis && typeof (this.actVis.destroy) === 'function') {
            this.actVis.destroy();
        }
        this.actVis = null;
    };
    GridElem.prototype.build = function (plugin, options) {
        this.actVis = plugin.factory(this.data, this.content, options);
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__vis__["assignVis"])(this.content, this.actVis);
        return this.actVis;
    };
    Object.defineProperty(GridElem.prototype, "location", {
        get: function () {
            var o = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["offset"])(this.content);
            return {
                x: o.left,
                y: o.top
            };
        },
        enumerable: true,
        configurable: true
    });
    GridElem.prototype.transform = function (scale, rotate) {
        if (this.actVis) {
            if (arguments.length > 0) {
                return this.actVis.transform(scale, rotate);
            }
            else {
                return this.actVis.transform();
            }
        }
        return {
            scale: [1, 1],
            rotate: 0
        };
    };
    return GridElem;
}());
/* harmony default export */ __webpack_exports__["a"] = (GridElem);


/***/ }),
/* 116 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LocalStorageProvenanceGraphManager__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__RemoteStorageProvenanceGraphManager__ = __webpack_require__(58);

/**
 * Created by sam on 12.02.2015.
 */



var MixedStorageProvenanceGraphManager = /** @class */ (function () {
    function MixedStorageProvenanceGraphManager(options) {
        if (options === void 0) { options = {}; }
        this.remote = new __WEBPACK_IMPORTED_MODULE_3__RemoteStorageProvenanceGraphManager__["a" /* default */](options);
        this.local = new __WEBPACK_IMPORTED_MODULE_2__LocalStorageProvenanceGraphManager__["a" /* default */](options);
    }
    MixedStorageProvenanceGraphManager.prototype.listRemote = function () {
        return this.remote.list();
    };
    MixedStorageProvenanceGraphManager.prototype.listLocal = function () {
        return this.local.list();
    };
    MixedStorageProvenanceGraphManager.prototype.listLocalSync = function () {
        return this.local.listSync();
    };
    MixedStorageProvenanceGraphManager.prototype.list = function () {
        return Promise.all([this.listLocal(), this.listRemote()]).then(function (arr) { return arr[0].concat(arr[1]); });
    };
    MixedStorageProvenanceGraphManager.prototype.delete = function (desc) {
        if (desc.local) {
            return this.local.delete(desc);
        }
        else {
            return this.remote.delete(desc);
        }
    };
    MixedStorageProvenanceGraphManager.prototype.get = function (desc) {
        if (desc.local) {
            return this.local.get(desc);
        }
        else {
            return this.remote.get(desc);
        }
    };
    MixedStorageProvenanceGraphManager.prototype.getGraph = function (desc) {
        if (desc.local) {
            return this.local.getGraph(desc);
        }
        else {
            return this.remote.getGraph(desc);
        }
    };
    MixedStorageProvenanceGraphManager.prototype.edit = function (graph, desc) {
        var base = graph instanceof __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["a" /* default */] ? graph.desc : graph;
        if (base.local) {
            return this.local.edit(base, desc);
        }
        else {
            return this.remote.edit(base, desc);
        }
    };
    MixedStorageProvenanceGraphManager.prototype.cloneLocal = function (desc, extras) {
        if (extras === void 0) { extras = {}; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a, _b;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _b = (_a = this.local).clone;
                        return [4 /*yield*/, this.getGraph(desc)];
                    case 1: return [2 /*return*/, _b.apply(_a, [_c.sent(), extras])];
                }
            });
        });
    };
    MixedStorageProvenanceGraphManager.prototype.cloneRemote = function (desc, extras) {
        if (extras === void 0) { extras = {}; }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a, _b;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _b = (_a = this.remote).clone;
                        return [4 /*yield*/, this.getGraph(desc)];
                    case 1: return [2 /*return*/, _b.apply(_a, [_c.sent(), extras])];
                }
            });
        });
    };
    MixedStorageProvenanceGraphManager.prototype.migrateRemote = function (graph, extras) {
        if (extras === void 0) { extras = {}; }
        return this.remote.migrate(graph, extras);
    };
    MixedStorageProvenanceGraphManager.prototype.importLocal = function (json, desc) {
        if (desc === void 0) { desc = {}; }
        return this.local.import(json, desc);
    };
    MixedStorageProvenanceGraphManager.prototype.importRemote = function (json, desc) {
        if (desc === void 0) { desc = {}; }
        return this.remote.import(json, desc);
    };
    MixedStorageProvenanceGraphManager.prototype.import = function (json, desc) {
        if (desc === void 0) { desc = {}; }
        return this.importLocal(json, desc);
    };
    MixedStorageProvenanceGraphManager.prototype.createLocal = function (desc) {
        if (desc === void 0) { desc = {}; }
        return this.local.create(desc);
    };
    MixedStorageProvenanceGraphManager.prototype.createRemote = function (desc) {
        if (desc === void 0) { desc = {}; }
        return this.remote.create(desc);
    };
    MixedStorageProvenanceGraphManager.prototype.create = function (desc) {
        if (desc === void 0) { desc = {}; }
        return this.createLocal(desc);
    };
    MixedStorageProvenanceGraphManager.prototype.createInMemory = function () {
        return this.local.createInMemory();
    };
    MixedStorageProvenanceGraphManager.prototype.cloneInMemory = function (desc) {
        var _this = this;
        return this.getGraph(desc).then(function (graph) { return _this.local.cloneInMemory(graph); });
    };
    return MixedStorageProvenanceGraphManager;
}());
/* harmony default export */ __webpack_exports__["a"] = (MixedStorageProvenanceGraphManager);


/***/ }),
/* 117 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__graph__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ActionNode__ = __webpack_require__(56);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActionNode", function() { return __WEBPACK_IMPORTED_MODULE_2__ActionNode__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "action", function() { return __WEBPACK_IMPORTED_MODULE_2__ActionNode__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActionMetaData", function() { return __WEBPACK_IMPORTED_MODULE_2__ActionNode__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "meta", function() { return __WEBPACK_IMPORTED_MODULE_2__ActionNode__["d"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ObjectNode__ = __webpack_require__(34);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectNode", function() { return __WEBPACK_IMPORTED_MODULE_3__ObjectNode__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "cat", function() { return __WEBPACK_IMPORTED_MODULE_3__ObjectNode__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "op", function() { return __WEBPACK_IMPORTED_MODULE_3__ObjectNode__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ref", function() { return __WEBPACK_IMPORTED_MODULE_3__ObjectNode__["d"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__SlideNode__ = __webpack_require__(59);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SlideNode", function() { return __WEBPACK_IMPORTED_MODULE_4__SlideNode__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_DURATION", function() { return __WEBPACK_IMPORTED_MODULE_4__SlideNode__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_TRANSITION", function() { return __WEBPACK_IMPORTED_MODULE_4__SlideNode__["c"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__StateNode__ = __webpack_require__(60);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "StateNode", function() { return __WEBPACK_IMPORTED_MODULE_5__StateNode__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ProvenanceGraph", function() { return __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "compress", function() { return __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ProvenanceGraphDim", function() { return __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "provenanceGraphFactory", function() { return __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["d"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "toSlidePath", function() { return __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["e"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__LocalStorageProvenanceGraphManager__ = __webpack_require__(57);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "LocalStorageProvenanceGraphManager", function() { return __WEBPACK_IMPORTED_MODULE_6__LocalStorageProvenanceGraphManager__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__RemoteStorageProvenanceGraphManager__ = __webpack_require__(58);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "RemoteStorageProvenanceGraphManager", function() { return __WEBPACK_IMPORTED_MODULE_7__RemoteStorageProvenanceGraphManager__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__MixedStorageProvenanceGraphManager__ = __webpack_require__(116);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MixedStorageProvenanceGraphManager", function() { return __WEBPACK_IMPORTED_MODULE_8__MixedStorageProvenanceGraphManager__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__graph_graph__ = __webpack_require__(6);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "GraphEdge", function() { return __WEBPACK_IMPORTED_MODULE_9__graph_graph__["a"]; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "graphModule", function() { return graphModule; });
/* harmony export (immutable) */ __webpack_exports__["findLatestPath"] = findLatestPath;
/* harmony export (immutable) */ __webpack_exports__["createDummy"] = createDummy;
/**
 * Created by sam on 12.02.2015.
 */











var graphModule = __WEBPACK_IMPORTED_MODULE_0__graph__;
function findLatestPath(state) {
    var path = state.path.slice();
    //compute the first path to the end
    while ((state = state.nextState) != null && (path.indexOf(state) < 0)) {
        path.push(state);
    }
    return path;
}
function createDummy() {
    var desc = {
        type: 'provenance_graph',
        id: 'dummy',
        name: 'dummy',
        fqname: 'dummy',
        description: '',
        creator: 'Anonymous',
        ts: Date.now(),
        size: [0, 0],
        attrs: {
            graphtype: 'provenance_graph',
            of: 'dummy'
        }
    };
    return new __WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["a" /* default */](desc, new __WEBPACK_IMPORTED_MODULE_0__graph__["MemoryGraph"](desc, [], [], __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__ProvenanceGraph__["d" /* provenanceGraphFactory */])()));
}


/***/ }),
/* 118 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__iterator__ = __webpack_require__(26);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */


var SingleRangeElem = /** @class */ (function () {
    function SingleRangeElem(from) {
        this.from = from;
    }
    Object.defineProperty(SingleRangeElem.prototype, "step", {
        get: function () {
            return 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SingleRangeElem.prototype, "to", {
        get: function () {
            return this.from + 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SingleRangeElem.prototype, "isAll", {
        get: function () {
            return false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SingleRangeElem.prototype, "isSingle", {
        get: function () {
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SingleRangeElem.prototype, "isUnbound", {
        get: function () {
            return false;
        },
        enumerable: true,
        configurable: true
    });
    SingleRangeElem.prototype.size = function (size) {
        return 1;
    };
    SingleRangeElem.prototype.clone = function () {
        return new SingleRangeElem(this.from);
    };
    SingleRangeElem.prototype.contains = function (value, size) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size) === value;
    };
    SingleRangeElem.prototype.reverse = function () {
        return this.clone();
    };
    SingleRangeElem.prototype.invert = function (index, size) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size) + index;
    };
    SingleRangeElem.prototype.iter = function (size) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__iterator__["single"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["a" /* fix */])(this.from, size));
    };
    Object.defineProperty(SingleRangeElem.prototype, "__iterator__", {
        get: function () {
            return this.iter();
        },
        enumerable: true,
        configurable: true
    });
    SingleRangeElem.prototype.toString = function () {
        return this.from.toString();
    };
    return SingleRangeElem;
}());
/* harmony default export */ __webpack_exports__["a"] = (SingleRangeElem);


/***/ }),
/* 119 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Range__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Range1D__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Range1DGroup__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__internal_RangeElem__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CompositeRange1D__ = __webpack_require__(35);
/* harmony export (immutable) */ __webpack_exports__["a"] = parseRange;
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */





/**
 * parse the give code created toString
 * @param code
 * @returns {Range}
 */
function parseRange(code) {
    var dims = [];
    var act = 0, c, t;
    code = code.trim();
    while (act < code.length) {
        c = code.charAt(act);
        switch (c) {
            case '"':
                t = parseNamedRange1D(code, act);
                act = t.act + 1; //skip ,
                dims.push(t.dim);
                break;
            case ',':
                act++;
                dims.push(__WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */].all());
                break;
            default:
                if (c.match(/\s/)) {
                    act++;
                }
                else {
                    t = parseRange1D(code, act);
                    act = t.act + 1; //skip ,
                    dims.push(t.dim);
                }
                break;
        }
    }
    if (code.charAt(code.length - 1) === ',') { //last is an empty one
        dims.push(__WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */].all());
    }
    return new __WEBPACK_IMPORTED_MODULE_0__Range__["a" /* default */](dims);
}
function parseNamedRange1D(code, act) {
    act += 1; //skip "
    var end = code.indexOf('"', act);
    var name = code.slice(act, end);
    var r;
    act = end + 1;
    switch (code.charAt(act)) {
        case '"':
            end = code.indexOf('"', act + 1);
            r = parseRange1D(code, end + 1);
            return {
                dim: new __WEBPACK_IMPORTED_MODULE_2__Range1DGroup__["a" /* default */](name, code.slice(act + 1, end), r.dim),
                act: r.act
            };
        case '{':
            var groups = [];
            while (code.charAt(act) !== '}') {
                r = parseNamedRange1D(code, act + 1);
                groups.push(r.dim);
                act = r.act;
            }
            return {
                dim: new __WEBPACK_IMPORTED_MODULE_4__CompositeRange1D__["a" /* default */](name, groups),
                act: r.act + 1
            };
        default: //ERROR
            return {
                dim: __WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */].all(),
                act: act
            };
    }
}
function parseRange1D(code, act) {
    var next, r;
    switch (code.charAt(act)) {
        case ',':
        case '}':
            next = act;
            r = __WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */].all();
            break;
        case '(':
            r = new __WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */]();
            next = code.indexOf(')', act);
            if (next > act + 1) { //not ()
                r.push.apply(r, code.slice(act + 1, next).split(',').map(__WEBPACK_IMPORTED_MODULE_3__internal_RangeElem__["a" /* default */].parse));
            }
            next += 1; //skip )
            break;
        default:
            next = code.indexOf('}', act);
            var n2 = code.indexOf(',', act);
            if (next >= 0 && n2 >= 0) {
                next = Math.min(next, n2);
            }
            else if (next < 0) {
                next = n2;
            }
            if (next < 0) {
                next = code.length;
            }
            r = new __WEBPACK_IMPORTED_MODULE_1__Range1D__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__internal_RangeElem__["a" /* default */].parse(code.slice(act, next))]);
            break;
    }
    return {
        act: next,
        dim: r
    };
}


/***/ }),
/* 120 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__vector_AVector__ = __webpack_require__(12);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */





/**
 * root matrix implementation holding the data
 * @internal
 */
var StratificationVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](StratificationVector, _super);
    function StratificationVector(strat, range) {
        var _this = _super.call(this, null) || this;
        _this.strat = strat;
        _this.range = range;
        _this._cache = null;
        _this.root = _this;
        _this.valuetype = {
            type: __WEBPACK_IMPORTED_MODULE_3__datatype__["VALUE_TYPE_CATEGORICAL"],
            categories: range.groups.map(function (g) { return ({ name: g.name, label: g.name, color: g.color }); })
        };
        var d = strat.desc;
        _this.desc = {
            name: d.name,
            fqname: d.fqname,
            description: d.description,
            id: d.id + '-v',
            type: 'vector',
            size: d.size,
            idtype: d.idtype,
            value: _this.valuetype,
            creator: d.creator,
            ts: d.ts
        };
        return _this;
    }
    Object.defineProperty(StratificationVector.prototype, "idtype", {
        get: function () {
            return this.strat.idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StratificationVector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    StratificationVector.prototype.persist = function () {
        return {
            root: this.strat.persist()
        };
    };
    StratificationVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(persisted.range));
        }
        return r;
    };
    StratificationVector.prototype.load = function () {
        if (!this._cache) {
            var r_1 = [];
            this.range.groups.forEach(function (g) {
                g.forEach(function () { return r_1.push(g.name); });
            });
            this._cache = r_1;
        }
        return this._cache;
    };
    /**
     * access at a specific position
     * @param i
     * @returns {*}
     */
    StratificationVector.prototype.at = function (i) {
        return Promise.resolve(this.load()[i]);
    };
    StratificationVector.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        var data = this.load();
        return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(range).filter(data, this.dim));
    };
    StratificationVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.strat.names(range);
    };
    StratificationVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.strat.ids(range);
    };
    StratificationVector.prototype.size = function () {
        return this.strat.size();
    };
    StratificationVector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    StratificationVector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    return StratificationVector;
}(__WEBPACK_IMPORTED_MODULE_4__vector_AVector__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (StratificationVector);


/***/ }),
/* 121 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__IStratification__ = __webpack_require__(64);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "guessColor", function() { return __WEBPACK_IMPORTED_MODULE_0__IStratification__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Stratification__ = __webpack_require__(65);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asStratification", function() { return __WEBPACK_IMPORTED_MODULE_1__Stratification__["asStratification"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__internal_StratificationNameVector__ = __webpack_require__(122);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asNameVector", function() { return __WEBPACK_IMPORTED_MODULE_2__internal_StratificationNameVector__["a"]; });
/**
 * Created by sam on 26.12.2016.
 */





/***/ }),
/* 122 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__ = __webpack_require__(23);
/* harmony export (immutable) */ __webpack_exports__["a"] = asNameVector;



var StratificationNameVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](StratificationNameVector, _super);
    function StratificationNameVector(strat) {
        var _this = _super.call(this, strat) || this;
        _this.root = _this;
        return _this;
    }
    Object.defineProperty(StratificationNameVector.prototype, "idtype", {
        get: function () {
            return this.base.idtype;
        },
        enumerable: true,
        configurable: true
    });
    StratificationNameVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.names(range);
    };
    StratificationNameVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.ids(range);
    };
    StratificationNameVector.prototype.size = function () {
        return this.base.length;
    };
    return StratificationNameVector;
}(__WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__["a" /* default */]));
/* unused harmony default export */ var _unused_webpack_default_export = (StratificationNameVector);
/**
 * converts the rows of the given stratification as a string vector
 * @param stratification
 * @return {IStringVector}
 */
function asNameVector(stratification) {
    return new StratificationNameVector(stratification);
}


/***/ }),
/* 123 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/* harmony export (immutable) */ __webpack_exports__["a"] = viaAPILoader;
/* harmony export (immutable) */ __webpack_exports__["b"] = viaDataLoader;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */



function createRangeFromGroups(name, groups) {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["composite"])(name, groups.map(function (g) {
        return new __WEBPACK_IMPORTED_MODULE_1__range__["Range1DGroup"](g.name, g.color || 'gray', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(g.range).dim(0));
    }));
}
function viaAPILoader() {
    var _data = undefined;
    return function (desc) {
        if (!_data) { //in the cache
            _data = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])('/dataset/' + desc.id).then(function (data) {
                var idType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__idtype__["resolve"])(desc.idtype);
                var rowIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(data.rowIds);
                idType.fillMapCache(rowIds.dim(0).asList(data.rows.length), data.rows);
                return {
                    rowIds: rowIds,
                    rows: data.rows,
                    range: createRangeFromGroups(desc.name, data.groups)
                };
            });
        }
        return _data;
    };
}
function viaDataLoader(rows, rowIds, range) {
    var _data = undefined;
    return function () {
        if (!_data) { //in the cache
            _data = Promise.resolve({
                rowIds: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(rowIds),
                rows: rows,
                range: range
            });
        }
        return _data;
    };
}


/***/ }),
/* 124 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype_IDType__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__event__ = __webpack_require__(5);
/* harmony export (immutable) */ __webpack_exports__["create"] = create;
/**
 * Created by Samuel Gratzl on 01.12.2016.
 */




var PREFIX = 'selection-idtype-';
function syncIDType(store, idType, options) {
    options.selectionTypes.forEach(function (type) {
        var key = "" + PREFIX + idType.id + "-" + type;
        var disable = false;
        idType.on('select-' + type, function (event, type, selection) {
            if (disable) {
                return;
            }
            // sync just the latest state
            store.setValue(key, selection.toString());
        });
        store.on(key, function (event, newValue) {
            disable = true; //don't track on changes
            idType.select(type, newValue);
            disable = false;
        });
    });
}
function create(store, options) {
    options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0____["mixin"])({
        filter: function () { return true; },
        selectionTypes: [__WEBPACK_IMPORTED_MODULE_1__idtype__["defaultSelectionType"]] // by default just selections
    }, options);
    // store existing
    var toSync = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__idtype__["list"])().filter(function (idType) { return (idType instanceof __WEBPACK_IMPORTED_MODULE_2__idtype_IDType__["a" /* default */] && options.filter(idType)); });
    toSync.forEach(function (idType) { return syncIDType(store, idType, options); });
    // watch new ones
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__event__["on"])('register.idtype', function (event, idType) {
        if (options.filter(idType)) {
            syncIDType(store, idType, options);
        }
    });
    return null;
}


/***/ }),
/* 125 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event__ = __webpack_require__(5);
/**
 * Created by Samuel Gratzl on 01.12.2016.
 */


function parse(v) {
    return v === null ? null : JSON.parse(v);
}
function stringify(v) {
    return JSON.stringify(v);
}
var Store = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](Store, _super);
    function Store(storage, prefix) {
        var _this = _super.call(this) || this;
        _this.storage = storage;
        _this.prefix = prefix;
        window.addEventListener('storage', function (event) {
            if (event.storageArea === storage && event.key.startsWith(prefix)) {
                var key = event.key.substring(prefix.length);
                // send specific and generic event
                var newValue = parse(event.newValue);
                var oldValue = parse(event.oldValue);
                _this.fire(key, newValue, oldValue, event.url);
                _this.fire(Store.EVENT_CHANGED, key, newValue, oldValue, event.url);
            }
        });
        return _this;
    }
    Store.prototype.toFullKey = function (key) {
        return this.prefix + key;
    };
    Store.prototype.setValue = function (key, value) {
        key = this.toFullKey(key);
        var bak = this.storage.getItem(key);
        this.storage.setItem(key, stringify(value));
        return bak;
    };
    Store.prototype.deleteValue = function (key) {
        key = this.toFullKey(key);
        this.storage.removeItem(key);
    };
    Store.prototype.includes = function (key) {
        key = this.toFullKey(key);
        return (this.storage.getItem(key) !== null);
    };
    Store.prototype.getValue = function (key, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        key = this.toFullKey(key);
        var v = this.storage.getItem(key);
        return v !== null ? parse(v) : defaultValue;
    };
    Store.EVENT_CHANGED = '_change';
    return Store;
}(__WEBPACK_IMPORTED_MODULE_1__event__["EventHandler"]));
/* harmony default export */ __webpack_exports__["a"] = (Store);


/***/ }),
/* 126 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TabSyncer__ = __webpack_require__(67);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "TabSyncer", function() { return __WEBPACK_IMPORTED_MODULE_0__TabSyncer__["a"]; });
/**
 * Created by Samuel Gratzl on 01.12.2016.
 */


/* harmony default export */ __webpack_exports__["default"] = (__WEBPACK_IMPORTED_MODULE_0__TabSyncer__["a" /* default */]);


/***/ }),
/* 127 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__datatype__ = __webpack_require__(3);
/* harmony export (immutable) */ __webpack_exports__["a"] = createDefaultTableDesc;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */


function createDefaultTableDesc() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__datatype__["createDefaultDataDesc"])(), {
        type: 'table',
        idtype: '_rows',
        columns: [],
        size: [0, 0]
    });
}


/***/ }),
/* 128 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__internal_VectorTable__ = __webpack_require__(132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Table__ = __webpack_require__(69);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asTable", function() { return __WEBPACK_IMPORTED_MODULE_1__Table__["asTable"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asTableFromArray", function() { return __WEBPACK_IMPORTED_MODULE_1__Table__["asTableFromArray"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__internal_TableNameVector__ = __webpack_require__(130);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asNameVector", function() { return __WEBPACK_IMPORTED_MODULE_2__internal_TableNameVector__["a"]; });
/* harmony export (immutable) */ __webpack_exports__["fromVectors"] = fromVectors;
/**
 * Created by sam on 26.12.2016.
 */



function fromVectors(desc, vecs) {
    return new __WEBPACK_IMPORTED_MODULE_0__internal_VectorTable__["a" /* default */](desc, vecs);
}


/***/ }),
/* 129 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector_AVector__ = __webpack_require__(12);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */




/**
 * @internal
 */
var MultiTableVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](MultiTableVector, _super);
    function MultiTableVector(table, f, thisArgument, valuetype, _idtype) {
        if (thisArgument === void 0) { thisArgument = table; }
        if (valuetype === void 0) { valuetype = null; }
        if (_idtype === void 0) { _idtype = table.idtype; }
        var _this = _super.call(this, null) || this;
        _this.table = table;
        _this.f = f;
        _this.thisArgument = thisArgument;
        _this.valuetype = valuetype;
        _this._idtype = _idtype;
        _this.desc = {
            name: table.desc.name + '-p',
            fqname: table.desc.fqname + '-p',
            description: f.toString(),
            type: 'vector',
            id: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["fixId"])(table.desc.id + '-p' + f.toString()),
            idtype: table.desc.idtype,
            size: table.nrow,
            value: valuetype,
            creator: table.desc.creator,
            ts: Date.now()
        };
        _this.root = _this;
        return _this;
    }
    Object.defineProperty(MultiTableVector.prototype, "idtype", {
        get: function () {
            return this._idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MultiTableVector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    MultiTableVector.prototype.persist = function () {
        return {
            root: this.table.persist(),
            f: this.f.toString(),
            valuetype: this.valuetype ? this.valuetype : undefined,
            idtype: this.idtype === this.table.idtype ? undefined : this.idtype.name
        };
    };
    MultiTableVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(persisted.range));
        }
        return r;
    };
    MultiTableVector.prototype.size = function () {
        return this.table.nrow;
    };
    /**
     * return the associated ids of this vector
     */
    MultiTableVector.prototype.names = function (range) {
        return this.table.rows(range);
    };
    MultiTableVector.prototype.ids = function (range) {
        return this.table.rowIds(range);
    };
    /**
     * returns a promise for getting one cell
     * @param i
     */
    MultiTableVector.prototype.at = function (i) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a, _b, _c;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _b = (_a = this.f).call;
                        _c = [this.thisArgument];
                        return [4 /*yield*/, this.table.data(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(i))];
                    case 1: return [2 /*return*/, _b.apply(_a, _c.concat([(_d.sent())[0]]))];
                }
            });
        });
    };
    /**
     * returns a promise for getting the data as two dimensional array
     * @param range
     */
    MultiTableVector.prototype.data = function (range) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.table.data(range)];
                    case 1: return [2 /*return*/, (_a.sent()).map(this.f, this.thisArgument)];
                }
            });
        });
    };
    MultiTableVector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    MultiTableVector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    return MultiTableVector;
}(__WEBPACK_IMPORTED_MODULE_3__vector_AVector__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (MultiTableVector);


/***/ }),
/* 130 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__ = __webpack_require__(23);
/* harmony export (immutable) */ __webpack_exports__["a"] = asNameVector;



var TableNameVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](TableNameVector, _super);
    function TableNameVector(table) {
        var _this = _super.call(this, table) || this;
        _this.root = _this;
        return _this;
    }
    Object.defineProperty(TableNameVector.prototype, "idtype", {
        get: function () {
            return this.base.idtype;
        },
        enumerable: true,
        configurable: true
    });
    TableNameVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.rows(range);
    };
    TableNameVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.rowIds(range);
    };
    TableNameVector.prototype.size = function () {
        return this.base.nrow;
    };
    return TableNameVector;
}(__WEBPACK_IMPORTED_MODULE_2__vector_internal_ANameVector__["a" /* default */]));
/* unused harmony default export */ var _unused_webpack_default_export = (TableNameVector);
/**
 * converts the rows of the given table as a string vector
 * @param table
 * @return {IStringVector}
 */
function asNameVector(table) {
    return new TableNameVector(table);
}


/***/ }),
/* 131 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector_AVector__ = __webpack_require__(12);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */




/**
 * root matrix implementation holding the data
 * @internal
 */
var TableVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](TableVector, _super);
    function TableVector(table, index, desc) {
        var _this = _super.call(this, null) || this;
        _this.table = table;
        _this.index = index;
        _this.column = desc.column;
        _this.root = _this;
        _this.desc = {
            type: 'vector',
            id: table.desc.id + '_' + desc.name,
            name: desc.name,
            description: desc.description || '',
            fqname: table.desc.fqname + '/' + desc.name,
            idtype: table.idtype.id,
            size: table.nrow,
            value: desc.value,
            creator: table.desc.creator,
            ts: table.desc.ts
        };
        return _this;
    }
    Object.defineProperty(TableVector.prototype, "valuetype", {
        get: function () {
            return this.desc.value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TableVector.prototype, "idtype", {
        get: function () {
            return this.table.idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TableVector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    TableVector.prototype.persist = function () {
        return {
            root: this.table.persist(),
            col: this.index
        };
    };
    TableVector.prototype.restore = function (persisted) {
        var r = this;
        if (persisted && persisted.range) { //some view onto it
            r = r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["parse"])(persisted.range));
        }
        return r;
    };
    /**
     * access at a specific position
     * @param i
     * @returns {*}
     */
    TableVector.prototype.at = function (i) {
        return this.table.at(i, this.index);
    };
    TableVector.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.table.colData(this.column, range);
    };
    TableVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.table.rows(range);
    };
    TableVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["all"])(); }
        return this.table.rowIds(range);
    };
    TableVector.prototype.size = function () {
        return this.table.nrow;
    };
    TableVector.prototype.sort = function (compareFn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argSort"])(d, compareFn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    TableVector.prototype.filter = function (callbackfn, thisArg) {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d, indices;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.data()];
                    case 1:
                        d = _a.sent();
                        indices = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__index__["argFilter"])(d, callbackfn, thisArg);
                        return [2 /*return*/, this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__range__["list"])(indices))];
                }
            });
        });
    };
    return TableVector;
}(__WEBPACK_IMPORTED_MODULE_3__vector_AVector__["b" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (TableVector);


/***/ }),
/* 132 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ATable__ = __webpack_require__(68);
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */



/**
 * @internal
 */
var VectorTable = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](VectorTable, _super);
    function VectorTable(desc, vectors) {
        var _this = _super.call(this, null) || this;
        _this.vectors = vectors;
        _this.root = _this;
        var ref = vectors[0].desc;
        // generate the description extras
        var d = desc;
        d.idtype = ref.idtype;
        d.size = [vectors[0].length, vectors.length];
        d.columns = vectors.map(function (v) {
            v.desc.column = v.desc.column || v.desc.name;
            return v.desc;
        });
        _this.desc = d;
        _this.idtype = vectors[0].idtype;
        return _this;
    }
    Object.defineProperty(VectorTable.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    VectorTable.prototype.col = function (i) {
        return this.vectors[i]; // TODO prevent `<any>` by using `<TableVector<any, IValueTypeDesc>>` leads to TS compile errors
    };
    VectorTable.prototype.cols = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range).filter(this.vectors, [this.ncol]);
    };
    VectorTable.prototype.at = function (i, j) {
        return this.col(i).at(j);
    };
    VectorTable.prototype.data = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return Promise.all(this.vectors.map(function (v) { return v.data(range); })).then(function (arr) {
            var r = arr[0].map(function (i) { return ([i]); });
            arr.slice(1).forEach(function (ai) { return ai.forEach(function (d, i) { return r[i].push(d); }); });
            return r;
        });
    };
    VectorTable.prototype.colData = function (column, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.dataOfColumn(column, range);
    };
    VectorTable.prototype.dataOfColumn = function (column, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.vectors.find(function (d) { return d.desc.name === column; }).data(range);
    };
    VectorTable.prototype.objects = function (range) {
        var _this = this;
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return Promise.all(this.vectors.map(function (v) { return v.data(range); })).then(function (arr) {
            var names = _this.vectors.map(function (d) { return d.desc.name; });
            var r = arr[0].map(function (i) {
                return (_a = {}, _a[names[0]] = i, _a);
                var _a;
            });
            arr.slice(1).forEach(function (ai, j) {
                var name = names[j + 1];
                ai.forEach(function (d, i) { return r[i][name] = d; });
            });
            return r;
        });
    };
    /**
     * return the row ids of the matrix
     * @returns {*}
     */
    VectorTable.prototype.rows = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.col(0).names(range);
    };
    VectorTable.prototype.rowIds = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.col(0).ids(range);
    };
    VectorTable.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.rowIds(range);
    };
    VectorTable.prototype.size = function () {
        return [this.col(0).length, this.vectors.length];
    };
    VectorTable.prototype.persist = function () {
        return this.desc.id;
    };
    VectorTable.prototype.restore = function (persisted) {
        if (persisted && typeof persisted.col === 'number') {
            return this.col(persisted.col);
        }
        return _super.prototype.restore.call(this, persisted);
    };
    VectorTable.prototype.queryView = function (name, args) {
        throw Error('not implemented');
    };
    return VectorTable;
}(__WEBPACK_IMPORTED_MODULE_2__ATable__["a" /* default */]));
/* harmony default export */ __webpack_exports__["a"] = (VectorTable);


/***/ }),
/* 133 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype__ = __webpack_require__(4);
/* harmony export (immutable) */ __webpack_exports__["a"] = adapterOne2Two;
/* unused harmony export viaAPIViewLoader */
/* harmony export (immutable) */ __webpack_exports__["b"] = viaAPI2Loader;
/* harmony export (immutable) */ __webpack_exports__["c"] = viaDataLoader;
/**
 * Created by Samuel Gratzl on 27.12.2016.
 */




function filterObjects(objs, range, desc) {
    if (range.isAll) {
        return objs;
    }
    objs = range.dim(0).filter(objs, desc.size[0]);
    if (range.ndim > 1 && !range.dim(1).isAll) {
        // filter the columns by index
        var toKeep = range.dim(1).filter(desc.columns, desc.columns.length);
        var toKeepNames_1 = toKeep.map(function (col) { return col.column || col.name; });
        return objs.map(function (obj) {
            var r = {};
            toKeepNames_1.forEach(function (key) { return r[key] = obj[key]; });
            return r;
        });
    }
    return objs;
}
/**
 * @internal
 */
function adapterOne2Two(loader) {
    return {
        rowIds: function (desc, range) { return loader(desc).then(function (d) { return range.preMultiply(d.rowIds, desc.size); }); },
        rows: function (desc, range) { return loader(desc).then(function (d) { return range.dim(0).filter(d.rows, desc.size[0]); }); },
        col: function (desc, column, range) { return loader(desc).then(function (d) { return range.filter(d.objs.map(function (d) { return d[column]; }), desc.size); }); },
        objs: function (desc, range) { return loader(desc).then(function (d) { return filterObjects(d.objs, range, desc); }); },
        data: function (desc, range) { return loader(desc).then(function (d) { return range.filter(toFlat(d.objs, desc.columns), desc.size); }); },
        view: function (desc, name, args) {
            throw new Error('not implemented');
        }
    };
}
/**
 * @internal
 */
function viaAPIViewLoader(name, args) {
    var _loader = undefined;
    return function (desc) {
        if (!_loader) { //in the cache
            _loader = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/table/" + desc.id + "/view/" + name, args).then(function (data) {
                data.rowIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(data.rowIds);
                data.objs = maskObjects(data.data, desc);
                //mask the data
                return data;
            });
        }
        return _loader;
    };
}
function maskCol(arr, col) {
    //mask data
    if (col.value && (col.value.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_INT"] || col.value.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"])) {
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["mask"])(arr, col.value);
    }
    return arr;
}
function maskObjects(arr, desc) {
    //mask data
    var maskAble = desc.columns.filter(function (col) { return col.value && (col.value.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_INT"] || col.value.type === __WEBPACK_IMPORTED_MODULE_2__datatype__["VALUE_TYPE_REAL"]); });
    if (maskAble.length > 0) {
        arr.forEach(function (row) {
            maskAble.forEach(function (col) { return row[col.name] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["mask"])(row[col.name], col.value); });
        });
    }
    return arr;
}
/**
 * @internal
 */
function viaAPI2Loader() {
    var cols = {};
    var rowIds = null, rows = null, objs = null, data = null;
    function fillIds(desc) {
        if (rowIds !== null && rows !== null) {
            Promise.all([rowIds, rows]).then(function (_a) {
                var rowIdValues = _a[0], rowValues = _a[1];
                var idType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["resolve"])(desc.idtype);
                var rowIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(rowIdValues);
                idType.fillMapCache(rowIds.dim(0).asList(rowValues.length), rowValues);
            });
        }
    }
    var r = {
        rowIds: function (desc, range) {
            if (rowIds == null) {
                rowIds = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/table/" + desc.id + "/rowIds").then(__WEBPACK_IMPORTED_MODULE_1__range__["parse"]);
                fillIds(desc);
            }
            return rowIds.then(function (d) { return d.preMultiply(range, desc.size); });
        },
        rows: function (desc, range) {
            if (rows == null) {
                rows = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/table/" + desc.id + "/rows");
                fillIds(desc);
            }
            return rows.then(function (d) { return range.dim(0).filter(d, desc.size[0]); });
        },
        objs: function (desc, range) {
            if (objs == null && (range.isAll || desc.loadAtOnce)) {
                objs = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/table/" + desc.id + "/raw").then(function (data) { return maskObjects(data, desc); });
            }
            if (range.isAll) {
                return objs;
            }
            if (objs != null) { //already loading all
                return objs.then(function (d) { return range.filter(d, desc.size); });
            }
            //server side slicing
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIData"])("/dataset/table/" + desc.id + "/raw", { range: range.toString() }).then(function (data) { return maskObjects(data, desc); });
        },
        data: function (desc, range) {
            if (data == null && (range.isAll || desc.loadAtOnce)) {
                data = r.objs(desc, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])()).then(function (objs) { return toFlat(objs, desc.columns); });
            }
            if (range.isAll) {
                return data;
            }
            if (data != null) { //already loading all
                return data.then(function (d) { return range.filter(d, desc.size); });
            }
            //server side slicing
            return r.objs(desc, range).then(function (objs) { return toFlat(objs, desc.columns); });
        },
        col: function (desc, column, range) {
            var colDesc = desc.columns.find(function (c) { return c.column === column || c.name === column; });
            if (cols[column] == null && (range.isAll || desc.loadAtOnce)) {
                if (objs === null) {
                    if (desc.loadAtOnce) {
                        objs = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/table/" + desc.id + "/raw").then(function (data) { return maskObjects(data, desc); });
                        cols[column] = objs.then(function (objs) { return objs.map(function (row) { return row[column]; }); });
                    }
                    else {
                        cols[column] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])("/dataset/table/" + desc.id + "/col/" + column).then(function (data) { return maskCol(data, colDesc); });
                    }
                }
                else {
                    cols[column] = objs.then(function (objs) { return objs.map(function (row) { return row[column]; }); });
                }
            }
            if (range.isAll) {
                return cols[column];
            }
            if (cols[column] != null) { //already loading all
                return cols[column].then(function (d) { return filterObjects(d, range, desc); });
            }
            //server side slicing
            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIData"])("/dataset/table/" + desc.id + "/col/" + column, { range: range.toString() }).then(function (data) { return maskCol(data, colDesc); });
        },
        view: function (desc, name, args) { return viaAPIViewLoader(name, args); }
    };
    return r;
}
function toFlat(data, vecs) {
    return data.map(function (row) { return vecs.map(function (col) { return row[col.column]; }); });
}
/**
 * @internal
 */
function viaDataLoader(data, nameProperty) {
    var _data = undefined;
    return function (desc) {
        if (_data) { //in the cache
            return Promise.resolve(_data);
        }
        var name = typeof (nameProperty) === 'function' ? nameProperty : function (d) { return d[nameProperty.toString()]; };
        function toGetter(col) {
            if (col.getter) {
                return col.getter;
            }
            return function (d) { return d[col.column]; };
        }
        var getters = desc.columns.map(toGetter);
        var objs = data.map(function (row) {
            var r = { _: row };
            desc.columns.forEach(function (col, i) {
                r[col.column] = getters[i](row);
            });
            return r;
        });
        var rows = data.map(name);
        _data = {
            rowIds: desc.rowassigner ? desc.rowassigner.map(rows) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["range"])(0, data.length),
            rows: rows,
            objs: objs,
            data: getters.map(function (getter) { return data.map(getter); })
        };
        return Promise.resolve(_data);
    };
}


/***/ }),
/* 134 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__datatype__ = __webpack_require__(3);
/* harmony export (immutable) */ __webpack_exports__["a"] = createDefaultVectorDesc;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */


function createDefaultVectorDesc() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__index__["mixin"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__datatype__["createDefaultDataDesc"])(), {
        type: 'vector',
        idtype: '_rows',
        size: 0,
        value: {
            type: 'string'
        }
    });
}


/***/ }),
/* 135 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Vector__ = __webpack_require__(70);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asVector", function() { return __WEBPACK_IMPORTED_MODULE_0__Vector__["asVector"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__internal_VectorNameVector__ = __webpack_require__(138);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "asNameVector", function() { return __WEBPACK_IMPORTED_MODULE_1__internal_VectorNameVector__["a"]; });
/**
 * Created by sam on 26.12.2016.
 */




/***/ }),
/* 136 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__idtype__ = __webpack_require__(4);
/**
 * Created by Samuel Gratzl on 14.02.2017.
 */



var ProjectedAtom = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](ProjectedAtom, _super);
    function ProjectedAtom(v, f, thisArgument, valuetype, _idtype) {
        if (thisArgument === void 0) { thisArgument = v; }
        if (valuetype === void 0) { valuetype = v.valuetype; }
        if (_idtype === void 0) { _idtype = v.idtype; }
        var _this = _super.call(this) || this;
        _this.v = v;
        _this.f = f;
        _this.thisArgument = thisArgument;
        _this.valuetype = valuetype;
        _this._idtype = _idtype;
        _this.cache = null;
        _this.desc = {
            name: v.desc.name + '-p',
            fqname: v.desc.fqname + '-p',
            type: 'atom',
            id: v.desc.id + '-p',
            idtype: v.idtype,
            value: _this.valuetype,
            description: v.desc.description,
            creator: v.desc.creator,
            ts: v.desc.ts
        };
        return _this;
    }
    ProjectedAtom.prototype.load = function () {
        var _this = this;
        if (this.cache === null) {
            this.cache = Promise.all([this.v.data(), this.v.ids(), this.v.names()]).then(function (arr) {
                return _this.f.apply(_this.thisArgument, arr);
            });
        }
        return this.cache;
    };
    ProjectedAtom.prototype.id = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load()];
                    case 1:
                        d = _a.sent();
                        return [2 /*return*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["list"])(d.id)];
                }
            });
        });
    };
    ProjectedAtom.prototype.name = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load()];
                    case 1:
                        d = _a.sent();
                        return [2 /*return*/, d.name];
                }
            });
        });
    };
    ProjectedAtom.prototype.data = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var d;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load()];
                    case 1:
                        d = _a.sent();
                        return [2 /*return*/, d.value];
                }
            });
        });
    };
    Object.defineProperty(ProjectedAtom.prototype, "dim", {
        get: function () {
            return [1];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProjectedAtom.prototype, "idtype", {
        get: function () {
            return this._idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ProjectedAtom.prototype, "idtypes", {
        get: function () {
            return [this._idtype];
        },
        enumerable: true,
        configurable: true
    });
    ProjectedAtom.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(range);
        if (range.isNone) {
            return Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["none"])());
        }
        return this.id();
    };
    ProjectedAtom.prototype.idView = function (idRange) {
        return Promise.resolve(this);
    };
    ProjectedAtom.prototype.persist = function () {
        return {
            root: this.v.persist(),
            f: this.f.toString(),
            valuetype: this.valuetype === this.v.valuetype ? undefined : this.valuetype,
            idtype: this.idtype === this.v.idtype ? undefined : this.idtype.name
        };
    };
    ProjectedAtom.prototype.restore = function (persisted) {
        return this;
    };
    return ProjectedAtom;
}(__WEBPACK_IMPORTED_MODULE_2__idtype__["SelectAble"]));
/* harmony default export */ __webpack_exports__["a"] = (ProjectedAtom);


/***/ }),
/* 137 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__math__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__stratification_StratificationGroup__ = __webpack_require__(66);
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */





/**
 * root matrix implementation holding the data
 * @internal
 */
var StratificationVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](StratificationVector, _super);
    function StratificationVector(v, r) {
        var _this = _super.call(this, {
            id: v.desc.id + '-s',
            name: v.desc.name,
            description: v.desc.description,
            creator: v.desc.creator,
            ts: v.desc.ts,
            fqname: v.desc.fqname,
            type: 'stratification',
            idtype: v.idtype.id,
            size: v.length,
            ngroups: r.groups.length,
            groups: r.groups.map(function (ri) { return ({ name: ri.name, color: ri.color, size: ri.length }); })
        }) || this;
        _this.v = v;
        _this.r = r;
        return _this;
    }
    Object.defineProperty(StratificationVector.prototype, "idtype", {
        get: function () {
            return this.v.idtype;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StratificationVector.prototype, "groups", {
        get: function () {
            return this.desc.groups;
        },
        enumerable: true,
        configurable: true
    });
    StratificationVector.prototype.group = function (group) {
        return new __WEBPACK_IMPORTED_MODULE_4__stratification_StratificationGroup__["a" /* default */](this, group, this.groups[group]);
    };
    StratificationVector.prototype.hist = function (bins, range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var _a;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = __WEBPACK_IMPORTED_MODULE_3__math__["rangeHist"];
                        return [4 /*yield*/, this.range()];
                    case 1: 
                    // FIXME unused parameter
                    return [2 /*return*/, _a.apply(void 0, [_b.sent()])];
                }
            });
        });
    };
    StratificationVector.prototype.vector = function () {
        return this.asVector();
    };
    StratificationVector.prototype.asVector = function () {
        return Promise.resolve(this.v);
    };
    StratificationVector.prototype.origin = function () {
        return this.asVector();
    };
    StratificationVector.prototype.range = function () {
        return Promise.resolve(this.r);
    };
    StratificationVector.prototype.idRange = function () {
        return __WEBPACK_IMPORTED_MODULE_0_tslib__["b" /* __awaiter */](this, void 0, void 0, function () {
            var ids;
            return __WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __generator */](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ids()];
                    case 1:
                        ids = _a.sent();
                        return [2 /*return*/, ids.dim(0).preMultiply(this.r, this.dim[0])];
                }
            });
        });
    };
    StratificationVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.v.names(range);
    };
    StratificationVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.v.ids(range);
    };
    Object.defineProperty(StratificationVector.prototype, "idtypes", {
        get: function () {
            return [this.idtype];
        },
        enumerable: true,
        configurable: true
    });
    StratificationVector.prototype.size = function () {
        return this.desc.size;
    };
    Object.defineProperty(StratificationVector.prototype, "length", {
        get: function () {
            return this.size();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StratificationVector.prototype, "ngroups", {
        get: function () {
            return this.groups.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StratificationVector.prototype, "dim", {
        get: function () {
            return [this.size()];
        },
        enumerable: true,
        configurable: true
    });
    StratificationVector.prototype.persist = function () {
        return {
            root: this.v.persist(),
            asstrat: true
        };
    };
    return StratificationVector;
}(__WEBPACK_IMPORTED_MODULE_2__datatype__["ADataType"]));
/* harmony default export */ __webpack_exports__["a"] = (StratificationVector);


/***/ }),
/* 138 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ANameVector__ = __webpack_require__(23);
/* harmony export (immutable) */ __webpack_exports__["a"] = asNameVector;



var VectorNameVector = /** @class */ (function (_super) {
    __WEBPACK_IMPORTED_MODULE_0_tslib__["a" /* __extends */](VectorNameVector, _super);
    function VectorNameVector(vector) {
        var _this = _super.call(this, vector) || this;
        _this.root = _this;
        return _this;
    }
    Object.defineProperty(VectorNameVector.prototype, "idtype", {
        get: function () {
            return this.base.idtype;
        },
        enumerable: true,
        configurable: true
    });
    VectorNameVector.prototype.names = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.names(range);
    };
    VectorNameVector.prototype.ids = function (range) {
        if (range === void 0) { range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["all"])(); }
        return this.base.ids(range);
    };
    VectorNameVector.prototype.size = function () {
        return this.base.length;
    };
    return VectorNameVector;
}(__WEBPACK_IMPORTED_MODULE_2__ANameVector__["a" /* default */]));
/* unused harmony default export */ var _unused_webpack_default_export = (VectorNameVector);
/**
 * converts the name of the given vector as a string vector
 * @param vector
 * @return {IStringVector}
 */
function asNameVector(vector) {
    return new VectorNameVector(vector);
}


/***/ }),
/* 139 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ajax__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__datatype__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype__ = __webpack_require__(4);
/* harmony export (immutable) */ __webpack_exports__["a"] = viaAPILoader;
/* harmony export (immutable) */ __webpack_exports__["b"] = viaDataLoader;
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 04.08.2014.
 */




/**
 * @internal
 */
function viaAPILoader() {
    var _loader = undefined;
    return function (desc) {
        if (_loader) { //in the cache
            return _loader;
        }
        return _loader = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ajax__["getAPIJSON"])('/dataset/' + desc.id).then(function (data) {
            var range = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(data.rowIds);
            data.rowIds = range;
            data.data = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__datatype__["mask"])(data.data, desc.value);
            var idType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__["resolve"])(desc.idtype);
            idType.fillMapCache(range.dim(0).asList(data.rows.length), data.rows);
            return data;
        });
    };
}
/**
 * @internal
 */
function viaDataLoader(rows, rowIds, data) {
    var _data = undefined;
    return function () {
        if (_data) { //in the cache
            return Promise.resolve(_data);
        }
        _data = {
            rowIds: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__["parse"])(rowIds),
            rows: rows,
            data: data
        };
        return Promise.resolve(_data);
    };
}


/***/ }),
/* 140 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__range__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__idtype__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__event__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__geom__ = __webpack_require__(25);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "C", function() { return C; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "data", function() { return data; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ranges", function() { return ranges; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "idtypes", function() { return idtypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "geom", function() { return geom; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "events", function() { return events; });
/* *****************************************************************************
 * Caleydo - Visualization for Molecular Biology - http://caleydo.org
 * Copyright (c) The Caleydo Team. All rights reserved.
 * Licensed under the new BSD license, available at http://caleydo.org/license
 **************************************************************************** */
/**
 * Created by Samuel Gratzl on 29.12.2014.
 * @deprecated use direct imports
 */






var C = __WEBPACK_IMPORTED_MODULE_0__index__;
var data = __WEBPACK_IMPORTED_MODULE_1__data__;
var ranges = __WEBPACK_IMPORTED_MODULE_2__range__;
var idtypes = __WEBPACK_IMPORTED_MODULE_3__idtype__;
var geom = __WEBPACK_IMPORTED_MODULE_5__geom__;
var events = __WEBPACK_IMPORTED_MODULE_4__event__;


/***/ }),
/* 141 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_esm_typeof__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__ = __webpack_require__(86);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_esm_possibleConstructorReturn__ = __webpack_require__(87);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__babel_runtime_helpers_esm_getPrototypeOf__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__babel_runtime_helpers_esm_assertThisInitialized__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__babel_runtime_helpers_esm_inherits__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__babel_runtime_helpers_esm_toConsumableArray__ = __webpack_require__(90);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__babel_runtime_helpers_esm_slicedToArray__ = __webpack_require__(89);











var consoleLogger = {
  type: 'logger',
  log: function log(args) {
    this.output('log', args);
  },
  warn: function warn(args) {
    this.output('warn', args);
  },
  error: function error(args) {
    this.output('error', args);
  },
  output: function output(type, args) {
    var _console;

    /* eslint no-console: 0 */
    if (console && console[type]) (_console = console)[type].apply(_console, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__babel_runtime_helpers_esm_toConsumableArray__["a" /* default */])(args));
  }
};

var Logger =
/*#__PURE__*/
function () {
  function Logger(concreteLogger) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, Logger);

    this.init(concreteLogger, options);
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(Logger, [{
    key: "init",
    value: function init(concreteLogger) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.prefix = options.prefix || 'i18next:';
      this.logger = concreteLogger || consoleLogger;
      this.options = options;
      this.debug = options.debug;
    }
  }, {
    key: "setDebug",
    value: function setDebug(bool) {
      this.debug = bool;
    }
  }, {
    key: "log",
    value: function log() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      return this.forward(args, 'log', '', true);
    }
  }, {
    key: "warn",
    value: function warn() {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return this.forward(args, 'warn', '', true);
    }
  }, {
    key: "error",
    value: function error() {
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }

      return this.forward(args, 'error', '');
    }
  }, {
    key: "deprecate",
    value: function deprecate() {
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }

      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
    }
  }, {
    key: "forward",
    value: function forward(args, lvl, prefix, debugOnly) {
      if (debugOnly && !this.debug) return null;
      if (typeof args[0] === 'string') args[0] = "".concat(prefix).concat(this.prefix, " ").concat(args[0]);
      return this.logger[lvl](args);
    }
  }, {
    key: "create",
    value: function create(moduleName) {
      return new Logger(this.logger, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, {
        prefix: "".concat(this.prefix, ":").concat(moduleName, ":")
      }, this.options));
    }
  }]);

  return Logger;
}();

var baseLogger = new Logger();

var EventEmitter =
/*#__PURE__*/
function () {
  function EventEmitter() {
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, EventEmitter);

    this.observers = {};
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(EventEmitter, [{
    key: "on",
    value: function on(events, listener) {
      var _this = this;

      events.split(' ').forEach(function (event) {
        _this.observers[event] = _this.observers[event] || [];

        _this.observers[event].push(listener);
      });
      return this;
    }
  }, {
    key: "off",
    value: function off(event, listener) {
      if (!this.observers[event]) return;

      if (!listener) {
        delete this.observers[event];
        return;
      }

      this.observers[event] = this.observers[event].filter(function (l) {
        return l !== listener;
      });
    }
  }, {
    key: "emit",
    value: function emit(event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      if (this.observers[event]) {
        var cloned = [].concat(this.observers[event]);
        cloned.forEach(function (observer) {
          observer.apply(void 0, args);
        });
      }

      if (this.observers['*']) {
        var _cloned = [].concat(this.observers['*']);

        _cloned.forEach(function (observer) {
          observer.apply(observer, [event].concat(args));
        });
      }
    }
  }]);

  return EventEmitter;
}();

// http://lea.verou.me/2016/12/resolve-promises-externally-with-this-one-weird-trick/
function defer() {
  var res;
  var rej;
  var promise = new Promise(function (resolve, reject) {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
}
function makeString(object) {
  if (object == null) return '';
  /* eslint prefer-template: 0 */

  return '' + object;
}
function copy(a, s, t) {
  a.forEach(function (m) {
    if (s[m]) t[m] = s[m];
  });
}

function getLastOfPath(object, path, Empty) {
  function cleanKey(key) {
    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;
  }

  function canNotTraverseDeeper() {
    return !object || typeof object === 'string';
  }

  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');

  while (stack.length > 1) {
    if (canNotTraverseDeeper()) return {};
    var key = cleanKey(stack.shift());
    if (!object[key] && Empty) object[key] = new Empty();
    object = object[key];
  }

  if (canNotTraverseDeeper()) return {};
  return {
    obj: object,
    k: cleanKey(stack.shift())
  };
}

function setPath(object, path, newValue) {
  var _getLastOfPath = getLastOfPath(object, path, Object),
      obj = _getLastOfPath.obj,
      k = _getLastOfPath.k;

  obj[k] = newValue;
}
function pushPath(object, path, newValue, concat) {
  var _getLastOfPath2 = getLastOfPath(object, path, Object),
      obj = _getLastOfPath2.obj,
      k = _getLastOfPath2.k;

  obj[k] = obj[k] || [];
  if (concat) obj[k] = obj[k].concat(newValue);
  if (!concat) obj[k].push(newValue);
}
function getPath(object, path) {
  var _getLastOfPath3 = getLastOfPath(object, path),
      obj = _getLastOfPath3.obj,
      k = _getLastOfPath3.k;

  if (!obj) return undefined;
  return obj[k];
}
function getPathWithDefaults(data, defaultData, key) {
  var value = getPath(data, key);

  if (value !== undefined) {
    return value;
  } // Fallback to default values


  return getPath(defaultData, key);
}
function deepExtend(target, source, overwrite) {
  /* eslint no-restricted-syntax: 0 */
  for (var prop in source) {
    if (prop in target) {
      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch
      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {
        if (overwrite) target[prop] = source[prop];
      } else {
        deepExtend(target[prop], source[prop], overwrite);
      }
    } else {
      target[prop] = source[prop];
    }
  }

  return target;
}
function regexEscape(str) {
  /* eslint no-useless-escape: 0 */
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
}
/* eslint-disable */

var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
/* eslint-enable */

function escape(data) {
  if (typeof data === 'string') {
    return data.replace(/[&<>"'\/]/g, function (s) {
      return _entityMap[s];
    });
  }

  return data;
}

var ResourceStore =
/*#__PURE__*/
function (_EventEmitter) {
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__babel_runtime_helpers_esm_inherits__["a" /* default */])(ResourceStore, _EventEmitter);

  function ResourceStore(data) {
    var _this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };

    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, ResourceStore);

    _this = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_esm_possibleConstructorReturn__["a" /* default */])(this, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__babel_runtime_helpers_esm_getPrototypeOf__["a" /* default */])(ResourceStore).call(this));
    EventEmitter.call(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__babel_runtime_helpers_esm_assertThisInitialized__["a" /* default */])(_this)); // <=IE10 fix (unable to call parent constructor)

    _this.data = data || {};
    _this.options = options;

    if (_this.options.keySeparator === undefined) {
      _this.options.keySeparator = '.';
    }

    return _this;
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(ResourceStore, [{
    key: "addNamespaces",
    value: function addNamespaces(ns) {
      if (this.options.ns.indexOf(ns) < 0) {
        this.options.ns.push(ns);
      }
    }
  }, {
    key: "removeNamespaces",
    value: function removeNamespaces(ns) {
      var index = this.options.ns.indexOf(ns);

      if (index > -1) {
        this.options.ns.splice(index, 1);
      }
    }
  }, {
    key: "getResource",
    value: function getResource(lng, ns, key) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
      var path = [lng, ns];
      if (key && typeof key !== 'string') path = path.concat(key);
      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
      }

      return getPath(this.data, path);
    }
  }, {
    key: "addResource",
    value: function addResource(lng, ns, key, value) {
      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
        silent: false
      };
      var keySeparator = this.options.keySeparator;
      if (keySeparator === undefined) keySeparator = '.';
      var path = [lng, ns];
      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
        value = ns;
        ns = path[1];
      }

      this.addNamespaces(ns);
      setPath(this.data, path, value);
      if (!options.silent) this.emit('added', lng, ns, key, value);
    }
  }, {
    key: "addResources",
    value: function addResources(lng, ns, resources) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
        silent: false
      };

      /* eslint no-restricted-syntax: 0 */
      for (var m in resources) {
        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {
          silent: true
        });
      }

      if (!options.silent) this.emit('added', lng, ns, resources);
    }
  }, {
    key: "addResourceBundle",
    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {
      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
        silent: false
      };
      var path = [lng, ns];

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
        deep = resources;
        resources = ns;
        ns = path[1];
      }

      this.addNamespaces(ns);
      var pack = getPath(this.data, path) || {};

      if (deep) {
        deepExtend(pack, resources, overwrite);
      } else {
        pack = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, pack, resources);
      }

      setPath(this.data, path, pack);
      if (!options.silent) this.emit('added', lng, ns, resources);
    }
  }, {
    key: "removeResourceBundle",
    value: function removeResourceBundle(lng, ns) {
      if (this.hasResourceBundle(lng, ns)) {
        delete this.data[lng][ns];
      }

      this.removeNamespaces(ns);
      this.emit('removed', lng, ns);
    }
  }, {
    key: "hasResourceBundle",
    value: function hasResourceBundle(lng, ns) {
      return this.getResource(lng, ns) !== undefined;
    }
  }, {
    key: "getResourceBundle",
    value: function getResourceBundle(lng, ns) {
      if (!ns) ns = this.options.defaultNS; // COMPATIBILITY: remove extend in v2.1.0

      if (this.options.compatibilityAPI === 'v1') return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, {}, this.getResource(lng, ns));
      return this.getResource(lng, ns);
    }
  }, {
    key: "getDataByLanguage",
    value: function getDataByLanguage(lng) {
      return this.data[lng];
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      return this.data;
    }
  }]);

  return ResourceStore;
}(EventEmitter);

var postProcessor = {
  processors: {},
  addPostProcessor: function addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle: function handle(processors, value, key, options, translator) {
    var _this = this;

    processors.forEach(function (processor) {
      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

var Translator =
/*#__PURE__*/
function (_EventEmitter) {
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__babel_runtime_helpers_esm_inherits__["a" /* default */])(Translator, _EventEmitter);

  function Translator(services) {
    var _this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, Translator);

    _this = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_esm_possibleConstructorReturn__["a" /* default */])(this, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__babel_runtime_helpers_esm_getPrototypeOf__["a" /* default */])(Translator).call(this));
    EventEmitter.call(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__babel_runtime_helpers_esm_assertThisInitialized__["a" /* default */])(_this)); // <=IE10 fix (unable to call parent constructor)

    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__babel_runtime_helpers_esm_assertThisInitialized__["a" /* default */])(_this));
    _this.options = options;

    if (_this.options.keySeparator === undefined) {
      _this.options.keySeparator = '.';
    }

    _this.logger = baseLogger.create('translator');
    return _this;
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(Translator, [{
    key: "changeLanguage",
    value: function changeLanguage(lng) {
      if (lng) this.language = lng;
    }
  }, {
    key: "exists",
    value: function exists(key) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
        interpolation: {}
      };
      var resolved = this.resolve(key, options);
      return resolved && resolved.res !== undefined;
    }
  }, {
    key: "extractFromKey",
    value: function extractFromKey(key, options) {
      var nsSeparator = options.nsSeparator || this.options.nsSeparator;
      if (nsSeparator === undefined) nsSeparator = ':';
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
      var namespaces = options.ns || this.options.defaultNS;

      if (nsSeparator && key.indexOf(nsSeparator) > -1) {
        var parts = key.split(nsSeparator);
        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
        key = parts.join(keySeparator);
      }

      if (typeof namespaces === 'string') namespaces = [namespaces];
      return {
        key: key,
        namespaces: namespaces
      };
    }
  }, {
    key: "translate",
    value: function translate(keys, options) {
      var _this2 = this;

      if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_esm_typeof__["a" /* default */])(options) !== 'object' && this.options.overloadTranslationOptionHandler) {
        /* eslint prefer-rest-params: 0 */
        options = this.options.overloadTranslationOptionHandler(arguments);
      }

      if (!options) options = {}; // non valid keys handling

      if (keys === undefined || keys === null) return '';
      if (!Array.isArray(keys)) keys = [String(keys)]; // separators

      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator; // get namespace(s)

      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),
          key = _this$extractFromKey.key,
          namespaces = _this$extractFromKey.namespaces;

      var namespace = namespaces[namespaces.length - 1]; // return key on CIMode

      var lng = options.lng || this.language;
      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;

      if (lng && lng.toLowerCase() === 'cimode') {
        if (appendNamespaceToCIMode) {
          var nsSeparator = options.nsSeparator || this.options.nsSeparator;
          return namespace + nsSeparator + key;
        }

        return key;
      } // resolve from store


      var resolved = this.resolve(keys, options);
      var res = resolved && resolved.res;
      var resUsedKey = resolved && resolved.usedKey || key;
      var resExactUsedKey = resolved && resolved.exactUsedKey || key;
      var resType = Object.prototype.toString.apply(res);
      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays; // object

      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';

      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {
        if (!options.returnObjects && !this.options.returnObjects) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : "key '".concat(key, " (").concat(this.language, ")' returned an object instead of string.");
        } // if we got a separator we loop over children - else we just return object as is
        // as having it set to false means no hierarchy so no lookup for nested values


        if (keySeparator) {
          var resTypeIsArray = resType === '[object Array]';
          var copy$$1 = resTypeIsArray ? [] : {}; // apply child translation on a copy

          /* eslint no-restricted-syntax: 0 */

          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;

          for (var m in res) {
            if (Object.prototype.hasOwnProperty.call(res, m)) {
              var deepKey = "".concat(newKeyToUse).concat(keySeparator).concat(m);
              copy$$1[m] = this.translate(deepKey, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, options, {
                joinArrays: false,
                ns: namespaces
              }));
              if (copy$$1[m] === deepKey) copy$$1[m] = res[m]; // if nothing found use orginal value as fallback
            }
          }

          res = copy$$1;
        }
      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {
        // array special treatment
        res = res.join(joinArrays);
        if (res) res = this.extendTranslation(res, keys, options);
      } else {
        // string, empty or null
        var usedDefault = false;
        var usedKey = false; // fallback value

        if (!this.isValidLookup(res) && options.defaultValue !== undefined) {
          usedDefault = true;

          if (options.count !== undefined) {
            var suffix = this.pluralResolver.getSuffix(lng, options.count);
            res = options["defaultValue".concat(suffix)];
          }

          if (!res) res = options.defaultValue;
        }

        if (!this.isValidLookup(res)) {
          usedKey = true;
          res = key;
        } // save missing


        var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;

        if (usedKey || usedDefault || updateMissing) {
          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);
          var lngs = [];
          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);

          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
            for (var i = 0; i < fallbackLngs.length; i++) {
              lngs.push(fallbackLngs[i]);
            }
          } else if (this.options.saveMissingTo === 'all') {
            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
          } else {
            lngs.push(options.lng || this.language);
          }

          var send = function send(l, k) {
            if (_this2.options.missingKeyHandler) {
              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);
            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {
              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);
            }

            _this2.emit('missingKey', l, namespace, k, res);
          };

          if (this.options.saveMissing) {
            var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';

            if (this.options.saveMissingPlurals && needsPluralHandling) {
              lngs.forEach(function (l) {
                var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);

                plurals.forEach(function (p) {
                  return send([l], p);
                });
              });
            } else {
              send(lngs, key);
            }
          }
        } // extend


        res = this.extendTranslation(res, keys, options, resolved); // append namespace if still key

        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = "".concat(namespace, ":").concat(key); // parseMissingKeyHandler

        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);
      } // return


      return res;
    }
  }, {
    key: "extendTranslation",
    value: function extendTranslation(res, key, options, resolved) {
      var _this3 = this;

      if (this.i18nFormat && this.i18nFormat.parse) {
        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {
          resolved: resolved
        });
      } else if (!options.skipInterpolation) {
        // i18next.parsing
        if (options.interpolation) this.interpolator.init(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, options, {
          interpolation: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, this.options.interpolation, options.interpolation)
        })); // interpolate

        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;
        if (this.options.interpolation.defaultVariables) data = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, this.options.interpolation.defaultVariables, data);
        res = this.interpolator.interpolate(res, data, options.lng || this.language, options); // nesting

        if (options.nest !== false) res = this.interpolator.nest(res, function () {
          return _this3.translate.apply(_this3, arguments);
        }, options);
        if (options.interpolation) this.interpolator.reset();
      } // post process


      var postProcess = options.postProcess || this.options.postProcess;
      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;

      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({
          i18nResolved: resolved
        }, options) : options, this);
      }

      return res;
    }
  }, {
    key: "resolve",
    value: function resolve(keys) {
      var _this4 = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var found;
      var usedKey; // plain key

      var exactUsedKey; // key with context / plural

      var usedLng;
      var usedNS;
      if (typeof keys === 'string') keys = [keys]; // forEach possible key

      keys.forEach(function (k) {
        if (_this4.isValidLookup(found)) return;

        var extracted = _this4.extractFromKey(k, options);

        var key = extracted.key;
        usedKey = key;
        var namespaces = extracted.namespaces;
        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);
        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';
        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);
        namespaces.forEach(function (ns) {
          if (_this4.isValidLookup(found)) return;
          usedNS = ns;

          if (_this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {
            _this4.logger.warn("key \"".concat(usedKey, "\" for namespace \"").concat(usedNS, "\" won't get resolved as namespace was not yet loaded"), 'This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
          }

          codes.forEach(function (code) {
            if (_this4.isValidLookup(found)) return;
            usedLng = code;
            var finalKey = key;
            var finalKeys = [finalKey];

            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {
              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
            } else {
              var pluralSuffix;
              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count); // fallback for plural if context not found

              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix); // get key for context if needed

              if (needsContextHandling) finalKeys.push(finalKey += "".concat(_this4.options.contextSeparator).concat(options.context)); // get key for plural if needed

              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);
            } // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only


            var possibleKey;
            /* eslint no-cond-assign: 0 */

            while (possibleKey = finalKeys.pop()) {
              if (!_this4.isValidLookup(found)) {
                exactUsedKey = possibleKey;
                found = _this4.getResource(code, ns, possibleKey, options);
              }
            }
          });
        });
      });
      return {
        res: found,
        usedKey: usedKey,
        exactUsedKey: exactUsedKey,
        usedLng: usedLng,
        usedNS: usedNS
      };
    }
  }, {
    key: "isValidLookup",
    value: function isValidLookup(res) {
      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
    }
  }, {
    key: "getResource",
    value: function getResource(code, ns, key) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
      return this.resourceStore.getResource(code, ns, key, options);
    }
  }]);

  return Translator;
}(EventEmitter);

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

var LanguageUtil =
/*#__PURE__*/
function () {
  function LanguageUtil(options) {
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, LanguageUtil);

    this.options = options;
    this.whitelist = this.options.whitelist || false;
    this.logger = baseLogger.create('languageUtils');
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(LanguageUtil, [{
    key: "getScriptPartFromCode",
    value: function getScriptPartFromCode(code) {
      if (!code || code.indexOf('-') < 0) return null;
      var p = code.split('-');
      if (p.length === 2) return null;
      p.pop();
      return this.formatLanguageCode(p.join('-'));
    }
  }, {
    key: "getLanguagePartFromCode",
    value: function getLanguagePartFromCode(code) {
      if (!code || code.indexOf('-') < 0) return code;
      var p = code.split('-');
      return this.formatLanguageCode(p[0]);
    }
  }, {
    key: "formatLanguageCode",
    value: function formatLanguageCode(code) {
      // http://www.iana.org/assignments/language-tags/language-tags.xhtml
      if (typeof code === 'string' && code.indexOf('-') > -1) {
        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
        var p = code.split('-');

        if (this.options.lowerCaseLng) {
          p = p.map(function (part) {
            return part.toLowerCase();
          });
        } else if (p.length === 2) {
          p[0] = p[0].toLowerCase();
          p[1] = p[1].toUpperCase();
          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        } else if (p.length === 3) {
          p[0] = p[0].toLowerCase(); // if lenght 2 guess it's a country

          if (p[1].length === 2) p[1] = p[1].toUpperCase();
          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
        }

        return p.join('-');
      }

      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
    }
  }, {
    key: "isWhitelisted",
    value: function isWhitelisted(code) {
      if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {
        code = this.getLanguagePartFromCode(code);
      }

      return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;
    }
  }, {
    key: "getFallbackCodes",
    value: function getFallbackCodes(fallbacks, code) {
      if (!fallbacks) return [];
      if (typeof fallbacks === 'string') fallbacks = [fallbacks];
      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;
      if (!code) return fallbacks["default"] || []; // asume we have an object defining fallbacks

      var found = fallbacks[code];
      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
      if (!found) found = fallbacks[this.formatLanguageCode(code)];
      if (!found) found = fallbacks["default"];
      return found || [];
    }
  }, {
    key: "toResolveHierarchy",
    value: function toResolveHierarchy(code, fallbackCode) {
      var _this = this;

      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
      var codes = [];

      var addCode = function addCode(c) {
        if (!c) return;

        if (_this.isWhitelisted(c)) {
          codes.push(c);
        } else {
          _this.logger.warn("rejecting non-whitelisted language code: ".concat(c));
        }
      };

      if (typeof code === 'string' && code.indexOf('-') > -1) {
        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
      } else if (typeof code === 'string') {
        addCode(this.formatLanguageCode(code));
      }

      fallbackCodes.forEach(function (fc) {
        if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));
      });
      return codes;
    }
  }]);

  return LanguageUtil;
}();

/* eslint-disable */

var sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
var _rulesPluralsTypes = {
  1: function _(n) {
    return Number(n > 1);
  },
  2: function _(n) {
    return Number(n != 1);
  },
  3: function _(n) {
    return 0;
  },
  4: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  5: function _(n) {
    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
  },
  6: function _(n) {
    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
  },
  7: function _(n) {
    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  8: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
  },
  9: function _(n) {
    return Number(n >= 2);
  },
  10: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
  },
  11: function _(n) {
    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
  },
  12: function _(n) {
    return Number(n % 10 != 1 || n % 100 == 11);
  },
  13: function _(n) {
    return Number(n !== 0);
  },
  14: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
  },
  15: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  16: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
  },
  17: function _(n) {
    return Number(n == 1 || n % 10 == 1 ? 0 : 1);
  },
  18: function _(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
  },
  19: function _(n) {
    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
  },
  20: function _(n) {
    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
  },
  21: function _(n) {
    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
  },
  22: function _(n) {
    return Number(n === 1 ? 0 : n === 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);
  }
};
/* eslint-enable */

function createRules() {
  var rules = {};
  sets.forEach(function (set) {
    set.lngs.forEach(function (l) {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
}

var PluralResolver =
/*#__PURE__*/
function () {
  function PluralResolver(languageUtils) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, PluralResolver);

    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    this.rules = createRules();
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(PluralResolver, [{
    key: "addRule",
    value: function addRule(lng, obj) {
      this.rules[lng] = obj;
    }
  }, {
    key: "getRule",
    value: function getRule(code) {
      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
    }
  }, {
    key: "needsPlural",
    value: function needsPlural(code) {
      var rule = this.getRule(code);
      return rule && rule.numbers.length > 1;
    }
  }, {
    key: "getPluralFormsOfKey",
    value: function getPluralFormsOfKey(code, key) {
      var _this = this;

      var ret = [];
      var rule = this.getRule(code);
      if (!rule) return ret;
      rule.numbers.forEach(function (n) {
        var suffix = _this.getSuffix(code, n);

        ret.push("".concat(key).concat(suffix));
      });
      return ret;
    }
  }, {
    key: "getSuffix",
    value: function getSuffix(code, count) {
      var _this2 = this;

      var rule = this.getRule(code);

      if (rule) {
        // if (rule.numbers.length === 1) return ''; // only singular
        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
        var suffix = rule.numbers[idx]; // special treatment for lngs only having singular and plural

        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
          if (suffix === 2) {
            suffix = 'plural';
          } else if (suffix === 1) {
            suffix = '';
          }
        }

        var returnSuffix = function returnSuffix() {
          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();
        }; // COMPATIBILITY JSON
        // v1


        if (this.options.compatibilityJSON === 'v1') {
          if (suffix === 1) return '';
          if (typeof suffix === 'number') return "_plural_".concat(suffix.toString());
          return returnSuffix();
        } else if (
        /* v2 */
        this.options.compatibilityJSON === 'v2') {
          return returnSuffix();
        } else if (
        /* v3 - gettext index */
        this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
          return returnSuffix();
        }

        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
      }

      this.logger.warn("no plural rule found for: ".concat(code));
      return '';
    }
  }]);

  return PluralResolver;
}();

var Interpolator =
/*#__PURE__*/
function () {
  function Interpolator() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, Interpolator);

    this.logger = baseLogger.create('interpolator');
    this.options = options;

    this.format = options.interpolation && options.interpolation.format || function (value) {
      return value;
    };

    this.init(options);
  }
  /* eslint no-param-reassign: 0 */


  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(Interpolator, [{
    key: "init",
    value: function init() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      if (!options.interpolation) options.interpolation = {
        escapeValue: true
      };
      var iOpts = options.interpolation;
      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;
      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;
      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;
      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';
      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';
      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';
      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';
      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';
      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');
      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');
      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000; // the regexp

      this.resetRegExp();
    }
  }, {
    key: "reset",
    value: function reset() {
      if (this.options) this.init(this.options);
    }
  }, {
    key: "resetRegExp",
    value: function resetRegExp() {
      // the regexp
      var regexpStr = "".concat(this.prefix, "(.+?)").concat(this.suffix);
      this.regexp = new RegExp(regexpStr, 'g');
      var regexpUnescapeStr = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');
      var nestingRegexpStr = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');
    }
  }, {
    key: "interpolate",
    value: function interpolate(str, data, lng, options) {
      var _this = this;

      var match;
      var value;
      var replaces;
      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};

      function regexSafe(val) {
        return val.replace(/\$/g, '$$$$');
      }

      var handleFormat = function handleFormat(key) {
        if (key.indexOf(_this.formatSeparator) < 0) {
          return getPathWithDefaults(data, defaultData, key);
        }

        var p = key.split(_this.formatSeparator);
        var k = p.shift().trim();
        var f = p.join(_this.formatSeparator).trim();
        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng);
      };

      this.resetRegExp();
      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
      replaces = 0; // unescape if has unescapePrefix/Suffix

      /* eslint no-cond-assign: 0 */

      while (match = this.regexpUnescape.exec(str)) {
        value = handleFormat(match[1].trim());

        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            var temp = missingInterpolationHandler(str, match, options);
            value = typeof temp === 'string' ? temp : '';
          } else {
            this.logger.warn("missed to pass in variable ".concat(match[1], " for interpolating ").concat(str));
            value = '';
          }
        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {
          value = makeString(value);
        }

        str = str.replace(match[0], regexSafe(value));
        this.regexpUnescape.lastIndex = 0;
        replaces++;

        if (replaces >= this.maxReplaces) {
          break;
        }
      }

      replaces = 0; // regular escape on demand

      while (match = this.regexp.exec(str)) {
        value = handleFormat(match[1].trim());

        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            var _temp = missingInterpolationHandler(str, match, options);

            value = typeof _temp === 'string' ? _temp : '';
          } else {
            this.logger.warn("missed to pass in variable ".concat(match[1], " for interpolating ").concat(str));
            value = '';
          }
        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {
          value = makeString(value);
        }

        value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);
        str = str.replace(match[0], value);
        this.regexp.lastIndex = 0;
        replaces++;

        if (replaces >= this.maxReplaces) {
          break;
        }
      }

      return str;
    }
  }, {
    key: "nest",
    value: function nest(str, fc) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var match;
      var value;

      var clonedOptions = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, options);

      clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup

      delete clonedOptions.defaultValue; // assert we do not get a endless loop on interpolating defaultValue again and again
      // if value is something like "myKey": "lorem $(anotherKey, { "count": {{aValueInOptions}} })"

      function handleHasOptions(key, inheritedOptions) {
        if (key.indexOf(',') < 0) return key;
        var p = key.split(',');
        key = p.shift();
        var optionsString = p.join(',');
        optionsString = this.interpolate(optionsString, clonedOptions);
        optionsString = optionsString.replace(/'/g, '"');

        try {
          clonedOptions = JSON.parse(optionsString);
          if (inheritedOptions) clonedOptions = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, inheritedOptions, clonedOptions);
        } catch (e) {
          this.logger.error("failed parsing options string in nesting for key ".concat(key), e);
        } // assert we do not get a endless loop on interpolating defaultValue again and again


        delete clonedOptions.defaultValue;
        return key;
      } // regular escape on demand


      while (match = this.nestingRegexp.exec(str)) {
        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions); // is only the nesting key (key1 = '$(key2)') return the value without stringify

        if (value && match[0] === str && typeof value !== 'string') return value; // no string to include or empty

        if (typeof value !== 'string') value = makeString(value);

        if (!value) {
          this.logger.warn("missed to resolve ".concat(match[1], " for nesting ").concat(str));
          value = '';
        } // Nested keys should not be escaped by default #854
        // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);


        str = str.replace(match[0], value);
        this.regexp.lastIndex = 0;
      }

      return str;
    }
  }]);

  return Interpolator;
}();

function remove(arr, what) {
  var found = arr.indexOf(what);

  while (found !== -1) {
    arr.splice(found, 1);
    found = arr.indexOf(what);
  }
}

var Connector =
/*#__PURE__*/
function (_EventEmitter) {
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__babel_runtime_helpers_esm_inherits__["a" /* default */])(Connector, _EventEmitter);

  function Connector(backend, store, services) {
    var _this;

    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, Connector);

    _this = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_esm_possibleConstructorReturn__["a" /* default */])(this, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__babel_runtime_helpers_esm_getPrototypeOf__["a" /* default */])(Connector).call(this));
    EventEmitter.call(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__babel_runtime_helpers_esm_assertThisInitialized__["a" /* default */])(_this)); // <=IE10 fix (unable to call parent constructor)

    _this.backend = backend;
    _this.store = store;
    _this.services = services;
    _this.languageUtils = services.languageUtils;
    _this.options = options;
    _this.logger = baseLogger.create('backendConnector');
    _this.state = {};
    _this.queue = [];

    if (_this.backend && _this.backend.init) {
      _this.backend.init(services, options.backend, options);
    }

    return _this;
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(Connector, [{
    key: "queueLoad",
    value: function queueLoad(languages, namespaces, options, callback) {
      var _this2 = this;

      // find what needs to be loaded
      var toLoad = [];
      var pending = [];
      var toLoadLanguages = [];
      var toLoadNamespaces = [];
      languages.forEach(function (lng) {
        var hasAllNamespaces = true;
        namespaces.forEach(function (ns) {
          var name = "".concat(lng, "|").concat(ns);

          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {
            _this2.state[name] = 2; // loaded
          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {
            if (pending.indexOf(name) < 0) pending.push(name);
          } else {
            _this2.state[name] = 1; // pending

            hasAllNamespaces = false;
            if (pending.indexOf(name) < 0) pending.push(name);
            if (toLoad.indexOf(name) < 0) toLoad.push(name);
            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);
          }
        });
        if (!hasAllNamespaces) toLoadLanguages.push(lng);
      });

      if (toLoad.length || pending.length) {
        this.queue.push({
          pending: pending,
          loaded: {},
          errors: [],
          callback: callback
        });
      }

      return {
        toLoad: toLoad,
        pending: pending,
        toLoadLanguages: toLoadLanguages,
        toLoadNamespaces: toLoadNamespaces
      };
    }
  }, {
    key: "loaded",
    value: function loaded(name, err, data) {
      var _name$split = name.split('|'),
          _name$split2 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__babel_runtime_helpers_esm_slicedToArray__["a" /* default */])(_name$split, 2),
          lng = _name$split2[0],
          ns = _name$split2[1];

      if (err) this.emit('failedLoading', lng, ns, err);

      if (data) {
        this.store.addResourceBundle(lng, ns, data);
      } // set loaded


      this.state[name] = err ? -1 : 2; // consolidated loading done in this run - only emit once for a loaded namespace

      var loaded = {}; // callback if ready

      this.queue.forEach(function (q) {
        pushPath(q.loaded, [lng], ns);
        remove(q.pending, name);
        if (err) q.errors.push(err);

        if (q.pending.length === 0 && !q.done) {
          // only do once per loaded -> this.emit('loaded', q.loaded);
          Object.keys(q.loaded).forEach(function (l) {
            if (!loaded[l]) loaded[l] = [];

            if (q.loaded[l].length) {
              q.loaded[l].forEach(function (ns) {
                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);
              });
            }
          });
          /* eslint no-param-reassign: 0 */

          q.done = true;

          if (q.errors.length) {
            q.callback(q.errors);
          } else {
            q.callback();
          }
        }
      }); // emit consolidated loaded event

      this.emit('loaded', loaded); // remove done load requests

      this.queue = this.queue.filter(function (q) {
        return !q.done;
      });
    }
  }, {
    key: "read",
    value: function read(lng, ns, fcName) {
      var _this3 = this;

      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;
      var callback = arguments.length > 5 ? arguments[5] : undefined;
      if (!lng.length) return callback(null, {}); // noting to load

      return this.backend[fcName](lng, ns, function (err, data) {
        if (err && data
        /* = retryFlag */
        && tried < 5) {
          setTimeout(function () {
            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);
          }, wait);
          return;
        }

        callback(err, data);
      });
    }
    /* eslint consistent-return: 0 */

  }, {
    key: "prepareLoading",
    value: function prepareLoading(languages, namespaces) {
      var _this4 = this;

      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var callback = arguments.length > 3 ? arguments[3] : undefined;

      if (!this.backend) {
        this.logger.warn('No backend was added via i18next.use. Will not load resources.');
        return callback && callback();
      }

      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);
      if (typeof namespaces === 'string') namespaces = [namespaces];
      var toLoad = this.queueLoad(languages, namespaces, options, callback);

      if (!toLoad.toLoad.length) {
        if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now

        return null; // pendings will trigger callback
      }

      toLoad.toLoad.forEach(function (name) {
        _this4.loadOne(name);
      });
    }
  }, {
    key: "load",
    value: function load(languages, namespaces, callback) {
      this.prepareLoading(languages, namespaces, {}, callback);
    }
  }, {
    key: "reload",
    value: function reload(languages, namespaces, callback) {
      this.prepareLoading(languages, namespaces, {
        reload: true
      }, callback);
    }
  }, {
    key: "loadOne",
    value: function loadOne(name) {
      var _this5 = this;

      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      var _name$split3 = name.split('|'),
          _name$split4 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__babel_runtime_helpers_esm_slicedToArray__["a" /* default */])(_name$split3, 2),
          lng = _name$split4[0],
          ns = _name$split4[1];

      this.read(lng, ns, 'read', null, null, function (err, data) {
        if (err) _this5.logger.warn("".concat(prefix, "loading namespace ").concat(ns, " for language ").concat(lng, " failed"), err);
        if (!err && data) _this5.logger.log("".concat(prefix, "loaded namespace ").concat(ns, " for language ").concat(lng), data);

        _this5.loaded(name, err, data);
      });
    }
  }, {
    key: "saveMissing",
    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};

      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
        this.logger.warn("did not save key \"".concat(key, "\" for namespace \"").concat(namespace, "\" as the namespace was not yet loaded"), 'This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        return;
      }

      if (this.backend && this.backend.create) {
        this.backend.create(languages, namespace, key, fallbackValue, null
        /* unused callback */
        , __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, options, {
          isUpdate: isUpdate
        }));
      } // write to store to avoid resending


      if (!languages || !languages[0]) return;
      this.store.addResource(languages[0], namespace, key, fallbackValue);
    }
  }]);

  return Connector;
}(EventEmitter);

function get() {
  return {
    debug: false,
    initImmediate: true,
    ns: ['translation'],
    defaultNS: ['translation'],
    fallbackLng: ['dev'],
    fallbackNS: false,
    // string or array of namespaces
    whitelist: false,
    // array with whitelisted languages
    nonExplicitWhitelist: false,
    load: 'all',
    // | currentOnly | languageOnly
    preload: false,
    // array with preload languages
    simplifyPluralSuffix: true,
    keySeparator: '.',
    nsSeparator: ':',
    pluralSeparator: '_',
    contextSeparator: '_',
    partialBundledLanguages: false,
    // allow bundling certain languages that are not remotely fetched
    saveMissing: false,
    // enable to send missing values
    updateMissing: false,
    // enable to update default values if different from translated value (only useful on initial development, or when keeping code as source of truth)
    saveMissingTo: 'fallback',
    // 'current' || 'all'
    saveMissingPlurals: true,
    // will save all forms not only singular key
    missingKeyHandler: false,
    // function(lng, ns, key, fallbackValue) -> override if prefer on handling
    missingInterpolationHandler: false,
    // function(str, match)
    postProcess: false,
    // string or array of postProcessor names
    postProcessPassResolved: false,
    // pass resolved object into 'options.i18nResolved' for postprocessor
    returnNull: true,
    // allows null value as valid translation
    returnEmptyString: true,
    // allows empty string value as valid translation
    returnObjects: false,
    joinArrays: false,
    // or string to join array
    returnedObjectHandler: false,
    // function(key, value, options) triggered if key returns object but returnObjects is set to false
    parseMissingKeyHandler: false,
    // function(key) parsed a key that was not found in t() before returning
    appendNamespaceToMissingKey: false,
    appendNamespaceToCIMode: false,
    overloadTranslationOptionHandler: function handle(args) {
      var ret = {};
      if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_esm_typeof__["a" /* default */])(args[1]) === 'object') ret = args[1];
      if (typeof args[1] === 'string') ret.defaultValue = args[1];
      if (typeof args[2] === 'string') ret.tDescription = args[2];

      if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_esm_typeof__["a" /* default */])(args[2]) === 'object' || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_esm_typeof__["a" /* default */])(args[3]) === 'object') {
        var options = args[3] || args[2];
        Object.keys(options).forEach(function (key) {
          ret[key] = options[key];
        });
      }

      return ret;
    },
    interpolation: {
      escapeValue: true,
      format: function format(value, _format, lng) {
        return value;
      },
      prefix: '{{',
      suffix: '}}',
      formatSeparator: ',',
      // prefixEscaped: '{{',
      // suffixEscaped: '}}',
      // unescapeSuffix: '',
      unescapePrefix: '-',
      nestingPrefix: '$t(',
      nestingSuffix: ')',
      // nestingPrefixEscaped: '$t(',
      // nestingSuffixEscaped: ')',
      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data
      maxReplaces: 1000 // max replaces to prevent endless loop

    }
  };
}
/* eslint no-param-reassign: 0 */

function transformOptions(options) {
  // create namespace object if namespace is passed in as string
  if (typeof options.ns === 'string') options.ns = [options.ns];
  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];
  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS]; // extend whitelist with cimode

  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {
    options.whitelist = options.whitelist.concat(['cimode']);
  }

  return options;
}

function noop() {}

var I18n =
/*#__PURE__*/
function (_EventEmitter) {
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__babel_runtime_helpers_esm_inherits__["a" /* default */])(I18n, _EventEmitter);

  function I18n() {
    var _this;

    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var callback = arguments.length > 1 ? arguments[1] : undefined;

    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_esm_classCallCheck__["a" /* default */])(this, I18n);

    _this = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_esm_possibleConstructorReturn__["a" /* default */])(this, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__babel_runtime_helpers_esm_getPrototypeOf__["a" /* default */])(I18n).call(this));
    EventEmitter.call(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__babel_runtime_helpers_esm_assertThisInitialized__["a" /* default */])(_this)); // <=IE10 fix (unable to call parent constructor)

    _this.options = transformOptions(options);
    _this.services = {};
    _this.logger = baseLogger;
    _this.modules = {
      external: []
    };

    if (callback && !_this.isInitialized && !options.isClone) {
      // https://github.com/i18next/i18next/issues/879
      if (!_this.options.initImmediate) {
        _this.init(options, callback);

        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_esm_possibleConstructorReturn__["a" /* default */])(_this, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__babel_runtime_helpers_esm_assertThisInitialized__["a" /* default */])(_this));
      }

      setTimeout(function () {
        _this.init(options, callback);
      }, 0);
    }

    return _this;
  }

  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__babel_runtime_helpers_esm_createClass__["a" /* default */])(I18n, [{
    key: "init",
    value: function init() {
      var _this2 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 ? arguments[1] : undefined;

      if (typeof options === 'function') {
        callback = options;
        options = {};
      }

      this.options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, get(), this.options, transformOptions(options));
      this.format = this.options.interpolation.format;
      if (!callback) callback = noop;

      function createClassOnDemand(ClassOrObject) {
        if (!ClassOrObject) return null;
        if (typeof ClassOrObject === 'function') return new ClassOrObject();
        return ClassOrObject;
      } // init services


      if (!this.options.isClone) {
        if (this.modules.logger) {
          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
        } else {
          baseLogger.init(null, this.options);
        }

        var lu = new LanguageUtil(this.options);
        this.store = new ResourceStore(this.options.resources, this.options);
        var s = this.services;
        s.logger = baseLogger;
        s.resourceStore = this.store;
        s.languageUtils = lu;
        s.pluralResolver = new PluralResolver(lu, {
          prepend: this.options.pluralSeparator,
          compatibilityJSON: this.options.compatibilityJSON,
          simplifyPluralSuffix: this.options.simplifyPluralSuffix
        });
        s.interpolator = new Interpolator(this.options);
        s.utils = {
          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
        };
        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options); // pipe events from backendConnector

        s.backendConnector.on('*', function (event) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }

          _this2.emit.apply(_this2, [event].concat(args));
        });

        if (this.modules.languageDetector) {
          s.languageDetector = createClassOnDemand(this.modules.languageDetector);
          s.languageDetector.init(s, this.options.detection, this.options);
        }

        if (this.modules.i18nFormat) {
          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
          if (s.i18nFormat.init) s.i18nFormat.init(this);
        }

        this.translator = new Translator(this.services, this.options); // pipe events from translator

        this.translator.on('*', function (event) {
          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            args[_key2 - 1] = arguments[_key2];
          }

          _this2.emit.apply(_this2, [event].concat(args));
        });
        this.modules.external.forEach(function (m) {
          if (m.init) m.init(_this2);
        });
      } // append api


      var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
      storeApi.forEach(function (fcName) {
        _this2[fcName] = function () {
          var _this2$store;

          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);
        };
      });
      var deferred = defer();

      var load = function load() {
        _this2.changeLanguage(_this2.options.lng, function (err, t) {
          _this2.isInitialized = true;

          _this2.logger.log('initialized', _this2.options);

          _this2.emit('initialized', _this2.options);

          deferred.resolve(t); // not rejecting on err (as err is only a loading translation failed warning)

          callback(err, t);
        });
      };

      if (this.options.resources || !this.options.initImmediate) {
        load();
      } else {
        setTimeout(load, 0);
      }

      return deferred;
    }
    /* eslint consistent-return: 0 */

  }, {
    key: "loadResources",
    value: function loadResources() {
      var _this3 = this;

      var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;

      if (!this.options.resources || this.options.partialBundledLanguages) {
        if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode

        var toLoad = [];

        var append = function append(lng) {
          if (!lng) return;

          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);

          lngs.forEach(function (l) {
            if (toLoad.indexOf(l) < 0) toLoad.push(l);
          });
        };

        if (!this.language) {
          // at least load fallbacks in this case
          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
          fallbacks.forEach(function (l) {
            return append(l);
          });
        } else {
          append(this.language);
        }

        if (this.options.preload) {
          this.options.preload.forEach(function (l) {
            return append(l);
          });
        }

        this.services.backendConnector.load(toLoad, this.options.ns, callback);
      } else {
        callback(null);
      }
    }
  }, {
    key: "reloadResources",
    value: function reloadResources(lngs, ns, callback) {
      var deferred = defer();
      if (!lngs) lngs = this.languages;
      if (!ns) ns = this.options.ns;
      if (!callback) callback = noop;
      this.services.backendConnector.reload(lngs, ns, function (err) {
        deferred.resolve(); // not rejecting on err (as err is only a loading translation failed warning)

        callback(err);
      });
      return deferred;
    }
  }, {
    key: "use",
    value: function use(module) {
      if (module.type === 'backend') {
        this.modules.backend = module;
      }

      if (module.type === 'logger' || module.log && module.warn && module.error) {
        this.modules.logger = module;
      }

      if (module.type === 'languageDetector') {
        this.modules.languageDetector = module;
      }

      if (module.type === 'i18nFormat') {
        this.modules.i18nFormat = module;
      }

      if (module.type === 'postProcessor') {
        postProcessor.addPostProcessor(module);
      }

      if (module.type === '3rdParty') {
        this.modules.external.push(module);
      }

      return this;
    }
  }, {
    key: "changeLanguage",
    value: function changeLanguage(lng, callback) {
      var _this4 = this;

      var deferred = defer();
      this.emit('languageChanging', lng);

      var done = function done(err, l) {
        _this4.translator.changeLanguage(l);

        if (l) {
          _this4.emit('languageChanged', l);

          _this4.logger.log('languageChanged', l);
        }

        deferred.resolve(function () {
          return _this4.t.apply(_this4, arguments);
        });
        if (callback) callback(err, function () {
          return _this4.t.apply(_this4, arguments);
        });
      };

      var setLng = function setLng(l) {
        if (l) {
          _this4.language = l;
          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);
          if (!_this4.translator.language) _this4.translator.changeLanguage(l);
          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);
        }

        _this4.loadResources(function (err) {
          done(err, l);
        });
      };

      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
        setLng(this.services.languageDetector.detect());
      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
        this.services.languageDetector.detect(setLng);
      } else {
        setLng(lng);
      }

      return deferred;
    }
  }, {
    key: "getFixedT",
    value: function getFixedT(lng, ns) {
      var _this5 = this;

      var fixedT = function fixedT(key, opts) {
        var options;

        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_helpers_esm_typeof__["a" /* default */])(opts) !== 'object') {
          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
            rest[_key3 - 2] = arguments[_key3];
          }

          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));
        } else {
          options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, opts);
        }

        options.lng = options.lng || fixedT.lng;
        options.lngs = options.lngs || fixedT.lngs;
        options.ns = options.ns || fixedT.ns;
        return _this5.t(key, options);
      };

      if (typeof lng === 'string') {
        fixedT.lng = lng;
      } else {
        fixedT.lngs = lng;
      }

      fixedT.ns = ns;
      return fixedT;
    }
  }, {
    key: "t",
    value: function t() {
      var _this$translator;

      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);
    }
  }, {
    key: "exists",
    value: function exists() {
      var _this$translator2;

      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);
    }
  }, {
    key: "setDefaultNamespace",
    value: function setDefaultNamespace(ns) {
      this.options.defaultNS = ns;
    }
  }, {
    key: "hasLoadedNamespace",
    value: function hasLoadedNamespace(ns) {
      var _this6 = this;

      if (!this.isInitialized) {
        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
        return false;
      }

      if (!this.languages || !this.languages.length) {
        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
        return false;
      }

      var lng = this.languages[0];
      var fallbackLng = this.options ? this.options.fallbackLng : false;
      var lastLng = this.languages[this.languages.length - 1]; // we're in cimode so this shall pass

      if (lng.toLowerCase() === 'cimode') return true;

      var loadNotPending = function loadNotPending(l, n) {
        var loadState = _this6.services.backendConnector.state["".concat(l, "|").concat(n)];

        return loadState === -1 || loadState === 2;
      }; // loaded -> SUCCESS


      if (this.hasResourceBundle(lng, ns)) return true; // were not loading at all -> SEMI SUCCESS

      if (!this.services.backendConnector.backend) return true; // failed loading ns - but at least fallback is not pending -> SEMI SUCCESS

      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
      return false;
    }
  }, {
    key: "loadNamespaces",
    value: function loadNamespaces(ns, callback) {
      var _this7 = this;

      var deferred = defer();

      if (!this.options.ns) {
        callback && callback();
        return Promise.resolve();
      }

      if (typeof ns === 'string') ns = [ns];
      ns.forEach(function (n) {
        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);
      });
      this.loadResources(function (err) {
        deferred.resolve();
        if (callback) callback(err);
      });
      return deferred;
    }
  }, {
    key: "loadLanguages",
    value: function loadLanguages(lngs, callback) {
      var deferred = defer();
      if (typeof lngs === 'string') lngs = [lngs];
      var preloaded = this.options.preload || [];
      var newLngs = lngs.filter(function (lng) {
        return preloaded.indexOf(lng) < 0;
      }); // Exit early if all given languages are already preloaded

      if (!newLngs.length) {
        if (callback) callback();
        return Promise.resolve();
      }

      this.options.preload = preloaded.concat(newLngs);
      this.loadResources(function (err) {
        deferred.resolve();
        if (callback) callback(err);
      });
      return deferred;
    }
  }, {
    key: "dir",
    value: function dir(lng) {
      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;
      if (!lng) return 'rtl';
      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];
      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';
    }
    /* eslint class-methods-use-this: 0 */

  }, {
    key: "createInstance",
    value: function createInstance() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 ? arguments[1] : undefined;
      return new I18n(options, callback);
    }
  }, {
    key: "cloneInstance",
    value: function cloneInstance() {
      var _this8 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;

      var mergedOptions = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__babel_runtime_helpers_esm_objectSpread__["a" /* default */])({}, this.options, options, {
        isClone: true
      });

      var clone = new I18n(mergedOptions);
      var membersToCopy = ['store', 'services', 'language'];
      membersToCopy.forEach(function (m) {
        clone[m] = _this8[m];
      });
      clone.translator = new Translator(clone.services, clone.options);
      clone.translator.on('*', function (event) {
        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
          args[_key4 - 1] = arguments[_key4];
        }

        clone.emit.apply(clone, [event].concat(args));
      });
      clone.init(mergedOptions, callback);
      clone.translator.options = clone.options; // sync options

      return clone;
    }
  }]);

  return I18n;
}(EventEmitter);

var i18next = new I18n();

/* harmony default export */ __webpack_exports__["a"] = (i18next);


/***/ }),
/* 142 */
/***/ (function(module, exports) {

module.exports = {
	"core": {}
};

/***/ }),
/* 143 */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./2D.ts": 10,
	"./ajax.ts": 9,
	"./atom/index.ts": 93,
	"./behavior.ts": 94,
	"./data.ts": 19,
	"./datatype.ts": 3,
	"./event.ts": 5,
	"./extensions.ts": 24,
	"./geom/index.ts": 25,
	"./graph/index.ts": 46,
	"./i18n/index.ts": 95,
	"./idtype/index.ts": 4,
	"./index.ts": 2,
	"./iterator.ts": 26,
	"./layout.ts": 102,
	"./layout_view.ts": 103,
	"./math.ts": 11,
	"./matrix/index.ts": 104,
	"./multiform/index.ts": 114,
	"./phovea.ts": 55,
	"./plugin.ts": 7,
	"./provenance/index.ts": 117,
	"./range/index.ts": 1,
	"./security.ts": 22,
	"./session.ts": 63,
	"./stratification/index.ts": 121,
	"./sync/index.ts": 126,
	"./table/index.ts": 128,
	"./vector/index.ts": 135,
	"./vis.ts": 28,
	"./wrapper.ts": 140
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 143;

/***/ }),
/* 144 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(74);
__webpack_require__(72);
__webpack_require__(73);
module.exports = __webpack_require__(71);


/***/ })
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA1OTYxY2YyMjY3ZjY4YWI1YzdhYSIsIndlYnBhY2s6Ly8vLi9+L3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmFuZ2UvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhdHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWR0eXBlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9ldmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGgvZ3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJuYWwvcHJvbWlzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYWpheC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvMkQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZlY3Rvci9BVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9nZW9tL0FTaGFwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWR0eXBlL0lJRFR5cGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dlb20vQ2lyY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9nZW9tL1JlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lkdHlwZS9JRFR5cGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JhbmdlL1JhbmdlMUQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoL0dyYXBoQmFzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvdmVuYW5jZS9Qcm92ZW5hbmNlR3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlY3VyaXR5LnRzIiwid2VicGFjazovLy8uL3NyYy92ZWN0b3IvaW50ZXJuYWwvQU5hbWVWZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4dGVuc2lvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dlb20vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2l0ZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9tdWx0aWZvcm0vaW50ZXJuYWwvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Zpcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGgvTG9jYWxTdG9yYWdlR3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoL01lbW9yeUdyYXBoLnRzIiwid2VicGFjazovLy8uL3NyYy9pZHR5cGUvUHJvZHVjdElEVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJuYWwvUHJvcGVydHlIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tdWx0aWZvcm0vSU11bHRpRm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvdmVuYW5jZS9PYmplY3ROb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9yYW5nZS9Db21wb3NpdGVSYW5nZTFELnRzIiwid2VicGFjazovLy8uL3NyYy9yYW5nZS9SYW5nZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmFuZ2UvUmFuZ2UxREdyb3VwLnRzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovLy8uL3NyYy9hdG9tL0F0b20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dlb20vRWxsaXBzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2VvbS9MaW5lLnRzIiwid2VicGFjazovLy8uL3NyYy9nZW9tL1BvbHlnb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoL0dyYXBoUHJveHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoL1JlbW90ZVN0b3JhZ2VHcmFwaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGgvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lkdHlwZS9BUHJvZHVjdFNlbGVjdEFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lkdHlwZS9BU2VsZWN0QWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWR0eXBlL21hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ludGVybmFsL0hhc2hQcm9wZXJ0aWVzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC91bmlxdWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdHJpeC9BTWF0cml4LnRzIiwid2VicGFjazovLy8uL3NyYy9tYXRyaXgvSU1hdHJpeC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0cml4L01hdHJpeC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGhvdmVhLnRzIiwid2VicGFjazovLy8uL3NyYy9wcm92ZW5hbmNlL0FjdGlvbk5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Byb3ZlbmFuY2UvTG9jYWxTdG9yYWdlUHJvdmVuYW5jZUdyYXBoTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvdmVuYW5jZS9SZW1vdGVTdG9yYWdlUHJvdmVuYW5jZUdyYXBoTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvdmVuYW5jZS9TbGlkZU5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Byb3ZlbmFuY2UvU3RhdGVOb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9yYW5nZS9pbnRlcm5hbC9SYW5nZUVsZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JhbmdlL2ludGVybmFsL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXNzaW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zdHJhdGlmaWNhdGlvbi9JU3RyYXRpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmF0aWZpY2F0aW9uL1N0cmF0aWZpY2F0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zdHJhdGlmaWNhdGlvbi9TdHJhdGlmaWNhdGlvbkdyb3VwLnRzIiwid2VicGFjazovLy8uL3NyYy9zeW5jL1RhYlN5bmNlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGFibGUvQVRhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy90YWJsZS9UYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yL1ZlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL3RtcC9idWlsZEluZm9hczVwMmY3ay50eHQiLCJ3ZWJwYWNrOi8vLy90bXAvbWV0YURhdGFnejNhZXg0Yi50eHQiLCJ3ZWJwYWNrOi8vLy4vcGhvdmVhX3JlZ2lzdHJ5LmpzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly8vLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkLmpzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovLy8uL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovLy8uL3NyYy9hdG9tL0FBdG9tLnRzIiwid2VicGFjazovLy8uL3NyYy9hdG9tL0lBdG9tLnRzIiwid2VicGFjazovLy8uL3NyYy9hdG9tL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9iZWhhdmlvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaTE4bi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWR0eXBlL0xvY2FsSURBc3NpZ25lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWR0eXBlL09iamVjdE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ludGVybmFsL0lkUG9vbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJuYWwvUmVtb3ZlTm9kZU9ic2VydmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC9hcnJheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJuYWwvZG5kLnRzIiwid2VicGFjazovLy8uL3NyYy9sYXlvdXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xheW91dF92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9tYXRyaXgvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdHJpeC9pbnRlcm5hbC9NYXRyaXhDb2x1bW5OYW1lVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXRyaXgvaW50ZXJuYWwvTWF0cml4Um93TmFtZVZlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0cml4L2ludGVybmFsL1Byb2plY3RlZFZlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0cml4L2ludGVybmFsL1NsaWNlQ29sVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXRyaXgvaW50ZXJuYWwvU2xpY2VSb3dWZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdHJpeC9pbnRlcm5hbC9UcmFuc3Bvc2VkTWF0cml4LnRzIiwid2VicGFjazovLy8uL3NyYy9tYXRyaXgvbG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tdWx0aWZvcm0vTXVsdGlGb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9tdWx0aWZvcm0vTXVsdGlGb3JtR3JpZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbXVsdGlmb3JtL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9tdWx0aWZvcm0vaW50ZXJuYWwvR3JpZEVsZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Byb3ZlbmFuY2UvTWl4ZWRTdG9yYWdlUHJvdmVuYW5jZUdyYXBoTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJvdmVuYW5jZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmFuZ2UvaW50ZXJuYWwvU2luZ2xlUmFuZ2VFbGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9yYW5nZS9wYXJzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmF0aWZpY2F0aW9uL1N0cmF0aWZpY2F0aW9uVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9zdHJhdGlmaWNhdGlvbi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyYXRpZmljYXRpb24vaW50ZXJuYWwvU3RyYXRpZmljYXRpb25OYW1lVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9zdHJhdGlmaWNhdGlvbi9sb2FkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5bmMvU2VsZWN0aW9uU3luY2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9zeW5jL1N0b3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9zeW5jL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy90YWJsZS9JVGFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RhYmxlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy90YWJsZS9pbnRlcm5hbC9NdWx0aVRhYmxlVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy90YWJsZS9pbnRlcm5hbC9UYWJsZU5hbWVWZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RhYmxlL2ludGVybmFsL1RhYmxlVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy90YWJsZS9pbnRlcm5hbC9WZWN0b3JUYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGFibGUvbG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy92ZWN0b3IvSVZlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92ZWN0b3IvaW50ZXJuYWwvUHJvamVjdGVkQXRvbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yL2ludGVybmFsL1N0cmF0aWZpY2F0aW9uVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy92ZWN0b3IvaW50ZXJuYWwvVmVjdG9yTmFtZVZlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVjdG9yL2xvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvd3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9+L2kxOG5leHQvZGlzdC9lc20vaTE4bmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2xvY2FsZXMvZW4vcGhvdmVhLmpzb24iLCJ3ZWJwYWNrOi8vL2ludGVybmFsKSgoW15fXVtcXHddKyl8KFxcdytcXC9pbmRleCkpXFwudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbURBQTJDLGNBQWM7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoRUE7QUFBQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDL0UscUJBQXFCLHVEQUF1RDs7QUFFNUU7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBOztBQUVBO0FBQ0EsbUNBQW1D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Q0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckIsSUFBTSxHQUFHLEdBQUcsSUFBSSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckMsSUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdELElBQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsSUFBTSxJQUFJLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakgsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLEtBQWdCLFVBQUssRUFBTCxlQUFLLEVBQUwsbUJBQUssRUFBTCxJQUFLO1lBQWhCLElBQU0sQ0FBQztZQUNWLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNwQixJQUFNLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUNyRyxJQUFNLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMs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UUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixHQUFHLEdBQUcsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLEdBQUcsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixHQUFHLEdBQUcsSUFBSSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFL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QUFDO1FBQ3BCLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN2QixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2QsRUFBRSxHQUFHLElBQUksUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLElBQU0sSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDckIsSUFBTSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFNLEtBQUssR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3pjLEtBQWdCLFVBQUssRUFBTCxlQUFLLEVBQUwsbUJBQUssRUFBTCxJQUFLO1lBQWhCLElBQU0sQ0FBQztZQUNWLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNwQixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FB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QUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2IsR0FBRyxHQUFHLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLEdBQUcsR0FBRyxJQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixHQUFHLEdBQUcsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkIsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsR0FBRyxHQUFHLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDYixHQUFHLEdBQUcsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsR0FBRyxHQUFHLElBQUksUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFNLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoenRCLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDNUMsS0FBZ0IsVUFBSyxFQUFMLGVBQUssRUFBTCxtQkFBSyxFQUFMLElBQUs7WUFBaEIsSUFBTSxDQUFDO1lBQ1YsSUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDN0gsSUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDN0gsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDMUMsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDO2dCQUN2QixVQUFVLEVBQUMsS0FBb0IsVUFBTSxFQUFOLGlCQUFNLEVBQU4sb0JBQU0sRUFBTixJQUFNO29CQUFyQixJQUFNLEtBQUs7b0JBQ3pCLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksQ0FBQyxFQUFFO3dCQUM1QixLQUFvQixVQUFNLEVBQU4saUJBQU0sRUFBTixvQkFBTSxFQUFOLElBQU07NEJBQXJCLElBQU0sS0FBSzs0QkFDZCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLFNBQVMsRUFBRTtnQ0FDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQ25HLE1BQU0sVUFBVSxDQUFDOzZCQUNsQjt5QkFDRjtxQkFDRjtpQkFDRjthQUNGO1NBQ0Y7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRU0sbUNBQXNCLEdBQTdCLFVBQThCLEVBQVksRUFBRSxFQUFZLEVBQUUsRUFBWSxFQUFFLEVBQVksRUFBRSxDQUFXLEVBQUUsQ0FBUztRQUMxRyxPQUFPLFlBQVksQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRU0sb0NBQXVCLEdBQTlCLFVBQStCLEVBQVksRUFBRSxFQUFZLEVBQUUsRUFBWSxFQUFFLEVBQVksRUFBRSxFQUFZLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDekgsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDZixJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUNuQixJQUFNLE1BQU0sR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ2xDLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkIsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixFQUFFLEdBQUcsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixFQUFFLEdBQUcsSUFBSSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBTSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFNLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQU0sSUFBSSxHQUFHLElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ25vQixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzVDLEtBQWdCLFVBQUssRUFBTCxlQUFLLEVBQUwsbUJBQUssRUFBTCxJQUFLO1lBQWhCLElBQU0sQ0FBQztZQUNWLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hHO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVNLGlDQUFvQixHQUEzQixVQUE0QixFQUFZLEVBQUUsRUFBWSxFQUFFLEVBQVksRUFBRSxFQUFZLEVBQUUsRUFBWSxFQUFFLEVBQVk7UUFDNUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDZixJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUNuQixJQUFJLEVBQUUsQ0FBQztRQUNQLElBQUksQ0FBQyxDQUFDO1FBQ04sSUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixJQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZCLElBQU0sTUFBTSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFDbEMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsRUFBRSxHQUFHLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2IsRUFBRSxHQUFHLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixDQUFDLEdBQUcsSUFBSSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQU0sS0FBSyxHQUFHLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FB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TSxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixJQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZCLElBQU0sUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLElBQU0sVUFBVSxHQUFHLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlDLElBQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ2hGLElBQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hGLElBQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2xGLElBQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2xGLElBQU0sTUFBTSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFDbEMsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsTUFB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QyxDQUFDLENBQUM7UUFDeEUsSUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLElBQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyRyxJQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2pDLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRTtZQUNiLE1BQU0sR0FBRyxJQUFJLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUN0QzthQUFNLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtZQUN0QixNQUFNLEdBQUcsSUFBSSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDdEM7YUFBTTtZQUNMLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDM0IsSUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMs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QUMzRyxJQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUM3SixJQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUM3SixJQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDaEMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLElBQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMs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QUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JDLElBQU0sSUFBSSxHQUFHLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLElBQU0sS0FBSyxHQUFHLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25FLElBQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEIsSUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNuQyxJQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ1QsTUFBTSxHQUFHLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3RDO2FBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ2hCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsSUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDM0IsSUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFD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QUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUUsSUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRSxJQUFNLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pFLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtZQUNaLElBQU0sRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7WUFDcEIsSUFBTSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUNwQixJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQzVDLE1BQU0sR0FBRyxJQUFJLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsR0FB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QUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFNLFFBQVEsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQU0sU0FBUyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDMUIsT0FBTyxJQUFJLFVBQVUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLFNBQVMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxRQUFRLEdBQUcsRUFBRSxHQUFHLFNBQVMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUs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S0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUM7WUFDekMsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMxQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFCLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQztZQUN2QixJQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RCxJQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QyxJQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdDLElBQU0sTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7WUFDekIsSUFBTSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUN6QixJQUFNLE1BQU0sR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBRSxHQUFHLENBQUUsTUFBTSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0QsSUFBSSxNQUFjLENBQUM7WUFDbkIsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUNkLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMzQixFQUFFLElBQUksTUFBTSxDQUFDO2dCQUNiLEVBQUUsSUFBSSxNQUFNLENBQUM7YUFDZDtZQUNELElBQU0sSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFDckIsSUFBTSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNy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SSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7WUFDZCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7U0FDaEQ7YUFBTTtZQUNMLElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDN0IsSUFBSSxDQUFDLElBQUksR0FBRyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTNELElBQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUM7WUFDN0IsSUFBTSxNQUFNLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDOUIsSUFBTSxZQUFZLEdBQUcsTUFBTSxHQUFHLE1BQU0sQ0FBQztZQUNyQyxJQUFNLEtBQUssR0FBRyxLQUFLLEdBQUcsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsT0FBTyxJQUFJLEtBQUssR0FBRyxZQUFZLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUN4SSxJQUFJLENBQUMsT0FBTyxJQUFJLEtBQUssR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFD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RSxDQUFDO1FBQ3BCLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQzdCLENBQUMsSUFBSSxDQUFDLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQztZQUN6QixFQUFFLElBQUksQ0FBQyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUM7WUFDMUIsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7U0FDdEY7UUFDRCxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNoQyxFQUFFLElBQUksQ0FBQyxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUM7WUFDN0IsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7U0FDNUY7UUFDRCxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUM5QixDQUFDLElBQUksQ0FBQyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUM7WUFDMUIsRUFBRSxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDO1lBQzNCLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLENB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QUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBLHVDQUF1Qzs7QUFFdkM7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RjtBQUN6Rix5RkFBeUY7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTs7QUFFdEU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1COztBQUVuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNElBQTBDOztBQUUxQywrQ0FBK0M7O0FBRS9DLHdDQUF3QztBQUN4QyxtRUFBbUUsWUFBWSxpQkFBaUIsRUFBRTs7QUFFbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtLQUFnRTtBQUNoRSxTQUFTO0FBQ1Q7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQSwrRkFBK0Y7O0FBRS9GLGlGQUFpRjs7QUFFakY7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsdUpBQXFEOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQztBQUNuQyxXQUFXLG1DQUFtQztBQUM5QztBQUNBLFdBQVc7QUFDWCxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7O0FBR1Asc0NBQXNDOztBQUV0QyxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTs7QUFFVCxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxFQUFFOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0M7O0FBRS9DLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEhBQTBCO0FBQzFCO0FBQ0EsU0FBUztBQUNULE9BQU87OztBQUdQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCO0FBQ0EsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGOztBQUV4RjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx1SkFBcUQ7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVJQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3SEFBd0g7O0FBRXhIO0FBQ0EsZ0dBQWdHLGFBQWE7QUFDN0c7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0VBQXNFOztBQUV0RTtBQUNBLG9HQUFvRyxlQUFlO0FBQ25IO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOzs7QUFHUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSw4QkFBOEI7O0FBRTlCO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHlGQUF5Rjs7QUFFekY7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9HQUFvRyxlQUFlO0FBQ25IO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Qsc0lBQW9DO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhEQUE4RDs7QUFFOUQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFFBQVE7OztBQUdSLHVEQUF1RDs7QUFFdkQsK0RBQStEOztBQUUvRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTs7QUFFVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0SUFBMEM7QUFDMUM7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxrR0FBa0csZUFBZTtBQUNqSDtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsK0NBQStDOztBQUUvQztBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7Ozs7Ozs7QUN4c0VBO0FBQ0E7QUFDQSxFOzs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0IiLCJmaWxlIjoicGhvdmVhX2NvcmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJjb3JlXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInBob3ZlYVwiXSA9IHJvb3RbXCJwaG92ZWFcIl0gfHwge30sIHJvb3RbXCJwaG92ZWFcIl1bXCJjb3JlXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE0NCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgNTk2MWNmMjI2N2Y2OGFiNWM3YWEiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IHlbb3BbMF0gJiAyID8gXCJyZXR1cm5cIiA6IG9wWzBdID8gXCJ0aHJvd1wiIDogXCJuZXh0XCJdKSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFswLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyAgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKG9bbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH07IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl07XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RzbGliL3RzbGliLmVzNi5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyNy4xMi4yMDE2LlxuICovXG5cbmltcG9ydCBSYW5nZTFEIGZyb20gJy4vUmFuZ2UxRCc7XG5pbXBvcnQgQ29tcG9zaXRlUmFuZ2UxRCBmcm9tICcuL0NvbXBvc2l0ZVJhbmdlMUQnO1xuaW1wb3J0IFJhbmdlMURHcm91cCBmcm9tICcuL1JhbmdlMURHcm91cCc7XG5pbXBvcnQge2FsbCwgZGVmYXVsdCBhcyBSYW5nZSwgbm9uZX0gZnJvbSAnLi9SYW5nZSc7XG5pbXBvcnQgcGFyc2VSYW5nZSBmcm9tICcuL3BhcnNlcic7XG5leHBvcnQge2RlZmF1bHQgYXMgUmFuZ2UsIGFsbCwgbm9uZX0gZnJvbSAnLi9SYW5nZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgUmFuZ2UxRH0gZnJvbSAnLi9SYW5nZTFEJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBDb21wb3NpdGVSYW5nZTFEfSBmcm9tICcuL0NvbXBvc2l0ZVJhbmdlMUQnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFJhbmdlMURHcm91cH0gZnJvbSAnLi9SYW5nZTFER3JvdXAnO1xuXG5cbi8qKlxuICogUmFuZ2VzIGRlZmluZSB3aGljaCBlbGVtZW50cyBvZiBhIGRhdGEgc3RydWN0dXJlIHNob3VsZCBiZSBjb25zaWRlcmVkLiBUaGV5IGFyZSB1c2VmdWwgZm9yIHNsaWNpbmcgdGhlIHJlbGV2YW50XG4gKiBhc3BlY3RzIG91dCBvZiBhIGRhdGFzZXQuIFJhbmdlcyBjYW4gYmUgZGVmaW5lZCB3aXRoIGZyb20vdG8vc3RlcCBvcGVyYXRvcnMgb3IgYnkgdXNpbmcgZXhwbGljaXQgaW5kaWNlcy5cbiAqXG4gKiBUaGUgY3VycmVudCByYW5nZSBpbXBsZW1lbnRhdGlvbiBhbHNvIHVuZGVyc3RhbmRzIHN0cmluZy1iYXNlZCByYW5nZSBkZWZpbml0aW9ucywgc3VjaCBhcyAnKDAsMTAsMiknLCB3aGljaCBhcmUsXG4gKiBob3dldmVyLCBkaXNjb3VyYWdlZCB0byBiZSB1c2VkIGJ5IGV4dGVybmFsIG1vZHVsZXMuXG4gKlxuICogUmFuZ2VzIGNhbiBiZSBkaXJlY3RseSBjcmVhdGVkIHVzaW5nIHRoZSBjb25zdHJ1Y3RvcnMsIG9yIGNhbiBiZSBjcmVhdGVkIHVzaW5nIHRoZSBoZWxwZXIgZnVuY3Rpb25zIGluIHRoaXMgZmlsZS5cbiAqXG4gKiBNYW55IGZ1bmN0aW9ucyBhbHNvIGFjY2VwdCBhIFJhbmdlTGlrZSB0aGF0IGlzIHBhcnNlZCBhdXRvbWF0aWNhbGx5IGludG8gYSBwcm9wZXIgcmFuZ2UuXG4gKi9cblxuXG4vKipcbiAqIFNvbWV0aGluZyB0aGF0IGNhbiBiZSBwYXJzZWQgYXMgYSByYW5nZTpcbiAqIEVpdGhlciBhIHByb3BlciByYW5nZSwgYW4gYXJyYXkgKG9mIGFuIGFycmF5KSBvZiBudW1iZXJzICh0cmVhdGVkIGFzIGluZGljZXMpLCBvciBhIHN0cmluZy4gU2VlIHBhcnNlci50cyBmb3JcbiAqIHJ1bGVzIG9uIHN0cmluZyByYW5nZXMuXG4gKi9cbmV4cG9ydCB0eXBlIFJhbmdlTGlrZSA9IFJhbmdlIHwgbnVtYmVyW10gfCBudW1iZXJbXVtdIHwgc3RyaW5nO1xuXG4vKipcbiAqIEludGVycHJldHMgdGhlIHBhcmFtZXRlciBvcHRpb25zIGFuZCByZXR1cm5zIGFuIGFwcHJvcHJpYXRlIHJhbmdlXG4gKlxuICogSWYgaXQgaXMgbnVsbCwgcmV0dXJucyBhIG5ldyByYW5nZSB3aXRoIGFsbCBlbGVtZW50cy5cbiAqIElmIHRoZSBSYW5nZUxpa2UgaXMgYSByYW5nZSwgdGhlbiB0aGUgcmFuZ2UgaXMgcmV0dXJuZWQgdW5jaGFuZ2VkLlxuICogSWYgaXQgaXMgYW4gYXJyYXksIHRoZSBudW1iZXJzIGluIHRoZSBhcnJheSBhcmUgdHJlYXRlZCBhcyBpbmRpY2VzIGZvciBhIHJhbmdlLlxuICogSWYgaXQgaXMgYSBzdHJpbmcsIHRoZSByYW5nZSBpcyBwYXJzZWQgYWNjb3JkaW5nIHRvIHRoZSBncmFtbWFyIGRlZmluZWQgaW4gcGFyc2VyLnRzXG4gKlxuICogQHBhcmFtIGFyYW5nZSBzb21ldGhpbmcgbGlrZSBhIHJhbmdlXG4gKiBAcmV0dXJucyB7UmFuZ2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShhcmFuZ2U6IFJhbmdlTGlrZSA9IG51bGwpIHtcbiAgaWYgKGFyYW5nZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBhbGwoKTtcbiAgfVxuICBpZiAoYXJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpIHtcbiAgICByZXR1cm4gPFJhbmdlPmFyYW5nZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhcmFuZ2UpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJhbmdlWzBdKSkge1xuICAgICAgcmV0dXJuIGxpc3QoLi4uPG51bWJlcltdW10+YXJhbmdlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3QoPG51bWJlcltdPmFyYW5nZSk7XG4gIH1cbiAgLy9qb2luIGdpdmVuIGFycmF5IGFzIHN0cmluZyBjb21iaW5lZCB3aXRoICxcbiAgcmV0dXJuIHBhcnNlUmFuZ2UoQXJyYXkuZnJvbShhcmd1bWVudHMpLm1hcChTdHJpbmcpLmpvaW4oJywnKSk7XG59XG5cblxuLyoqXG4gKiBBIGJhc2ljIGludGVyZmFjZSB1c2VkIHRvIGNvbnZlbmllbnRseSBjcmVhdGUgcmFuZ2VzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVJhbmdlU2xpY2Uge1xuICBmcm9tOiBudW1iZXI7XG4gIHRvPzogbnVtYmVyO1xuICBzdGVwPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcmFuZ2Ugc3RhcnRpbmcgYXQgZnJvbSBhbmQgb3B0aW9uYWxseSB1cCB0byAndG8nIGFuZCBvcHRpb25hbGx5IHdpdGggYSBzdGVwXG4gKiBAcGFyYW0gZnJvbSB0aGUgaW5kZXggd2hlcmUgdGhlIHJhbmdlIHN0YXJ0cyAoaW5jbHVkZWQpXG4gKiBAcGFyYW0gdG8gdGhlIGluZGV4IHdoZXJlIHRoZSByYW5nZSBlbmRzIChleGNsdWRlZCksIGRlZmF1bHRzIHRvIHRoZSBlbmQgb2YgdGhlIGRhdGEgc3RydWN0dXJlXG4gKiBAcGFyYW0gc3RlcCB0aGUgc3RlcCBzaXplLCBkZWZhdWx0cyB0byAxXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShmcm9tOiBudW1iZXIsIHRvPzogbnVtYmVyLCBzdGVwPzogbnVtYmVyKTogUmFuZ2U7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbXVsdGlkaW1lbnNpb25hbCByYW5nZSB1c2luZyBzdGVwIGZ1bmN0aW9ucy5cbiAqIEBwYXJhbSByYW5nZXMgRWFjaCBhcnJheSBjYW4gY29udGFpbiB1cCB0byB0aHJlZSBpbmRpY2VzLCB0aGUgZmlyc3QgaXMgcmVhZCBhcyAnZnJvbScsXG4gKiB0aGUgc2Vjb25kIGFzICd0bycgYW5kIHRoZSB0aGlyZCBhcyAnc3RlcCcuIElSYW5nZVNsaWNlIGV4cGxpY2l0bHkgZGVmaW5lcyBmcm9tL3RvL3N0ZXAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5nZSguLi5yYW5nZXM6IChudW1iZXJbXXxJUmFuZ2VTbGljZSlbXSk6IFJhbmdlO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJhbmdlIHRoYXQgaW5jbHVkZXMgYWxsIGVsZW1lbnRzIGluIHRoZSBkYXRhIHN0cnVjdHVyZVxuICogQHJldHVybnMge2FueX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKCkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhbGwoKTtcbiAgfVxuICBjb25zdCByID0gbmV3IFJhbmdlKCk7XG4gIGlmIChBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHsgLy9hcnJheSBtb2RlXG4gICAgQXJyYXkuZnJvbShhcmd1bWVudHMpLmZvckVhY2goKGFycjogbnVtYmVyW10sIGkpID0+IHtcbiAgICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHIuZGltKGkpLnNldFNsaWNlKGFyclswXSwgYXJyWzFdLCBhcnJbMl0pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHNbMF0pID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIC8vIHNsaWNlIG9iamVjdCBtb2RlXG4gICAgQXJyYXkuZnJvbShhcmd1bWVudHMpLmZvckVhY2goKHNsaWNlOiBJUmFuZ2VTbGljZSwgaSkgPT4ge1xuICAgICAgci5kaW0oaSkuc2V0U2xpY2Uoc2xpY2UuZnJvbSwgc2xpY2UudG8sIHNsaWNlLnN0ZXApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdudW1iZXInKSB7IC8vc2luZ2xlIHNsaWNlIG1vZGVcbiAgICByLmRpbSgwKS5zZXRTbGljZShhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJhbmdlIGZyb20gYSBsaXN0IG9mIGluZGljZXNcbiAqIEBwYXJhbSBkaW1zT3JJbmRpY2VzT3JJbmRleEFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0KC4uLmRpbXNPckluZGljZXNPckluZGV4QXJyYXk6IChSYW5nZTFEIHwgbnVtYmVyW10gfCBudW1iZXIpW10pOiBSYW5nZTtcbmV4cG9ydCBmdW5jdGlvbiBsaXN0KGRpbXM6IFJhbmdlMURbXSk6IFJhbmdlO1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3QoKTogUmFuZ2Uge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhbGwoKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pICYmIGFyZ3VtZW50c1swXVswXSBpbnN0YW5jZW9mIFJhbmdlMUQpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKGFyZ3VtZW50c1swXSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKSB7IC8vYXJyYXkgbW9kZVxuICAgIGNvbnN0IHIgPSBuZXcgUmFuZ2UoKTtcbiAgICBBcnJheS5mcm9tKGFyZ3VtZW50cykuZm9yRWFjaCgoYXJyOiBhbnksIGkpID0+IHtcbiAgICAgIGlmIChhcnIgaW5zdGFuY2VvZiBSYW5nZTFEKSB7XG4gICAgICAgIHIuZGltc1tpXSA9IGFycjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIuZGltKGkpLnNldExpc3QoYXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnbnVtYmVyJykgeyAvL3NpbmdsZSBzbGljZSBtb2RlXG4gICAgY29uc3QgciA9IG5ldyBSYW5nZSgpO1xuICAgIHIuZGltKDApLnNldExpc3QoQXJyYXkuZnJvbShhcmd1bWVudHMpKTtcbiAgICByZXR1cm4gcjtcbiAgfSBlbHNlIGlmIChhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBSYW5nZTFEKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShBcnJheS5mcm9tKGFyZ3VtZW50cykpO1xuICB9XG4gIHJldHVybiBub25lKCk7XG59XG5cbi8qKlxuICogSm9pbnMgdGhlIHNwZWNpZmllZCByYW5nZXMgaW50byBhIG11bHRpZGltZW5zaW9uYWwgcmFuZ2UuIElmIG5vIHJhbmdlcyBhcmUgcHJvdmlkZWQgYXMgcGFyYW1ldGVyLFxuICogcmV0dXJucyBhIG5ldyByYW5nZSB0aGF0IGluY2x1ZGVzIGFsbCBlbGVtZW50cy5cbiAqIEBwYXJhbSByYW5nZXMgdGhlIHJhbmdlcyB0byBiZSBqb2luZWQuIElmIHRoZSBzdXBwbGllZCByYW5nZSBpcyBhIG11bHRpZGltZW5zaW9uYWwgcmFuZ2UsXG4gKiB0aGVuIHRoZSBmaXJzdCBvbmUgaXMgdXNlZCwgdGhlIHJlc3QgaXMgaWdub3JlZC5cbiAqIEByZXR1cm4gYSBtdWx0aWRpbWVuc2lvbmFsIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gam9pbihyYW5nZXM6IFJhbmdlW10pOiBSYW5nZTtcbmV4cG9ydCBmdW5jdGlvbiBqb2luKC4uLnJhbmdlczogUmFuZ2VbXSk6IFJhbmdlO1xuZXhwb3J0IGZ1bmN0aW9uIGpvaW4oKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGFsbCgpO1xuICB9XG4gIGxldCByYW5nZXMgPSBhcmd1bWVudHNbMF07XG4gIGlmICghQXJyYXkuaXNBcnJheShyYW5nZXMpKSB7IC8vYXJyYXkgbW9kZVxuICAgIHJhbmdlcyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcbiAgfVxuICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlcy5tYXAoKHI6IFJhbmdlKSA9PiByLmRpbSgwKSkpO1xufVxuXG4vKipcbiAqIFRPRE8gZG9jdW1lbnRcbiAqIEBwYXJhbSByYW5nZVxuICogQHJldHVybiB7UmFuZ2UxREdyb3VwfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNVbmdyb3VwZWQocmFuZ2U6IFJhbmdlMUQpIHtcbiAgcmV0dXJuIG5ldyBSYW5nZTFER3JvdXAoJ3VubmFtZWQnLCAnZ3JheScsIHJhbmdlKTtcbn1cblxuLyoqXG4gKiBUT0RPIGRvY3VtZW50XG4gKiBAcGFyYW0gbmFtZVxuICogQHBhcmFtIGdyb3Vwc1xuICogQHJldHVybiB7Q29tcG9zaXRlUmFuZ2UxRH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2l0ZShuYW1lOiBzdHJpbmcsIGdyb3VwczogUmFuZ2UxREdyb3VwW10pIHtcbiAgcmV0dXJuIG5ldyBDb21wb3NpdGVSYW5nZTFEKG5hbWUsIGdyb3Vwcyk7XG59XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhIHJhbmdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpcyhvYmo6IGFueSkge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUmFuZ2U7XG59XG5cbi8qKlxuICogVE9ETyBkb2N1bWVudFxuICogQHBhcmFtIGRpbUluZGljZXNcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlbGwoLi4uZGltSW5kaWNlczogbnVtYmVyW10pIHtcbiAgcmV0dXJuIG5ldyBSYW5nZShkaW1JbmRpY2VzLm1hcChSYW5nZTFELnNpbmdsZSkpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JhbmdlL2luZGV4LnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5leHBvcnQge2FyZ0ZpbHRlciwgYXJnTGlzdCwgYXJnU29ydCwgaW5kZXhPZiwgc2VhcmNofSBmcm9tICcuL2ludGVybmFsL2FycmF5JztcbmV4cG9ydCB7Y29weURuRCwgaGFzRG5EVHlwZSwgdXBkYXRlRHJvcEVmZmVjdCwgZHJhZ0FibGUsIGRyb3BBYmxlfSBmcm9tICcuL2ludGVybmFsL2RuZCc7XG5leHBvcnQge2ZsYWdJZCwgdW5pcXVlSWQsIHVuaXF1ZVN0cmluZ30gZnJvbSAnLi9pbnRlcm5hbC91bmlxdWUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIElkUG9vbH0gZnJvbSAnLi9pbnRlcm5hbC9JZFBvb2wnO1xuZXhwb3J0IHtyZXNvbHZlSW1tZWRpYXRlbHl9IGZyb20gJy4vaW50ZXJuYWwvcHJvbWlzZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgSGFzaFByb3BlcnRpZXN9IGZyb20gJy4vaW50ZXJuYWwvSGFzaFByb3BlcnRpZXMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFByb3BlcnR5SGFuZGxlcn0gZnJvbSAnLi9pbnRlcm5hbC9Qcm9wZXJ0eUhhbmRsZXInO1xuaW1wb3J0IFJlbW92ZU5vZGVPYnNlcnZlciBmcm9tICcuL2ludGVybmFsL1JlbW92ZU5vZGVPYnNlcnZlcic7XG5pbXBvcnQgSGFzaFByb3BlcnRpZXMgZnJvbSAnLi9pbnRlcm5hbC9IYXNoUHJvcGVydGllcyc7XG5pbXBvcnQgUHJvcGVydHlIYW5kbGVyIGZyb20gJy4vaW50ZXJuYWwvUHJvcGVydHlIYW5kbGVyJztcbmltcG9ydCB7X19leHRlbmRzfSBmcm9tICd0c2xpYic7XG5cbi8qKlxuICogdmVyc2lvbiBvZiB0aGUgY29yZVxuICovXG5kZWNsYXJlIGNvbnN0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IF9fVkVSU0lPTl9fO1xuXG4vKipcbiAqIHdoZXRoZXIgdGhlIHN0YW5kYXJkIGFwaSBjYWxscyBzaG91bGQgYmUgcHJldmVudGVkXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGxldCBvZmZsaW5lID0gZmFsc2U7XG5kZWNsYXJlIGNvbnN0IF9fQVBQX0NPTlRFWFRfXzogc3RyaW5nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXG4vKipcbiAqIHNlcnZlciBwcmVmaXggb2ZyIGFwaSBjYWxsc1xuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGxldCBzZXJ2ZXJfdXJsOiBzdHJpbmcgPSAoX19BUFBfQ09OVEVYVF9fIHx8ICcvJykgKyAnYXBpJztcbi8qKlxuICogc2VydmVyIHN1ZmZpeCBmb3IgYXBpIGNhbGxzXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgbGV0IHNlcnZlcl9qc29uX3N1ZmZpeDogc3RyaW5nID0gJyc7XG4vKiB0c2xpbnQ6ZW5hYmxlOnZhcmlhYmxlLW5hbWUgKi9cblxuLyoqXG4gKiBpbml0aWFsaXplcyBjZXJ0YWluIHByb3BlcnRpZXMgb2YgdGhlIGNvcmVcbiAqIEBwYXJhbSBjb25maWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXQoY29uZmlnOiB7b2ZmbGluZT86IGJvb2xlYW4sIHNlcnZlcl91cmw/OiBzdHJpbmcsIHNlcnZlcl9qc29uX3N1ZmZpeD86IHN0cmluZ30gPSB7fSkge1xuICBjb25maWcgPSBtaXhpbih7XG4gICAgb2ZmbGluZSxcbiAgICBzZXJ2ZXJfdXJsLFxuICAgIHNlcnZlcl9qc29uX3N1ZmZpeFxuICB9LCBjb25maWcpO1xuICBvZmZsaW5lID0gY29uZmlnLm9mZmxpbmU7XG4gIHNlcnZlcl91cmwgPSBjb25maWcuc2VydmVyX3VybDtcbiAgc2VydmVyX2pzb25fc3VmZml4ID0gY29uZmlnLnNlcnZlcl9qc29uX3N1ZmZpeDtcbn1cblxuLyoqXG4gKiBpbml0aWFsaXplcyBpdHNlbGYgYmFzZWQgb24gc2NyaXB0IGRhdGEgYXR0cmlidXRlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2luaXQoKSB7XG4gIGZ1bmN0aW9uIGZpbmQobmFtZTogc3RyaW5nLCBjYW1lbENhc2VOYW1lID0gbmFtZS5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKSkge1xuICAgIGNvbnN0IG5vZGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmRvY3VtZW50LmN1cnJlbnRTY3JpcHQgfHwgPEhUTUxFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFtkYXRhLXBob3ZlYS0ke25hbWV9XWApO1xuICAgIGlmICghbm9kZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUuZGF0YXNldFsncGhvdmVhJyArIGNhbWVsQ2FzZU5hbWVdO1xuICB9XG5cbiAgY29uc3QgY29uZmlnOiBhbnkgPSB7fTtcbiAgaWYgKCd0cnVlJyA9PT0gZmluZCgnb2ZmbGluZScpKSB7XG4gICAgY29uZmlnLm9mZmxpbmUgPSB0cnVlO1xuICB9XG4gIGxldCB2O1xuICBpZiAoKHYgPSBmaW5kKCdzZXJ2ZXItdXJsJywgJ1NlcnZlclVybCcpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uZmlnLnNlcnZlcl91cmwgPSB2O1xuICB9XG4gIGlmICgodiA9IGZpbmQoJ3NlcnZlci1qc29uLXN1ZmZpeCcsICdTZXJ2ZXJKc29uU3VmZml4JykpICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25maWcuc2VydmVyX2pzb25fc3VmZml4ID0gdjtcbiAgfVxuICAvL2luaXQgbXlzZWxmXG4gIGluaXQoY29uZmlnKTtcbn1cbl9pbml0KCk7XG5cbi8qKlxuICogaW50ZWdyYXRlIGIgaW50byBhIGFuZCBvdmVycmlkZSBhbGwgZHVwbGljYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBic1xuICogQHJldHVybnMge09iamVjdH0gYSB3aXRoIGV4dGVuZGVkIGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1peGluPFQsIFU+KGE6IFQsIGI6IFUsIC4uLmJzOiBhbnlbXSk6IFQgJiBVIHtcbiAgYnMudW5zaGlmdChiKTtcbiAgZnVuY3Rpb24gZXh0ZW5kKHI6IGFueSwgYjogYW55KSB7XG4gICAgT2JqZWN0LmtleXMoYikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB2ID0gYltrZXldO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgcltrZXldID0gKHJba2V5XSAhPSBudWxsKSA/IGV4dGVuZChyW2tleV0sIHYpIDogdjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJba2V5XSA9IHY7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBicy5mb3JFYWNoKChiKSA9PiB7XG4gICAgaWYgKGIpIHtcbiAgICAgIGEgPSBleHRlbmQoYSwgYik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIDxhbnk+YTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2Ugb2JqID09PSB1bmRlZmluZWQgZGlyZWN0bHlcbiAqIEBwYXJhbSBvYmpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZChvYmo6IGFueSkge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cblxuLy9maXhlcyBhIGphdmFzY3JpcHQgYnVnIG9uIHVzaW5nIFwiJVwiIHdpdGggbmVnYXRpdmUgbnVtYmVyc1xuZXhwb3J0IGZ1bmN0aW9uIG1vZChuOiBudW1iZXIsIG06IG51bWJlcikge1xuICByZXR1cm4gKChuICUgbSkgKyBtKSAlIG07XG59XG5cbi8qKlxuICogYmluZHMgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIHRoZSBnaXZlbiBjb250ZXh0IC8gdGhpcyBhcmdcbiAqIEBkZXByZWNhdGVkIHVzZSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBkaXJlY3RseVxuICogQHBhcmFtIGZcbiAqIEBwYXJhbSB0aGlzQXJnXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKTogYW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZChmOiAoKSA9PiBhbnksIHRoaXNBcmc6IGFueSwgLi4uYXJnczogYW55W10pIHtcbiAgcmV0dXJuIGYuYmluZCh0aGlzQXJnLCAuLi5hcmdzKTtcbn1cblxuLyoqXG4gKiBnZXR0ZXIgZ2VuZXJhdG9yIGJ5IG5hbWUgb3IgaW5kZXhcbiAqIEBkZXByZWNhdGVkIHRvbyBzaW1wbGUgdG8gd3JpdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldHRlciguLi5hdHRyOiAobnVtYmVyfHN0cmluZylbXSkge1xuICBpZiAoYXR0ci5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gKG9iajogYW55KSA9PiBvYmpbYXR0clswXV07XG4gIH1cbiAgcmV0dXJuIChvYmo6IGFueSkgPT4gYXR0ci5tYXAoKGEpID0+IG9ialthXSk7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIGB0eXBlb2YoZikgPT09ICdmdW5jdGlvbmBcbiAqIEBwYXJhbSBmXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihmOiBhbnkpIHtcbiAgcmV0dXJuIHR5cGVvZihmKSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2UgYChkKSA9PiBkYFxuICogaWRlbnRpdHkgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KGQ6IGFueSkge1xuICByZXR1cm4gZDtcbn1cblxuLyoqXG4gKiBhIGR1bW15IGZ1bmN0aW9uLCB3aGljaCBkb2VzIGV4YWN0bHkgbm90aGluZywgaS5lLiB1c2VkIGFzIGRlZmF1bHRcbiAqIEBkZXByZWNhdGVkIHVzZSBgKCk9PnVuZGVmaW5lZGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7XG4gIC8vbm8gb3Bcbn1cblxuLyoqXG4gKiBqdXN0IHJldHVybnMgdGhlIGFyZ3VtZW50IGluIGFueSBjYXNlXG4gKiBAZGVwcmVjYXRlZCB1c2UgYCgpID0+IHhgXG4gKiBAcGFyYW0gciAtIHRoZSB2YWx1ZSB0byByZXR1cm5cbiAqIEByZXR1cm5zIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RhbnQocjogYW55KSB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ2Jvb2xlYW4nICYmIHIgPT09IHRydWUpIHtcbiAgICByZXR1cm4gY29uc3RhbnRUcnVlO1xuICB9XG4gIGlmICh0eXBlb2YgciA9PT0gJ2Jvb2xlYW4nICYmIHIgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGNvbnN0YW50RmFsc2U7XG4gIH1cbiAgcmV0dXJuICgpID0+IHI7XG59XG5cbi8qKlxuICogc3BlY2lhbCBjb25zdGFudCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFsd2F5cyB0cnVlLCBpLmUuLCBhcyBhIGRlZmF1bHQgZm9yIGEgZmlsdGVyIGZ1bmN0aW9uXG4gKiBAZGVwcmVjYXRlZCB1c2UgKCk9PnRydWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RhbnRUcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBzcGVjaWFsIGNvbnN0YW50IGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYWx3YXlzIGZhbHNlLCBpLmUuLCBhcyBhIGRlZmF1bHQgZm9yIGEgZmlsdGVyIGZ1bmN0aW9uXG4gKiBAZGVwcmVjYXRlZCB1c2UgKCk9PmZhbHNlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0YW50RmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBjb3BpZXMgYSBwbGFpbiBvYmplY3QgaW50byBhIGZ1bmN0aW9uIGFuZCBjYWxsIGEgc3BlY2lmaWMgbWV0aG9kIG9udG8gZGlyZWN0IGNhbGxcbiAqIEBwYXJhbSBvYmogLSB0aGVcbiAqIEBwYXJhbSBmXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsbGFibGUob2JqOiBhbnksIGY6IHN0cmluZykge1xuICAvL2Fzc2VydCB0aGlzLmlzUGxhaW5PYmplY3Qob2JqKTtcbiAgZnVuY3Rpb24gQ2FsbEFibGVGYWN0b3J5KCkge1xuICAgIGxldCB0aGF0OiBhbnk7XG5cbiAgICBmdW5jdGlvbiBDYWxsQWJsZSgpIHtcbiAgICAgIHRoYXRbZl0uYXBwbHkodGhhdCwgQXJyYXkuZnJvbShhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICB0aGF0ID0gQ2FsbEFibGU7XG4gICAgbWl4aW4oQ2FsbEFibGUsIG9iaik7XG4gICAgcmV0dXJuIENhbGxBYmxlO1xuICB9XG5cbiAgcmV0dXJuIENhbGxBYmxlRmFjdG9yeTtcbn1cblxuLyoqXG4gKiBnZW5lcmF0ZXMgYSByYW5kb20gaWQgb2YgdGhlIGdpdmVuIGxlbmd0aFxuICogQHBhcmFtIGxlbmd0aCBsZW5ndGggb2YgdGhlIGlkXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSWQobGVuZ3RoID0gOCkge1xuICBsZXQgaWQgPSAnJztcbiAgd2hpbGUgKGlkLmxlbmd0aCA8IGxlbmd0aCkge1xuICAgIGlkICs9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKC04KTtcbiAgfVxuICByZXR1cm4gaWQuc3Vic3RyKDAsIGxlbmd0aCk7XG59XG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCByYW5kb21faWQgPSByYW5kb21JZDtcbi8qIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZSAqL1xuXG4vKipcbiAqIGZpeGVzIGEgZ2l2ZW4gbmFtZSBieSBjb252ZXJ0aW5nIGl0IHRvIHBsYWluIGNhbWVsY2FzZVxuICogQHBhcmFtIG5hbWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeElkKG5hbWU6IHN0cmluZykge1xuICBjb25zdCBjbGVhbiA9IG5hbWUucmVwbGFjZSgvW1xccyEjJCUmJygpKissLlxcLzo7PD0+P0BcXFtcXFxcXFxdXFxeYHt8fX5fLV0vZywgJyAnKTtcbiAgY29uc3Qgd29yZHMgPSBjbGVhbi50cmltKCkuc3BsaXQoL1xccysvKTsgLy9yZW1vdmUgaGVhZGluZyBhbmQgdHJhaWxpbmcgc3BhY2VzIGFuZCBjb21iaW5lIG11bHRpcGxlIG9uZSBkdXJpbmcgc3BsaXRcbiAgcmV0dXJuIHdvcmRzLm1hcCgodywgaSkgPT4gKGkgPT09IDAgPyB3WzBdLnRvTG93ZXJDYXNlKCkgOiB3WzBdLnRvVXBwZXJDYXNlKCkpICsgdy5zbGljZSgxKSkuam9pbignJyk7XG59XG5cbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IGZpeF9pZCA9IGZpeElkO1xuLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXG5cblxuY29uc3QgcmVtb3ZlTm9kZU9ic2VydmVyID0gbmV3IFJlbW92ZU5vZGVPYnNlcnZlcigpO1xuXG4vKipcbiAqIHV0aWxpdHkgZnVuY3Rpb24gdG8gZ2V0IG5vdGlmaWVkLCB3aGVuIHRoZSBnaXZlbiBkb20gZWxlbWVudCBpcyByZW1vdmVkIGZyb20gaXRzIHBhcmVudFxuICogQHBhcmFtIG5vZGVcbiAqIEBwYXJhbSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gb25ET01Ob2RlUmVtb3ZlZChub2RlOiBFbGVtZW50fEVsZW1lbnRbXSwgY2FsbGJhY2s6ICgpID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICBub2RlLmZvckVhY2goKG5vZGVpZCkgPT4gcmVtb3ZlTm9kZU9ic2VydmVyLm9ic2VydmUobm9kZWlkLCBjYWxsYmFjaywgdGhpc0FyZykpO1xuICB9IGVsc2Uge1xuICAgIHJlbW92ZU5vZGVPYnNlcnZlci5vYnNlcnZlKG5vZGUsIGNhbGxiYWNrLCB0aGlzQXJnKTtcbiAgfVxufVxuXG4vKipcbiAqIGV4dGVuZHMgY2xhc3MgY29waWVkIGZyb20gVHlwZVNjcmlwdCBjb21waWxlclxuICogQHBhcmFtIHN1YkNsYXNzXG4gKiBAcGFyYW0gYmFzZUNsYXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRDbGFzcyhzdWJDbGFzczogYW55LCBiYXNlQ2xhc3M6IGFueSkge1xuICBfX2V4dGVuZHMoc3ViQ2xhc3MsIGJhc2VDbGFzcyk7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBJUGVyc2lzdGFibGUge1xuICAvKipcbiAgICogcGVyc2lzdCB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5cbiAgICovXG4gIHBlcnNpc3QoKTogYW55O1xuICAvKipcbiAgICogcmVzdG9yZXMgZnJvbSBzdG9yZWQgcGVyc2lzdGVkIHN0YXRlXG4gICAqIEBwYXJhbSBwZXJzaXN0ZWQgYSByZXN1bHQgb2YgYSBwcmV2aW91cyBwZXJzaXN0IGNhbGxcbiAgICogQHJldHVybiB0aGUgcmVzdG9yZWQgdmlldyBvciBudWxsIGlmIGl0IGNvdWxkIGJlIGluIHBsYWNlIHJlc3RvcmVkXG4gICAqL1xuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KTogSVBlcnNpc3RhYmxlfFByb21pc2U8SVBlcnNpc3RhYmxlPjtcbn1cblxuXG4vKipcbiAqIGFjY2VzcyB0byBoYXNoIHBhcmFtZXRlcnMgYW5kIHNldCB0aGVtLCB0b29cbiAqIEB0eXBlIHtIYXNoUHJvcGVydGllc31cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc2ggPSBuZXcgSGFzaFByb3BlcnRpZXMoKTtcbi8qKlxuICogYWNjZXNzIHRvIGdldCBwYXJhbWV0ZXJzXG4gKiBAdHlwZSB7UHJvcGVydHlIYW5kbGVyfVxuICovXG5leHBvcnQgY29uc3QgcGFyYW0gPSBuZXcgUHJvcGVydHlIYW5kbGVyKGxvY2F0aW9uLnNlYXJjaCk7XG5cblxuLyoqXG4gKiBjcmVhdGUgYSBkZWJvdW5jZSBjYWxsLCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGJ1dCBvbmx5IHRoZSBsYXN0IG9uZSBhdCBtb3N0IGRlbGF5ZWQgYnkgdGltZVRvRGVsYXkgd2lsbCBiZSBleGVjdXRlZFxuICogQHBhcmFtIGNhbGxiYWNrXG4gKiBAcGFyYW0gdGltZVRvRGVsYXlcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLlthbnldKTogdW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UodGhpczogYW55LCBjYWxsYmFjazogKCkgPT4gdm9pZCwgdGltZVRvRGVsYXkgPSAxMDApIHtcbiAgbGV0IHRtID0gLTE7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzOiBhbnlbXSkge1xuICAgIGlmICh0bSA+PSAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodG0pO1xuICAgICAgdG0gPSAtMTtcbiAgICB9XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIHRtID0gc2V0VGltZW91dChjYWxsYmFjay5iaW5kLmFwcGx5KGNhbGxiYWNrLCBhcmdzKSwgdGltZVRvRGVsYXkpO1xuICB9O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBkZWJvdW5jZSBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBjb25zdCBkZWxheWVkQ2FsbCA9IGRlYm91bmNlO1xuXG4vKipcbiAqIGNvbXB1dGVzIHRoZSBhYnNvbHV0ZSBvZmZzZXQgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcmV0dXJuIHt7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIHtsZWZ0OiAwLCB0b3A6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDB9O1xuICB9XG4gIGNvbnN0IG9iaiA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHcgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gIHJldHVybiB7XG4gICAgbGVmdDogb2JqLmxlZnQgKyB3LnBhZ2VYT2Zmc2V0LFxuICAgIHRvcDogb2JqLnRvcCArIHcucGFnZVlPZmZzZXQsXG4gICAgd2lkdGg6IG9iai53aWR0aCxcbiAgICBoZWlnaHQ6IG9iai5oZWlnaHRcbiAgfTtcbn1cblxuLyoqXG4gKiByZXR1cm5zIHRoZSBib3VuZGluZyBib3ggb2YgYSBnaXZlbiBlbGVtZW50IHNpbWlsYXIgdG8gb2Zmc2V0XG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHJldHVybnMge3t4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXJ9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIHt4OiAwLCB5OiAwLCB3OiAwLCBoOiAwfTtcbiAgfVxuICBjb25zdCBvYmogPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4ge1xuICAgIHg6IG9iai5sZWZ0LFxuICAgIHk6IG9iai50b3AsXG4gICAgdzogb2JqLndpZHRoLFxuICAgIGg6IG9iai5oZWlnaHRcbiAgfTtcbn1cblxuLyoqXG4gKiByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGluIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gKiBAcGFyYW0gbWlsbGlzZWNvbmRzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHJlc29sdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVJbihtaWxsaXNlY29uZHM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICBpZiAobWlsbGlzZWNvbmRzIDw9IDApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlPHZvaWQ+KG51bGwpO1xuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbWlsbGlzZWNvbmRzKTtcbiAgfSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXgudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICpcbiAqIFRoaXMgZmlsZSBkZWZpbmVzIGludGVyZmFjZXMgZm9yIHZhcmlvdXMgZGF0YSB0eXBlcyBhbmQgdGhlaXIgbWV0YWRhdGEuXG4gKi9cblxuaW1wb3J0IHtJUGVyc2lzdGFibGUsIGV4dGVuZENsYXNzLCBtaXhpbiwgdW5pcXVlU3RyaW5nfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7SVNlbGVjdEFibGUsIFNlbGVjdEFibGUsIElEVHlwZX0gZnJvbSAnLi9pZHR5cGUnO1xuaW1wb3J0IHtleHRlbnQsIElIaXN0b2dyYW0sIElBZHZhbmNlZFN0YXRpc3RpY3MsIElTdGF0aXN0aWNzfSBmcm9tICcuL21hdGgnO1xuaW1wb3J0IHthbGwsIG5vbmUsIFJhbmdlMUQsIFJhbmdlTGlrZSwgUmFuZ2UxREdyb3VwLCBjb21wb3NpdGUsIFJhbmdlLCBDb21wb3NpdGVSYW5nZTFEfSBmcm9tICcuL3JhbmdlJztcbmltcG9ydCB7SVNlY3VyZUl0ZW0sIGN1cnJlbnRVc2VyTmFtZU9yQW5vbnltb3VzfSBmcm9tICcuL3NlY3VyaXR5JztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZGVmaW5pbmcgbWV0YWRhdGEgZm9yIGEgZGF0YXNldC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJRGF0YURlc2NyaXB0aW9uTWV0YURhdGEgZXh0ZW5kcyBJU2VjdXJlSXRlbSB7XG4gIC8qKlxuICAgKiB0aGUgdHlwZSBvZiB0aGUgZGF0YXR5cGUsIGUuZy4gbWF0cml4LCB2ZWN0b3IsIHN0cmF0aWZpY2F0aW9uLCAuLi5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogdGhlIG5hbWUgb2YgdGhlIGRhdGFzZXRcbiAgICovXG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcblxuICByZWFkb25seSBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogYSBmdWxseSBxdWFsaWZpZWQgbmFtZSwgZS5nLiBwcm9qZWN0X25hbWUvbmFtZVxuICAgKi9cbiAgcmVhZG9ubHkgZnFuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIGN1c3RvbSBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIGFkZGVkIG9uIHRoZSBmbHlcbiAgICogQHNlZSBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9pbnRlcmZhY2VzLmh0bWwjaW5kZXhhYmxlLXR5cGVzXG4gICAqIE5vdGU6IFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gYmUgd3JpdGFibGUgdG8gc2V0IGl0IGxhdGVyIG9uIChlLmcuIGluIFZlY3RvclRhYmxlKVxuICAgKi9cbiAgW2V4dHJhczogc3RyaW5nXTogYW55O1xuXG4gIC8qKlxuICAgKiBjcmVhdGlvbiB0aW1lIHN0YW1wXG4gICAqL1xuICByZWFkb25seSB0czogbnVtYmVyO1xufVxuLyoqXG4gKiBiYXNpYyBkZXNjcmlwdGlvbiBlbGVtZW50c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIElEYXRhRGVzY3JpcHRpb24gZXh0ZW5kcyBJRGF0YURlc2NyaXB0aW9uTWV0YURhdGEge1xuICAvKipcbiAgICogdGhlIHVuaXF1ZSBpZFxuICAgKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBCYXNpYyBkYXRhIHR5cGUgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSURhdGFUeXBlIGV4dGVuZHMgSVNlbGVjdEFibGUsIElQZXJzaXN0YWJsZSB7XG4gIC8qKlxuICAgKiBpdHMgZGVzY3JpcHRpb25cbiAgICovXG4gIHJlYWRvbmx5IGRlc2M6IElEYXRhRGVzY3JpcHRpb247XG4gIC8qKlxuICAgKiBkaW1lbnNpb25zIG9mIHRoaXMgZGF0YXR5cGVcbiAgICogcm93cywgY29scywgLi4uLlxuICAgKi9cbiAgcmVhZG9ubHkgZGltOiBudW1iZXJbXTtcblxuXG4gIGlkVmlldyhpZFJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxJRGF0YVR5cGU+O1xufVxuXG5leHBvcnQgY29uc3QgVkFMVUVfVFlQRV9DQVRFR09SSUNBTCA9ICdjYXRlZ29yaWNhbCc7XG5leHBvcnQgY29uc3QgVkFMVUVfVFlQRV9TVFJJTkcgPSAnc3RyaW5nJztcbmV4cG9ydCBjb25zdCBWQUxVRV9UWVBFX1JFQUwgPSAncmVhbCc7XG5leHBvcnQgY29uc3QgVkFMVUVfVFlQRV9JTlQgPSAnaW50JztcblxuZXhwb3J0IGludGVyZmFjZSBJVmFsdWVUeXBlRGVzYyB7XG4gIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTnVtYmVyVmFsdWVUeXBlRGVzYyBleHRlbmRzIElWYWx1ZVR5cGVEZXNjIHtcbiAgcmVhZG9ubHkgdHlwZTogJ2ludCd8J3JlYWwnO1xuICAvKipcbiAgICogbWluLCBtYXhcbiAgICovXG4gIHJlYWRvbmx5IHJhbmdlOiBbbnVtYmVyLCBudW1iZXJdO1xuICAvKipcbiAgICogbWlzc2luZyB2YWx1ZVxuICAgKi9cbiAgcmVhZG9ubHkgbWlzc2luZz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2F0ZWdvcnkge1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvbG9yPzogc3RyaW5nO1xuICByZWFkb25seSBsYWJlbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2F0ZWdvcmljYWxWYWx1ZVR5cGVEZXNjIGV4dGVuZHMgSVZhbHVlVHlwZURlc2Mge1xuICByZWFkb25seSB0eXBlOiAnY2F0ZWdvcmljYWwnO1xuICByZWFkb25seSBjYXRlZ29yaWVzOiAoSUNhdGVnb3J5fHN0cmluZylbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU3RyaW5nVmFsdWVUeXBlRGVzYyBleHRlbmRzIElWYWx1ZVR5cGVEZXNjIHtcbiAgcmVhZG9ubHkgdHlwZTogJ3N0cmluZyc7XG59XG5cbmV4cG9ydCBkZWNsYXJlIHR5cGUgSVZhbHVlVHlwZSA9IG51bWJlciB8IHN0cmluZyB8IGFueTtcblxuXG4vKipcbiAqIGR1bW15IGRhdGEgdHlwZSBqdXN0IGhvbGRpbmcgdGhlIGRlc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBRGF0YVR5cGU8VCBleHRlbmRzIElEYXRhRGVzY3JpcHRpb24+IGV4dGVuZHMgU2VsZWN0QWJsZSBpbXBsZW1lbnRzIElEYXRhVHlwZSB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBkZXNjOiBUKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIGdldCBkaW0oKTogbnVtYmVyW10ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPFJhbmdlPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub25lKCkpO1xuICB9XG5cbiAgaWRWaWV3KGlkUmFuZ2U/OiBSYW5nZUxpa2UpOiBQcm9taXNlPEFEYXRhVHlwZTxUPj4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpOiBJRFR5cGVbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcGVyc2lzdCgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmRlc2MuaWQ7XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5wZXJzaXN0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIER1bW15RGF0YVR5cGUgZXh0ZW5kcyBBRGF0YVR5cGU8SURhdGFEZXNjcmlwdGlvbj4ge1xuICBjb25zdHJ1Y3RvcihkZXNjOiBJRGF0YURlc2NyaXB0aW9uKSB7XG4gICAgc3VwZXIoZGVzYyk7XG4gIH1cblxufVxuXG4vKipcbiAqIHNpbmNlIHRoZXJlIGlzIG5vIGluc3RhbmNlT2YgZm9yIGludGVyZmFjZXNcbiAqIEBwYXJhbSB2XG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFUeXBlKHY6IElEYXRhVHlwZSkge1xuICBpZiAodiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHYgaW5zdGFuY2VvZiBBRGF0YVR5cGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvL3NvdW5kcyBnb29kXG4gIHJldHVybiAodHlwZW9mKHYuaWRWaWV3KSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Yodi5wZXJzaXN0KSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Yodi5yZXN0b3JlKSA9PT0gJ2Z1bmN0aW9uJyAmJiB2IGluc3RhbmNlb2YgU2VsZWN0QWJsZSAmJiAoJ2Rlc2MnIGluIHYpICYmICgnZGltJyBpbiB2KSk7XG59XG5cbi8qKlxuICogdXRpbGl0eSB0byBhc3NpZ24gYSBkYXRhc2V0IHRvIGFuIGh0bWwgZWxlbWVudCwgc2ltaWxhciB0byBkM1xuICogQHBhcmFtIG5vZGVcbiAqIEBwYXJhbSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25EYXRhKG5vZGU6IEVsZW1lbnQsIGRhdGE6IElEYXRhVHlwZSkge1xuICAoPGFueT5ub2RlKS5fX2RhdGFfXyA9IGRhdGE7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBJSGlzdEFibGVEYXRhVHlwZTxEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgSURhdGFUeXBlIHtcbiAgdmFsdWV0eXBlOiBEO1xuICBoaXN0KG5iaW5zPzogbnVtYmVyKTogUHJvbWlzZTxJSGlzdG9ncmFtPjtcbiAgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN0YXRzQWJsZURhdGFUeXBlPEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4gZXh0ZW5kcyBJRGF0YVR5cGUge1xuICB2YWx1ZXR5cGU6IEQ7XG4gIHN0YXRzKCk6IFByb21pc2U8SVN0YXRpc3RpY3M+O1xuICBzdGF0c0FkdmFuY2VkKCk6IFByb21pc2U8SUFkdmFuY2VkU3RhdGlzdGljcz47XG4gIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyO1xufVxuXG5cbi8qKlxuICogdHJhbnNwb3NlIHRoZSBnaXZlbiBtYXRyaXhcbiAqIEBwYXJhbSBtXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShtOiBhbnlbXVtdKSB7XG4gIGlmIChtLmxlbmd0aCA9PT0gMCB8fCBtWzBdLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCByID0gbVswXS5tYXAoKGkpID0+IFtpXSk7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbS5sZW5ndGg7ICsraSkge1xuICAgIG1baV0uZm9yRWFjaCgodiwgaSkgPT4gcltpXS5wdXNoKHYpKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gbWFza0ltcGwoYXJyOiBudW1iZXJ8bnVtYmVyW10sIG1pc3Npbmc6IG51bWJlcik6IG51bWJlcnxudW1iZXJbXSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBjb25zdCB2cyA9IDxudW1iZXJbXT5hcnI7XG4gICAgaWYgKHZzLmluZGV4T2YobWlzc2luZykgPj0gMCkge1xuICAgICAgcmV0dXJuIHZzLm1hcCgodikgPT4gdiA9PT0gbWlzc2luZyA/IE5hTiA6IHYpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyID09PSBtaXNzaW5nID8gTmFOIDogYXJyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFzayhhcnI6IG51bWJlcnxudW1iZXJbXSwgZGVzYzogSU51bWJlclZhbHVlVHlwZURlc2MpOiBudW1iZXJ8bnVtYmVyW10ge1xuICBpZiAoZGVzYy50eXBlID09PSBWQUxVRV9UWVBFX0lOVCAmJiAnbWlzc2luZycgaW4gZGVzYykge1xuICAgIHJldHVybiBtYXNrSW1wbChhcnIsIGRlc2MubWlzc2luZyk7XG4gIH1cbiAgaWYgKGRlc2MudHlwZSA9PT0gVkFMVUVfVFlQRV9JTlQgfHwgZGVzYy50eXBlID09PSBWQUxVRV9UWVBFX1JFQUwpIHtcbiAgICAvLyByZXBsYWNlIG51bGwgdmFsdWVzIHdpdGggTnVtYmVyLk5hTlxuICAgIHJldHVybiBtYXNrSW1wbChhcnIsIG51bGwpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNhdGVnb3JpY2FsMlBhcnRpdGlvbmluZ09wdGlvbnMge1xuXG4gIC8qKlxuICAgKiBuYW1lIG9mIHRoZSBwYXJ0aXRpb25pbmdcbiAgICogZGVmYXVsdDogJ1BhcnRpdGlvbmluZydcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBkZWZhdWx0OiB0cnVlXG4gICAqL1xuICBza2lwRW1wdHlDYXRlZ29yaWVzPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGNvbG9ycyBmb3IgY2F0ZWdvcmllcywgbW9yZSB3aWxsIGJlIHJvdGF0ZWRcbiAgICogZGVmYXVsdDogWydncmF5J11cbiAgICovXG4gIGNvbG9ycz86IHN0cmluZ1tdO1xuICAvKipcbiAgICogbGFiZWxzIGZvciBjYXRlZ29yaWVzLCBuZWVkIHRvIG1hdGNoIGV4YWN0bHlcbiAgICogZGVmYXVsdDogbnVsbFxuICAgKi9cbiAgbGFiZWxzPzogc3RyaW5nW107XG59XG5cbi8qKlxuICogY29udmVydHMgdGhlIGdpdmVuIGNhdGVnb3JpY2FsIGRhdGEgdG8gYSBncm91cGVkIHJhbmdlXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIGNhdGVnb3JpZXNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJuIHtDb21wb3NpdGVSYW5nZTFEfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2F0ZWdvcmljYWwycGFydGl0aW9uaW5nPFQ+KGRhdGE6IFRbXSwgY2F0ZWdvcmllczogVFtdLCBvcHRpb25zOiBJQ2F0ZWdvcmljYWwyUGFydGl0aW9uaW5nT3B0aW9ucyA9IHt9KTogQ29tcG9zaXRlUmFuZ2UxRCB7XG4gIGNvbnN0IG06IElDYXRlZ29yaWNhbDJQYXJ0aXRpb25pbmdPcHRpb25zID0gbWl4aW4oe1xuICAgIHNraXBFbXB0eUNhdGVnb3JpZXM6IHRydWUsXG4gICAgY29sb3JzOiBbJ2dyYXknXSxcbiAgICBsYWJlbHM6IG51bGwsXG4gICAgbmFtZTogJ1BhcnRpdGlvbmluZydcbiAgfSwgb3B0aW9ucyk7XG5cbiAgbGV0IGdyb3VwcyA9IGNhdGVnb3JpZXMubWFwKChkLCBpKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IG0ubGFiZWxzID8gbS5sYWJlbHNbaV0gOiBkLnRvU3RyaW5nKCksXG4gICAgICBjb2xvcjogbS5jb2xvcnNbTWF0aC5taW4oaSwgbS5jb2xvcnMubGVuZ3RoIC0gMSldLFxuICAgICAgaW5kaWNlczogW11cbiAgICB9O1xuICB9KTtcbiAgZGF0YS5mb3JFYWNoKChkLCBqKSA9PiB7XG4gICAgY29uc3QgaSA9IGNhdGVnb3JpZXMuaW5kZXhPZihkKTtcbiAgICBpZiAoaSA+PSAwKSB7XG4gICAgICBncm91cHNbaV0uaW5kaWNlcy5wdXNoKGopO1xuICAgIH1cbiAgfSk7XG4gIGlmIChtLnNraXBFbXB0eUNhdGVnb3JpZXMpIHtcbiAgICBncm91cHMgPSBncm91cHMuZmlsdGVyKChnKSA9PiBnLmluZGljZXMubGVuZ3RoID4gMCk7XG4gIH1cbiAgY29uc3QgZ3JhbmdlcyA9IGdyb3Vwcy5tYXAoKGcpID0+IHtcbiAgICByZXR1cm4gbmV3IFJhbmdlMURHcm91cChnLm5hbWUsIGcuY29sb3IsIFJhbmdlMUQuZnJvbShnLmluZGljZXMpKTtcbiAgfSk7XG4gIHJldHVybiBjb21wb3NpdGUobS5uYW1lLCBncmFuZ2VzKTtcbn1cblxuLyoqXG4gKiB1dGlsaXR5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGRhdGF0eXBlLCBkZXNpZ25lZCBmb3IgSmF2YVNjcmlwdCB1c2FnZVxuICogQHBhcmFtIG5hbWVcbiAqIEBwYXJhbSBmdW5jdGlvbnMgdGhlIGZ1bmN0aW9ucyB0byBhZGRcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKElEYXRhRGVzY3JpcHRpb24pOiB1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVEYXRhVHlwZShuYW1lOiBzdHJpbmcsIGZ1bmN0aW9uczogYW55KSB7XG4gIGZ1bmN0aW9uIERhdGFUeXBlKHRoaXM6IGFueSwgZGVzYzogSURhdGFEZXNjcmlwdGlvbikge1xuICAgIEFEYXRhVHlwZS5jYWxsKHRoaXMsIGRlc2MpO1xuICAgIGlmICh0eXBlb2YodGhpcy5pbml0KSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5pbml0LmFwcGx5KHRoaXMsIEFycmF5LmZyb20oYXJndW1lbnRzKSk7XG4gICAgfVxuICB9XG5cbiAgZXh0ZW5kQ2xhc3MoRGF0YVR5cGUsIEFEYXRhVHlwZSk7XG4gIERhdGFUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9ICgpID0+IG5hbWU7XG4gIERhdGFUeXBlLnByb3RvdHlwZSA9IG1peGluKERhdGFUeXBlLnByb3RvdHlwZSwgZnVuY3Rpb25zKTtcblxuICByZXR1cm4gRGF0YVR5cGU7XG59XG5cblxuZnVuY3Rpb24gaXNOdW1lcmljKG9iajogYW55KSB7XG4gIHJldHVybiAob2JqIC0gcGFyc2VGbG9hdChvYmopICsgMSkgPj0gMDtcbn1cblxuXG4vKipcbiAqIGd1ZXNzZXMgdGhlIHR5cGUgb2YgdGhlIGdpdmVuIHZhbHVlIGFycmF5IHJldHVybmluZyBpdHMgZGVzY3JpcHRpb25cbiAqIEBwYXJhbSBhcnJcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGd1ZXNzVmFsdWVUeXBlRGVzYyhhcnI6IElWYWx1ZVR5cGVbXSk6IElWYWx1ZVR5cGVEZXNjIHtcbiAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge3R5cGU6ICdzdHJpbmcnfTsgLy9kb2Vzbid0IG1hdHRlclxuICB9XG4gIGNvbnN0IHRlc3QgPSBhcnJbMF07XG4gIGlmICh0eXBlb2YgdGVzdCA9PT0gJ251bWJlcicgfHwgaXNOdW1lcmljKHRlc3QpKSB7XG4gICAgcmV0dXJuIDxJTnVtYmVyVmFsdWVUeXBlRGVzYz57dHlwZTogVkFMVUVfVFlQRV9SRUFMLCByYW5nZTogZXh0ZW50KGFyci5tYXAocGFyc2VGbG9hdCkpfTtcbiAgfVxuICBjb25zdCB2YWx1ZXMgPSBuZXcgU2V0KDxzdHJpbmdbXT5hcnIpO1xuICBpZiAodmFsdWVzLnNpemUgPCBhcnIubGVuZ3RoICogMC4yIHx8IHZhbHVlcy5zaXplIDwgOCkge1xuICAgIC8vZ3Vlc3MgYXMgY2F0ZWdvcmljYWxcbiAgICByZXR1cm4gPElDYXRlZ29yaWNhbFZhbHVlVHlwZURlc2M+e3R5cGU6ICdjYXRlZ29yaWNhbCcsIGNhdGVnb3JpZXM6IEFycmF5LmZyb20odmFsdWVzLnZhbHVlcygpKX07XG4gIH1cbiAgcmV0dXJuIDxJU3RyaW5nVmFsdWVUeXBlRGVzYz57dHlwZTogJ3N0cmluZyd9O1xufVxuXG5cbi8qKlxuICogY3JlYXRlcyBhIGRlZmF1bHQgZGF0YSBkZXNjcmlwdGlvblxuICogQHJldHVybiB7e3R5cGU6IHN0cmluZywgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBmcW5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgY3JlYXRvcjogc3RyaW5nLCB0czogbnVtYmVyfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHREYXRhRGVzYyhuYW1lc3BhY2UgPSAnbG9jYWxEYXRhJyk6IElEYXRhRGVzY3JpcHRpb24ge1xuICBjb25zdCBpZCA9IHVuaXF1ZVN0cmluZyhuYW1lc3BhY2UpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICBpZCxcbiAgICBuYW1lOiBpZCxcbiAgICBmcW5hbWU6IGlkLFxuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICBjcmVhdG9yOiBjdXJyZW50VXNlck5hbWVPckFub255bW91cygpLFxuICAgIHRzOiBEYXRlLm5vdygpXG4gIH07XG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2RhdGF0eXBlLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5leHBvcnQge1xuICBjbGVhclNlbGVjdGlvbixcbiAgRVZFTlRfUkVHSVNURVJfSURUWVBFLFxuICBJRFR5cGVMaWtlLFxuICBsaXN0LFxuICBsaXN0QWxsLFxuICBwZXJzaXN0LFxuICByZWdpc3RlcixcbiAgcmVzdG9yZSxcbiAgcmVzb2x2ZSxcbiAgcmVzb2x2ZVByb2R1Y3QsXG4gIGlzSW50ZXJuYWxJRFR5cGVcbn0gZnJvbSAnLi9tYW5hZ2VyJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBTZWxlY3RBYmxlLCBJU2VsZWN0QWJsZX0gZnJvbSAnLi9BU2VsZWN0QWJsZSc7XG5leHBvcnQge1xuICBJSURUeXBlLFxuICBhc1NlbGVjdE9wZXJhdGlvbixcbiAgZGVmYXVsdFNlbGVjdGlvblR5cGUsXG4gIGhvdmVyU2VsZWN0aW9uVHlwZSxcbiAgU2VsZWN0T3BlcmF0aW9uLFxuICB0b1NlbGVjdE9wZXJhdGlvbixcbiAgaW50ZWdyYXRlU2VsZWN0aW9uXG59IGZyb20gJy4vSUlEVHlwZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgSURUeXBlfSBmcm9tICcuL0lEVHlwZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgQVByb2R1Y3RTZWxlY3RBYmxlLCBJUHJvZHVjdFNlbGVjdEFibGV9IGZyb20gJy4vQVByb2R1Y3RTZWxlY3RBYmxlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBQcm9kdWN0SURUeXBlfSBmcm9tICcuL1Byb2R1Y3RJRFR5cGUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE9iamVjdE1hbmFnZXIsIElIYXNVbmlxdWVJZCwgaXNJZCwgdG9JZH0gZnJvbSAnLi9PYmplY3RNYW5hZ2VyJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBMb2NhbElEQXNzaWduZXIsIGNyZWF0ZUxvY2FsQXNzaWduZXJ9IGZyb20gJy4vTG9jYWxJREFzc2lnbmVyJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pZHR5cGUvaW5kZXgudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50SGFuZGxlciB7XG4gIG9uKGV2ZW50czogc3RyaW5nfHtba2V5OiBzdHJpbmddOiBJRXZlbnRMaXN0ZW5lcn0sIGhhbmRsZXI/OiBJRXZlbnRMaXN0ZW5lcik6IHZvaWQ7XG4gIG9mZihldmVudHM6IHN0cmluZ3x7W2tleTogc3RyaW5nXTogSUV2ZW50TGlzdGVuZXJ9LCBoYW5kbGVyPzogSUV2ZW50TGlzdGVuZXIpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElEYXRhQmluZGluZyB7XG4gIGRhdGEoa2V5OiBzdHJpbmcpOiBhbnk7XG4gIGRhdGEoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBhbnk7XG59XG5cbi8qKlxuICogYmFzaWMgaW50ZXJmYWNlIG9mIGFuIGV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50IHtcbiAgLyoqXG4gICAqIHR5cGUgb2YgdGhlIGV2ZW50XG4gICAqL1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGN1cnJlbnRUYXJnZXQ6IElFdmVudEhhbmRsZXI7XG4gIHJlYWRvbmx5IHRhcmdldDogSUV2ZW50SGFuZGxlcjtcbiAgcmVhZG9ubHkgZGVsZWdhdGVUYXJnZXQ6IElFdmVudEhhbmRsZXI7XG4gIC8qKlxuICAgKiBjcmVhdGlvbiBkYXRlXG4gICAqL1xuICByZWFkb25seSB0aW1lU3RhbXA6IERhdGU7XG4gIC8qKlxuICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBnaXZlbiB0byB0aGUgZXZlbnRcbiAgICovXG4gIHJlYWRvbmx5IGFyZ3M6IGFueVtdO1xuXG4gIGlzUHJvcGFnYXRpb25TdG9wcGVkKCk6IGJvb2xlYW47XG4gIHN0b3BQcm9wYWdhdGlvbigpOiB2b2lkO1xuICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOiBib29sZWFuO1xuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRMaXN0ZW5lciB7XG4gIChldmVudDogSUV2ZW50LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG59XG5cbmNsYXNzIEV2ZW50IGltcGxlbWVudHMgSUV2ZW50IHtcbiAgcmVhZG9ubHkgdGltZVN0YW1wID0gbmV3IERhdGUoKTtcbiAgcHJpdmF0ZSBzdG9wcGVkID0gZmFsc2U7XG4gIHByaXZhdGUgc3RvcGVkUHJvcGFnYXRpb24gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgdHlwZTogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgYXJnczogYW55W10sIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IElFdmVudEhhbmRsZXIsIHB1YmxpYyByZWFkb25seSBkZWxlZ2F0ZVRhcmdldDogSUV2ZW50SGFuZGxlcikge1xuXG4gIH1cblxuICBnZXQgY3VycmVudFRhcmdldCgpIHtcbiAgICByZXR1cm4gdGhpcy50YXJnZXQ7XG4gIH1cblxuICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9wcGVkO1xuICB9XG5cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gIH1cblxuICBpc1Byb3BhZ2F0aW9uU3RvcHBlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9wZWRQcm9wYWdhdGlvbjtcbiAgfVxuXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnN0b3BlZFByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgfVxufVxuXG5jbGFzcyBTaW5nbGVFdmVudEhhbmRsZXIge1xuICBwcml2YXRlIGxpc3RlbmVyczogSUV2ZW50TGlzdGVuZXJbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB0eXBlOiBzdHJpbmcpIHtcbiAgICAvL25vdGhpbmcgZWxzZSB0byBkb1xuICB9XG5cbiAgcHVzaChsaXN0ZW5lcjogSUV2ZW50TGlzdGVuZXIpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJlbW92ZShsaXN0ZW5lcjogSUV2ZW50TGlzdGVuZXIpIHtcbiAgICBjb25zdCBpID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZpcmUoZXZlbnQ6IElFdmVudCkge1xuICAgIGlmICh0aGlzLmxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbGFyZ3MgPSBbZXZlbnRdLmNvbmNhdChldmVudC5hcmdzKTtcbiAgICBpZiAodGhpcy5saXN0ZW5lcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1swXS5hcHBseShldmVudCwgbGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL3dvcmsgb24gYSBjb3B5IGluIGNhc2UgdGhlIG51bWJlciBjaGFuZ2VzXG4gICAgICBjb25zdCBsID0gdGhpcy5saXN0ZW5lcnMuc2xpY2UoKSwgbGwgPSBsLmxlbmd0aDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGwgJiYgIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7ICsraSkge1xuICAgICAgICBsW2ldLmFwcGx5KGV2ZW50LCBsYXJncyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMubGVuZ3RoO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50KGV2ZW50OiBzdHJpbmcsIGFyZ3M6IGFueVtdLCB0YXJnZXQ6IElFdmVudEhhbmRsZXIpIHtcbiAgcmV0dXJuIG5ldyBFdmVudChldmVudCwgYXJncywgdGFyZ2V0LCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcHJvcGFnYXRlRXZlbnQoZXZlbnQ6IElFdmVudCwgdGFyZ2V0OiBJRXZlbnRIYW5kbGVyKSB7XG4gIHJldHVybiBuZXcgRXZlbnQoZXZlbnQudHlwZSwgZXZlbnQuYXJncywgdGFyZ2V0LCBldmVudC50YXJnZXQpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFdmVudExpc3RlbmVyIHtcbiAgKGV2ZW50OiBJRXZlbnQsIC4uLmFyZ3M6IGFueVtdKTogYW55O1xufVxuLyoqXG4gKiBFdmVudEhhbmRsZXIgYmFzZSBjbGFzc1xuICovXG5leHBvcnQgY2xhc3MgRXZlbnRIYW5kbGVyIGltcGxlbWVudHMgSUV2ZW50SGFuZGxlciB7XG4gIHN0YXRpYyByZWFkb25seSBNVUxUSV9FVkVOVF9TRVBBUkFUT1IgPSAnLCc7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlcnMgPSBuZXcgTWFwPHN0cmluZywgU2luZ2xlRXZlbnRIYW5kbGVyPigpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcHJvcGFnYXRpb25IYW5kbGVyOiBJRXZlbnRMaXN0ZW5lciA9IChldmVudDogSUV2ZW50KSA9PiB7XG4gICAgaWYgKCFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICB0aGlzLmZpcmVFdmVudChwcm9wYWdhdGVFdmVudChldmVudCwgdGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiByZWdpc3RlciBhIGdsb2JhbCBldmVudCBoYW5kbGVyXG4gICAqIEBwYXJhbSBldmVudHMgZWl0aGVyIG9uZSBldmVudCBzdHJpbmcgKG11bHRpcGxlIGFyZSBzdXBwb3J0ZWQgdXNpbmcgLCBhcyBzZXBhcmF0b3IpIG9yIGEgbWFwIG9mIGV2ZW50IGhhbmRsZXJzXG4gICAqIEBwYXJhbSBoYW5kbGVyIHRoZSBoYW5kbGVyIGluIGNhc2Ugb2YgYSBnaXZlbiBzdHJpbmdcbiAgICovXG4gIG9uKGV2ZW50czogc3RyaW5nfHtba2V5OiBzdHJpbmddOiBJRXZlbnRMaXN0ZW5lcn0sIGhhbmRsZXI/OiBJRXZlbnRMaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgZXZlbnRzID09PSAnc3RyaW5nJykge1xuICAgICAgZXZlbnRzLnNwbGl0KEV2ZW50SGFuZGxlci5NVUxUSV9FVkVOVF9TRVBBUkFUT1IpLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5oYW5kbGVycy5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQoZXZlbnQsIG5ldyBTaW5nbGVFdmVudEhhbmRsZXIoZXZlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZXJzLmdldChldmVudCkucHVzaChoYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3Qua2V5cyhldmVudHMpLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGggPSBldmVudHNbZXZlbnRdO1xuICAgICAgICB0aGlzLm9uKGV2ZW50LCBoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiB1bnJlZ2lzdGVyIGEgZ2xvYmFsIGV2ZW50IGhhbmRsZXJcbiAgICogQHBhcmFtIGV2ZW50c1xuICAgKiBAcGFyYW0gaGFuZGxlclxuICAgKi9cbiAgb2ZmKGV2ZW50czogc3RyaW5nfHtba2V5OiBzdHJpbmddOiBJRXZlbnRMaXN0ZW5lcn0sIGhhbmRsZXI/OiBJRXZlbnRMaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgZXZlbnRzID09PSAnc3RyaW5nJykge1xuICAgICAgZXZlbnRzLnNwbGl0KEV2ZW50SGFuZGxlci5NVUxUSV9FVkVOVF9TRVBBUkFUT1IpLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmhhbmRsZXJzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICBjb25zdCBoOiBTaW5nbGVFdmVudEhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudCk7XG4gICAgICAgICAgaC5yZW1vdmUoaGFuZGxlcik7XG4gICAgICAgICAgaWYgKGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLmRlbGV0ZShldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXMoZXZlbnRzKS5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBoID0gZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgdGhpcy5vZmYoZXZlbnQsIGgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cblxuICAvKipcbiAgICogbGlzdCBmb3IgZWFjaCByZWdpc3RlcmVkIGV2ZW50IHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzXG4gICAqL1xuICBnZXRSZWdpc3RlcmVkSGFuZGxlckNvdW50KCk6IHtba2V5OiBzdHJpbmddOiBudW1iZXJ9IHtcbiAgICBjb25zdCByOiB7W2tleTogc3RyaW5nXTogbnVtYmVyfSA9IHt9O1xuICAgIHRoaXMuaGFuZGxlcnMuZm9yRWFjaCgoaGFuZGxlciwgdHlwZSkgPT4ge1xuICAgICAgclt0eXBlXSA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIH0pO1xuICAgIHJldHVybiByO1xuICB9XG5cblxuICAvKipcbiAgICogZmlyZXMgYW4gZXZlbnRcbiAgICogQHBhcmFtIGV2ZW50cyBuYW1lKHMpIG9mIHRoZSBldmVudFxuICAgKiBAcGFyYW0gYXJncyBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgKi9cbiAgZmlyZShldmVudHM6IHN0cmluZywgLi4uYXJnczogYW55W10pIHtcbiAgICBldmVudHMuc3BsaXQoRXZlbnRIYW5kbGVyLk1VTFRJX0VWRU5UX1NFUEFSQVRPUikuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZmlyZUV2ZW50KGNyZWF0ZUV2ZW50KGV2ZW50LCBhcmdzLCB0aGlzKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcml2YXRlIGZpcmVFdmVudChldmVudDogRXZlbnQpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycy5oYXMoZXZlbnQudHlwZSkpIHtcbiAgICAgIGNvbnN0IGg6IFNpbmdsZUV2ZW50SGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50LnR5cGUpO1xuICAgICAgcmV0dXJuIGguZmlyZShldmVudCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZWdpc3RlcnMgb24gdGhlIGdpdmVuIGV2ZW50IGhhbmRsZXIgYW5kIHByb3BhZ2F0ZXMgdGhlIGdpdmVuIGV2ZW50cyB0byBpdHNlbGZcbiAgICogQHBhcmFtIHByb2dhdGVlXG4gICAqIEBwYXJhbSBldmVudHNcbiAgICovXG4gIHByb3BhZ2F0ZShwcm9nYXRlZTogSUV2ZW50SGFuZGxlciwgLi4uZXZlbnRzOiBzdHJpbmdbXSkge1xuICAgIHByb2dhdGVlLm9uKGV2ZW50cy5qb2luKEV2ZW50SGFuZGxlci5NVUxUSV9FVkVOVF9TRVBBUkFUT1IpLCB0aGlzLnByb3BhZ2F0aW9uSGFuZGxlcik7XG4gIH1cblxuICBzdG9wUHJvcGFnYXRpb24ocHJvZ2F0ZWU6IElFdmVudEhhbmRsZXIsIC4uLmV2ZW50czogc3RyaW5nW10pIHtcbiAgICBwcm9nYXRlZS5vZmYoZXZlbnRzLmpvaW4oRXZlbnRIYW5kbGVyLk1VTFRJX0VWRU5UX1NFUEFSQVRPUiksIHRoaXMucHJvcGFnYXRpb25IYW5kbGVyKTtcbiAgfVxufVxuXG5jb25zdCBnbG9iYWxIYW5kbGVyID0gbmV3IEV2ZW50SGFuZGxlcigpO1xuLyoqXG4gKiByZWdpc3RlciBhIGdsb2JhbCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0gZXZlbnRzXG4gKiBAcGFyYW0gaGFuZGxlclxuICovXG5leHBvcnQgZnVuY3Rpb24gb24oZXZlbnRzOiBzdHJpbmd8e1trZXk6IHN0cmluZ106IElFdmVudExpc3RlbmVyfSwgaGFuZGxlcj86IElFdmVudExpc3RlbmVyKSB7XG4gIHJldHVybiBnbG9iYWxIYW5kbGVyLm9uKGV2ZW50cywgaGFuZGxlcik7XG59XG4vKipcbiAqIHVucmVnaXN0ZXIgYSBnbG9iYWwgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIGV2ZW50c1xuICogQHBhcmFtIGhhbmRsZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9mZihldmVudHM6IHN0cmluZ3x7W2tleTogc3RyaW5nXTogSUV2ZW50TGlzdGVuZXJ9LCBoYW5kbGVyPzogSUV2ZW50TGlzdGVuZXIpIHtcbiAgcmV0dXJuIGdsb2JhbEhhbmRsZXIub2ZmKGV2ZW50cywgaGFuZGxlcik7XG59XG4vKipcbiAqIGZpcmVzIGFuIGV2ZW50XG4gKiBAcGFyYW0gZXZlbnRcbiAqIEBwYXJhbSBleHRyYUFyZ3VtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmlyZShldmVudHM6IHN0cmluZywgLi4uYXJnczogYW55W10pIHtcbiAgcmV0dXJuIGdsb2JhbEhhbmRsZXIuZmlyZShldmVudHMsIC4uLmFyZ3MpO1xufVxuLyoqXG4gKiBsaXN0IGFsbCBldmVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ2lzdGVyZWRIYW5kbGVyQ291bnQoKSB7XG4gIHJldHVybiBnbG9iYWxIYW5kbGVyLmdldFJlZ2lzdGVyZWRIYW5kbGVyQ291bnQoKTtcbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2V2ZW50LnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAxMi4wMi4yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyMi4xMC4yMDE0LlxuICovXG5pbXBvcnQge1NlbGVjdE9wZXJhdGlvbiwgcmVzb2x2ZSBhcyBpZHR5cGVzX3Jlc29sdmUsIFNlbGVjdEFibGV9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQge2FsbCwgcGFyc2UsIFJhbmdlTGlrZSwgbGlzdH0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtJUGVyc2lzdGFibGUsIGZsYWdJZCwgdW5pcXVlSWR9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7RXZlbnRIYW5kbGVyfSBmcm9tICcuLi9ldmVudCc7XG5pbXBvcnQge0lEYXRhVHlwZSwgSURhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi4vZGF0YXR5cGUnO1xuXG5leHBvcnQgY29uc3QgRElNX05PREVTID0gMDtcbmV4cG9ydCBjb25zdCBJRFRZUEVfTk9ERVMgPSAnX25vZGVzJztcbmV4cG9ydCBjb25zdCBESU1fRURHRVMgPSAxO1xuZXhwb3J0IGNvbnN0IElEVFlQRV9FREdFUyA9ICdfZWRnZXMnO1xuXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQ29udGFpbmVyIGV4dGVuZHMgRXZlbnRIYW5kbGVyIGltcGxlbWVudHMgSVBlcnNpc3RhYmxlIHtcbiAgcHJpdmF0ZSBhdHRyTWFwID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcblxuICBwZXJzaXN0KCk6IGFueSB7XG4gICAgaWYgKHRoaXMuYXR0ck1hcC5zaXplID4gMCkge1xuICAgICAgY29uc3QgYXR0cnM6IGFueSA9IHt9O1xuICAgICAgdGhpcy5hdHRyTWFwLmZvckVhY2goKHYsIGspID0+IGF0dHJzW2tdID0gdik7XG4gICAgICByZXR1cm4ge2F0dHJzfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgc2V0QXR0cihhdHRyOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICBjb25zdCBiYWsgPSB0aGlzLmF0dHJNYXAuZ2V0KGF0dHIpO1xuICAgIGlmIChiYWsgPT09IHZhbHVlICYmICFBcnJheS5pc0FycmF5KGJhaykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hdHRyTWFwLnNldChhdHRyLCB2YWx1ZSk7XG4gICAgdGhpcy5maXJlKCdhdHRyLScgKyBhdHRyLCB2YWx1ZSwgYmFrKTtcbiAgICB0aGlzLmZpcmUoJ3NldEF0dHInLCBhdHRyLCB2YWx1ZSwgYmFrKTtcbiAgfVxuXG4gIGhhc0F0dHIoYXR0cjogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0ck1hcC5oYXMoYXR0cik7XG4gIH1cblxuICBnZXRBdHRyKGF0dHI6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBhbnkgPSBudWxsKSB7XG4gICAgaWYgKHRoaXMuYXR0ck1hcC5oYXMoYXR0cikpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dHJNYXAuZ2V0KGF0dHIpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgZ2V0IGF0dHJzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYXR0ck1hcC5rZXlzKCkpO1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICAgIGlmIChwZXJzaXN0ZWQuYXR0cnMpIHtcbiAgICAgIE9iamVjdC5rZXlzKHBlcnNpc3RlZC5hdHRycykuZm9yRWFjaCgoaykgPT4gdGhpcy5hdHRyTWFwLnNldChrLCBwZXJzaXN0ZWQuYXR0cnNba10pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbi8qKlxuICogYSBzaW1wbGUgZ3JhcGggbm9uZVxuICovXG5leHBvcnQgY2xhc3MgR3JhcGhOb2RlIGV4dGVuZHMgQXR0cmlidXRlQ29udGFpbmVyIHtcbiAgcmVhZG9ubHkgb3V0Z29pbmc6IEdyYXBoRWRnZVtdID0gW107XG4gIHJlYWRvbmx5IGluY29taW5nOiBHcmFwaEVkZ2VbXSA9IFtdO1xuXG4gIHByaXZhdGUgX2lkOiBudW1iZXIgPSBOYU47XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHR5cGU6IHN0cmluZyA9ICdub2RlJywgaWQ6IG51bWJlciA9IE5hTikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5faWQgPSBmbGFnSWQoJ2dyYXBoX25vZGUnLCBpZCk7XG4gIH1cblxuICBnZXQgaWQoKSB7XG4gICAgaWYgKGlzTmFOKHRoaXMuX2lkKSkge1xuICAgICAgdGhpcy5faWQgPSB1bmlxdWVJZCgnZ3JhcGhfbm9kZScpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBwZXJzaXN0KCk6IGFueSB7XG4gICAgY29uc3QgciA9IHN1cGVyLnBlcnNpc3QoKTtcbiAgICByLnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgci5pZCA9IHRoaXMuaWQ7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgc3VwZXIucmVzdG9yZShwZXJzaXN0ZWQpO1xuICAgICg8YW55PnRoaXMpLnR5cGUgPSBwZXJzaXN0ZWQudHlwZTtcbiAgICB0aGlzLl9pZCA9IGZsYWdJZCgnZ3JhcGhfbm9kZScsIHBlcnNpc3RlZC5pZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdyYXBoRWRnZSBleHRlbmRzIEF0dHJpYnV0ZUNvbnRhaW5lciB7XG5cbiAgcHJpdmF0ZSBfaWQ6IG51bWJlciA9IE5hTjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgdHlwZTogc3RyaW5nID0gJ2VkZ2UnLCBwdWJsaWMgcmVhZG9ubHkgc291cmNlOiBHcmFwaE5vZGUgPSBudWxsLCBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBHcmFwaE5vZGUgPSBudWxsLCBpZDogbnVtYmVyID0gTmFOKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9pZCA9IGZsYWdJZCgnZ3JhcGhfZWRnZScsIGlkKTtcbiAgICBpZiAoc291cmNlICYmIHRhcmdldCkge1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGlkKCkge1xuICAgIGlmIChpc05hTih0aGlzLl9pZCkpIHtcbiAgICAgIHRoaXMuX2lkID0gdW5pcXVlSWQoJ2dyYXBoX2VkZ2UnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0KCkge1xuICAgIHRoaXMuc291cmNlLm91dGdvaW5nLnB1c2godGhpcyk7XG4gICAgdGhpcy50YXJnZXQuaW5jb21pbmcucHVzaCh0aGlzKTtcbiAgfVxuXG4gIHRha2VEb3duKCkge1xuICAgIGlmICh0aGlzLnNvdXJjZSkge1xuICAgICAgdGhpcy5zb3VyY2Uub3V0Z29pbmcuc3BsaWNlKHRoaXMuc291cmNlLm91dGdvaW5nLmluZGV4T2YodGhpcyksIDEpO1xuICAgIH1cbiAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgIHRoaXMudGFyZ2V0LmluY29taW5nLnNwbGljZSh0aGlzLnRhcmdldC5pbmNvbWluZy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5zb3VyY2V9ICR7dGhpcy50eXBlfSAke3RoaXMudGFyZ2V0fWA7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIGNvbnN0IHIgPSBzdXBlci5wZXJzaXN0KCk7XG4gICAgci50eXBlID0gdGhpcy50eXBlO1xuICAgIHIuaWQgPSB0aGlzLmlkO1xuICAgIHIuc291cmNlID0gdGhpcy5zb3VyY2UuaWQ7XG4gICAgci50YXJnZXQgPSB0aGlzLnRhcmdldC5pZDtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIHJlc3RvcmUocDogYW55LCBub2Rlcz86IChpZDogbnVtYmVyKSA9PiBHcmFwaE5vZGUpIHtcbiAgICBzdXBlci5yZXN0b3JlKHApO1xuICAgICg8YW55PnRoaXMpLnR5cGUgPSBwLnR5cGU7XG4gICAgdGhpcy5faWQgPSBmbGFnSWQoJ2dyYXBoX2VkZ2UnLCBwLmlkKTtcbiAgICAoPGFueT50aGlzKS5zb3VyY2UgPSBub2RlcyhwLnNvdXJjZSk7XG4gICAgKDxhbnk+dGhpcykudGFyZ2V0ID0gbm9kZXMocC50YXJnZXQpO1xuICAgIHRoaXMuaW5pdCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1R5cGUodHlwZTogc3RyaW5nfFJlZ0V4cCkge1xuICByZXR1cm4gKGVkZ2U6IEdyYXBoRWRnZSkgPT4gdHlwZSBpbnN0YW5jZW9mIFJlZ0V4cCA/IHR5cGUudGVzdChlZGdlLnR5cGUpIDogZWRnZS50eXBlID09PSB0eXBlO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUdyYXBoRGF0YURlc2NyaXB0aW9uIGV4dGVuZHMgSURhdGFEZXNjcmlwdGlvbiB7XG4gIC8qKlxuICAgKiBzaXplOiBbbnVtYmVyIG9mIG5vZGVzLCBudW1iZXIgb2YgZWRnZXNdXG4gICAqL1xuICByZWFkb25seSBzaXplOiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gIC8qKlxuICAgKiB3aGVyZSB0byBzdG9yZTogbWVtb3J5LCByZW1vdGUsIGxvY2FsLCBzZXNzaW9uLCBnaXZlbiAocmVxdWlyZXMgaW5zdGFuY2UpXG4gICAqL1xuICByZWFkb25seSBzdG9yYWdlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBpbiBjYXNlIG9mIHN0b3JhZ2UgdHlwZSAnZ2l2ZW4nXG4gICAqL1xuICByZWFkb25seSBncmFwaD86IEFHcmFwaDtcblxuICByZWFkb25seSBhdHRyczoge1trZXk6IHN0cmluZ106IGFueX07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUdyYXBoIGV4dGVuZHMgSURhdGFUeXBlIHtcbiAgcmVhZG9ubHkgZGVzYzogSUdyYXBoRGF0YURlc2NyaXB0aW9uO1xuXG4gIHJlYWRvbmx5IG5vZGVzOiBHcmFwaE5vZGVbXTtcbiAgcmVhZG9ubHkgbm5vZGVzOiBudW1iZXI7XG4gIHJlYWRvbmx5IGVkZ2VzOiBHcmFwaEVkZ2VbXTtcbiAgcmVhZG9ubHkgbmVkZ2VzOiBudW1iZXI7XG5cbiAgYWRkTm9kZShuOiBHcmFwaE5vZGUpOiB0aGlzfFByb21pc2VMaWtlPHRoaXM+O1xuICB1cGRhdGVOb2RlKG46IEdyYXBoTm9kZSk6IHRoaXN8UHJvbWlzZUxpa2U8dGhpcz47XG4gIHJlbW92ZU5vZGUobjogR3JhcGhOb2RlKTogdGhpc3xQcm9taXNlTGlrZTx0aGlzPjtcblxuICBhZGRFZGdlKGU6IEdyYXBoRWRnZSk6IHRoaXN8UHJvbWlzZUxpa2U8dGhpcz47XG4gIGFkZEVkZ2UoczogR3JhcGhOb2RlLCB0eXBlOiBzdHJpbmcsIHQ6IEdyYXBoTm9kZSk6IHRoaXN8UHJvbWlzZUxpa2U8dGhpcz47XG5cbiAgdXBkYXRlRWRnZShlOiBHcmFwaEVkZ2UpOiB0aGlzfFByb21pc2VMaWtlPHRoaXM+O1xuICByZW1vdmVFZGdlKGU6IEdyYXBoRWRnZSk6IHRoaXN8UHJvbWlzZUxpa2U8dGhpcz47XG59XG5cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFHcmFwaCBleHRlbmRzIFNlbGVjdEFibGUge1xuICBhYnN0cmFjdCBnZXQgbm9kZXMoKTogR3JhcGhOb2RlW107XG5cbiAgZ2V0IG5ub2RlcygpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5sZW5ndGg7XG4gIH1cblxuICBhYnN0cmFjdCBnZXQgZWRnZXMoKTogR3JhcGhFZGdlW107XG5cbiAgZ2V0IG5lZGdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5lZGdlcy5sZW5ndGg7XG4gIH1cblxuICBnZXQgZGltKCkge1xuICAgIHJldHVybiBbdGhpcy5ub2Rlcy5sZW5ndGgsIHRoaXMuZWRnZXMubGVuZ3RoXTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICBjb25zdCBpZHMgPSAobGlzdCh0aGlzLm5vZGVzLm1hcCgobikgPT4gbi5pZCksIHRoaXMuZWRnZXMubWFwKChuKSA9PiBuLmlkKSkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaWRzLnByZU11bHRpcGx5KHBhcnNlKHJhbmdlKSkpO1xuICB9XG5cbiAgaWRWaWV3KGlkUmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxJR3JhcGg+IHtcbiAgICB0aHJvdyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICBzZWxlY3ROb2RlKG5vZGU6IEdyYXBoTm9kZSwgb3AgPSBTZWxlY3RPcGVyYXRpb24uU0VUKSB7XG4gICAgdGhpcy5zZWxlY3QoRElNX05PREVTLCBbdGhpcy5ub2Rlcy5pbmRleE9mKG5vZGUpXSwgb3ApO1xuICB9XG5cbiAgYXN5bmMgc2VsZWN0ZWROb2RlcygpOiBQcm9taXNlPEdyYXBoTm9kZVtdPiB7XG4gICAgY29uc3QgciA9IGF3YWl0IHRoaXMuc2VsZWN0aW9ucygpO1xuICAgIGNvbnN0IG5vZGVzOiBHcmFwaE5vZGVbXSA9IFtdO1xuICAgIHIuZGltKERJTV9OT0RFUykuZm9yRWFjaCgoaW5kZXgpID0+IG5vZGVzLnB1c2godGhpcy5ub2Rlc1tpbmRleF0pKTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cblxuICBzZWxlY3RFZGdlKGVkZ2U6IEdyYXBoRWRnZSwgb3AgPSBTZWxlY3RPcGVyYXRpb24uU0VUKSB7XG4gICAgdGhpcy5zZWxlY3QoRElNX0VER0VTLCBbdGhpcy5lZGdlcy5pbmRleE9mKGVkZ2UpXSwgb3ApO1xuICB9XG5cbiAgYXN5bmMgc2VsZWN0ZWRFZGdlcygpOiBQcm9taXNlPEdyYXBoRWRnZVtdPiB7XG4gICAgY29uc3QgciA9IGF3YWl0IHRoaXMuc2VsZWN0aW9ucygpO1xuICAgIGNvbnN0IGVkZ2VzOiBHcmFwaEVkZ2VbXSA9IFtdO1xuICAgIHIuZGltKERJTV9FREdFUykuZm9yRWFjaCgoaW5kZXgpID0+IGVkZ2VzLnB1c2godGhpcy5lZGdlc1tpbmRleF0pKTtcbiAgICByZXR1cm4gZWRnZXM7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW0lEVFlQRV9OT0RFUywgSURUWVBFX0VER0VTXS5tYXAoaWR0eXBlc19yZXNvbHZlKTtcbiAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ3JhcGgvZ3JhcGgudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbmltcG9ydCB7bWl4aW4sIHVuaXF1ZVN0cmluZ30gZnJvbSAnLi9pbmRleCc7XG5cbi8qKlxuICogYmFzaWMgaW50ZXJmYWNlIG9mIGEgcGx1Z2luXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVBsdWdpbkRlc2Mge1xuICAvKipcbiAgICogdHlwZSBvZiBwbHVnaW4sIGEgbmFtZSBieSBjb252ZW50aW9uIGZvciBpZGVudGlmeWluZyBkaWZmZXJlbnQgcGx1Z2luIHR5cGVzXG4gICAqL1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBuYW1lIG9mIHRoZSBwbHVnaW4sIHNob3VsZCBiZSB1bmlxdWUgd2l0aGluIGEgdHlwZVxuICAgKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogaHVtYW4gcmVhZGFibGUgbmFtZSBvZiB0aGlzIHBsdWdpblxuICAgKi9cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiB2ZXJzaW9uIG9mIHRoaXMgcGx1Z2luXG4gICAqIEBkZWZhdWx0IDEuMFxuICAgKi9cbiAgcmVhZG9ubHkgdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogb3B0aW9uYWwgZGVzY3JpcHRpb24gb2YgdGhpcyBwbHVnaW4gICAqXG4gICAqL1xuICByZWFkb25seSBkZXNjcmlwdGlvbjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBuYW1lIG9mIHRoZSBtZXRob2QsIHdoaWNoIGlzIHRoZSBlbnRyeSBwb2ludCBvZiB0aGlzIHBsdWdpblxuICAgKiBvcHRpb25zOlxuICAgKiAgKiBgPGZhY3RvcnltZXRob2Q+YCB0aGUgbmFtZSBvZiB0aGUgZmFjdG9yeSBtZXRob2QgdG8gdXNlXG4gICAqICAqIGBuZXcgPGNsYXNzbmFtZT5gIHdpbGwgY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBnaXZlbiBjbGFzc1xuICAgKiAgKiBgbmV3YCB3aWxsIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgZGVmYXVsdCBleHBvcnRlZCBjbGFzcyBvZiB0aGlzIG1vZHVsZSwgc2FtZSBhcyBgbmV3IGRlZmF1bHRgXG4gICAqIEBkZWZhdWx0IGNyZWF0ZVxuICAgKi9cbiAgcmVhZG9ubHkgZmFjdG9yeTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiBmb3IgbG9hZGluZyB0aGlzIHBsdWdpblxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBsb2FkZWQgcGx1Z2luXG4gICAqL1xuICBsb2FkKCk6IFByb21pc2U8SVBsdWdpbj47XG5cbiAgLyoqXG4gICAqIGFueXRoaW5nIGN1c3RvbVxuICAgKi9cbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG4vKipcbiAqIGJhc2ljIHBsdWdpbiBlbGVtZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVBsdWdpbiB7XG4gIC8qKlxuICAgKiB1bmRlcmx5aW5nIHBsdWdpbiBkZXNjcmlwdGlvblxuICAgKi9cbiAgcmVhZG9ubHkgZGVzYzogSVBsdWdpbkRlc2M7XG4gIC8qKlxuICAgKiBsaW5rIHRvIHRoZSByZWZlcmVuY2VkIG1ldGhvZCBhcyBkZXNjcmliZWQgaW4gdGhlIGRlc2NyaXB0aW9uXG4gICAqL1xuICBmYWN0b3J5KC4uLmFyZ3M6IGFueVtdKTogYW55O1xufVxuXG4vKipcbiAqIGRldGVybWluZXMgdGhlIGZhY3RvcnkgbWV0aG9kIHRvIHVzZSBpbiBjYXNlIG9mIHRoZSAnbmV3ICcgc3ludGF4IHdyYXAgdGhlIGNsYXNzIGNvbnN0cnVjdG9yIHVzaW5nIGEgZmFjdG9yeSBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZhY3RvcnlNZXRob2QoaW5zdGFuY2U6IGFueSwgZmFjdG9yeTogc3RyaW5nKSB7XG4gIGxldCBmID0gZmFjdG9yeS50cmltKCk7XG5cbiAgaWYgKGYgPT09ICduZXcnKSB7XG4gICAgLy9pbnN0YW50aWF0ZSB0aGUgZGVmYXVsdCBjbGFzc1xuICAgIGYgPSAnbmV3IGRlZmF1bHQnO1xuICB9XG4gIGlmIChmID09PSAnY3JlYXRlJykgeyAvL2RlZmF1bHQgdmFsdWVcbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy9kZWZhdWx0IGV4aXN0c1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmNyZWF0ZTtcbiAgICB9XG4gICAgLy8gdHJ5IGFub3RoZXIgZGVmYXVsdFxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy93ZSBoYXZlIGEgZGVmYXVsdCBleHBvcnRcbiAgICAgIGlmIChpbnN0YW5jZS5kZWZhdWx0LnByb3RvdHlwZSAhPT0gdW5kZWZpbmVkKSB7IC8vIGl0IGhhcyBhIHByb3RvdHlwZSBzbyBndWVzcyBpdCBpcyBhIGNsYXNzXG4gICAgICAgIGYgPSAnbmV3IGRlZmF1bHQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZiA9ICdkZWZhdWx0JztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgbmVpZ2h0ZXIgYSBkZWZhdWx0IGV4cG9ydCBub3IgdGhlICdjcmVhdGUnIG1ldGhvZCBleGlzdHMgaW4gdGhlIG1vZHVsZTpgLCBpbnN0YW5jZSk7XG4gICAgfVxuICB9XG4gIGlmIChmLnN0YXJ0c1dpdGgoJ25ldyAnKSkge1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGYuc3Vic3RyaW5nKCduZXcgJy5sZW5ndGgpO1xuICAgIHJldHVybiAoLi4uYXJnczogYW55W10pID0+IG5ldyBpbnN0YW5jZVtjbGFzc05hbWVdKC4uLmFyZ3MpO1xuICB9XG4gIHJldHVybiBpbnN0YW5jZVtmXTtcbn1cblxuXG5jb25zdCByZWdpc3RyeTogSVBsdWdpbkRlc2NbXSA9IFtdO1xuXG5mdW5jdGlvbiBwdXNoKHR5cGU6IHN0cmluZywgaWRPckxvYWRlcjogc3RyaW5nIHwgKCgpID0+IGFueSksIGRlc2NPckxvYWRlcjogYW55LCBkZXNjPzogYW55KSB7XG4gIGNvbnN0IGlkID0gdHlwZW9mIGlkT3JMb2FkZXIgPT09ICdzdHJpbmcnID8gPHN0cmluZz5pZE9yTG9hZGVyIDogdW5pcXVlU3RyaW5nKHR5cGUpO1xuICBjb25zdCBsb2FkZXIgPSB0eXBlb2YgaWRPckxvYWRlciA9PT0gJ3N0cmluZycgPyA8KCkgPT4gYW55PmRlc2NPckxvYWRlciA6IDwoKSA9PiBhbnk+ZGVzY09yTG9hZGVyO1xuICBjb25zdCBwOiBJUGx1Z2luRGVzYyA9IG1peGluKHtcbiAgICB0eXBlLFxuICAgIGlkLFxuICAgIG5hbWU6IGlkLFxuICAgIGZhY3Rvcnk6ICdjcmVhdGUnLFxuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgIGxvYWQ6IGFzeW5jICgpOiBQcm9taXNlPElQbHVnaW4+ID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGxvYWRlcigpKTtcbiAgICAgIHJldHVybiB7ZGVzYzogcCwgZmFjdG9yeTogZ2V0RmFjdG9yeU1ldGhvZChpbnN0YW5jZSwgcC5mYWN0b3J5KX07XG4gICAgfVxuICB9LCB0eXBlb2YgZGVzY09yTG9hZGVyID09PSAnZnVuY3Rpb24nID8gZGVzYyA6IGRlc2NPckxvYWRlcik7XG5cbiAgcmVnaXN0cnkucHVzaChwKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUmVnaXN0cnkge1xuICBwdXNoKHR5cGU6IHN0cmluZywgbG9hZGVyOiAoKSA9PiBhbnksIGRlc2M/OiBhbnkpOiB2b2lkO1xuICBwdXNoKHR5cGU6IHN0cmluZywgaWQ6IHN0cmluZywgbG9hZGVyOiAoKSA9PiBhbnksIGRlc2M/OiBhbnkpOiB2b2lkO1xuICBwdXNoKHR5cGU6IHN0cmluZywgaWRPckxvYWRlcjogc3RyaW5nIHwgKCgpID0+IGFueSksIGRlc2NPckxvYWRlcjogYW55LCBkZXNjPzogYW55KTogdm9pZDtcbiAgLyoqXG4gICAqIGRlZmluZWQgcmVnaXN0cnkgdXNpbmcgdGhlIFdlYnBhY2tEZWZpbmVQbHVnaW5cbiAgICovXG4gIGZsYWdzOiBvYmplY3Q7XG59XG5cblxuY29uc3Qga25vd25QbHVnaW5zID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihwbHVnaW46IHN0cmluZywgZ2VuZXJhdG9yPzogKHJlZ2lzdHJ5OiBJUmVnaXN0cnkpID0+IHZvaWQpIHtcbiAgaWYgKHR5cGVvZiBnZW5lcmF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvL3dyb25nIHR5cGUgLSBub3QgYSBmdW5jdGlvbiwgbWF5YmUgYSBkdW1teSBpbmxpbmVcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGtub3duUGx1Z2lucy5oYXMocGx1Z2luKSkge1xuICAgIHJldHVybjsgLy8gZG9uJ3QgY2FsbCBpdCB0d2ljZVxuICB9XG4gIGtub3duUGx1Z2lucy5hZGQocGx1Z2luKTtcblxuICBnZW5lcmF0b3Ioe3B1c2gsIGZsYWdzOiB7fX0pO1xufVxuXG4vKipcbiAqIHJldHVybnMgYSBsaXN0IG9mIG1hdGNoaW5nIHBsdWdpbiBkZXNjc1xuICogQHBhcmFtIGZpbHRlclxuICogQHJldHVybnMge0lQbHVnaW5EZXNjW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0KGZpbHRlcjogKHN0cmluZyB8ICgoZGVzYzogSVBsdWdpbkRlc2MpID0+IGJvb2xlYW4pKSA9ICgpID0+IHRydWUpIHtcbiAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgdiA9IGZpbHRlcjtcbiAgICBmaWx0ZXIgPSAoZGVzYykgPT4gZGVzYy50eXBlID09PSB2O1xuICB9XG4gIHJldHVybiByZWdpc3RyeS5maWx0ZXIoPGFueT5maWx0ZXIpO1xufVxuXG4vKipcbiAqIHJldHVybnMgYW4gZXh0ZW5zaW9uIGlkZW50aWZpZWQgYnkgdHlwZSBhbmQgaWRcbiAqIEBwYXJhbSB0eXBlXG4gKiBAcGFyYW0gaWRcbiAqIEByZXR1cm5zIHtJUGx1Z2luRGVzY31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldCh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBJUGx1Z2luRGVzYyB7XG4gIHJldHVybiByZWdpc3RyeS5maW5kKChkKSA9PiBkLnR5cGUgPT09IHR5cGUgJiYgZC5pZCA9PT0gaWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChkZXNjOiBJUGx1Z2luRGVzY1tdKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChkZXNjLm1hcCgoZCkgPT4gZC5sb2FkKCkpKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2ltcGxpZnkgaW1wb3J0aW5nIG9mICByZXNvdXJjZSBmaWxlcyAoZS5nLiwgSlNPTikuXG4gKiBUaGUgaW1wb3J0ZWQgcmVzb3VyY2UgZmlsZSBpcyByZXR1cm5lZCBhcyBpdCBpcy5cbiAqXG4gKiBAcGFyYW0gZGF0YSBJbXBvcnRlZCBKU09OIGZpbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzUmVzb3VyY2UoZGF0YTogYW55KSB7XG4gIHJldHVybiB7XG4gICAgY3JlYXRlOiAoKSA9PiBkYXRhXG4gIH07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcGx1Z2luLnRzIiwiY2xhc3MgUmVzb2x2ZU5vdzxUPiBpbXBsZW1lbnRzIFByb21pc2VMaWtlPFQ+IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSB2OiBUKSB7XG4gIH1cblxuICAvLyBXaGVuIHVzaW5nIFR5cGVzY3JpcHQgdjIuNysgdGhlIHR5cGluZyBjYW4gYmUgZnVydGhlciBzcGVjaWZpZWQgYXMgYHRoZW48VFJlc3VsdDEgPSBULCBUUmVzdWx0MiA9IG5ldmVyPiguLi5gXG4gIHRoZW48VFJlc3VsdDEsIFRSZXN1bHQyPihvbmZ1bGZpbGxlZD86ICgodmFsdWU6IFQpID0+IFRSZXN1bHQxIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDE+KSB8IHVuZGVmaW5lZCB8IG51bGwsIG9ucmVqZWN0ZWQ/OiAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0MiB8IFByb21pc2VMaWtlPFRSZXN1bHQyPikgfCB1bmRlZmluZWQgfCBudWxsKTogUHJvbWlzZUxpa2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj4ge1xuICAgIHJldHVybiByZXNvbHZlSW1tZWRpYXRlbHkob25mdWxmaWxsZWQodGhpcy52KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBzaW1pbGFyIHRvIFByb21pc2UucmVzb2x2ZSBidXQgZXhlY3V0ZXMgdGhlIHJlc3VsdCBpbW1lZGlhdGVseSB3aXRob3V0IGFuIGludGVybWVkaWF0ZSB0aWNrXG4gKiBAcGFyYW0ge1Byb21pc2VMaWtlPFQ+IHwgVH0gcmVzdWx0XG4gKiBAcmV0dXJucyB7UHJvbWlzZUxpa2U8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSW1tZWRpYXRlbHk8VD4ocmVzdWx0OiBUIHwgUHJvbWlzZUxpa2U8VD4pOiBQcm9taXNlTGlrZTxUPiB7XG4gIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlIHx8IChyZXN1bHQgJiYgdHlwZW9mICg8YW55PnJlc3VsdCkudGhlbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICByZXR1cm4gPFByb21pc2VMaWtlPFQ+PnJlc3VsdDtcbiAgfVxuICByZXR1cm4gPFByb21pc2VMaWtlPFQ+Pm5ldyBSZXNvbHZlTm93KHJlc3VsdCk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW50ZXJuYWwvcHJvbWlzZS50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8vIHRvIHJlc29sdmUgdGhlIHdpbmRvdyBleHRlbnNpb25zXG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cIndoYXR3Zy1mZXRjaFwiIC8+XG5cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cbmltcG9ydCB7b2ZmbGluZSBhcyBpc09mZmxpbmUsIHNlcnZlcl91cmwsIHNlcnZlcl9qc29uX3N1ZmZpeH0gZnJvbSAnLic7XG5pbXBvcnQge2ZpcmV9IGZyb20gJy4vZXZlbnQnO1xuXG5leHBvcnQgY29uc3QgR0xPQkFMX0VWRU5UX0FKQVhfUFJFX1NFTkQgPSAnYWpheFByZVNlbmQnO1xuZXhwb3J0IGNvbnN0IEdMT0JBTF9FVkVOVF9BSkFYX1BPU1RfU0VORCA9ICdhamF4UG9zdFNlbmQnO1xuXG4vKipcbiAqIE1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgb2YgYSB2YWxpZCBVUkxcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9VUkxfTEVOR1RIID0gNDA5NjtcblxuY2xhc3MgQWpheEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcmVzcG9uc2U6IFJlc3BvbnNlLCBtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSA/IG1lc3NhZ2UgOiByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAvLyBTZXQgdGhlIHByb3RvdHlwZSBleHBsaWNpdGx5LiBuZWVkZWQgZm9yIFR5cGVzY3JpcHQgMi4xXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFqYXhFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrU3RhdHVzKHJlc3BvbnNlOiBSZXNwb25zZSkge1xuICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEFqYXhFcnJvcihyZXNwb25zZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlKGV4cGVjdGVkRGF0YVR5cGU6IHN0cmluZywgcmVzcG9uc2U6IFJlc3BvbnNlKSB7XG4gIHN3aXRjaCAoZXhwZWN0ZWREYXRhVHlwZS50cmltKCkudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2pzb24nOlxuICAgIGNhc2UgJ2FwcGxpY2F0aW9uL2pzb24nOlxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICBjYXNlICd0ZXh0JzpcbiAgICBjYXNlICd0ZXh0L3BsYWluJzpcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgY2FzZSAnYmxvYic6XG4gICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICAgIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgQWpheEVycm9yKHJlc3BvbnNlLCBgdW5rbm93biBleHBlY3RlZCBkYXRhIHR5cGU6IFwiJHtleHBlY3RlZERhdGFUeXBlfVwiYCk7XG4gIH1cbn1cblxuLyoqXG4gKiBzZW5kcyBhbiBYTUwgaHR0cCByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXJcbiAqIEBwYXJhbSB1cmwgdXJsXG4gKiBAcGFyYW0gZGF0YSBhcmd1bWVudHNcbiAqIEBwYXJhbSBtZXRob2QgdGhlIGh0dHAgbWV0aG9kXG4gKiBAcGFyYW0gZXhwZWN0ZWREYXRhVHlwZSBleHBlY3RlZCBkYXRhIHR5cGUgdG8gcmV0dXJuLCBpbiBjYXNlIG9mIEpTT04gaXQgd2lsbCBiZSBwYXJzZWQgdXNpbmcgSlNPTi5wYXJzZVxuICogQHBhcmFtIHJlcXVlc3RCb2R5IGJvZHkgbWltZSB0eXBlLCBkZWZhdWx0IGF1dG8gZGVyaXZlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZCh1cmw6IHN0cmluZywgZGF0YTogYW55ID0ge30sIG1ldGhvZCA9ICdHRVQnLCBleHBlY3RlZERhdGFUeXBlID0gJ2pzb24nLCByZXF1ZXN0Qm9keSA9ICdmb3JtZGF0YScpOiBQcm9taXNlPGFueT4ge1xuICAvLyBmb3IgY29tcGF0aWJpbGl0eVxuICBtZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcblxuICAvLyBuZWVkIHRvIGVuY29kZSB0aGUgYm9keSBpbiB0aGUgdXJsIGluIGNhc2Ugb2YgR0VUIGFuZCBIRUFEXG4gIGlmIChtZXRob2QgPT09ICdHRVQnIHx8IG1ldGhvZCA9PT0gJ0hFQUQnKSB7XG4gICAgZGF0YSA9IGVuY29kZVBhcmFtcyhkYXRhKTsgLy9lbmNvZGUgaW4gdXJsXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHVybCArPSAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIGRhdGE7XG4gICAgICBkYXRhID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICBtZXRob2QsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgIH0sXG4gIH07XG5cbiAgaWYgKGRhdGEpIHtcbiAgICBsZXQgbWltZXR5cGU6IHN0cmluZyA9ICcnO1xuICAgIHN3aXRjaCAocmVxdWVzdEJvZHkudHJpbSgpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgY2FzZSAnYXBwbGljYXRpb24vanNvbic6XG4gICAgICAgIG1pbWV0eXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICBvcHRpb25zLmJvZHkgPSB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICBjYXNlICd0ZXh0L3BsYWluJzpcbiAgICAgICAgbWltZXR5cGUgPSAndGV4dC9wbGFpbic7XG4gICAgICAgIG9wdGlvbnMuYm9keSA9IFN0cmluZyhkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdibG9iJzpcbiAgICAgIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICAgICAgbWltZXR5cGUgPSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcbiAgICAgICAgb3B0aW9ucy5ib2R5ID0gZGF0YTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgICAgb3B0aW9ucy5ib2R5ID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaW1ldHlwZSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnO1xuICAgICAgICAgIG9wdGlvbnMuYm9keSA9IGVuY29kZVBhcmFtcyhkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobWltZXR5cGUpIHtcbiAgICAgICg8YW55Pm9wdGlvbnMuaGVhZGVycylbJ0NvbnRlbnQtVHlwZSddID0gbWltZXR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gdGhlcmUgYXJlIG5vIHR5cGluZ3MgZm9yIGZldGNoIHNvIGZhclxuICBmaXJlKEdMT0JBTF9FVkVOVF9BSkFYX1BSRV9TRU5ELCB1cmwsIG9wdGlvbnMpO1xuICBjb25zdCByID0gY2hlY2tTdGF0dXMoYXdhaXQgc2VsZi5mZXRjaCh1cmwsIG9wdGlvbnMpKTtcbiAgY29uc3Qgb3V0cHV0ID0gcGFyc2VUeXBlKGV4cGVjdGVkRGF0YVR5cGUsIHIpO1xuICBmaXJlKEdMT0JBTF9FVkVOVF9BSkFYX1BPU1RfU0VORCwgdXJsLCBvcHRpb25zLCByLCBvdXRwdXQpO1xuICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiB0byBnZXQgc29tZSBhamF4IGpzb24gZmlsZVxuICogQHBhcmFtIHVybFxuICogQHBhcmFtIGRhdGFcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKU09OKHVybDogc3RyaW5nLCBkYXRhOiBhbnkgPSB7fSk6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBzZW5kKHVybCwgZGF0YSk7XG59XG4vKipcbiAqIGdldCBzb21lIGdlbmVyaWMgZGF0YSB2aWEgYWpheFxuICogQHBhcmFtIHVybFxuICogQHBhcmFtIGRhdGFcbiAqIEBwYXJhbSBleHBlY3RlZERhdGFUeXBlXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YSh1cmw6IHN0cmluZywgZGF0YTogYW55ID0ge30sIGV4cGVjdGVkRGF0YVR5cGUgPSAnanNvbicpOiBQcm9taXNlPGFueT4ge1xuICByZXR1cm4gc2VuZCh1cmwsIGRhdGEsICdHRVQnLCBleHBlY3RlZERhdGFUeXBlKTtcbn1cblxuLyoqXG4gKiBjb252ZXJ0cyB0aGUgZ2l2ZW4gYXBpIHVybCB0byBhbiBhYnNvbHV0ZSB3aXRoIG9wdGlvbmFsIGdldCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0gdXJsXG4gKiBAcGFyYW0gZGF0YVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwaTJhYnNVUkwodXJsOiBzdHJpbmcsIGRhdGE6IGFueSA9IG51bGwpIHtcbiAgdXJsID0gYCR7c2VydmVyX3VybH0ke3VybH0ke3NlcnZlcl9qc29uX3N1ZmZpeH1gO1xuICBkYXRhID0gZW5jb2RlUGFyYW1zKGRhdGEpO1xuICBpZiAoZGF0YSkge1xuICAgIHVybCArPSAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIGRhdGE7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuXG4vKipcbiAqIGNvbnZlcnQgYSBnaXZlbiBvYmplY3QgdG8gdXJsIGRhdGEgc2ltaWxhciB0byBKUXVlcnlcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlUGFyYW1zKGRhdGE6IGFueSA9IG51bGwpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHM6IHN0cmluZ1tdID0gW107XG5cbiAgZnVuY3Rpb24gYWRkKHByZWZpeDogc3RyaW5nLCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgYWRkKHByZWZpeCwgYCR7a2V5fVske2l9XWAsIHYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vcHJpbWl0aXZlIHZhbHVlcyB1c2VzIHRoZSBzYW1lIGtleVxuICAgICAgICAgIGFkZChwcmVmaXgsIGAke2tleX1bXWAsIHYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIC8vIHNraXBcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIGFkZChwcmVmaXgsIGAke2tleX1bJHt2fV1gLCB2YWx1ZVt2XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChwcmVmaXggKyBrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBhZGQoJycsIGtleSwgZGF0YVtrZXldKTtcbiAgfSk7XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuICByZXR1cm4gcy5qb2luKCcmJykucmVwbGFjZSgvJTIwL2csICcrJyk7XG59XG5cbnR5cGUgT2ZmbGluZUdlbmVyYXRvciA9ICgoZGF0YTogYW55LCB1cmw6IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+KSB8IFByb21pc2U8YW55PiB8IGFueTtcbmxldCBkZWZhdWx0R2VuZXJhdG9yOiBPZmZsaW5lR2VuZXJhdG9yID0gKCkgPT4gUHJvbWlzZS5yZWplY3QoJ29mZmxpbmUnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRPZmZsaW5lR2VuZXJhdG9yKGdlbmVyYXRvcjogT2ZmbGluZUdlbmVyYXRvciB8IG51bGwpIHtcbiAgZGVmYXVsdEdlbmVyYXRvciA9IGdlbmVyYXRvciB8fCAoKCkgPT4gUHJvbWlzZS5yZWplY3QoJ29mZmxpbmUnKSk7XG59XG5cbi8qKlxuICogaGFuZGxlciBpbiBjYXNlIHBob3ZlYSBpcyBzZXQgdG8gYmUgaW4gb2ZmbGluZSBtb2RlXG4gKiBAcGFyYW0gZ2VuZXJhdG9yXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIHVybFxuICogQHJldHVybnMge1Byb21pc2U8T2ZmbGluZUdlbmVyYXRvcj59XG4gKi9cbmZ1bmN0aW9uIG9mZmxpbmUoZ2VuZXJhdG9yOiBPZmZsaW5lR2VuZXJhdG9yLCB1cmw6IHN0cmluZywgZGF0YTogYW55KSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUodHlwZW9mIGdlbmVyYXRvciA9PT0gJ2Z1bmN0aW9uJyA/IGdlbmVyYXRvcihkYXRhLCB1cmwpIDogZ2VuZXJhdG9yKTtcbn1cblxuLyoqXG4gKiBhcGkgdmVyc2lvbiBvZiBzZW5kXG4gKiBAcGFyYW0gdXJsIGFwaSByZWxhdGl2ZSB1cmxcbiAqIEBwYXJhbSBkYXRhIGFyZ3VtZW50c1xuICogQHBhcmFtIG1ldGhvZCBodHRwIG1ldGhvZFxuICogQHBhcmFtIGV4cGVjdGVkRGF0YVR5cGUgZXhwZWN0ZWQgZGF0YSB0eXBlIHRvIHJldHVybiwgaW4gY2FzZSBvZiBKU09OIGl0IHdpbGwgYmUgcGFyc2VkIHVzaW5nIEpTT04ucGFyc2VcbiAqIEBwYXJhbSBvZmZsaW5lR2VuZXJhdG9yIGluIGNhc2UgcGhvdmVhIGlzIHNldCB0byBiZSBvZmZsaW5lXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VuZEFQSSh1cmw6IHN0cmluZywgZGF0YTogYW55ID0ge30sIG1ldGhvZCA9ICdHRVQnLCBleHBlY3RlZERhdGFUeXBlID0gJ2pzb24nLCBvZmZsaW5lR2VuZXJhdG9yOiBPZmZsaW5lR2VuZXJhdG9yID0gZGVmYXVsdEdlbmVyYXRvcik6IFByb21pc2U8YW55PiB7XG4gIGlmIChpc09mZmxpbmUpIHtcbiAgICByZXR1cm4gb2ZmbGluZShvZmZsaW5lR2VuZXJhdG9yLCB1cmwsIGRhdGEpO1xuICB9XG4gIHJldHVybiBzZW5kKGFwaTJhYnNVUkwodXJsKSwgZGF0YSwgbWV0aG9kLCBleHBlY3RlZERhdGFUeXBlKTtcbn1cblxuLyoqXG4gKiBhcGkgdmVyc2lvbiBvZiBnZXRKU09OXG4gKiBAcGFyYW0gdXJsIGFwaSByZWxhdGl2ZSB1cmxcbiAqIEBwYXJhbSBkYXRhIGFyZ3VtZW50c1xuICogQHBhcmFtIG9mZmxpbmVHZW5lcmF0b3IgaW4gY2FzZSBvZiBvZmZsaW5lIGZsYWcgaXMgc2V0IHdoYXQgc2hvdWxkIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QVBJSlNPTih1cmw6IHN0cmluZywgZGF0YTogYW55ID0ge30sIG9mZmxpbmVHZW5lcmF0b3I6IE9mZmxpbmVHZW5lcmF0b3IgPSBkZWZhdWx0R2VuZXJhdG9yKTogUHJvbWlzZTxhbnk+IHtcbiAgaWYgKGlzT2ZmbGluZSkge1xuICAgIHJldHVybiBvZmZsaW5lKG9mZmxpbmVHZW5lcmF0b3IsIHVybCwgZGF0YSk7XG4gIH1cbiAgcmV0dXJuIGdldEpTT04oYXBpMmFic1VSTCh1cmwpLCBkYXRhKTtcbn1cblxuLyoqXG4gKiBhcGkgdmVyc2lvbiBvZiBnZXREYXRhXG4gKiBAcGFyYW0gdXJsIGFwaSByZWxhdGl2ZSB1cmxcbiAqIEBwYXJhbSBkYXRhIGFyZ3VtZW50c1xuICogQHBhcmFtIGV4cGVjdGVkRGF0YVR5cGUgZXhwZWN0ZWQgZGF0YSB0eXBlIHRvIHJldHVybiwgaW4gY2FzZSBvZiBKU09OIGl0IHdpbGwgYmUgcGFyc2VkIHVzaW5nIEpTT04ucGFyc2VcbiAqIEBwYXJhbSBvZmZsaW5lR2VuZXJhdG9yIGluIGNhc2Ugb2Ygb2ZmbGluZSBmbGFnIGlzIHNldCB3aGF0IHNob3VsZCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFQSURhdGEodXJsOiBzdHJpbmcsIGRhdGE6IGFueSA9IHt9LCBleHBlY3RlZERhdGFUeXBlID0gJ2pzb24nLCBvZmZsaW5lR2VuZXJhdG9yOiBPZmZsaW5lR2VuZXJhdG9yID0gKCkgPT4gZGVmYXVsdEdlbmVyYXRvcik6IFByb21pc2U8YW55PiB7XG4gIGlmIChpc09mZmxpbmUpIHtcbiAgICByZXR1cm4gb2ZmbGluZShvZmZsaW5lR2VuZXJhdG9yLCB1cmwsIGRhdGEpO1xuICB9XG4gIHJldHVybiBnZXREYXRhKGFwaTJhYnNVUkwodXJsKSwgZGF0YSwgZXhwZWN0ZWREYXRhVHlwZSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYWpheC50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuLy8gdHNsaW50OmRpc2FibGU6bm8tdXNlLWJlZm9yZS1kZWNsYXJlXG4vLyBEaXNhYmxlZCB0aGUgcnVsZSwgYmVjYXVzZSB0aGUgY2xhc3NlcyBiZWxvdyByZWZlcmVuY2UgZWFjaCBvdGhlciBpbiBhIHdheSB0aGF0IGl0IGlzIGltcG9zc2libGUgdG8gZmluZCBhIHN1Y2Nlc3NmdWwgb3JkZXIuXG5cbi8qKlxuICogVGhlIGludGVyc2VjdGlvbiBpcyBiYXNlZCBvbiBLZXZpbiBMaW5kc2V5XG4gKiBodHRwOi8vd3d3LmtldmxpbmRldi5jb20vZ3VpL2luZGV4Lmh0bVxuICpcbiAqIGNvcHlyaWdodCAyMDAyIEtldmluIExpbmRzZXlcbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIElJbnRlcnNlY3Rpb25QYXJhbSB7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgcGFyYW1zOiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2hhcGUge1xuICBhc0ludGVyc2VjdGlvblBhcmFtcygpOiBJSW50ZXJzZWN0aW9uUGFyYW07XG59XG5cbmZ1bmN0aW9uIHBhcmFtKG5hbWU6IHN0cmluZywgcGFyYW1zOiBhbnlbXSk6IElJbnRlcnNlY3Rpb25QYXJhbSB7XG4gIHJldHVybiB7bmFtZSwgcGFyYW1zfTtcbn1cblxuZXhwb3J0IGNsYXNzIEludGVyc2VjdGlvbiB7XG4gIHJlYWRvbmx5IHBvaW50czogVmVjdG9yMkRbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiAgJ091dHNpZGUnLFxuICAgKiAgJ0luc2lkZScsXG4gICAqICAnVGFuZ2VudCdcbiAgICogICdDb2luY2lkZW50J1xuICAgKiAgJ1BhcmFsbGVsJ1xuICAgKiAgJ0ludGVyc2VjdGlvbidcbiAgICogICdObyBJbnRlcnNlY3Rpb24nXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhdHVzID0gJ05vIEludGVyc2VjdGlvbicpIHtcblxuICB9XG5cbiAgZ2V0IGludGVyc2VjdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzID09PSAnSW50ZXJzZWN0aW9uJztcbiAgfVxuXG4gIGFwcGVuZFBvaW50KHBvaW50OiBWZWN0b3IyRCkge1xuICAgIHRoaXMuc3RhdHVzID0gJ0ludGVyc2VjdGlvbic7XG4gICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gIH1cblxuICBhcHBlbmRQb2ludHMocG9pbnRzOiBWZWN0b3IyRFtdKSB7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnN0YXR1cyA9ICdJbnRlcnNlY3Rpb24nO1xuICAgIH1cbiAgICB0aGlzLnBvaW50cy5wdXNoKC4uLnBvaW50cyk7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLnBvaW50cy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgdGhlIHNwZWNpZmllZCBhY3Rpb24gZm9yIGVhY2ggZWxlbWVudCBpbiBhbiBhcnJheS5cbiAgICogQHBhcmFtIGNhbGxiYWNrZm4gIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIHRocmVlIGFyZ3VtZW50cy4gZm9yRWFjaCBjYWxscyB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbiBvbmUgdGltZSBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheS5cbiAgICogQHBhcmFtIHRoaXNBcmcgIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBWZWN0b3IyRCwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFZlY3RvcjJEW10pID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnBvaW50cy5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGEgZGVmaW5lZCBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXksIGFuZCByZXR1cm5zIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHJlc3VsdHMuXG4gICAqIEBwYXJhbSBjYWxsYmFja2ZuIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIHRocmVlIGFyZ3VtZW50cy4gVGhlIG1hcCBtZXRob2QgY2FsbHMgdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24gb25lIHRpbWUgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSB0aGlzQXJnIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIG1hcDxVPihjYWxsYmFja2ZuOiAodmFsdWU6IFZlY3RvcjJELCBpbmRleDogbnVtYmVyLCBhcnJheTogVmVjdG9yMkRbXSkgPT4gVSwgdGhpc0FyZz86IGFueSk6IFVbXSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzLm1hcChjYWxsYmFja2ZuLCB0aGlzQXJnKTtcbiAgfVxuXG4gIHN0YXRpYyBpbnRlcnNlY3RTaGFwZXMoc2hhcGUxOiBJU2hhcGUsIHNoYXBlMjogSVNoYXBlKSB7XG4gICAgY29uc3QgaXAxID0gc2hhcGUxLmFzSW50ZXJzZWN0aW9uUGFyYW1zKCk7XG4gICAgY29uc3QgaXAyID0gc2hhcGUyLmFzSW50ZXJzZWN0aW9uUGFyYW1zKCk7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoaXAxICE9IG51bGwgJiYgaXAyICE9IG51bGwpIHtcbiAgICAgIGlmIChzaGFwZTEgaW5zdGFuY2VvZiBQYXRoKSB7XG4gICAgICAgIHJlc3VsdCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RQYXRoU2hhcGUoPFBhdGg+c2hhcGUxLCBzaGFwZTIpO1xuICAgICAgfSBlbHNlIGlmIChzaGFwZTIgaW5zdGFuY2VvZiBQYXRoKSB7XG4gICAgICAgIHJlc3VsdCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RQYXRoU2hhcGUoPFBhdGg+c2hhcGUyLCBzaGFwZTEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG1ldGhvZDtcbiAgICAgICAgbGV0IHBhcmFtcztcbiAgICAgICAgaWYgKGlwMS5uYW1lIDwgaXAyLm5hbWUpIHtcbiAgICAgICAgICBtZXRob2QgPSAnaW50ZXJzZWN0JyArIGlwMS5uYW1lICsgaXAyLm5hbWU7XG4gICAgICAgICAgcGFyYW1zID0gaXAxLnBhcmFtcy5jb25jYXQoaXAyLnBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWV0aG9kID0gJ2ludGVyc2VjdCcgKyBpcDIubmFtZSArIGlwMS5uYW1lO1xuICAgICAgICAgIHBhcmFtcyA9IGlwMi5wYXJhbXMuY29uY2F0KGlwMS5wYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkFueSA9IDxhbnk+SW50ZXJzZWN0aW9uO1xuICAgICAgICBpZiAodHlwZW9mIGludGVyc2VjdGlvbkFueVttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlcnNlY3Rpb24gbm90IGF2YWlsYWJsZTogJyArIG1ldGhvZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gaW50ZXJzZWN0aW9uQW55W21ldGhvZF0uYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdFBhdGhTaGFwZShwYXRoOiBQYXRoLCBzaGFwZTogSVNoYXBlKSB7XG4gICAgcmV0dXJuIHBhdGguaW50ZXJzZWN0U2hhcGUoc2hhcGUpO1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEJlemllcjJCZXppZXIyKGExOiBWZWN0b3IyRCwgYTI6IFZlY3RvcjJELCBhMzogVmVjdG9yMkQsIGIxOiBWZWN0b3IyRCwgYjI6IFZlY3RvcjJELCBiMzogVmVjdG9yMkQpIHtcbiAgICBjb25zdCBUT0xFUkFOQ0UgPSAxZS00O1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcbiAgICBsZXQgYSA9IGEyLm11bHRpcGx5KC0yKTtcbiAgICBjb25zdCBjMTIgPSBhMS5hZGQoYS5hZGQoYTMpKTtcbiAgICBhID0gYTEubXVsdGlwbHkoLTIpO1xuICAgIGxldCBiID0gYTIubXVsdGlwbHkoMik7XG4gICAgY29uc3QgYzExID0gYS5hZGQoYik7XG4gICAgY29uc3QgYzEwID0gbmV3IFZlY3RvcjJEKGExLngsIGExLnkpO1xuICAgIGEgPSBiMi5tdWx0aXBseSgtMik7XG4gICAgY29uc3QgYzIyID0gYjEuYWRkKGEuYWRkKGIzKSk7XG4gICAgYSA9IGIxLm11bHRpcGx5KC0yKTtcbiAgICBiID0gYjIubXVsdGlwbHkoMik7XG4gICAgY29uc3QgYzIxID0gYS5hZGQoYik7XG4gICAgY29uc3QgYzIwID0gbmV3IFZlY3RvcjJEKGIxLngsIGIxLnkpO1xuICAgIGNvbnN0IGFmID0gYzEyLnggKiBjMTEueSAtIGMxMS54ICogYzEyLnk7XG4gICAgY29uc3QgYmYgPSBjMjIueCAqIGMxMS55IC0gYzExLnggKiBjMjIueTtcbiAgICBjb25zdCBjID0gYzIxLnggKiBjMTEueSAtIGMxMS54ICogYzIxLnk7XG4gICAgY29uc3QgZCA9IGMxMS54ICogKGMxMC55IC0gYzIwLnkpICsgYzExLnkgKiAoLWMxMC54ICsgYzIwLngpO1xuICAgIGNvbnN0IGUgPSBjMjIueCAqIGMxMi55IC0gYzEyLnggKiBjMjIueTtcbiAgICBjb25zdCBmID0gYzIxLnggKiBjMTIueSAtIGMxMi54ICogYzIxLnk7XG4gICAgY29uc3QgZyA9IGMxMi54ICogKGMxMC55IC0gYzIwLnkpICsgYzEyLnkgKiAoLWMxMC54ICsgYzIwLngpO1xuICAgIGNvbnN0IHBvbHkgPSBuZXcgUG9seW5vbWlhbCgtZSAqIGUsIC0yICogZSAqIGYsIGFmICogYmYgLSBmICogZiAtIDIgKiBlICogZywgYWYgKiBjIC0gMiAqIGYgKiBnLCBhZiAqIGQgLSBnICogZyk7XG4gICAgY29uc3Qgcm9vdHMgPSBwb2x5LmdldFJvb3RzKCk7XG4gICAgZm9yIChjb25zdCBzIG9mIHJvb3RzKSB7XG4gICAgICBpZiAoMCA8PSBzICYmIHMgPD0gMSkge1xuICAgICAgICBjb25zdCB4Um9vdHMgPSBuZXcgUG9seW5vbWlhbCgtYzEyLngsIC1jMTEueCwgLWMxMC54ICsgYzIwLnggKyBzICogYzIxLnggKyBzICogcyAqIGMyMi54KS5nZXRSb290cygpO1xuICAgICAgICBjb25zdCB5Um9vdHMgPSBuZXcgUG9seW5vbWlhbCgtYzEyLnksIC1jMTEueSwgLWMxMC55ICsgYzIwLnkgKyBzICogYzIxLnkgKyBzICogcyAqIGMyMi55KS5nZXRSb290cygpO1xuICAgICAgICBpZiAoeFJvb3RzLmxlbmd0aCA+IDAgJiYgeVJvb3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjaGVja1Jvb3RzOmZvciAoY29uc3QgeFJvb3Qgb2YgeFJvb3RzKSB7XG4gICAgICAgICAgICBpZiAoMCA8PSB4Um9vdCAmJiB4Um9vdCA8PSAxKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgeVJvb3Qgb2YgeVJvb3RzKSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHhSb290IC0geVJvb3QpIDwgVE9MRVJBTkNFKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQucG9pbnRzLnB1c2goYzIyLm11bHRpcGx5KHMgKiBzKS5hZGQoYzIxLm11bHRpcGx5KHMpLmFkZChjMjApKSk7XG4gICAgICAgICAgICAgICAgICBicmVhayBjaGVja1Jvb3RzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEJlemllcjJCZXppZXIzKGExOiBWZWN0b3IyRCwgYTI6IFZlY3RvcjJELCBhMzogVmVjdG9yMkQsIGIxOiBWZWN0b3IyRCwgYjI6IFZlY3RvcjJELCBiMzogVmVjdG9yMkQsIGI0OiBWZWN0b3IyRCkge1xuICAgIGxldCBhLCBiLCBjLCBkO1xuICAgIGxldCBjMTIsIGMxMSwgYzEwO1xuICAgIGxldCBjMjMsIGMyMiwgYzIxLCBjMjA7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIGEgPSBhMi5tdWx0aXBseSgtMik7XG4gICAgYzEyID0gYTEuYWRkKGEuYWRkKGEzKSk7XG4gICAgYSA9IGExLm11bHRpcGx5KC0yKTtcbiAgICBiID0gYTIubXVsdGlwbHkoMik7XG4gICAgYzExID0gYS5hZGQoYik7XG4gICAgYzEwID0gbmV3IFZlY3RvcjJEKGExLngsIGExLnkpO1xuICAgIGEgPSBiMS5tdWx0aXBseSgtMSk7XG4gICAgYiA9IGIyLm11bHRpcGx5KDMpO1xuICAgIGMgPSBiMy5tdWx0aXBseSgtMyk7XG4gICAgZCA9IGEuYWRkKGIuYWRkKGMuYWRkKGI0KSkpO1xuICAgIGMyMyA9IG5ldyBWZWN0b3IyRChkLngsIGQueSk7XG4gICAgYSA9IGIxLm11bHRpcGx5KDMpO1xuICAgIGIgPSBiMi5tdWx0aXBseSgtNik7XG4gICAgYyA9IGIzLm11bHRpcGx5KDMpO1xuICAgIGQgPSBhLmFkZChiLmFkZChjKSk7XG4gICAgYzIyID0gbmV3IFZlY3RvcjJEKGQueCwgZC55KTtcbiAgICBhID0gYjEubXVsdGlwbHkoLTMpO1xuICAgIGIgPSBiMi5tdWx0aXBseSgzKTtcbiAgICBjID0gYS5hZGQoYik7XG4gICAgYzIxID0gbmV3IFZlY3RvcjJEKGMueCwgYy55KTtcbiAgICBjMjAgPSBuZXcgVmVjdG9yMkQoYjEueCwgYjEueSk7XG4gICAgY29uc3QgYzEweDIgPSBjMTAueCAqIGMxMC54O1xuICAgIGNvbnN0IGMxMHkyID0gYzEwLnkgKiBjMTAueTtcbiAgICBjb25zdCBjMTF4MiA9IGMxMS54ICogYzExLng7XG4gICAgY29uc3QgYzExeTIgPSBjMTEueSAqIGMxMS55O1xuICAgIGNvbnN0IGMxMngyID0gYzEyLnggKiBjMTIueDtcbiAgICBjb25zdCBjMTJ5MiA9IGMxMi55ICogYzEyLnk7XG4gICAgY29uc3QgYzIweDIgPSBjMjAueCAqIGMyMC54O1xuICAgIGNvbnN0IGMyMHkyID0gYzIwLnkgKiBjMjAueTtcbiAgICBjb25zdCBjMjF4MiA9IGMyMS54ICogYzIxLng7XG4gICAgY29uc3QgYzIxeTIgPSBjMjEueSAqIGMyMS55O1xuICAgIGNvbnN0IGMyMngyID0gYzIyLnggKiBjMjIueDtcbiAgICBjb25zdCBjMjJ5MiA9IGMyMi55ICogYzIyLnk7XG4gICAgY29uc3QgYzIzeDIgPSBjMjMueCAqIGMyMy54O1xuICAgIGNvbnN0IGMyM3kyID0gYzIzLnkgKiBjMjMueTtcbiAgICBjb25zdCBwb2x5ID0gbmV3IFBvbHlub21pYWwoLTIgKiBjMTIueCAqIGMxMi55ICogYzIzLnggKiBjMjMueSArIGMxMngyICogYzIzeTIgKyBjMTJ5MiAqIGMyM3gyLCAtMiAqIGMxMi54ICogYzEyLnkgKiBjMjIueCAqIGMyMy55IC0gMiAqIGMxMi54ICogYzEyLnkgKiBjMjIueSAqIGMyMy54ICsgMiAqIGMxMnkyICogYzIyLnggKiBjMjMueCArIDIgKiBjMTJ4MiAqIGMyMi55ICogYzIzLnksIC0yICogYzEyLnggKiBjMjEueCAqIGMxMi55ICogYzIzLnkgLSAyICogYzEyLnggKiBjMTIueSAqIGMyMS55ICogYzIzLnggLSAyICogYzEyLnggKiBjMTIueSAqIGMyMi54ICogYzIyLnkgKyAyICogYzIxLnggKiBjMTJ5MiAqIGMyMy54ICsgYzEyeTIgKiBjMjJ4MiArIGMxMngyICogKDIgKiBjMjEueSAqIGMyMy55ICsgYzIyeTIpLCAyICogYzEwLnggKiBjMTIueCAqIGMxMi55ICogYzIzLnkgKyAyICogYzEwLnkgKiBjMTIueCAqIGMxMi55ICogYzIzLnggKyBjMTEueCAqIGMxMS55ICogYzEyLnggKiBjMjMueSArIGMxMS54ICogYzExLnkgKiBjMTIueSAqIGMyMy54IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTIueSAqIGMyMy55IC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMTIueSAqIGMyMy54IC0gMiAqIGMxMi54ICogYzIxLnggKiBjMTIueSAqIGMyMi55IC0gMiAqIGMxMi54ICogYzEyLnkgKiBjMjEueSAqIGMyMi54IC0gMiAqIGMxMC54ICogYzEyeTIgKiBjMjMueCAtIDIgKiBjMTAueSAqIGMxMngyICogYzIzLnkgKyAyICogYzIwLnggKiBjMTJ5MiAqIGMyMy54ICsgMiAqIGMyMS54ICogYzEyeTIgKiBjMjIueCAtIGMxMXkyICogYzEyLnggKiBjMjMueCAtIGMxMXgyICogYzEyLnkgKiBjMjMueSArIGMxMngyICogKDIgKiBjMjAueSAqIGMyMy55ICsgMiAqIGMyMS55ICogYzIyLnkpLCAyICogYzEwLnggKiBjMTIueCAqIGMxMi55ICogYzIyLnkgKyAyICogYzEwLnkgKiBjMTIueCAqIGMxMi55ICogYzIyLnggKyBjMTEueCAqIGMxMS55ICogYzEyLnggKiBjMjIueSArIGMxMS54ICogYzExLnkgKiBjMTIueSAqIGMyMi54IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTIueSAqIGMyMi55IC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMTIueSAqIGMyMi54IC0gMiAqIGMxMi54ICogYzIxLnggKiBjMTIueSAqIGMyMS55IC0gMiAqIGMxMC54ICogYzEyeTIgKiBjMjIueCAtIDIgKiBjMTAueSAqIGMxMngyICogYzIyLnkgKyAyICogYzIwLnggKiBjMTJ5MiAqIGMyMi54IC0gYzExeTIgKiBjMTIueCAqIGMyMi54IC0gYzExeDIgKiBjMTIueSAqIGMyMi55ICsgYzIxeDIgKiBjMTJ5MiArIGMxMngyICogKDIgKiBjMjAueSAqIGMyMi55ICsgYzIxeTIpLCAyICogYzEwLnggKiBjMTIueCAqIGMxMi55ICogYzIxLnkgKyAyICogYzEwLnkgKiBjMTIueCAqIGMyMS54ICogYzEyLnkgKyBjMTEueCAqIGMxMS55ICogYzEyLnggKiBjMjEueSArIGMxMS54ICogYzExLnkgKiBjMjEueCAqIGMxMi55IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTIueSAqIGMyMS55IC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMjEueCAqIGMxMi55IC0gMiAqIGMxMC54ICogYzIxLnggKiBjMTJ5MiAtIDIgKiBjMTAueSAqIGMxMngyICogYzIxLnkgKyAyICogYzIwLnggKiBjMjEueCAqIGMxMnkyIC0gYzExeTIgKiBjMTIueCAqIGMyMS54IC0gYzExeDIgKiBjMTIueSAqIGMyMS55ICsgMiAqIGMxMngyICogYzIwLnkgKiBjMjEueSwgLTIgKiBjMTAueCAqIGMxMC55ICogYzEyLnggKiBjMTIueSAtIGMxMC54ICogYzExLnggKiBjMTEueSAqIGMxMi55IC0gYzEwLnkgKiBjMTEueCAqIGMxMS55ICogYzEyLnggKyAyICogYzEwLnggKiBjMTIueCAqIGMyMC55ICogYzEyLnkgKyAyICogYzEwLnkgKiBjMjAueCAqIGMxMi54ICogYzEyLnkgKyBjMTEueCAqIGMyMC54ICogYzExLnkgKiBjMTIueSArIGMxMS54ICogYzExLnkgKiBjMTIueCAqIGMyMC55IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMjAueSAqIGMxMi55IC0gMiAqIGMxMC54ICogYzIwLnggKiBjMTJ5MiArIGMxMC54ICogYzExeTIgKiBjMTIueCArIGMxMC55ICogYzExeDIgKiBjMTIueSAtIDIgKiBjMTAueSAqIGMxMngyICogYzIwLnkgLSBjMjAueCAqIGMxMXkyICogYzEyLnggLSBjMTF4MiAqIGMyMC55ICogYzEyLnkgKyBjMTB4MiAqIGMxMnkyICsgYzEweTIgKiBjMTJ4MiArIGMyMHgyICogYzEyeTIgKyBjMTJ4MiAqIGMyMHkyKTtcbiAgICBjb25zdCByb290cyA9IHBvbHkuZ2V0Um9vdHNJbkludGVydmFsKDAsIDEpO1xuICAgIGZvciAoY29uc3QgcyBvZiByb290cykge1xuICAgICAgY29uc3QgeFJvb3RzID0gbmV3IFBvbHlub21pYWwoYzEyLngsIGMxMS54LCBjMTAueCAtIGMyMC54IC0gcyAqIGMyMS54IC0gcyAqIHMgKiBjMjIueCAtIHMgKiBzICogcyAqIGMyMy54KS5nZXRSb290cygpO1xuICAgICAgY29uc3QgeVJvb3RzID0gbmV3IFBvbHlub21pYWwoYzEyLnksIGMxMS55LCBjMTAueSAtIGMyMC55IC0gcyAqIGMyMS55IC0gcyAqIHMgKiBjMjIueSAtIHMgKiBzICogcyAqIGMyMy55KS5nZXRSb290cygpO1xuICAgICAgaWYgKHhSb290cy5sZW5ndGggPiAwICYmIHlSb290cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IFRPTEVSQU5DRSA9IDFlLTQ7XG4gICAgICAgIGNoZWNrUm9vdHM6Zm9yIChjb25zdCB4Um9vdCBvZiB4Um9vdHMpIHtcbiAgICAgICAgICBpZiAoMCA8PSB4Um9vdCAmJiB4Um9vdCA8PSAxKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHlSb290IG9mIHlSb290cykge1xuICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoeFJvb3QgLSB5Um9vdCkgPCBUT0xFUkFOQ0UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucG9pbnRzLnB1c2goYzIzLm11bHRpcGx5KHMgKiBzICogcykuYWRkKGMyMi5tdWx0aXBseShzICogcykuYWRkKGMyMS5tdWx0aXBseShzKS5hZGQoYzIwKSkpKTtcbiAgICAgICAgICAgICAgICBicmVhayBjaGVja1Jvb3RzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyMkNpcmNsZShwMTogVmVjdG9yMkQsIHAyOiBWZWN0b3IyRCwgcDM6IFZlY3RvcjJELCBjOiBWZWN0b3IyRCwgcjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIyRWxsaXBzZShwMSwgcDIsIHAzLCBjLCByLCByKTtcbiAgfVxuXG4gIHN0YXRpYyBpbnRlcnNlY3RCZXppZXIyRWxsaXBzZShwMTogVmVjdG9yMkQsIHAyOiBWZWN0b3IyRCwgcDM6IFZlY3RvcjJELCBlYzogVmVjdG9yMkQsIHJ4OiBudW1iZXIsIHJ5OiBudW1iZXIpIHtcbiAgICBsZXQgYSwgYjtcbiAgICBsZXQgYzIsIGMxLCBjMDtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgYSA9IHAyLm11bHRpcGx5KC0yKTtcbiAgICBjMiA9IHAxLmFkZChhLmFkZChwMykpO1xuICAgIGEgPSBwMS5tdWx0aXBseSgtMik7XG4gICAgYiA9IHAyLm11bHRpcGx5KDIpO1xuICAgIGMxID0gYS5hZGQoYik7XG4gICAgYzAgPSBuZXcgVmVjdG9yMkQocDEueCwgcDEueSk7XG4gICAgY29uc3QgcnhyeCA9IHJ4ICogcng7XG4gICAgY29uc3QgcnlyeSA9IHJ5ICogcnk7XG4gICAgY29uc3Qgcm9vdHMgPSBuZXcgUG9seW5vbWlhbChyeXJ5ICogYzIueCAqIGMyLnggKyByeHJ4ICogYzIueSAqIGMyLnksIDIgKiAocnlyeSAqIGMyLnggKiBjMS54ICsgcnhyeCAqIGMyLnkgKiBjMS55KSwgcnlyeSAqICgyICogYzIueCAqIGMwLnggKyBjMS54ICogYzEueCkgKyByeHJ4ICogKDIgKiBjMi55ICogYzAueSArIGMxLnkgKiBjMS55KSAtIDIgKiAocnlyeSAqIGVjLnggKiBjMi54ICsgcnhyeCAqIGVjLnkgKiBjMi55KSwgMiAqIChyeXJ5ICogYzEueCAqIChjMC54IC0gZWMueCkgKyByeHJ4ICogYzEueSAqIChjMC55IC0gZWMueSkpLCByeXJ5ICogKGMwLnggKiBjMC54ICsgZWMueCAqIGVjLngpICsgcnhyeCAqIChjMC55ICogYzAueSArIGVjLnkgKiBlYy55KSAtIDIgKiAocnlyeSAqIGVjLnggKiBjMC54ICsgcnhyeCAqIGVjLnkgKiBjMC55KSAtIHJ4cnggKiByeXJ5KS5nZXRSb290cygpO1xuICAgIGZvciAoY29uc3QgdCBvZiByb290cykge1xuICAgICAgaWYgKDAgPD0gdCAmJiB0IDw9IDEpIHtcbiAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKGMyLm11bHRpcGx5KHQgKiB0KS5hZGQoYzEubXVsdGlwbHkodCkuYWRkKGMwKSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEJlemllcjJMaW5lKHAxOiBWZWN0b3IyRCwgcDI6IFZlY3RvcjJELCBwMzogVmVjdG9yMkQsIGExOiBWZWN0b3IyRCwgYTI6IFZlY3RvcjJEKSB7XG4gICAgbGV0IGEsIGI7XG4gICAgbGV0IGMyLCBjMSwgYzA7XG4gICAgbGV0IGNsO1xuICAgIGxldCBuO1xuICAgIGNvbnN0IG1pbiA9IGExLm1pbihhMik7XG4gICAgY29uc3QgbWF4ID0gYTEubWF4KGEyKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgYSA9IHAyLm11bHRpcGx5KC0yKTtcbiAgICBjMiA9IHAxLmFkZChhLmFkZChwMykpO1xuICAgIGEgPSBwMS5tdWx0aXBseSgtMik7XG4gICAgYiA9IHAyLm11bHRpcGx5KDIpO1xuICAgIGMxID0gYS5hZGQoYik7XG4gICAgYzAgPSBuZXcgVmVjdG9yMkQocDEueCwgcDEueSk7XG4gICAgbiA9IG5ldyBWZWN0b3IyRChhMS55IC0gYTIueSwgYTIueCAtIGExLngpO1xuICAgIGNsID0gYTEueCAqIGEyLnkgLSBhMi54ICogYTEueTtcbiAgICBjb25zdCByb290cyA9IG5ldyBQb2x5bm9taWFsKG4uZG90KGMyKSwgbi5kb3QoYzEpLCBuLmRvdChjMCkgKyBjbCkuZ2V0Um9vdHMoKTtcbiAgICBmb3IgKGNvbnN0IHQgb2Ygcm9vdHMpIHtcbiAgICAgIGlmICgwIDw9IHQgJiYgdCA8PSAxKSB7XG4gICAgICAgIGNvbnN0IHA0ID0gcDEubGVycChwMiwgdCk7XG4gICAgICAgIGNvbnN0IHA1ID0gcDIubGVycChwMywgdCk7XG4gICAgICAgIGNvbnN0IHA2ID0gcDQubGVycChwNSwgdCk7XG4gICAgICAgIGlmIChhMS54ID09PSBhMi54KSB7XG4gICAgICAgICAgaWYgKG1pbi55IDw9IHA2LnkgJiYgcDYueSA8PSBtYXgueSkge1xuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KHA2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYTEueSA9PT0gYTIueSkge1xuICAgICAgICAgIGlmIChtaW4ueCA8PSBwNi54ICYmIHA2LnggPD0gbWF4LngpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludChwNik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHA2Lmd0ZShtaW4pICYmIHA2Lmx0ZShtYXgpKSB7XG4gICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KHA2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaW50ZXJzZWN0QmV6aWVyMlBvbHlnb24ocDE6IFZlY3RvcjJELCBwMjogVmVjdG9yMkQsIHAzOiBWZWN0b3IyRCwgcG9pbnRzOiBWZWN0b3IyRFtdKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYTEgPSBwb2ludHNbaV07XG4gICAgICBjb25zdCBhMiA9IHBvaW50c1soaSArIDEpICUgbGVuZ3RoXTtcbiAgICAgIGNvbnN0IGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjJMaW5lKHAxLCBwMiwgcDMsIGExLCBhMik7XG4gICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyLnBvaW50cyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyMlJlY3RhbmdsZShwMTogVmVjdG9yMkQsIHAyOiBWZWN0b3IyRCwgcDM6IFZlY3RvcjJELCByMTogVmVjdG9yMkQsIHIyOiBWZWN0b3IyRCkge1xuICAgIGNvbnN0IG1pbiA9IHIxLm1pbihyMik7XG4gICAgY29uc3QgbWF4ID0gcjEubWF4KHIyKTtcbiAgICBjb25zdCB0b3BSaWdodCA9IG5ldyBWZWN0b3IyRChtYXgueCwgbWluLnkpO1xuICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBuZXcgVmVjdG9yMkQobWluLngsIG1heC55KTtcbiAgICBjb25zdCBpbnRlcjEgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QmV6aWVyMkxpbmUocDEsIHAyLCBwMywgbWluLCB0b3BSaWdodCk7XG4gICAgY29uc3QgaW50ZXIyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjJMaW5lKHAxLCBwMiwgcDMsIHRvcFJpZ2h0LCBtYXgpO1xuICAgIGNvbnN0IGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIyTGluZShwMSwgcDIsIHAzLCBtYXgsIGJvdHRvbUxlZnQpO1xuICAgIGNvbnN0IGludGVyNCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIyTGluZShwMSwgcDIsIHAzLCBib3R0b21MZWZ0LCBtaW4pO1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMS5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIyLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjMucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyNC5wb2ludHMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyM0JlemllcjMoYTE6IFZlY3RvcjJELCBhMjogVmVjdG9yMkQsIGEzOiBWZWN0b3IyRCwgYTQ6IFZlY3RvcjJELCBiMTogVmVjdG9yMkQsIGIyOiBWZWN0b3IyRCwgYjM6IFZlY3RvcjJELCBiNDogVmVjdG9yMkQpIHtcbiAgICBsZXQgYSwgYiwgYywgZDtcbiAgICBsZXQgYzEzLCBjMTIsIGMxMSwgYzEwO1xuICAgIGxldCBjMjMsIGMyMiwgYzIxLCBjMjA7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIGEgPSBhMS5tdWx0aXBseSgtMSk7XG4gICAgYiA9IGEyLm11bHRpcGx5KDMpO1xuICAgIGMgPSBhMy5tdWx0aXBseSgtMyk7XG4gICAgZCA9IGEuYWRkKGIuYWRkKGMuYWRkKGE0KSkpO1xuICAgIGMxMyA9IG5ldyBWZWN0b3IyRChkLngsIGQueSk7XG4gICAgYSA9IGExLm11bHRpcGx5KDMpO1xuICAgIGIgPSBhMi5tdWx0aXBseSgtNik7XG4gICAgYyA9IGEzLm11bHRpcGx5KDMpO1xuICAgIGQgPSBhLmFkZChiLmFkZChjKSk7XG4gICAgYzEyID0gbmV3IFZlY3RvcjJEKGQueCwgZC55KTtcbiAgICBhID0gYTEubXVsdGlwbHkoLTMpO1xuICAgIGIgPSBhMi5tdWx0aXBseSgzKTtcbiAgICBjID0gYS5hZGQoYik7XG4gICAgYzExID0gbmV3IFZlY3RvcjJEKGMueCwgYy55KTtcbiAgICBjMTAgPSBuZXcgVmVjdG9yMkQoYTEueCwgYTEueSk7XG4gICAgYSA9IGIxLm11bHRpcGx5KC0xKTtcbiAgICBiID0gYjIubXVsdGlwbHkoMyk7XG4gICAgYyA9IGIzLm11bHRpcGx5KC0zKTtcbiAgICBkID0gYS5hZGQoYi5hZGQoYy5hZGQoYjQpKSk7XG4gICAgYzIzID0gbmV3IFZlY3RvcjJEKGQueCwgZC55KTtcbiAgICBhID0gYjEubXVsdGlwbHkoMyk7XG4gICAgYiA9IGIyLm11bHRpcGx5KC02KTtcbiAgICBjID0gYjMubXVsdGlwbHkoMyk7XG4gICAgZCA9IGEuYWRkKGIuYWRkKGMpKTtcbiAgICBjMjIgPSBuZXcgVmVjdG9yMkQoZC54LCBkLnkpO1xuICAgIGEgPSBiMS5tdWx0aXBseSgtMyk7XG4gICAgYiA9IGIyLm11bHRpcGx5KDMpO1xuICAgIGMgPSBhLmFkZChiKTtcbiAgICBjMjEgPSBuZXcgVmVjdG9yMkQoYy54LCBjLnkpO1xuICAgIGMyMCA9IG5ldyBWZWN0b3IyRChiMS54LCBiMS55KTtcbiAgICBjb25zdCBjMTB4MiA9IGMxMC54ICogYzEwLng7XG4gICAgY29uc3QgYzEweDMgPSBjMTAueCAqIGMxMC54ICogYzEwLng7XG4gICAgY29uc3QgYzEweTIgPSBjMTAueSAqIGMxMC55O1xuICAgIGNvbnN0IGMxMHkzID0gYzEwLnkgKiBjMTAueSAqIGMxMC55O1xuICAgIGNvbnN0IGMxMXgyID0gYzExLnggKiBjMTEueDtcbiAgICBjb25zdCBjMTF4MyA9IGMxMS54ICogYzExLnggKiBjMTEueDtcbiAgICBjb25zdCBjMTF5MiA9IGMxMS55ICogYzExLnk7XG4gICAgY29uc3QgYzExeTMgPSBjMTEueSAqIGMxMS55ICogYzExLnk7XG4gICAgY29uc3QgYzEyeDIgPSBjMTIueCAqIGMxMi54O1xuICAgIGNvbnN0IGMxMngzID0gYzEyLnggKiBjMTIueCAqIGMxMi54O1xuICAgIGNvbnN0IGMxMnkyID0gYzEyLnkgKiBjMTIueTtcbiAgICBjb25zdCBjMTJ5MyA9IGMxMi55ICogYzEyLnkgKiBjMTIueTtcbiAgICBjb25zdCBjMTN4MiA9IGMxMy54ICogYzEzLng7XG4gICAgY29uc3QgYzEzeDMgPSBjMTMueCAqIGMxMy54ICogYzEzLng7XG4gICAgY29uc3QgYzEzeTIgPSBjMTMueSAqIGMxMy55O1xuICAgIGNvbnN0IGMxM3kzID0gYzEzLnkgKiBjMTMueSAqIGMxMy55O1xuICAgIGNvbnN0IGMyMHgyID0gYzIwLnggKiBjMjAueDtcbiAgICBjb25zdCBjMjB4MyA9IGMyMC54ICogYzIwLnggKiBjMjAueDtcbiAgICBjb25zdCBjMjB5MiA9IGMyMC55ICogYzIwLnk7XG4gICAgY29uc3QgYzIweTMgPSBjMjAueSAqIGMyMC55ICogYzIwLnk7XG4gICAgY29uc3QgYzIxeDIgPSBjMjEueCAqIGMyMS54O1xuICAgIGNvbnN0IGMyMXgzID0gYzIxLnggKiBjMjEueCAqIGMyMS54O1xuICAgIGNvbnN0IGMyMXkyID0gYzIxLnkgKiBjMjEueTtcbiAgICBjb25zdCBjMjJ4MiA9IGMyMi54ICogYzIyLng7XG4gICAgY29uc3QgYzIyeDMgPSBjMjIueCAqIGMyMi54ICogYzIyLng7XG4gICAgY29uc3QgYzIyeTIgPSBjMjIueSAqIGMyMi55O1xuICAgIGNvbnN0IGMyM3gyID0gYzIzLnggKiBjMjMueDtcbiAgICBjb25zdCBjMjN4MyA9IGMyMy54ICogYzIzLnggKiBjMjMueDtcbiAgICBjb25zdCBjMjN5MiA9IGMyMy55ICogYzIzLnk7XG4gICAgY29uc3QgYzIzeTMgPSBjMjMueSAqIGMyMy55ICogYzIzLnk7XG4gICAgY29uc3QgcG9seSA9IG5ldyBQb2x5bm9taWFsKC1jMTN4MyAqIGMyM3kzICsgYzEzeTMgKiBjMjN4MyAtIDMgKiBjMTMueCAqIGMxM3kyICogYzIzeDIgKiBjMjMueSArIDMgKiBjMTN4MiAqIGMxMy55ICogYzIzLnggKiBjMjN5MiwgLTYgKiBjMTMueCAqIGMyMi54ICogYzEzeTIgKiBjMjMueCAqIGMyMy55ICsgNiAqIGMxM3gyICogYzEzLnkgKiBjMjIueSAqIGMyMy54ICogYzIzLnkgKyAzICogYzIyLnggKiBjMTN5MyAqIGMyM3gyIC0gMyAqIGMxM3gzICogYzIyLnkgKiBjMjN5MiAtIDMgKiBjMTMueCAqIGMxM3kyICogYzIyLnkgKiBjMjN4MiArIDMgKiBjMTN4MiAqIGMyMi54ICogYzEzLnkgKiBjMjN5MiwgLTYgKiBjMjEueCAqIGMxMy54ICogYzEzeTIgKiBjMjMueCAqIGMyMy55IC0gNiAqIGMxMy54ICogYzIyLnggKiBjMTN5MiAqIGMyMi55ICogYzIzLnggKyA2ICogYzEzeDIgKiBjMjIueCAqIGMxMy55ICogYzIyLnkgKiBjMjMueSArIDMgKiBjMjEueCAqIGMxM3kzICogYzIzeDIgKyAzICogYzIyeDIgKiBjMTN5MyAqIGMyMy54ICsgMyAqIGMyMS54ICogYzEzeDIgKiBjMTMueSAqIGMyM3kyIC0gMyAqIGMxMy54ICogYzIxLnkgKiBjMTN5MiAqIGMyM3gyIC0gMyAqIGMxMy54ICogYzIyeDIgKiBjMTN5MiAqIGMyMy55ICsgYzEzeDIgKiBjMTMueSAqIGMyMy54ICogKDYgKiBjMjEueSAqIGMyMy55ICsgMyAqIGMyMnkyKSArIGMxM3gzICogKC1jMjEueSAqIGMyM3kyIC0gMiAqIGMyMnkyICogYzIzLnkgLSBjMjMueSAqICgyICogYzIxLnkgKiBjMjMueSArIGMyMnkyKSksIGMxMS54ICogYzEyLnkgKiBjMTMueCAqIGMxMy55ICogYzIzLnggKiBjMjMueSAtIGMxMS55ICogYzEyLnggKiBjMTMueCAqIGMxMy55ICogYzIzLnggKiBjMjMueSArIDYgKiBjMjEueCAqIGMyMi54ICogYzEzeTMgKiBjMjMueCArIDMgKiBjMTEueCAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqIGMyM3kyICsgNiAqIGMxMC54ICogYzEzLnggKiBjMTN5MiAqIGMyMy54ICogYzIzLnkgLSAzICogYzExLnggKiBjMTIueCAqIGMxM3kyICogYzIzLnggKiBjMjMueSAtIDMgKiBjMTEueSAqIGMxMi55ICogYzEzLnggKiBjMTMueSAqIGMyM3gyIC0gNiAqIGMxMC55ICogYzEzeDIgKiBjMTMueSAqIGMyMy54ICogYzIzLnkgLSA2ICogYzIwLnggKiBjMTMueCAqIGMxM3kyICogYzIzLnggKiBjMjMueSArIDMgKiBjMTEueSAqIGMxMi55ICogYzEzeDIgKiBjMjMueCAqIGMyMy55IC0gMiAqIGMxMi54ICogYzEyeTIgKiBjMTMueCAqIGMyMy54ICogYzIzLnkgLSA2ICogYzIxLnggKiBjMTMueCAqIGMyMi54ICogYzEzeTIgKiBjMjMueSAtIDYgKiBjMjEueCAqIGMxMy54ICogYzEzeTIgKiBjMjIueSAqIGMyMy54IC0gNiAqIGMxMy54ICogYzIxLnkgKiBjMjIueCAqIGMxM3kyICogYzIzLnggKyA2ICogYzIxLnggKiBjMTN4MiAqIGMxMy55ICogYzIyLnkgKiBjMjMueSArIDIgKiBjMTJ4MiAqIGMxMi55ICogYzEzLnkgKiBjMjMueCAqIGMyMy55ICsgYzIyeDMgKiBjMTN5MyAtIDMgKiBjMTAueCAqIGMxM3kzICogYzIzeDIgKyAzICogYzEwLnkgKiBjMTN4MyAqIGMyM3kyICsgMyAqIGMyMC54ICogYzEzeTMgKiBjMjN4MiArIGMxMnkzICogYzEzLnggKiBjMjN4MiAtIGMxMngzICogYzEzLnkgKiBjMjN5MiAtIDMgKiBjMTAueCAqIGMxM3gyICogYzEzLnkgKiBjMjN5MiArIDMgKiBjMTAueSAqIGMxMy54ICogYzEzeTIgKiBjMjN4MiAtIDIgKiBjMTEueCAqIGMxMi55ICogYzEzeDIgKiBjMjN5MiArIGMxMS54ICogYzEyLnkgKiBjMTN5MiAqIGMyM3gyIC0gYzExLnkgKiBjMTIueCAqIGMxM3gyICogYzIzeTIgKyAyICogYzExLnkgKiBjMTIueCAqIGMxM3kyICogYzIzeDIgKyAzICogYzIwLnggKiBjMTN4MiAqIGMxMy55ICogYzIzeTIgLSBjMTIueCAqIGMxMnkyICogYzEzLnkgKiBjMjN4MiAtIDMgKiBjMjAueSAqIGMxMy54ICogYzEzeTIgKiBjMjN4MiArIGMxMngyICogYzEyLnkgKiBjMTMueCAqIGMyM3kyIC0gMyAqIGMxMy54ICogYzIyeDIgKiBjMTN5MiAqIGMyMi55ICsgYzEzeDIgKiBjMTMueSAqIGMyMy54ICogKDYgKiBjMjAueSAqIGMyMy55ICsgNiAqIGMyMS55ICogYzIyLnkpICsgYzEzeDIgKiBjMjIueCAqIGMxMy55ICogKDYgKiBjMjEueSAqIGMyMy55ICsgMyAqIGMyMnkyKSArIGMxM3gzICogKC0yICogYzIxLnkgKiBjMjIueSAqIGMyMy55IC0gYzIwLnkgKiBjMjN5MiAtIGMyMi55ICogKDIgKiBjMjEueSAqIGMyMy55ICsgYzIyeTIpIC0gYzIzLnkgKiAoMiAqIGMyMC55ICogYzIzLnkgKyAyICogYzIxLnkgKiBjMjIueSkpLCA2ICogYzExLnggKiBjMTIueCAqIGMxMy54ICogYzEzLnkgKiBjMjIueSAqIGMyMy55ICsgYzExLnggKiBjMTIueSAqIGMxMy54ICogYzIyLnggKiBjMTMueSAqIGMyMy55ICsgYzExLnggKiBjMTIueSAqIGMxMy54ICogYzEzLnkgKiBjMjIueSAqIGMyMy54IC0gYzExLnkgKiBjMTIueCAqIGMxMy54ICogYzIyLnggKiBjMTMueSAqIGMyMy55IC0gYzExLnkgKiBjMTIueCAqIGMxMy54ICogYzEzLnkgKiBjMjIueSAqIGMyMy54IC0gNiAqIGMxMS55ICogYzEyLnkgKiBjMTMueCAqIGMyMi54ICogYzEzLnkgKiBjMjMueCAtIDYgKiBjMTAueCAqIGMyMi54ICogYzEzeTMgKiBjMjMueCArIDYgKiBjMjAueCAqIGMyMi54ICogYzEzeTMgKiBjMjMueCArIDYgKiBjMTAueSAqIGMxM3gzICogYzIyLnkgKiBjMjMueSArIDIgKiBjMTJ5MyAqIGMxMy54ICogYzIyLnggKiBjMjMueCAtIDIgKiBjMTJ4MyAqIGMxMy55ICogYzIyLnkgKiBjMjMueSArIDYgKiBjMTAueCAqIGMxMy54ICogYzIyLnggKiBjMTN5MiAqIGMyMy55ICsgNiAqIGMxMC54ICogYzEzLnggKiBjMTN5MiAqIGMyMi55ICogYzIzLnggKyA2ICogYzEwLnkgKiBjMTMueCAqIGMyMi54ICogYzEzeTIgKiBjMjMueCAtIDMgKiBjMTEueCAqIGMxMi54ICogYzIyLnggKiBjMTN5MiAqIGMyMy55IC0gMyAqIGMxMS54ICogYzEyLnggKiBjMTN5MiAqIGMyMi55ICogYzIzLnggKyAyICogYzExLnggKiBjMTIueSAqIGMyMi54ICogYzEzeTIgKiBjMjMueCArIDQgKiBjMTEueSAqIGMxMi54ICogYzIyLnggKiBjMTN5MiAqIGMyMy54IC0gNiAqIGMxMC54ICogYzEzeDIgKiBjMTMueSAqIGMyMi55ICogYzIzLnkgLSA2ICogYzEwLnkgKiBjMTN4MiAqIGMyMi54ICogYzEzLnkgKiBjMjMueSAtIDYgKiBjMTAueSAqIGMxM3gyICogYzEzLnkgKiBjMjIueSAqIGMyMy54IC0gNCAqIGMxMS54ICogYzEyLnkgKiBjMTN4MiAqIGMyMi55ICogYzIzLnkgLSA2ICogYzIwLnggKiBjMTMueCAqIGMyMi54ICogYzEzeTIgKiBjMjMueSAtIDYgKiBjMjAueCAqIGMxMy54ICogYzEzeTIgKiBjMjIueSAqIGMyMy54IC0gMiAqIGMxMS55ICogYzEyLnggKiBjMTN4MiAqIGMyMi55ICogYzIzLnkgKyAzICogYzExLnkgKiBjMTIueSAqIGMxM3gyICogYzIyLnggKiBjMjMueSArIDMgKiBjMTEueSAqIGMxMi55ICogYzEzeDIgKiBjMjIueSAqIGMyMy54IC0gMiAqIGMxMi54ICogYzEyeTIgKiBjMTMueCAqIGMyMi54ICogYzIzLnkgLSAyICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICogYzIyLnkgKiBjMjMueCAtIDIgKiBjMTIueCAqIGMxMnkyICogYzIyLnggKiBjMTMueSAqIGMyMy54IC0gNiAqIGMyMC55ICogYzEzLnggKiBjMjIueCAqIGMxM3kyICogYzIzLnggLSA2ICogYzIxLnggKiBjMTMueCAqIGMyMS55ICogYzEzeTIgKiBjMjMueCAtIDYgKiBjMjEueCAqIGMxMy54ICogYzIyLnggKiBjMTN5MiAqIGMyMi55ICsgNiAqIGMyMC54ICogYzEzeDIgKiBjMTMueSAqIGMyMi55ICogYzIzLnkgKyAyICogYzEyeDIgKiBjMTIueSAqIGMxMy54ICogYzIyLnkgKiBjMjMueSArIDIgKiBjMTJ4MiAqIGMxMi55ICogYzIyLnggKiBjMTMueSAqIGMyMy55ICsgMiAqIGMxMngyICogYzEyLnkgKiBjMTMueSAqIGMyMi55ICogYzIzLnggKyAzICogYzIxLnggKiBjMjJ4MiAqIGMxM3kzICsgMyAqIGMyMXgyICogYzEzeTMgKiBjMjMueCAtIDMgKiBjMTMueCAqIGMyMS55ICogYzIyeDIgKiBjMTN5MiAtIDMgKiBjMjF4MiAqIGMxMy54ICogYzEzeTIgKiBjMjMueSArIGMxM3gyICogYzIyLnggKiBjMTMueSAqICg2ICogYzIwLnkgKiBjMjMueSArIDYgKiBjMjEueSAqIGMyMi55KSArIGMxM3gyICogYzEzLnkgKiBjMjMueCAqICg2ICogYzIwLnkgKiBjMjIueSArIDMgKiBjMjF5MikgKyBjMjEueCAqIGMxM3gyICogYzEzLnkgKiAoNiAqIGMyMS55ICogYzIzLnkgKyAzICogYzIyeTIpICsgYzEzeDMgKiAoLTIgKiBjMjAueSAqIGMyMi55ICogYzIzLnkgLSBjMjMueSAqICgyICogYzIwLnkgKiBjMjIueSArIGMyMXkyKSAtIGMyMS55ICogKDIgKiBjMjEueSAqIGMyMy55ICsgYzIyeTIpIC0gYzIyLnkgKiAoMiAqIGMyMC55ICogYzIzLnkgKyAyICogYzIxLnkgKiBjMjIueSkpLCBjMTEueCAqIGMyMS54ICogYzEyLnkgKiBjMTMueCAqIGMxMy55ICogYzIzLnkgKyBjMTEueCAqIGMxMi55ICogYzEzLnggKiBjMjEueSAqIGMxMy55ICogYzIzLnggKyBjMTEueCAqIGMxMi55ICogYzEzLnggKiBjMjIueCAqIGMxMy55ICogYzIyLnkgLSBjMTEueSAqIGMxMi54ICogYzIxLnggKiBjMTMueCAqIGMxMy55ICogYzIzLnkgLSBjMTEueSAqIGMxMi54ICogYzEzLnggKiBjMjEueSAqIGMxMy55ICogYzIzLnggLSBjMTEueSAqIGMxMi54ICogYzEzLnggKiBjMjIueCAqIGMxMy55ICogYzIyLnkgLSA2ICogYzExLnkgKiBjMjEueCAqIGMxMi55ICogYzEzLnggKiBjMTMueSAqIGMyMy54IC0gNiAqIGMxMC54ICogYzIxLnggKiBjMTN5MyAqIGMyMy54ICsgNiAqIGMyMC54ICogYzIxLnggKiBjMTN5MyAqIGMyMy54ICsgMiAqIGMyMS54ICogYzEyeTMgKiBjMTMueCAqIGMyMy54ICsgNiAqIGMxMC54ICogYzIxLnggKiBjMTMueCAqIGMxM3kyICogYzIzLnkgKyA2ICogYzEwLnggKiBjMTMueCAqIGMyMS55ICogYzEzeTIgKiBjMjMueCArIDYgKiBjMTAueCAqIGMxMy54ICogYzIyLnggKiBjMTN5MiAqIGMyMi55ICsgNiAqIGMxMC55ICogYzIxLnggKiBjMTMueCAqIGMxM3kyICogYzIzLnggLSAzICogYzExLnggKiBjMTIueCAqIGMyMS54ICogYzEzeTIgKiBjMjMueSAtIDMgKiBjMTEueCAqIGMxMi54ICogYzIxLnkgKiBjMTN5MiAqIGMyMy54IC0gMyAqIGMxMS54ICogYzEyLnggKiBjMjIueCAqIGMxM3kyICogYzIyLnkgKyAyICogYzExLnggKiBjMjEueCAqIGMxMi55ICogYzEzeTIgKiBjMjMueCArIDQgKiBjMTEueSAqIGMxMi54ICogYzIxLnggKiBjMTN5MiAqIGMyMy54IC0gNiAqIGMxMC55ICogYzIxLnggKiBjMTN4MiAqIGMxMy55ICogYzIzLnkgLSA2ICogYzEwLnkgKiBjMTN4MiAqIGMyMS55ICogYzEzLnkgKiBjMjMueCAtIDYgKiBjMTAueSAqIGMxM3gyICogYzIyLnggKiBjMTMueSAqIGMyMi55IC0gNiAqIGMyMC54ICogYzIxLnggKiBjMTMueCAqIGMxM3kyICogYzIzLnkgLSA2ICogYzIwLnggKiBjMTMueCAqIGMyMS55ICogYzEzeTIgKiBjMjMueCAtIDYgKiBjMjAueCAqIGMxMy54ICogYzIyLnggKiBjMTN5MiAqIGMyMi55ICsgMyAqIGMxMS55ICogYzIxLnggKiBjMTIueSAqIGMxM3gyICogYzIzLnkgLSAzICogYzExLnkgKiBjMTIueSAqIGMxMy54ICogYzIyeDIgKiBjMTMueSArIDMgKiBjMTEueSAqIGMxMi55ICogYzEzeDIgKiBjMjEueSAqIGMyMy54ICsgMyAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiAqIGMyMi54ICogYzIyLnkgLSAyICogYzEyLnggKiBjMjEueCAqIGMxMnkyICogYzEzLnggKiBjMjMueSAtIDIgKiBjMTIueCAqIGMyMS54ICogYzEyeTIgKiBjMTMueSAqIGMyMy54IC0gMiAqIGMxMi54ICogYzEyeTIgKiBjMTMueCAqIGMyMS55ICogYzIzLnggLSAyICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICogYzIyLnggKiBjMjIueSAtIDYgKiBjMjAueSAqIGMyMS54ICogYzEzLnggKiBjMTN5MiAqIGMyMy54IC0gNiAqIGMyMS54ICogYzEzLnggKiBjMjEueSAqIGMyMi54ICogYzEzeTIgKyA2ICogYzIwLnkgKiBjMTN4MiAqIGMyMS55ICogYzEzLnkgKiBjMjMueCArIDIgKiBjMTJ4MiAqIGMyMS54ICogYzEyLnkgKiBjMTMueSAqIGMyMy55ICsgMiAqIGMxMngyICogYzEyLnkgKiBjMjEueSAqIGMxMy55ICogYzIzLnggKyAyICogYzEyeDIgKiBjMTIueSAqIGMyMi54ICogYzEzLnkgKiBjMjIueSAtIDMgKiBjMTAueCAqIGMyMngyICogYzEzeTMgKyAzICogYzIwLnggKiBjMjJ4MiAqIGMxM3kzICsgMyAqIGMyMXgyICogYzIyLnggKiBjMTN5MyArIGMxMnkzICogYzEzLnggKiBjMjJ4MiArIDMgKiBjMTAueSAqIGMxMy54ICogYzIyeDIgKiBjMTN5MiArIGMxMS54ICogYzEyLnkgKiBjMjJ4MiAqIGMxM3kyICsgMiAqIGMxMS55ICogYzEyLnggKiBjMjJ4MiAqIGMxM3kyIC0gYzEyLnggKiBjMTJ5MiAqIGMyMngyICogYzEzLnkgLSAzICogYzIwLnkgKiBjMTMueCAqIGMyMngyICogYzEzeTIgLSAzICogYzIxeDIgKiBjMTMueCAqIGMxM3kyICogYzIyLnkgKyBjMTJ4MiAqIGMxMi55ICogYzEzLnggKiAoMiAqIGMyMS55ICogYzIzLnkgKyBjMjJ5MikgKyBjMTEueCAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqICg2ICogYzIxLnkgKiBjMjMueSArIDMgKiBjMjJ5MikgKyBjMjEueCAqIGMxM3gyICogYzEzLnkgKiAoNiAqIGMyMC55ICogYzIzLnkgKyA2ICogYzIxLnkgKiBjMjIueSkgKyBjMTJ4MyAqIGMxMy55ICogKC0yICogYzIxLnkgKiBjMjMueSAtIGMyMnkyKSArIGMxMC55ICogYzEzeDMgKiAoNiAqIGMyMS55ICogYzIzLnkgKyAzICogYzIyeTIpICsgYzExLnkgKiBjMTIueCAqIGMxM3gyICogKC0yICogYzIxLnkgKiBjMjMueSAtIGMyMnkyKSArIGMxMS54ICogYzEyLnkgKiBjMTN4MiAqICgtNCAqIGMyMS55ICogYzIzLnkgLSAyICogYzIyeTIpICsgYzEwLnggKiBjMTN4MiAqIGMxMy55ICogKC02ICogYzIxLnkgKiBjMjMueSAtIDMgKiBjMjJ5MikgKyBjMTN4MiAqIGMyMi54ICogYzEzLnkgKiAoNiAqIGMyMC55ICogYzIyLnkgKyAzICogYzIxeTIpICsgYzIwLnggKiBjMTN4MiAqIGMxMy55ICogKDYgKiBjMjEueSAqIGMyMy55ICsgMyAqIGMyMnkyKSArIGMxM3gzICogKC0yICogYzIwLnkgKiBjMjEueSAqIGMyMy55IC0gYzIyLnkgKiAoMiAqIGMyMC55ICogYzIyLnkgKyBjMjF5MikgLSBjMjAueSAqICgyICogYzIxLnkgKiBjMjMueSArIGMyMnkyKSAtIGMyMS55ICogKDIgKiBjMjAueSAqIGMyMy55ICsgMiAqIGMyMS55ICogYzIyLnkpKSwgLWMxMC54ICogYzExLnggKiBjMTIueSAqIGMxMy54ICogYzEzLnkgKiBjMjMueSArIGMxMC54ICogYzExLnkgKiBjMTIueCAqIGMxMy54ICogYzEzLnkgKiBjMjMueSArIDYgKiBjMTAueCAqIGMxMS55ICogYzEyLnkgKiBjMTMueCAqIGMxMy55ICogYzIzLnggLSA2ICogYzEwLnkgKiBjMTEueCAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqIGMyMy55IC0gYzEwLnkgKiBjMTEueCAqIGMxMi55ICogYzEzLnggKiBjMTMueSAqIGMyMy54ICsgYzEwLnkgKiBjMTEueSAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqIGMyMy54ICsgYzExLnggKiBjMTEueSAqIGMxMi54ICogYzEyLnkgKiBjMTMueCAqIGMyMy55IC0gYzExLnggKiBjMTEueSAqIGMxMi54ICogYzEyLnkgKiBjMTMueSAqIGMyMy54ICsgYzExLnggKiBjMjAueCAqIGMxMi55ICogYzEzLnggKiBjMTMueSAqIGMyMy55ICsgYzExLnggKiBjMjAueSAqIGMxMi55ICogYzEzLnggKiBjMTMueSAqIGMyMy54ICsgYzExLnggKiBjMjEueCAqIGMxMi55ICogYzEzLnggKiBjMTMueSAqIGMyMi55ICsgYzExLnggKiBjMTIueSAqIGMxMy54ICogYzIxLnkgKiBjMjIueCAqIGMxMy55IC0gYzIwLnggKiBjMTEueSAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqIGMyMy55IC0gNiAqIGMyMC54ICogYzExLnkgKiBjMTIueSAqIGMxMy54ICogYzEzLnkgKiBjMjMueCAtIGMxMS55ICogYzEyLnggKiBjMjAueSAqIGMxMy54ICogYzEzLnkgKiBjMjMueCAtIGMxMS55ICogYzEyLnggKiBjMjEueCAqIGMxMy54ICogYzEzLnkgKiBjMjIueSAtIGMxMS55ICogYzEyLnggKiBjMTMueCAqIGMyMS55ICogYzIyLnggKiBjMTMueSAtIDYgKiBjMTEueSAqIGMyMS54ICogYzEyLnkgKiBjMTMueCAqIGMyMi54ICogYzEzLnkgLSA2ICogYzEwLnggKiBjMjAueCAqIGMxM3kzICogYzIzLnggLSA2ICogYzEwLnggKiBjMjEueCAqIGMyMi54ICogYzEzeTMgLSAyICogYzEwLnggKiBjMTJ5MyAqIGMxMy54ICogYzIzLnggKyA2ICogYzIwLnggKiBjMjEueCAqIGMyMi54ICogYzEzeTMgKyAyICogYzIwLnggKiBjMTJ5MyAqIGMxMy54ICogYzIzLnggKyAyICogYzIxLnggKiBjMTJ5MyAqIGMxMy54ICogYzIyLnggKyAyICogYzEwLnkgKiBjMTJ4MyAqIGMxMy55ICogYzIzLnkgLSA2ICogYzEwLnggKiBjMTAueSAqIGMxMy54ICogYzEzeTIgKiBjMjMueCArIDMgKiBjMTAueCAqIGMxMS54ICogYzEyLnggKiBjMTN5MiAqIGMyMy55IC0gMiAqIGMxMC54ICogYzExLnggKiBjMTIueSAqIGMxM3kyICogYzIzLnggLSA0ICogYzEwLnggKiBjMTEueSAqIGMxMi54ICogYzEzeTIgKiBjMjMueCArIDMgKiBjMTAueSAqIGMxMS54ICogYzEyLnggKiBjMTN5MiAqIGMyMy54ICsgNiAqIGMxMC54ICogYzEwLnkgKiBjMTN4MiAqIGMxMy55ICogYzIzLnkgKyA2ICogYzEwLnggKiBjMjAueCAqIGMxMy54ICogYzEzeTIgKiBjMjMueSAtIDMgKiBjMTAueCAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiAqIGMyMy55ICsgMiAqIGMxMC54ICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICogYzIzLnkgKyAyICogYzEwLnggKiBjMTIueCAqIGMxMnkyICogYzEzLnkgKiBjMjMueCArIDYgKiBjMTAueCAqIGMyMC55ICogYzEzLnggKiBjMTN5MiAqIGMyMy54ICsgNiAqIGMxMC54ICogYzIxLnggKiBjMTMueCAqIGMxM3kyICogYzIyLnkgKyA2ICogYzEwLnggKiBjMTMueCAqIGMyMS55ICogYzIyLnggKiBjMTN5MiArIDQgKiBjMTAueSAqIGMxMS54ICogYzEyLnkgKiBjMTN4MiAqIGMyMy55ICsgNiAqIGMxMC55ICogYzIwLnggKiBjMTMueCAqIGMxM3kyICogYzIzLnggKyAyICogYzEwLnkgKiBjMTEueSAqIGMxMi54ICogYzEzeDIgKiBjMjMueSAtIDMgKiBjMTAueSAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiAqIGMyMy54ICsgMiAqIGMxMC55ICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICogYzIzLnggKyA2ICogYzEwLnkgKiBjMjEueCAqIGMxMy54ICogYzIyLnggKiBjMTN5MiAtIDMgKiBjMTEueCAqIGMyMC54ICogYzEyLnggKiBjMTN5MiAqIGMyMy55ICsgMiAqIGMxMS54ICogYzIwLnggKiBjMTIueSAqIGMxM3kyICogYzIzLnggKyBjMTEueCAqIGMxMS55ICogYzEyeTIgKiBjMTMueCAqIGMyMy54IC0gMyAqIGMxMS54ICogYzEyLnggKiBjMjAueSAqIGMxM3kyICogYzIzLnggLSAzICogYzExLnggKiBjMTIueCAqIGMyMS54ICogYzEzeTIgKiBjMjIueSAtIDMgKiBjMTEueCAqIGMxMi54ICogYzIxLnkgKiBjMjIueCAqIGMxM3kyICsgMiAqIGMxMS54ICogYzIxLnggKiBjMTIueSAqIGMyMi54ICogYzEzeTIgKyA0ICogYzIwLnggKiBjMTEueSAqIGMxMi54ICogYzEzeTIgKiBjMjMueCArIDQgKiBjMTEueSAqIGMxMi54ICogYzIxLnggKiBjMjIueCAqIGMxM3kyIC0gMiAqIGMxMC54ICogYzEyeDIgKiBjMTIueSAqIGMxMy55ICogYzIzLnkgLSA2ICogYzEwLnkgKiBjMjAueCAqIGMxM3gyICogYzEzLnkgKiBjMjMueSAtIDYgKiBjMTAueSAqIGMyMC55ICogYzEzeDIgKiBjMTMueSAqIGMyMy54IC0gNiAqIGMxMC55ICogYzIxLnggKiBjMTN4MiAqIGMxMy55ICogYzIyLnkgLSAyICogYzEwLnkgKiBjMTJ4MiAqIGMxMi55ICogYzEzLnggKiBjMjMueSAtIDIgKiBjMTAueSAqIGMxMngyICogYzEyLnkgKiBjMTMueSAqIGMyMy54IC0gNiAqIGMxMC55ICogYzEzeDIgKiBjMjEueSAqIGMyMi54ICogYzEzLnkgLSBjMTEueCAqIGMxMS55ICogYzEyeDIgKiBjMTMueSAqIGMyMy55IC0gMiAqIGMxMS54ICogYzExeTIgKiBjMTMueCAqIGMxMy55ICogYzIzLnggKyAzICogYzIwLnggKiBjMTEueSAqIGMxMi55ICogYzEzeDIgKiBjMjMueSAtIDIgKiBjMjAueCAqIGMxMi54ICogYzEyeTIgKiBjMTMueCAqIGMyMy55IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTJ5MiAqIGMxMy55ICogYzIzLnggLSA2ICogYzIwLnggKiBjMjAueSAqIGMxMy54ICogYzEzeTIgKiBjMjMueCAtIDYgKiBjMjAueCAqIGMyMS54ICogYzEzLnggKiBjMTN5MiAqIGMyMi55IC0gNiAqIGMyMC54ICogYzEzLnggKiBjMjEueSAqIGMyMi54ICogYzEzeTIgKyAzICogYzExLnkgKiBjMjAueSAqIGMxMi55ICogYzEzeDIgKiBjMjMueCArIDMgKiBjMTEueSAqIGMyMS54ICogYzEyLnkgKiBjMTN4MiAqIGMyMi55ICsgMyAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiAqIGMyMS55ICogYzIyLnggLSAyICogYzEyLnggKiBjMjAueSAqIGMxMnkyICogYzEzLnggKiBjMjMueCAtIDIgKiBjMTIueCAqIGMyMS54ICogYzEyeTIgKiBjMTMueCAqIGMyMi55IC0gMiAqIGMxMi54ICogYzIxLnggKiBjMTJ5MiAqIGMyMi54ICogYzEzLnkgLSAyICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICogYzIxLnkgKiBjMjIueCAtIDYgKiBjMjAueSAqIGMyMS54ICogYzEzLnggKiBjMjIueCAqIGMxM3kyIC0gYzExeTIgKiBjMTIueCAqIGMxMi55ICogYzEzLnggKiBjMjMueCArIDIgKiBjMjAueCAqIGMxMngyICogYzEyLnkgKiBjMTMueSAqIGMyMy55ICsgNiAqIGMyMC55ICogYzEzeDIgKiBjMjEueSAqIGMyMi54ICogYzEzLnkgKyAyICogYzExeDIgKiBjMTEueSAqIGMxMy54ICogYzEzLnkgKiBjMjMueSArIGMxMXgyICogYzEyLnggKiBjMTIueSAqIGMxMy55ICogYzIzLnkgKyAyICogYzEyeDIgKiBjMjAueSAqIGMxMi55ICogYzEzLnkgKiBjMjMueCArIDIgKiBjMTJ4MiAqIGMyMS54ICogYzEyLnkgKiBjMTMueSAqIGMyMi55ICsgMiAqIGMxMngyICogYzEyLnkgKiBjMjEueSAqIGMyMi54ICogYzEzLnkgKyBjMjF4MyAqIGMxM3kzICsgMyAqIGMxMHgyICogYzEzeTMgKiBjMjMueCAtIDMgKiBjMTB5MiAqIGMxM3gzICogYzIzLnkgKyAzICogYzIweDIgKiBjMTN5MyAqIGMyMy54ICsgYzExeTMgKiBjMTN4MiAqIGMyMy54IC0gYzExeDMgKiBjMTN5MiAqIGMyMy55IC0gYzExLnggKiBjMTF5MiAqIGMxM3gyICogYzIzLnkgKyBjMTF4MiAqIGMxMS55ICogYzEzeTIgKiBjMjMueCAtIDMgKiBjMTB4MiAqIGMxMy54ICogYzEzeTIgKiBjMjMueSArIDMgKiBjMTB5MiAqIGMxM3gyICogYzEzLnkgKiBjMjMueCAtIGMxMXgyICogYzEyeTIgKiBjMTMueCAqIGMyMy55ICsgYzExeTIgKiBjMTJ4MiAqIGMxMy55ICogYzIzLnggLSAzICogYzIxeDIgKiBjMTMueCAqIGMyMS55ICogYzEzeTIgLSAzICogYzIweDIgKiBjMTMueCAqIGMxM3kyICogYzIzLnkgKyAzICogYzIweTIgKiBjMTN4MiAqIGMxMy55ICogYzIzLnggKyBjMTEueCAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqICg2ICogYzIwLnkgKiBjMjMueSArIDYgKiBjMjEueSAqIGMyMi55KSArIGMxMngzICogYzEzLnkgKiAoLTIgKiBjMjAueSAqIGMyMy55IC0gMiAqIGMyMS55ICogYzIyLnkpICsgYzEwLnkgKiBjMTN4MyAqICg2ICogYzIwLnkgKiBjMjMueSArIDYgKiBjMjEueSAqIGMyMi55KSArIGMxMS55ICogYzEyLnggKiBjMTN4MiAqICgtMiAqIGMyMC55ICogYzIzLnkgLSAyICogYzIxLnkgKiBjMjIueSkgKyBjMTJ4MiAqIGMxMi55ICogYzEzLnggKiAoMiAqIGMyMC55ICogYzIzLnkgKyAyICogYzIxLnkgKiBjMjIueSkgKyBjMTEueCAqIGMxMi55ICogYzEzeDIgKiAoLTQgKiBjMjAueSAqIGMyMy55IC0gNCAqIGMyMS55ICogYzIyLnkpICsgYzEwLnggKiBjMTN4MiAqIGMxMy55ICogKC02ICogYzIwLnkgKiBjMjMueSAtIDYgKiBjMjEueSAqIGMyMi55KSArIGMyMC54ICogYzEzeDIgKiBjMTMueSAqICg2ICogYzIwLnkgKiBjMjMueSArIDYgKiBjMjEueSAqIGMyMi55KSArIGMyMS54ICogYzEzeDIgKiBjMTMueSAqICg2ICogYzIwLnkgKiBjMjIueSArIDMgKiBjMjF5MikgKyBjMTN4MyAqICgtMiAqIGMyMC55ICogYzIxLnkgKiBjMjIueSAtIGMyMHkyICogYzIzLnkgLSBjMjEueSAqICgyICogYzIwLnkgKiBjMjIueSArIGMyMXkyKSAtIGMyMC55ICogKDIgKiBjMjAueSAqIGMyMy55ICsgMiAqIGMyMS55ICogYzIyLnkpKSwgLWMxMC54ICogYzExLnggKiBjMTIueSAqIGMxMy54ICogYzEzLnkgKiBjMjIueSArIGMxMC54ICogYzExLnkgKiBjMTIueCAqIGMxMy54ICogYzEzLnkgKiBjMjIueSArIDYgKiBjMTAueCAqIGMxMS55ICogYzEyLnkgKiBjMTMueCAqIGMyMi54ICogYzEzLnkgLSA2ICogYzEwLnkgKiBjMTEueCAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqIGMyMi55IC0gYzEwLnkgKiBjMTEueCAqIGMxMi55ICogYzEzLnggKiBjMjIueCAqIGMxMy55ICsgYzEwLnkgKiBjMTEueSAqIGMxMi54ICogYzEzLnggKiBjMjIueCAqIGMxMy55ICsgYzExLnggKiBjMTEueSAqIGMxMi54ICogYzEyLnkgKiBjMTMueCAqIGMyMi55IC0gYzExLnggKiBjMTEueSAqIGMxMi54ICogYzEyLnkgKiBjMjIueCAqIGMxMy55ICsgYzExLnggKiBjMjAueCAqIGMxMi55ICogYzEzLnggKiBjMTMueSAqIGMyMi55ICsgYzExLnggKiBjMjAueSAqIGMxMi55ICogYzEzLnggKiBjMjIueCAqIGMxMy55ICsgYzExLnggKiBjMjEueCAqIGMxMi55ICogYzEzLnggKiBjMjEueSAqIGMxMy55IC0gYzIwLnggKiBjMTEueSAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqIGMyMi55IC0gNiAqIGMyMC54ICogYzExLnkgKiBjMTIueSAqIGMxMy54ICogYzIyLnggKiBjMTMueSAtIGMxMS55ICogYzEyLnggKiBjMjAueSAqIGMxMy54ICogYzIyLnggKiBjMTMueSAtIGMxMS55ICogYzEyLnggKiBjMjEueCAqIGMxMy54ICogYzIxLnkgKiBjMTMueSAtIDYgKiBjMTAueCAqIGMyMC54ICogYzIyLnggKiBjMTN5MyAtIDIgKiBjMTAueCAqIGMxMnkzICogYzEzLnggKiBjMjIueCArIDIgKiBjMjAueCAqIGMxMnkzICogYzEzLnggKiBjMjIueCArIDIgKiBjMTAueSAqIGMxMngzICogYzEzLnkgKiBjMjIueSAtIDYgKiBjMTAueCAqIGMxMC55ICogYzEzLnggKiBjMjIueCAqIGMxM3kyICsgMyAqIGMxMC54ICogYzExLnggKiBjMTIueCAqIGMxM3kyICogYzIyLnkgLSAyICogYzEwLnggKiBjMTEueCAqIGMxMi55ICogYzIyLnggKiBjMTN5MiAtIDQgKiBjMTAueCAqIGMxMS55ICogYzEyLnggKiBjMjIueCAqIGMxM3kyICsgMyAqIGMxMC55ICogYzExLnggKiBjMTIueCAqIGMyMi54ICogYzEzeTIgKyA2ICogYzEwLnggKiBjMTAueSAqIGMxM3gyICogYzEzLnkgKiBjMjIueSArIDYgKiBjMTAueCAqIGMyMC54ICogYzEzLnggKiBjMTN5MiAqIGMyMi55IC0gMyAqIGMxMC54ICogYzExLnkgKiBjMTIueSAqIGMxM3gyICogYzIyLnkgKyAyICogYzEwLnggKiBjMTIueCAqIGMxMnkyICogYzEzLnggKiBjMjIueSArIDIgKiBjMTAueCAqIGMxMi54ICogYzEyeTIgKiBjMjIueCAqIGMxMy55ICsgNiAqIGMxMC54ICogYzIwLnkgKiBjMTMueCAqIGMyMi54ICogYzEzeTIgKyA2ICogYzEwLnggKiBjMjEueCAqIGMxMy54ICogYzIxLnkgKiBjMTN5MiArIDQgKiBjMTAueSAqIGMxMS54ICogYzEyLnkgKiBjMTN4MiAqIGMyMi55ICsgNiAqIGMxMC55ICogYzIwLnggKiBjMTMueCAqIGMyMi54ICogYzEzeTIgKyAyICogYzEwLnkgKiBjMTEueSAqIGMxMi54ICogYzEzeDIgKiBjMjIueSAtIDMgKiBjMTAueSAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiAqIGMyMi54ICsgMiAqIGMxMC55ICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICogYzIyLnggLSAzICogYzExLnggKiBjMjAueCAqIGMxMi54ICogYzEzeTIgKiBjMjIueSArIDIgKiBjMTEueCAqIGMyMC54ICogYzEyLnkgKiBjMjIueCAqIGMxM3kyICsgYzExLnggKiBjMTEueSAqIGMxMnkyICogYzEzLnggKiBjMjIueCAtIDMgKiBjMTEueCAqIGMxMi54ICogYzIwLnkgKiBjMjIueCAqIGMxM3kyIC0gMyAqIGMxMS54ICogYzEyLnggKiBjMjEueCAqIGMyMS55ICogYzEzeTIgKyA0ICogYzIwLnggKiBjMTEueSAqIGMxMi54ICogYzIyLnggKiBjMTN5MiAtIDIgKiBjMTAueCAqIGMxMngyICogYzEyLnkgKiBjMTMueSAqIGMyMi55IC0gNiAqIGMxMC55ICogYzIwLnggKiBjMTN4MiAqIGMxMy55ICogYzIyLnkgLSA2ICogYzEwLnkgKiBjMjAueSAqIGMxM3gyICogYzIyLnggKiBjMTMueSAtIDYgKiBjMTAueSAqIGMyMS54ICogYzEzeDIgKiBjMjEueSAqIGMxMy55IC0gMiAqIGMxMC55ICogYzEyeDIgKiBjMTIueSAqIGMxMy54ICogYzIyLnkgLSAyICogYzEwLnkgKiBjMTJ4MiAqIGMxMi55ICogYzIyLnggKiBjMTMueSAtIGMxMS54ICogYzExLnkgKiBjMTJ4MiAqIGMxMy55ICogYzIyLnkgLSAyICogYzExLnggKiBjMTF5MiAqIGMxMy54ICogYzIyLnggKiBjMTMueSArIDMgKiBjMjAueCAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiAqIGMyMi55IC0gMiAqIGMyMC54ICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICogYzIyLnkgLSAyICogYzIwLnggKiBjMTIueCAqIGMxMnkyICogYzIyLnggKiBjMTMueSAtIDYgKiBjMjAueCAqIGMyMC55ICogYzEzLnggKiBjMjIueCAqIGMxM3kyIC0gNiAqIGMyMC54ICogYzIxLnggKiBjMTMueCAqIGMyMS55ICogYzEzeTIgKyAzICogYzExLnkgKiBjMjAueSAqIGMxMi55ICogYzEzeDIgKiBjMjIueCArIDMgKiBjMTEueSAqIGMyMS54ICogYzEyLnkgKiBjMTN4MiAqIGMyMS55IC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMTJ5MiAqIGMxMy54ICogYzIyLnggLSAyICogYzEyLnggKiBjMjEueCAqIGMxMnkyICogYzEzLnggKiBjMjEueSAtIGMxMXkyICogYzEyLnggKiBjMTIueSAqIGMxMy54ICogYzIyLnggKyAyICogYzIwLnggKiBjMTJ4MiAqIGMxMi55ICogYzEzLnkgKiBjMjIueSAtIDMgKiBjMTEueSAqIGMyMXgyICogYzEyLnkgKiBjMTMueCAqIGMxMy55ICsgNiAqIGMyMC55ICogYzIxLnggKiBjMTN4MiAqIGMyMS55ICogYzEzLnkgKyAyICogYzExeDIgKiBjMTEueSAqIGMxMy54ICogYzEzLnkgKiBjMjIueSArIGMxMXgyICogYzEyLnggKiBjMTIueSAqIGMxMy55ICogYzIyLnkgKyAyICogYzEyeDIgKiBjMjAueSAqIGMxMi55ICogYzIyLnggKiBjMTMueSArIDIgKiBjMTJ4MiAqIGMyMS54ICogYzEyLnkgKiBjMjEueSAqIGMxMy55IC0gMyAqIGMxMC54ICogYzIxeDIgKiBjMTN5MyArIDMgKiBjMjAueCAqIGMyMXgyICogYzEzeTMgKyAzICogYzEweDIgKiBjMjIueCAqIGMxM3kzIC0gMyAqIGMxMHkyICogYzEzeDMgKiBjMjIueSArIDMgKiBjMjB4MiAqIGMyMi54ICogYzEzeTMgKyBjMjF4MiAqIGMxMnkzICogYzEzLnggKyBjMTF5MyAqIGMxM3gyICogYzIyLnggLSBjMTF4MyAqIGMxM3kyICogYzIyLnkgKyAzICogYzEwLnkgKiBjMjF4MiAqIGMxMy54ICogYzEzeTIgLSBjMTEueCAqIGMxMXkyICogYzEzeDIgKiBjMjIueSArIGMxMS54ICogYzIxeDIgKiBjMTIueSAqIGMxM3kyICsgMiAqIGMxMS55ICogYzEyLnggKiBjMjF4MiAqIGMxM3kyICsgYzExeDIgKiBjMTEueSAqIGMyMi54ICogYzEzeTIgLSBjMTIueCAqIGMyMXgyICogYzEyeTIgKiBjMTMueSAtIDMgKiBjMjAueSAqIGMyMXgyICogYzEzLnggKiBjMTN5MiAtIDMgKiBjMTB4MiAqIGMxMy54ICogYzEzeTIgKiBjMjIueSArIDMgKiBjMTB5MiAqIGMxM3gyICogYzIyLnggKiBjMTMueSAtIGMxMXgyICogYzEyeTIgKiBjMTMueCAqIGMyMi55ICsgYzExeTIgKiBjMTJ4MiAqIGMyMi54ICogYzEzLnkgLSAzICogYzIweDIgKiBjMTMueCAqIGMxM3kyICogYzIyLnkgKyAzICogYzIweTIgKiBjMTN4MiAqIGMyMi54ICogYzEzLnkgKyBjMTJ4MiAqIGMxMi55ICogYzEzLnggKiAoMiAqIGMyMC55ICogYzIyLnkgKyBjMjF5MikgKyBjMTEueCAqIGMxMi54ICogYzEzLnggKiBjMTMueSAqICg2ICogYzIwLnkgKiBjMjIueSArIDMgKiBjMjF5MikgKyBjMTJ4MyAqIGMxMy55ICogKC0yICogYzIwLnkgKiBjMjIueSAtIGMyMXkyKSArIGMxMC55ICogYzEzeDMgKiAoNiAqIGMyMC55ICogYzIyLnkgKyAzICogYzIxeTIpICsgYzExLnkgKiBjMTIueCAqIGMxM3gyICogKC0yICogYzIwLnkgKiBjMjIueSAtIGMyMXkyKSArIGMxMS54ICogYzEyLnkgKiBjMTN4MiAqICgtNCAqIGMyMC55ICogYzIyLnkgLSAyICogYzIxeTIpICsgYzEwLnggKiBjMTN4MiAqIGMxMy55ICogKC02ICogYzIwLnkgKiBjMjIueSAtIDMgKiBjMjF5MikgKyBjMjAueCAqIGMxM3gyICogYzEzLnkgKiAoNiAqIGMyMC55ICogYzIyLnkgKyAzICogYzIxeTIpICsgYzEzeDMgKiAoLTIgKiBjMjAueSAqIGMyMXkyIC0gYzIweTIgKiBjMjIueSAtIGMyMC55ICogKDIgKiBjMjAueSAqIGMyMi55ICsgYzIxeTIpKSwgLWMxMC54ICogYzExLnggKiBjMTIueSAqIGMxMy54ICogYzIxLnkgKiBjMTMueSArIGMxMC54ICogYzExLnkgKiBjMTIueCAqIGMxMy54ICogYzIxLnkgKiBjMTMueSArIDYgKiBjMTAueCAqIGMxMS55ICogYzIxLnggKiBjMTIueSAqIGMxMy54ICogYzEzLnkgLSA2ICogYzEwLnkgKiBjMTEueCAqIGMxMi54ICogYzEzLnggKiBjMjEueSAqIGMxMy55IC0gYzEwLnkgKiBjMTEueCAqIGMyMS54ICogYzEyLnkgKiBjMTMueCAqIGMxMy55ICsgYzEwLnkgKiBjMTEueSAqIGMxMi54ICogYzIxLnggKiBjMTMueCAqIGMxMy55IC0gYzExLnggKiBjMTEueSAqIGMxMi54ICogYzIxLnggKiBjMTIueSAqIGMxMy55ICsgYzExLnggKiBjMTEueSAqIGMxMi54ICogYzEyLnkgKiBjMTMueCAqIGMyMS55ICsgYzExLnggKiBjMjAueCAqIGMxMi55ICogYzEzLnggKiBjMjEueSAqIGMxMy55ICsgNiAqIGMxMS54ICogYzEyLnggKiBjMjAueSAqIGMxMy54ICogYzIxLnkgKiBjMTMueSArIGMxMS54ICogYzIwLnkgKiBjMjEueCAqIGMxMi55ICogYzEzLnggKiBjMTMueSAtIGMyMC54ICogYzExLnkgKiBjMTIueCAqIGMxMy54ICogYzIxLnkgKiBjMTMueSAtIDYgKiBjMjAueCAqIGMxMS55ICogYzIxLnggKiBjMTIueSAqIGMxMy54ICogYzEzLnkgLSBjMTEueSAqIGMxMi54ICogYzIwLnkgKiBjMjEueCAqIGMxMy54ICogYzEzLnkgLSA2ICogYzEwLnggKiBjMjAueCAqIGMyMS54ICogYzEzeTMgLSAyICogYzEwLnggKiBjMjEueCAqIGMxMnkzICogYzEzLnggKyA2ICogYzEwLnkgKiBjMjAueSAqIGMxM3gzICogYzIxLnkgKyAyICogYzIwLnggKiBjMjEueCAqIGMxMnkzICogYzEzLnggKyAyICogYzEwLnkgKiBjMTJ4MyAqIGMyMS55ICogYzEzLnkgLSAyICogYzEyeDMgKiBjMjAueSAqIGMyMS55ICogYzEzLnkgLSA2ICogYzEwLnggKiBjMTAueSAqIGMyMS54ICogYzEzLnggKiBjMTN5MiArIDMgKiBjMTAueCAqIGMxMS54ICogYzEyLnggKiBjMjEueSAqIGMxM3kyIC0gMiAqIGMxMC54ICogYzExLnggKiBjMjEueCAqIGMxMi55ICogYzEzeTIgLSA0ICogYzEwLnggKiBjMTEueSAqIGMxMi54ICogYzIxLnggKiBjMTN5MiArIDMgKiBjMTAueSAqIGMxMS54ICogYzEyLnggKiBjMjEueCAqIGMxM3kyICsgNiAqIGMxMC54ICogYzEwLnkgKiBjMTN4MiAqIGMyMS55ICogYzEzLnkgKyA2ICogYzEwLnggKiBjMjAueCAqIGMxMy54ICogYzIxLnkgKiBjMTN5MiAtIDMgKiBjMTAueCAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiAqIGMyMS55ICsgMiAqIGMxMC54ICogYzEyLnggKiBjMjEueCAqIGMxMnkyICogYzEzLnkgKyAyICogYzEwLnggKiBjMTIueCAqIGMxMnkyICogYzEzLnggKiBjMjEueSArIDYgKiBjMTAueCAqIGMyMC55ICogYzIxLnggKiBjMTMueCAqIGMxM3kyICsgNCAqIGMxMC55ICogYzExLnggKiBjMTIueSAqIGMxM3gyICogYzIxLnkgKyA2ICogYzEwLnkgKiBjMjAueCAqIGMyMS54ICogYzEzLnggKiBjMTN5MiArIDIgKiBjMTAueSAqIGMxMS55ICogYzEyLnggKiBjMTN4MiAqIGMyMS55IC0gMyAqIGMxMC55ICogYzExLnkgKiBjMjEueCAqIGMxMi55ICogYzEzeDIgKyAyICogYzEwLnkgKiBjMTIueCAqIGMyMS54ICogYzEyeTIgKiBjMTMueCAtIDMgKiBjMTEueCAqIGMyMC54ICogYzEyLnggKiBjMjEueSAqIGMxM3kyICsgMiAqIGMxMS54ICogYzIwLnggKiBjMjEueCAqIGMxMi55ICogYzEzeTIgKyBjMTEueCAqIGMxMS55ICogYzIxLnggKiBjMTJ5MiAqIGMxMy54IC0gMyAqIGMxMS54ICogYzEyLnggKiBjMjAueSAqIGMyMS54ICogYzEzeTIgKyA0ICogYzIwLnggKiBjMTEueSAqIGMxMi54ICogYzIxLnggKiBjMTN5MiAtIDYgKiBjMTAueCAqIGMyMC55ICogYzEzeDIgKiBjMjEueSAqIGMxMy55IC0gMiAqIGMxMC54ICogYzEyeDIgKiBjMTIueSAqIGMyMS55ICogYzEzLnkgLSA2ICogYzEwLnkgKiBjMjAueCAqIGMxM3gyICogYzIxLnkgKiBjMTMueSAtIDYgKiBjMTAueSAqIGMyMC55ICogYzIxLnggKiBjMTN4MiAqIGMxMy55IC0gMiAqIGMxMC55ICogYzEyeDIgKiBjMjEueCAqIGMxMi55ICogYzEzLnkgLSAyICogYzEwLnkgKiBjMTJ4MiAqIGMxMi55ICogYzEzLnggKiBjMjEueSAtIGMxMS54ICogYzExLnkgKiBjMTJ4MiAqIGMyMS55ICogYzEzLnkgLSA0ICogYzExLnggKiBjMjAueSAqIGMxMi55ICogYzEzeDIgKiBjMjEueSAtIDIgKiBjMTEueCAqIGMxMXkyICogYzIxLnggKiBjMTMueCAqIGMxMy55ICsgMyAqIGMyMC54ICogYzExLnkgKiBjMTIueSAqIGMxM3gyICogYzIxLnkgLSAyICogYzIwLnggKiBjMTIueCAqIGMyMS54ICogYzEyeTIgKiBjMTMueSAtIDIgKiBjMjAueCAqIGMxMi54ICogYzEyeTIgKiBjMTMueCAqIGMyMS55IC0gNiAqIGMyMC54ICogYzIwLnkgKiBjMjEueCAqIGMxMy54ICogYzEzeTIgLSAyICogYzExLnkgKiBjMTIueCAqIGMyMC55ICogYzEzeDIgKiBjMjEueSArIDMgKiBjMTEueSAqIGMyMC55ICogYzIxLnggKiBjMTIueSAqIGMxM3gyIC0gMiAqIGMxMi54ICogYzIwLnkgKiBjMjEueCAqIGMxMnkyICogYzEzLnggLSBjMTF5MiAqIGMxMi54ICogYzIxLnggKiBjMTIueSAqIGMxMy54ICsgNiAqIGMyMC54ICogYzIwLnkgKiBjMTN4MiAqIGMyMS55ICogYzEzLnkgKyAyICogYzIwLnggKiBjMTJ4MiAqIGMxMi55ICogYzIxLnkgKiBjMTMueSArIDIgKiBjMTF4MiAqIGMxMS55ICogYzEzLnggKiBjMjEueSAqIGMxMy55ICsgYzExeDIgKiBjMTIueCAqIGMxMi55ICogYzIxLnkgKiBjMTMueSArIDIgKiBjMTJ4MiAqIGMyMC55ICogYzIxLnggKiBjMTIueSAqIGMxMy55ICsgMiAqIGMxMngyICogYzIwLnkgKiBjMTIueSAqIGMxMy54ICogYzIxLnkgKyAzICogYzEweDIgKiBjMjEueCAqIGMxM3kzIC0gMyAqIGMxMHkyICogYzEzeDMgKiBjMjEueSArIDMgKiBjMjB4MiAqIGMyMS54ICogYzEzeTMgKyBjMTF5MyAqIGMyMS54ICogYzEzeDIgLSBjMTF4MyAqIGMyMS55ICogYzEzeTIgLSAzICogYzIweTIgKiBjMTN4MyAqIGMyMS55IC0gYzExLnggKiBjMTF5MiAqIGMxM3gyICogYzIxLnkgKyBjMTF4MiAqIGMxMS55ICogYzIxLnggKiBjMTN5MiAtIDMgKiBjMTB4MiAqIGMxMy54ICogYzIxLnkgKiBjMTN5MiArIDMgKiBjMTB5MiAqIGMyMS54ICogYzEzeDIgKiBjMTMueSAtIGMxMXgyICogYzEyeTIgKiBjMTMueCAqIGMyMS55ICsgYzExeTIgKiBjMTJ4MiAqIGMyMS54ICogYzEzLnkgLSAzICogYzIweDIgKiBjMTMueCAqIGMyMS55ICogYzEzeTIgKyAzICogYzIweTIgKiBjMjEueCAqIGMxM3gyICogYzEzLnksIGMxMC54ICogYzEwLnkgKiBjMTEueCAqIGMxMi55ICogYzEzLnggKiBjMTMueSAtIGMxMC54ICogYzEwLnkgKiBjMTEueSAqIGMxMi54ICogYzEzLnggKiBjMTMueSArIGMxMC54ICogYzExLnggKiBjMTEueSAqIGMxMi54ICogYzEyLnkgKiBjMTMueSAtIGMxMC55ICogYzExLnggKiBjMTEueSAqIGMxMi54ICogYzEyLnkgKiBjMTMueCAtIGMxMC54ICogYzExLnggKiBjMjAueSAqIGMxMi55ICogYzEzLnggKiBjMTMueSArIDYgKiBjMTAueCAqIGMyMC54ICogYzExLnkgKiBjMTIueSAqIGMxMy54ICogYzEzLnkgKyBjMTAueCAqIGMxMS55ICogYzEyLnggKiBjMjAueSAqIGMxMy54ICogYzEzLnkgLSBjMTAueSAqIGMxMS54ICogYzIwLnggKiBjMTIueSAqIGMxMy54ICogYzEzLnkgLSA2ICogYzEwLnkgKiBjMTEueCAqIGMxMi54ICogYzIwLnkgKiBjMTMueCAqIGMxMy55ICsgYzEwLnkgKiBjMjAueCAqIGMxMS55ICogYzEyLnggKiBjMTMueCAqIGMxMy55IC0gYzExLnggKiBjMjAueCAqIGMxMS55ICogYzEyLnggKiBjMTIueSAqIGMxMy55ICsgYzExLnggKiBjMTEueSAqIGMxMi54ICogYzIwLnkgKiBjMTIueSAqIGMxMy54ICsgYzExLnggKiBjMjAueCAqIGMyMC55ICogYzEyLnkgKiBjMTMueCAqIGMxMy55IC0gYzIwLnggKiBjMTEueSAqIGMxMi54ICogYzIwLnkgKiBjMTMueCAqIGMxMy55IC0gMiAqIGMxMC54ICogYzIwLnggKiBjMTJ5MyAqIGMxMy54ICsgMiAqIGMxMC55ICogYzEyeDMgKiBjMjAueSAqIGMxMy55IC0gMyAqIGMxMC54ICogYzEwLnkgKiBjMTEueCAqIGMxMi54ICogYzEzeTIgLSA2ICogYzEwLnggKiBjMTAueSAqIGMyMC54ICogYzEzLnggKiBjMTN5MiArIDMgKiBjMTAueCAqIGMxMC55ICogYzExLnkgKiBjMTIueSAqIGMxM3gyIC0gMiAqIGMxMC54ICogYzEwLnkgKiBjMTIueCAqIGMxMnkyICogYzEzLnggLSAyICogYzEwLnggKiBjMTEueCAqIGMyMC54ICogYzEyLnkgKiBjMTN5MiAtIGMxMC54ICogYzExLnggKiBjMTEueSAqIGMxMnkyICogYzEzLnggKyAzICogYzEwLnggKiBjMTEueCAqIGMxMi54ICogYzIwLnkgKiBjMTN5MiAtIDQgKiBjMTAueCAqIGMyMC54ICogYzExLnkgKiBjMTIueCAqIGMxM3kyICsgMyAqIGMxMC55ICogYzExLnggKiBjMjAueCAqIGMxMi54ICogYzEzeTIgKyA2ICogYzEwLnggKiBjMTAueSAqIGMyMC55ICogYzEzeDIgKiBjMTMueSArIDIgKiBjMTAueCAqIGMxMC55ICogYzEyeDIgKiBjMTIueSAqIGMxMy55ICsgMiAqIGMxMC54ICogYzExLnggKiBjMTF5MiAqIGMxMy54ICogYzEzLnkgKyAyICogYzEwLnggKiBjMjAueCAqIGMxMi54ICogYzEyeTIgKiBjMTMueSArIDYgKiBjMTAueCAqIGMyMC54ICogYzIwLnkgKiBjMTMueCAqIGMxM3kyIC0gMyAqIGMxMC54ICogYzExLnkgKiBjMjAueSAqIGMxMi55ICogYzEzeDIgKyAyICogYzEwLnggKiBjMTIueCAqIGMyMC55ICogYzEyeTIgKiBjMTMueCArIGMxMC54ICogYzExeTIgKiBjMTIueCAqIGMxMi55ICogYzEzLnggKyBjMTAueSAqIGMxMS54ICogYzExLnkgKiBjMTJ4MiAqIGMxMy55ICsgNCAqIGMxMC55ICogYzExLnggKiBjMjAueSAqIGMxMi55ICogYzEzeDIgLSAzICogYzEwLnkgKiBjMjAueCAqIGMxMS55ICogYzEyLnkgKiBjMTN4MiArIDIgKiBjMTAueSAqIGMyMC54ICogYzEyLnggKiBjMTJ5MiAqIGMxMy54ICsgMiAqIGMxMC55ICogYzExLnkgKiBjMTIueCAqIGMyMC55ICogYzEzeDIgKyBjMTEueCAqIGMyMC54ICogYzExLnkgKiBjMTJ5MiAqIGMxMy54IC0gMyAqIGMxMS54ICogYzIwLnggKiBjMTIueCAqIGMyMC55ICogYzEzeTIgLSAyICogYzEwLnggKiBjMTJ4MiAqIGMyMC55ICogYzEyLnkgKiBjMTMueSAtIDYgKiBjMTAueSAqIGMyMC54ICogYzIwLnkgKiBjMTN4MiAqIGMxMy55IC0gMiAqIGMxMC55ICogYzIwLnggKiBjMTJ4MiAqIGMxMi55ICogYzEzLnkgLSAyICogYzEwLnkgKiBjMTF4MiAqIGMxMS55ICogYzEzLnggKiBjMTMueSAtIGMxMC55ICogYzExeDIgKiBjMTIueCAqIGMxMi55ICogYzEzLnkgLSAyICogYzEwLnkgKiBjMTJ4MiAqIGMyMC55ICogYzEyLnkgKiBjMTMueCAtIDIgKiBjMTEueCAqIGMyMC54ICogYzExeTIgKiBjMTMueCAqIGMxMy55IC0gYzExLnggKiBjMTEueSAqIGMxMngyICogYzIwLnkgKiBjMTMueSArIDMgKiBjMjAueCAqIGMxMS55ICogYzIwLnkgKiBjMTIueSAqIGMxM3gyIC0gMiAqIGMyMC54ICogYzEyLnggKiBjMjAueSAqIGMxMnkyICogYzEzLnggLSBjMjAueCAqIGMxMXkyICogYzEyLnggKiBjMTIueSAqIGMxMy54ICsgMyAqIGMxMHkyICogYzExLnggKiBjMTIueCAqIGMxMy54ICogYzEzLnkgKyAzICogYzExLnggKiBjMTIueCAqIGMyMHkyICogYzEzLnggKiBjMTMueSArIDIgKiBjMjAueCAqIGMxMngyICogYzIwLnkgKiBjMTIueSAqIGMxMy55IC0gMyAqIGMxMHgyICogYzExLnkgKiBjMTIueSAqIGMxMy54ICogYzEzLnkgKyAyICogYzExeDIgKiBjMTEueSAqIGMyMC55ICogYzEzLnggKiBjMTMueSArIGMxMXgyICogYzEyLnggKiBjMjAueSAqIGMxMi55ICogYzEzLnkgLSAzICogYzIweDIgKiBjMTEueSAqIGMxMi55ICogYzEzLnggKiBjMTMueSAtIGMxMHgzICogYzEzeTMgKyBjMTB5MyAqIGMxM3gzICsgYzIweDMgKiBjMTN5MyAtIGMyMHkzICogYzEzeDMgLSAzICogYzEwLnggKiBjMjB4MiAqIGMxM3kzIC0gYzEwLnggKiBjMTF5MyAqIGMxM3gyICsgMyAqIGMxMHgyICogYzIwLnggKiBjMTN5MyArIGMxMC55ICogYzExeDMgKiBjMTN5MiArIDMgKiBjMTAueSAqIGMyMHkyICogYzEzeDMgKyBjMjAueCAqIGMxMXkzICogYzEzeDIgKyBjMTB4MiAqIGMxMnkzICogYzEzLnggLSAzICogYzEweTIgKiBjMjAueSAqIGMxM3gzIC0gYzEweTIgKiBjMTJ4MyAqIGMxMy55ICsgYzIweDIgKiBjMTJ5MyAqIGMxMy54IC0gYzExeDMgKiBjMjAueSAqIGMxM3kyIC0gYzEyeDMgKiBjMjB5MiAqIGMxMy55IC0gYzEwLnggKiBjMTF4MiAqIGMxMS55ICogYzEzeTIgKyBjMTAueSAqIGMxMS54ICogYzExeTIgKiBjMTN4MiAtIDMgKiBjMTAueCAqIGMxMHkyICogYzEzeDIgKiBjMTMueSAtIGMxMC54ICogYzExeTIgKiBjMTJ4MiAqIGMxMy55ICsgYzEwLnkgKiBjMTF4MiAqIGMxMnkyICogYzEzLnggLSBjMTEueCAqIGMxMXkyICogYzIwLnkgKiBjMTN4MiArIDMgKiBjMTB4MiAqIGMxMC55ICogYzEzLnggKiBjMTN5MiArIGMxMHgyICogYzExLnggKiBjMTIueSAqIGMxM3kyICsgMiAqIGMxMHgyICogYzExLnkgKiBjMTIueCAqIGMxM3kyIC0gMiAqIGMxMHkyICogYzExLnggKiBjMTIueSAqIGMxM3gyIC0gYzEweTIgKiBjMTEueSAqIGMxMi54ICogYzEzeDIgKyBjMTF4MiAqIGMyMC54ICogYzExLnkgKiBjMTN5MiAtIDMgKiBjMTAueCAqIGMyMHkyICogYzEzeDIgKiBjMTMueSArIDMgKiBjMTAueSAqIGMyMHgyICogYzEzLnggKiBjMTN5MiArIGMxMS54ICogYzIweDIgKiBjMTIueSAqIGMxM3kyIC0gMiAqIGMxMS54ICogYzIweTIgKiBjMTIueSAqIGMxM3gyICsgYzIwLnggKiBjMTF5MiAqIGMxMngyICogYzEzLnkgLSBjMTEueSAqIGMxMi54ICogYzIweTIgKiBjMTN4MiAtIGMxMHgyICogYzEyLnggKiBjMTJ5MiAqIGMxMy55IC0gMyAqIGMxMHgyICogYzIwLnkgKiBjMTMueCAqIGMxM3kyICsgMyAqIGMxMHkyICogYzIwLnggKiBjMTN4MiAqIGMxMy55ICsgYzEweTIgKiBjMTJ4MiAqIGMxMi55ICogYzEzLnggLSBjMTF4MiAqIGMyMC55ICogYzEyeTIgKiBjMTMueCArIDIgKiBjMjB4MiAqIGMxMS55ICogYzEyLnggKiBjMTN5MiArIDMgKiBjMjAueCAqIGMyMHkyICogYzEzeDIgKiBjMTMueSAtIGMyMHgyICogYzEyLnggKiBjMTJ5MiAqIGMxMy55IC0gMyAqIGMyMHgyICogYzIwLnkgKiBjMTMueCAqIGMxM3kyICsgYzEyeDIgKiBjMjB5MiAqIGMxMi55ICogYzEzLngpO1xuICAgIGNvbnN0IHJvb3RzID0gcG9seS5nZXRSb290c0luSW50ZXJ2YWwoMCwgMSk7XG4gICAgZm9yIChjb25zdCBzIG9mIHJvb3RzKSB7XG4gICAgICBjb25zdCB4Um9vdHMgPSBuZXcgUG9seW5vbWlhbChjMTMueCwgYzEyLngsIGMxMS54LCBjMTAueCAtIGMyMC54IC0gcyAqIGMyMS54IC0gcyAqIHMgKiBjMjIueCAtIHMgKiBzICogcyAqIGMyMy54KS5nZXRSb290cygpO1xuICAgICAgY29uc3QgeVJvb3RzID0gbmV3IFBvbHlub21pYWwoYzEzLnksIGMxMi55LCBjMTEueSwgYzEwLnkgLSBjMjAueSAtIHMgKiBjMjEueSAtIHMgKiBzICogYzIyLnkgLSBzICogcyAqIHMgKiBjMjMueSkuZ2V0Um9vdHMoKTtcbiAgICAgIGlmICh4Um9vdHMubGVuZ3RoID4gMCAmJiB5Um9vdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBUT0xFUkFOQ0UgPSAxZS00O1xuICAgICAgICBjaGVja1Jvb3RzOmZvciAoY29uc3QgeFJvb3Qgb2YgeFJvb3RzKSB7XG4gICAgICAgICAgaWYgKDAgPD0geFJvb3QgJiYgeFJvb3QgPD0gMSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB5Um9vdCBvZiB5Um9vdHMpIHtcbiAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHhSb290IC0geVJvb3QpIDwgVE9MRVJBTkNFKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKGMyMy5tdWx0aXBseShzICogcyAqIHMpLmFkZChjMjIubXVsdGlwbHkocyAqIHMpLmFkZChjMjEubXVsdGlwbHkocykuYWRkKGMyMCkpKSk7XG4gICAgICAgICAgICAgICAgYnJlYWsgY2hlY2tSb290cztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEJlemllcjNDaXJjbGUocDE6IFZlY3RvcjJELCBwMjogVmVjdG9yMkQsIHAzOiBWZWN0b3IyRCwgcDQ6IFZlY3RvcjJELCBjOiBWZWN0b3IyRCwgcjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIzRWxsaXBzZShwMSwgcDIsIHAzLCBwNCwgYywgciwgcik7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyM0VsbGlwc2UocDE6IFZlY3RvcjJELCBwMjogVmVjdG9yMkQsIHAzOiBWZWN0b3IyRCwgcDQ6IFZlY3RvcjJELCBlYzogVmVjdG9yMkQsIHJ4OiBudW1iZXIsIHJ5OiBudW1iZXIpIHtcbiAgICBsZXQgYSwgYiwgYywgZDtcbiAgICBsZXQgYzMsIGMyLCBjMSwgYzA7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIGEgPSBwMS5tdWx0aXBseSgtMSk7XG4gICAgYiA9IHAyLm11bHRpcGx5KDMpO1xuICAgIGMgPSBwMy5tdWx0aXBseSgtMyk7XG4gICAgZCA9IGEuYWRkKGIuYWRkKGMuYWRkKHA0KSkpO1xuICAgIGMzID0gbmV3IFZlY3RvcjJEKGQueCwgZC55KTtcbiAgICBhID0gcDEubXVsdGlwbHkoMyk7XG4gICAgYiA9IHAyLm11bHRpcGx5KC02KTtcbiAgICBjID0gcDMubXVsdGlwbHkoMyk7XG4gICAgZCA9IGEuYWRkKGIuYWRkKGMpKTtcbiAgICBjMiA9IG5ldyBWZWN0b3IyRChkLngsIGQueSk7XG4gICAgYSA9IHAxLm11bHRpcGx5KC0zKTtcbiAgICBiID0gcDIubXVsdGlwbHkoMyk7XG4gICAgYyA9IGEuYWRkKGIpO1xuICAgIGMxID0gbmV3IFZlY3RvcjJEKGMueCwgYy55KTtcbiAgICBjMCA9IG5ldyBWZWN0b3IyRChwMS54LCBwMS55KTtcbiAgICBjb25zdCByeHJ4ID0gcnggKiByeDtcbiAgICBjb25zdCByeXJ5ID0gcnkgKiByeTtcbiAgICBjb25zdCBwb2x5ID0gbmV3IFBvbHlub21pYWwoYzMueCAqIGMzLnggKiByeXJ5ICsgYzMueSAqIGMzLnkgKiByeHJ4LCAyICogKGMzLnggKiBjMi54ICogcnlyeSArIGMzLnkgKiBjMi55ICogcnhyeCksIDIgKiAoYzMueCAqIGMxLnggKiByeXJ5ICsgYzMueSAqIGMxLnkgKiByeHJ4KSArIGMyLnggKiBjMi54ICogcnlyeSArIGMyLnkgKiBjMi55ICogcnhyeCwgMiAqIGMzLnggKiByeXJ5ICogKGMwLnggLSBlYy54KSArIDIgKiBjMy55ICogcnhyeCAqIChjMC55IC0gZWMueSkgKyAyICogKGMyLnggKiBjMS54ICogcnlyeSArIGMyLnkgKiBjMS55ICogcnhyeCksIDIgKiBjMi54ICogcnlyeSAqIChjMC54IC0gZWMueCkgKyAyICogYzIueSAqIHJ4cnggKiAoYzAueSAtIGVjLnkpICsgYzEueCAqIGMxLnggKiByeXJ5ICsgYzEueSAqIGMxLnkgKiByeHJ4LCAyICogYzEueCAqIHJ5cnkgKiAoYzAueCAtIGVjLngpICsgMiAqIGMxLnkgKiByeHJ4ICogKGMwLnkgLSBlYy55KSwgYzAueCAqIGMwLnggKiByeXJ5IC0gMiAqIGMwLnkgKiBlYy55ICogcnhyeCAtIDIgKiBjMC54ICogZWMueCAqIHJ5cnkgKyBjMC55ICogYzAueSAqIHJ4cnggKyBlYy54ICogZWMueCAqIHJ5cnkgKyBlYy55ICogZWMueSAqIHJ4cnggLSByeHJ4ICogcnlyeSk7XG4gICAgY29uc3Qgcm9vdHMgPSBwb2x5LmdldFJvb3RzSW5JbnRlcnZhbCgwLCAxKTtcbiAgICBmb3IgKGNvbnN0IHQgb2Ygcm9vdHMpIHtcbiAgICAgIHJlc3VsdC5wb2ludHMucHVzaChjMy5tdWx0aXBseSh0ICogdCAqIHQpLmFkZChjMi5tdWx0aXBseSh0ICogdCkuYWRkKGMxLm11bHRpcGx5KHQpLmFkZChjMCkpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0QmV6aWVyM0xpbmUocDE6IFZlY3RvcjJELCBwMjogVmVjdG9yMkQsIHAzOiBWZWN0b3IyRCwgcDQ6IFZlY3RvcjJELCBhMTogVmVjdG9yMkQsIGEyOiBWZWN0b3IyRCkge1xuICAgIGxldCBhLCBiLCBjLCBkO1xuICAgIGxldCBjMywgYzIsIGMxLCBjMDtcbiAgICBsZXQgY2w7XG4gICAgbGV0IG47XG4gICAgY29uc3QgbWluID0gYTEubWluKGEyKTtcbiAgICBjb25zdCBtYXggPSBhMS5tYXgoYTIpO1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcbiAgICBhID0gcDEubXVsdGlwbHkoLTEpO1xuICAgIGIgPSBwMi5tdWx0aXBseSgzKTtcbiAgICBjID0gcDMubXVsdGlwbHkoLTMpO1xuICAgIGQgPSBhLmFkZChiLmFkZChjLmFkZChwNCkpKTtcbiAgICBjMyA9IG5ldyBWZWN0b3IyRChkLngsIGQueSk7XG4gICAgYSA9IHAxLm11bHRpcGx5KDMpO1xuICAgIGIgPSBwMi5tdWx0aXBseSgtNik7XG4gICAgYyA9IHAzLm11bHRpcGx5KDMpO1xuICAgIGQgPSBhLmFkZChiLmFkZChjKSk7XG4gICAgYzIgPSBuZXcgVmVjdG9yMkQoZC54LCBkLnkpO1xuICAgIGEgPSBwMS5tdWx0aXBseSgtMyk7XG4gICAgYiA9IHAyLm11bHRpcGx5KDMpO1xuICAgIGMgPSBhLmFkZChiKTtcbiAgICBjMSA9IG5ldyBWZWN0b3IyRChjLngsIGMueSk7XG4gICAgYzAgPSBuZXcgVmVjdG9yMkQocDEueCwgcDEueSk7XG4gICAgbiA9IG5ldyBWZWN0b3IyRChhMS55IC0gYTIueSwgYTIueCAtIGExLngpO1xuICAgIGNsID0gYTEueCAqIGEyLnkgLSBhMi54ICogYTEueTtcbiAgICBjb25zdCByb290cyA9IG5ldyBQb2x5bm9taWFsKG4uZG90KGMzKSwgbi5kb3QoYzIpLCBuLmRvdChjMSksIG4uZG90KGMwKSArIGNsKS5nZXRSb290cygpO1xuICAgIGZvciAoY29uc3QgdCBvZiByb290cykge1xuICAgICAgaWYgKDAgPD0gdCAmJiB0IDw9IDEpIHtcbiAgICAgICAgY29uc3QgcDUgPSBwMS5sZXJwKHAyLCB0KTtcbiAgICAgICAgY29uc3QgcDYgPSBwMi5sZXJwKHAzLCB0KTtcbiAgICAgICAgY29uc3QgcDcgPSBwMy5sZXJwKHA0LCB0KTtcbiAgICAgICAgY29uc3QgcDggPSBwNS5sZXJwKHA2LCB0KTtcbiAgICAgICAgY29uc3QgcDkgPSBwNi5sZXJwKHA3LCB0KTtcbiAgICAgICAgY29uc3QgcDEwID0gcDgubGVycChwOSwgdCk7XG4gICAgICAgIGlmIChhMS54ID09PSBhMi54KSB7XG4gICAgICAgICAgaWYgKG1pbi55IDw9IHAxMC55ICYmIHAxMC55IDw9IG1heC55KSB7XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQocDEwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYTEueSA9PT0gYTIueSkge1xuICAgICAgICAgIGlmIChtaW4ueCA8PSBwMTAueCAmJiBwMTAueCA8PSBtYXgueCkge1xuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KHAxMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHAxMC5ndGUobWluKSAmJiBwMTAubHRlKG1heCkpIHtcbiAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQocDEwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEJlemllcjNQb2x5Z29uKHAxOiBWZWN0b3IyRCwgcDI6IFZlY3RvcjJELCBwMzogVmVjdG9yMkQsIHA0OiBWZWN0b3IyRCwgcG9pbnRzOiBWZWN0b3IyRFtdKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYTEgPSBwb2ludHNbaV07XG4gICAgICBjb25zdCBhMiA9IHBvaW50c1soaSArIDEpICUgbGVuZ3RoXTtcbiAgICAgIGNvbnN0IGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNMaW5lKHAxLCBwMiwgcDMsIHA0LCBhMSwgYTIpO1xuICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEJlemllcjNSZWN0YW5nbGUocDE6IFZlY3RvcjJELCBwMjogVmVjdG9yMkQsIHAzOiBWZWN0b3IyRCwgcDQ6IFZlY3RvcjJELCByMTogVmVjdG9yMkQsIHIyOiBWZWN0b3IyRCkge1xuICAgIGNvbnN0IG1pbiA9IHIxLm1pbihyMik7XG4gICAgY29uc3QgbWF4ID0gcjEubWF4KHIyKTtcbiAgICBjb25zdCB0b3BSaWdodCA9IG5ldyBWZWN0b3IyRChtYXgueCwgbWluLnkpO1xuICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBuZXcgVmVjdG9yMkQobWluLngsIG1heC55KTtcbiAgICBjb25zdCBpbnRlcjEgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0QmV6aWVyM0xpbmUocDEsIHAyLCBwMywgcDQsIG1pbiwgdG9wUmlnaHQpO1xuICAgIGNvbnN0IGludGVyMiA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIzTGluZShwMSwgcDIsIHAzLCBwNCwgdG9wUmlnaHQsIG1heCk7XG4gICAgY29uc3QgaW50ZXIzID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEJlemllcjNMaW5lKHAxLCBwMiwgcDMsIHA0LCBtYXgsIGJvdHRvbUxlZnQpO1xuICAgIGNvbnN0IGludGVyNCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RCZXppZXIzTGluZShwMSwgcDIsIHAzLCBwNCwgYm90dG9tTGVmdCwgbWluKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjEucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMi5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIzLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjQucG9pbnRzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdENpcmNsZUNpcmNsZShjMTogVmVjdG9yMkQsIHIxOiBudW1iZXIsIGMyOiBWZWN0b3IyRCwgcjI6IG51bWJlcikge1xuICAgIGxldCByZXN1bHQ7XG4gICAgY29uc3Qgck1heCA9IHIxICsgcjI7XG4gICAgY29uc3Qgck1pbiA9IE1hdGguYWJzKHIxIC0gcjIpO1xuICAgIGNvbnN0IGNEaXN0ID0gYzEuZGlzdGFuY2VGcm9tKGMyKTtcbiAgICBpZiAoY0Rpc3QgPiByTWF4KSB7XG4gICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdPdXRzaWRlJyk7XG4gICAgfSBlbHNlIGlmIChjRGlzdCA8IHJNaW4pIHtcbiAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ0luc2lkZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdJbnRlcnNlY3Rpb24nKTtcbiAgICAgIGNvbnN0IGEgPSAocjEgKiByMSAtIHIyICogcjIgKyBjRGlzdCAqIGNEaXN0KSAvICgyICogY0Rpc3QpO1xuICAgICAgY29uc3QgaCA9IE1hdGguc3FydChyMSAqIHIxIC0gYSAqIGEpO1xuICAgICAgY29uc3QgcCA9IGMxLmxlcnAoYzIsIGEgLyBjRGlzdCk7XG4gICAgICBjb25zdCBiID0gaCAvIGNEaXN0O1xuICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKG5ldyBWZWN0b3IyRChwLnggLSBiICogKGMyLnkgLSBjMS55KSwgcC55ICsgYiAqIChjMi54IC0gYzEueCkpKTtcbiAgICAgIHJlc3VsdC5wb2ludHMucHVzaChuZXcgVmVjdG9yMkQocC54ICsgYiAqIChjMi55IC0gYzEueSksIHAueSAtIGIgKiAoYzIueCAtIGMxLngpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0Q2lyY2xlRWxsaXBzZShjYzogVmVjdG9yMkQsIHI6IG51bWJlciwgZWM6IFZlY3RvcjJELCByeDogbnVtYmVyLCByeTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIEludGVyc2VjdGlvbi5pbnRlcnNlY3RFbGxpcHNlRWxsaXBzZShjYywgciwgciwgZWMsIHJ4LCByeSk7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0Q2lyY2xlTGluZShjOiBWZWN0b3IyRCwgcjogbnVtYmVyLCBhMTogVmVjdG9yMkQsIGEyOiBWZWN0b3IyRCkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgY29uc3QgYSA9IChhMi54IC0gYTEueCkgKiAoYTIueCAtIGExLngpICsgKGEyLnkgLSBhMS55KSAqIChhMi55IC0gYTEueSk7XG4gICAgY29uc3QgYiA9IDIgKiAoKGEyLnggLSBhMS54KSAqIChhMS54IC0gYy54KSArIChhMi55IC0gYTEueSkgKiAoYTEueSAtIGMueSkpO1xuICAgIGNvbnN0IGNjID0gYy54ICogYy54ICsgYy55ICogYy55ICsgYTEueCAqIGExLnggKyBhMS55ICogYTEueSAtIDIgKiAoYy54ICogYTEueCArIGMueSAqIGExLnkpIC0gciAqIHI7XG4gICAgY29uc3QgZGV0ZXIgPSBiICogYiAtIDQgKiBhICogY2M7XG4gICAgaWYgKGRldGVyIDwgMCkge1xuICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignT3V0c2lkZScpO1xuICAgIH0gZWxzZSBpZiAoZGV0ZXIgPT09IDApIHtcbiAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ1RhbmdlbnQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZSA9IE1hdGguc3FydChkZXRlcik7XG4gICAgICBjb25zdCB1MSA9ICgtYiArIGUpIC8gKDIgKiBhKTtcbiAgICAgIGNvbnN0IHUyID0gKC1iIC0gZSkgLyAoMiAqIGEpO1xuICAgICAgaWYgKCh1MSA8IDAgfHwgdTEgPiAxKSAmJiAodTIgPCAwIHx8IHUyID4gMSkpIHtcbiAgICAgICAgaWYgKCh1MSA8IDAgJiYgdTIgPCAwKSB8fCAodTEgPiAxICYmIHUyID4gMSkpIHtcbiAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdPdXRzaWRlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignSW5zaWRlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ0ludGVyc2VjdGlvbicpO1xuICAgICAgICBpZiAoMCA8PSB1MSAmJiB1MSA8PSAxKSB7XG4gICAgICAgICAgcmVzdWx0LnBvaW50cy5wdXNoKGExLmxlcnAoYTIsIHUxKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDAgPD0gdTIgJiYgdTIgPD0gMSkge1xuICAgICAgICAgIHJlc3VsdC5wb2ludHMucHVzaChhMS5sZXJwKGEyLCB1MikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0Q2lyY2xlUG9seWdvbihjOiBWZWN0b3IyRCwgcjogbnVtYmVyLCBwb2ludHM6IFZlY3RvcjJEW10pIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICBsZXQgaW50ZXI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYTEgPSBwb2ludHNbaV07XG4gICAgICBjb25zdCBhMiA9IHBvaW50c1soaSArIDEpICUgbGVuZ3RoXTtcbiAgICAgIGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdENpcmNsZUxpbmUoYywgciwgYTEsIGEyKTtcbiAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIucG9pbnRzKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdJbnRlcnNlY3Rpb24nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gaW50ZXIuc3RhdHVzO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdENpcmNsZVJlY3RhbmdsZShjOiBWZWN0b3IyRCwgcjogbnVtYmVyLCByMTogVmVjdG9yMkQsIHIyOiBWZWN0b3IyRCkge1xuICAgIGNvbnN0IG1pbiA9IHIxLm1pbihyMik7XG4gICAgY29uc3QgbWF4ID0gcjEubWF4KHIyKTtcbiAgICBjb25zdCB0b3BSaWdodCA9IG5ldyBWZWN0b3IyRChtYXgueCwgbWluLnkpO1xuICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBuZXcgVmVjdG9yMkQobWluLngsIG1heC55KTtcbiAgICBjb25zdCBpbnRlcjEgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0Q2lyY2xlTGluZShjLCByLCBtaW4sIHRvcFJpZ2h0KTtcbiAgICBjb25zdCBpbnRlcjIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0Q2lyY2xlTGluZShjLCByLCB0b3BSaWdodCwgbWF4KTtcbiAgICBjb25zdCBpbnRlcjMgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0Q2lyY2xlTGluZShjLCByLCBtYXgsIGJvdHRvbUxlZnQpO1xuICAgIGNvbnN0IGludGVyNCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RDaXJjbGVMaW5lKGMsIHIsIGJvdHRvbUxlZnQsIG1pbik7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIxLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjIucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMy5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXI0LnBvaW50cyk7XG4gICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdJbnRlcnNlY3Rpb24nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gaW50ZXIxLnN0YXR1cztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBpbnRlcnNlY3RFbGxpcHNlRWxsaXBzZShjMTogVmVjdG9yMkQsIHJ4MTogbnVtYmVyLCByeTE6IG51bWJlciwgYzI6IFZlY3RvcjJELCByeDI6IG51bWJlciwgcnkyOiBudW1iZXIpIHtcbiAgICBjb25zdCBhID0gW3J5MSAqIHJ5MSwgMCwgcngxICogcngxLCAtMiAqIHJ5MSAqIHJ5MSAqIGMxLngsIC0yICogcngxICogcngxICogYzEueSwgcnkxICogcnkxICogYzEueCAqIGMxLnggKyByeDEgKiByeDEgKiBjMS55ICogYzEueSAtIHJ4MSAqIHJ4MSAqIHJ5MSAqIHJ5MV07XG4gICAgY29uc3QgYiA9IFtyeTIgKiByeTIsIDAsIHJ4MiAqIHJ4MiwgLTIgKiByeTIgKiByeTIgKiBjMi54LCAtMiAqIHJ4MiAqIHJ4MiAqIGMyLnksIHJ5MiAqIHJ5MiAqIGMyLnggKiBjMi54ICsgcngyICogcngyICogYzIueSAqIGMyLnkgLSByeDIgKiByeDIgKiByeTIgKiByeTJdO1xuICAgIGNvbnN0IHlQb2x5ID0gSW50ZXJzZWN0aW9uLmJlem91dChhLCBiKTtcbiAgICBjb25zdCB5Um9vdHMgPSB5UG9seS5nZXRSb290cygpO1xuICAgIGNvbnN0IGVwc2lsb24gPSAxZS0zO1xuICAgIGNvbnN0IG5vcm0wID0gKGFbMF0gKiBhWzBdICsgMiAqIGFbMV0gKiBhWzFdICsgYVsyXSAqIGFbMl0pICogZXBzaWxvbjtcbiAgICBjb25zdCBub3JtMSA9IChiWzBdICogYlswXSArIDIgKiBiWzFdICogYlsxXSArIGJbMl0gKiBiWzJdKSAqIGVwc2lsb247XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIGZvciAoY29uc3QgeVJvb3Qgb2YgeVJvb3RzKSB7XG4gICAgICBjb25zdCB4UG9seSA9IG5ldyBQb2x5bm9taWFsKGFbMF0sIGFbM10gKyB5Um9vdCAqIGFbMV0sIGFbNV0gKyB5Um9vdCAqIChhWzRdICsgeVJvb3QgKiBhWzJdKSk7XG4gICAgICBjb25zdCB4Um9vdHMgPSB4UG9seS5nZXRSb290cygpO1xuICAgICAgZm9yIChjb25zdCB4Um9vdCBvZiB4Um9vdHMpIHtcbiAgICAgICAgbGV0IHRlc3QgPSAoYVswXSAqIHhSb290ICsgYVsxXSAqIHlSb290ICsgYVszXSkgKiB4Um9vdCArIChhWzJdICogeVJvb3QgKyBhWzRdKSAqIHlSb290ICsgYVs1XTtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRlc3QpIDwgbm9ybTApIHtcbiAgICAgICAgICB0ZXN0ID0gKGJbMF0gKiB4Um9vdCArIGJbMV0gKiB5Um9vdCArIGJbM10pICogeFJvb3QgKyAoYlsyXSAqIHlSb290ICsgYls0XSkgKiB5Um9vdCArIGJbNV07XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHRlc3QpIDwgbm9ybTEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludChuZXcgVmVjdG9yMkQoeFJvb3QsIHlSb290KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0RWxsaXBzZUxpbmUoYzogVmVjdG9yMkQsIHJ4OiBudW1iZXIsIHJ5OiBudW1iZXIsIGExOiBWZWN0b3IyRCwgYTI6IFZlY3RvcjJEKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBvcmlnaW4gPSBuZXcgVmVjdG9yMkQoYTEueCwgYTEueSk7XG4gICAgY29uc3QgZGlyID0gVmVjdG9yMkQuZnJvbVBvaW50cyhhMSwgYTIpO1xuICAgIGNvbnN0IGNlbnRlciA9IG5ldyBWZWN0b3IyRChjLngsIGMueSk7XG4gICAgY29uc3QgZGlmZiA9IG9yaWdpbi5zdWJ0cmFjdChjZW50ZXIpO1xuICAgIGNvbnN0IG1EaXIgPSBuZXcgVmVjdG9yMkQoZGlyLnggLyAocnggKiByeCksIGRpci55IC8gKHJ5ICogcnkpKTtcbiAgICBjb25zdCBtRGlmZiA9IG5ldyBWZWN0b3IyRChkaWZmLnggLyAocnggKiByeCksIGRpZmYueSAvIChyeSAqIHJ5KSk7XG4gICAgY29uc3QgYSA9IGRpci5kb3QobURpcik7XG4gICAgY29uc3QgYiA9IGRpci5kb3QobURpZmYpO1xuICAgIGNvbnN0IGNkb3QgPSBkaWZmLmRvdChtRGlmZikgLSAxLjA7XG4gICAgY29uc3QgZCA9IGIgKiBiIC0gYSAqIGNkb3Q7XG4gICAgaWYgKGQgPCAwKSB7XG4gICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdPdXRzaWRlJyk7XG4gICAgfSBlbHNlIGlmIChkID4gMCkge1xuICAgICAgY29uc3Qgcm9vdCA9IE1hdGguc3FydChkKTtcbiAgICAgIGNvbnN0IHRBID0gKC1iIC0gcm9vdCkgLyBhO1xuICAgICAgY29uc3QgdEIgPSAoLWIgKyByb290KSAvIGE7XG4gICAgICBpZiAoKHRBIDwgMCB8fCAxIDwgdEEpICYmICh0QiA8IDAgfHwgMSA8IHRCKSkge1xuICAgICAgICBpZiAoKHRBIDwgMCAmJiB0QiA8IDApIHx8ICh0QSA+IDEgJiYgdEIgPiAxKSkge1xuICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ091dHNpZGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdJbnNpZGUnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignSW50ZXJzZWN0aW9uJyk7XG4gICAgICAgIGlmICgwIDw9IHRBICYmIHRBIDw9IDEpIHtcbiAgICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQoYTEubGVycChhMiwgdEEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoMCA8PSB0QiAmJiB0QiA8PSAxKSB7XG4gICAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KGExLmxlcnAoYTIsIHRCKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdCA9IC1iIC8gYTtcbiAgICAgIGlmICgwIDw9IHQgJiYgdCA8PSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ0ludGVyc2VjdGlvbicpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQoYTEubGVycChhMiwgdCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignT3V0c2lkZScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEVsbGlwc2VQb2x5Z29uKGM6IFZlY3RvcjJELCByeDogbnVtYmVyLCByeTogbnVtYmVyLCBwb2ludHM6IFZlY3RvcjJEW10pIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiMSA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnN0IGIyID0gcG9pbnRzWyhpICsgMSkgJSBsZW5ndGhdO1xuICAgICAgY29uc3QgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0RWxsaXBzZUxpbmUoYywgcngsIHJ5LCBiMSwgYjIpO1xuICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdEVsbGlwc2VSZWN0YW5nbGUoYzogVmVjdG9yMkQsIHJ4OiBudW1iZXIsIHJ5OiBudW1iZXIsIHIxOiBWZWN0b3IyRCwgcjI6IFZlY3RvcjJEKSB7XG4gICAgY29uc3QgbWluID0gcjEubWluKHIyKTtcbiAgICBjb25zdCBtYXggPSByMS5tYXgocjIpO1xuICAgIGNvbnN0IHRvcFJpZ2h0ID0gbmV3IFZlY3RvcjJEKG1heC54LCBtaW4ueSk7XG4gICAgY29uc3QgYm90dG9tTGVmdCA9IG5ldyBWZWN0b3IyRChtaW4ueCwgbWF4LnkpO1xuICAgIGNvbnN0IGludGVyMSA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RFbGxpcHNlTGluZShjLCByeCwgcnksIG1pbiwgdG9wUmlnaHQpO1xuICAgIGNvbnN0IGludGVyMiA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RFbGxpcHNlTGluZShjLCByeCwgcnksIHRvcFJpZ2h0LCBtYXgpO1xuICAgIGNvbnN0IGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RFbGxpcHNlTGluZShjLCByeCwgcnksIG1heCwgYm90dG9tTGVmdCk7XG4gICAgY29uc3QgaW50ZXI0ID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdEVsbGlwc2VMaW5lKGMsIHJ4LCByeSwgYm90dG9tTGVmdCwgbWluKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjEucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMi5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIzLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjQucG9pbnRzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdExpbmVMaW5lKGExOiBWZWN0b3IyRCwgYTI6IFZlY3RvcjJELCBiMTogVmVjdG9yMkQsIGIyOiBWZWN0b3IyRCkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgY29uc3QgdWFUID0gKGIyLnggLSBiMS54KSAqIChhMS55IC0gYjEueSkgLSAoYjIueSAtIGIxLnkpICogKGExLnggLSBiMS54KTtcbiAgICBjb25zdCB1YlQgPSAoYTIueCAtIGExLngpICogKGExLnkgLSBiMS55KSAtIChhMi55IC0gYTEueSkgKiAoYTEueCAtIGIxLngpO1xuICAgIGNvbnN0IHVCID0gKGIyLnkgLSBiMS55KSAqIChhMi54IC0gYTEueCkgLSAoYjIueCAtIGIxLngpICogKGEyLnkgLSBhMS55KTtcbiAgICBpZiAodUIgIT09IDApIHtcbiAgICAgIGNvbnN0IHVhID0gdWFUIC8gdUI7XG4gICAgICBjb25zdCB1YiA9IHViVCAvIHVCO1xuICAgICAgaWYgKDAgPD0gdWEgJiYgdWEgPD0gMSAmJiAwIDw9IHViICYmIHViIDw9IDEpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignSW50ZXJzZWN0aW9uJyk7XG4gICAgICAgIHJlc3VsdC5wb2ludHMucHVzaChuZXcgVmVjdG9yMkQoYTEueCArIHVhICogKGEyLnggLSBhMS54KSwgYTEueSArIHVhICogKGEyLnkgLSBhMS55KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodWFUID09PSAwIHx8IHViVCA9PT0gMCkge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdDb2luY2lkZW50Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdQYXJhbGxlbCcpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdExpbmVQb2x5Z29uKGExOiBWZWN0b3IyRCwgYTI6IFZlY3RvcjJELCBwb2ludHM6IFZlY3RvcjJEW10pIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiMSA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnN0IGIyID0gcG9pbnRzWyhpICsgMSkgJSBsZW5ndGhdO1xuICAgICAgY29uc3QgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZUxpbmUoYTEsIGEyLCBiMSwgYjIpO1xuICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdExpbmVSZWN0YW5nbGUoYTE6IFZlY3RvcjJELCBhMjogVmVjdG9yMkQsIHIxOiBWZWN0b3IyRCwgcjI6IFZlY3RvcjJEKSB7XG4gICAgY29uc3QgbWluID0gcjEubWluKHIyKTtcbiAgICBjb25zdCBtYXggPSByMS5tYXgocjIpO1xuICAgIGNvbnN0IHRvcFJpZ2h0ID0gbmV3IFZlY3RvcjJEKG1heC54LCBtaW4ueSk7XG4gICAgY29uc3QgYm90dG9tTGVmdCA9IG5ldyBWZWN0b3IyRChtaW4ueCwgbWF4LnkpO1xuICAgIGNvbnN0IGludGVyMSA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lTGluZShtaW4sIHRvcFJpZ2h0LCBhMSwgYTIpO1xuICAgIGNvbnN0IGludGVyMiA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lTGluZSh0b3BSaWdodCwgbWF4LCBhMSwgYTIpO1xuICAgIGNvbnN0IGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lTGluZShtYXgsIGJvdHRvbUxlZnQsIGExLCBhMik7XG4gICAgY29uc3QgaW50ZXI0ID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVMaW5lKGJvdHRvbUxlZnQsIG1pbiwgYTEsIGEyKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjEucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMi5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIzLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjQucG9pbnRzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdFBvbHlnb25Qb2x5Z29uKHBvaW50czE6IFZlY3RvcjJEW10sIHBvaW50czI6IFZlY3RvcjJEW10pIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzMS5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYTEgPSBwb2ludHMxW2ldO1xuICAgICAgY29uc3QgYTIgPSBwb2ludHMxWyhpICsgMSkgJSBsZW5ndGhdO1xuICAgICAgY29uc3QgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24oYTEsIGEyLCBwb2ludHMyKTtcbiAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIucG9pbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBpbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlKHBvaW50czogVmVjdG9yMkRbXSwgcjE6IFZlY3RvcjJELCByMjogVmVjdG9yMkQpIHtcbiAgICBjb25zdCBtaW4gPSByMS5taW4ocjIpO1xuICAgIGNvbnN0IG1heCA9IHIxLm1heChyMik7XG4gICAgY29uc3QgdG9wUmlnaHQgPSBuZXcgVmVjdG9yMkQobWF4LngsIG1pbi55KTtcbiAgICBjb25zdCBib3R0b21MZWZ0ID0gbmV3IFZlY3RvcjJEKG1pbi54LCBtYXgueSk7XG4gICAgY29uc3QgaW50ZXIxID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKG1pbiwgdG9wUmlnaHQsIHBvaW50cyk7XG4gICAgY29uc3QgaW50ZXIyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKHRvcFJpZ2h0LCBtYXgsIHBvaW50cyk7XG4gICAgY29uc3QgaW50ZXIzID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKG1heCwgYm90dG9tTGVmdCwgcG9pbnRzKTtcbiAgICBjb25zdCBpbnRlcjQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24oYm90dG9tTGVmdCwgbWluLCBwb2ludHMpO1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMS5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIyLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjMucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyNC5wb2ludHMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0UmF5UmF5KGExOiBWZWN0b3IyRCwgYTI6IFZlY3RvcjJELCBiMTogVmVjdG9yMkQsIGIyOiBWZWN0b3IyRCkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgY29uc3QgdWFUID0gKGIyLnggLSBiMS54KSAqIChhMS55IC0gYjEueSkgLSAoYjIueSAtIGIxLnkpICogKGExLnggLSBiMS54KTtcbiAgICBjb25zdCB1YlQgPSAoYTIueCAtIGExLngpICogKGExLnkgLSBiMS55KSAtIChhMi55IC0gYTEueSkgKiAoYTEueCAtIGIxLngpO1xuICAgIGNvbnN0IHVCID0gKGIyLnkgLSBiMS55KSAqIChhMi54IC0gYTEueCkgLSAoYjIueCAtIGIxLngpICogKGEyLnkgLSBhMS55KTtcbiAgICBpZiAodUIgIT09IDApIHtcbiAgICAgIGNvbnN0IHVhID0gdWFUIC8gdUI7XG4gICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdJbnRlcnNlY3Rpb24nKTtcbiAgICAgIHJlc3VsdC5wb2ludHMucHVzaChuZXcgVmVjdG9yMkQoYTEueCArIHVhICogKGEyLnggLSBhMS54KSwgYTEueSArIHVhICogKGEyLnkgLSBhMS55KSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodWFUID09PSAwIHx8IHViVCA9PT0gMCkge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdDb2luY2lkZW50Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdQYXJhbGxlbCcpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGludGVyc2VjdFJlY3RhbmdsZVJlY3RhbmdsZShhMTogVmVjdG9yMkQsIGEyOiBWZWN0b3IyRCwgYjE6IFZlY3RvcjJELCBiMjogVmVjdG9yMkQpIHtcbiAgICBjb25zdCBtaW4gPSBhMS5taW4oYTIpO1xuICAgIGNvbnN0IG1heCA9IGExLm1heChhMik7XG4gICAgY29uc3QgdG9wUmlnaHQgPSBuZXcgVmVjdG9yMkQobWF4LngsIG1pbi55KTtcbiAgICBjb25zdCBib3R0b21MZWZ0ID0gbmV3IFZlY3RvcjJEKG1pbi54LCBtYXgueSk7XG4gICAgY29uc3QgaW50ZXIxID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVSZWN0YW5nbGUobWluLCB0b3BSaWdodCwgYjEsIGIyKTtcbiAgICBjb25zdCBpbnRlcjIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVJlY3RhbmdsZSh0b3BSaWdodCwgbWF4LCBiMSwgYjIpO1xuICAgIGNvbnN0IGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUmVjdGFuZ2xlKG1heCwgYm90dG9tTGVmdCwgYjEsIGIyKTtcbiAgICBjb25zdCBpbnRlcjQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVJlY3RhbmdsZShib3R0b21MZWZ0LCBtaW4sIGIxLCBiMik7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIxLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjIucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMy5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXI0LnBvaW50cyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBiZXpvdXQoZTE6IG51bWJlcltdLCBlMjogbnVtYmVyW10pIHtcbiAgICBjb25zdCBBQiA9IGUxWzBdICogZTJbMV0gLSBlMlswXSAqIGUxWzFdO1xuICAgIGNvbnN0IEFDID0gZTFbMF0gKiBlMlsyXSAtIGUyWzBdICogZTFbMl07XG4gICAgY29uc3QgQUQgPSBlMVswXSAqIGUyWzNdIC0gZTJbMF0gKiBlMVszXTtcbiAgICBjb25zdCBBRSA9IGUxWzBdICogZTJbNF0gLSBlMlswXSAqIGUxWzRdO1xuICAgIGNvbnN0IEFGID0gZTFbMF0gKiBlMls1XSAtIGUyWzBdICogZTFbNV07XG4gICAgY29uc3QgQkMgPSBlMVsxXSAqIGUyWzJdIC0gZTJbMV0gKiBlMVsyXTtcbiAgICBjb25zdCBCRSA9IGUxWzFdICogZTJbNF0gLSBlMlsxXSAqIGUxWzRdO1xuICAgIGNvbnN0IEJGID0gZTFbMV0gKiBlMls1XSAtIGUyWzFdICogZTFbNV07XG4gICAgY29uc3QgQ0QgPSBlMVsyXSAqIGUyWzNdIC0gZTJbMl0gKiBlMVszXTtcbiAgICBjb25zdCBERSA9IGUxWzNdICogZTJbNF0gLSBlMlszXSAqIGUxWzRdO1xuICAgIGNvbnN0IERGID0gZTFbM10gKiBlMls1XSAtIGUyWzNdICogZTFbNV07XG4gICAgY29uc3QgQkZQTFVTREUgPSBCRiArIERFO1xuICAgIGNvbnN0IEJFTUlOVVNDRCA9IEJFIC0gQ0Q7XG4gICAgcmV0dXJuIG5ldyBQb2x5bm9taWFsKEFCICogQkMgLSBBQyAqIEFDLCBBQiAqIEJFTUlOVVNDRCArIEFEICogQkMgLSAyICogQUMgKiBBRSwgQUIgKiBCRlBMVVNERSArIEFEICogQkVNSU5VU0NEIC0gQUUgKiBBRSAtIDIgKiBBQyAqIEFGLCBBQiAqIERGICsgQUQgKiBCRlBMVVNERSAtIDIgKiBBRSAqIEFGLCBBRCAqIERGIC0gQUYgKiBBRik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZlYyh4OiBudW1iZXIsIHk6IG51bWJlcik6IFZlY3RvcjJEO1xuZXhwb3J0IGZ1bmN0aW9uIHZlYyh2ZWM6IHt4OiBudW1iZXI7IHk6IG51bWJlcn0pOiBWZWN0b3IyRDtcbmV4cG9ydCBmdW5jdGlvbiB2ZWMoeDogYW55LCB5OiBudW1iZXIgPSBOdW1iZXIuTmFOKTogVmVjdG9yMkQge1xuICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyRCg8bnVtYmVyPngsIHkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQoeC54LCB4LnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3IyRCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB4ID0gMCwgcHVibGljIHkgPSAwKSB7XG5cbiAgfVxuXG4gIGFkZCh0aGF0OiBWZWN0b3IyRCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICsgdGhhdC54LCB0aGlzLnkgKyB0aGF0LnkpO1xuICB9XG5cbiAgYWRkRXF1YWxzKHRoYXQ6IFZlY3RvcjJEKSB7XG4gICAgdGhpcy54ICs9IHRoYXQueDtcbiAgICB0aGlzLnkgKz0gdGhhdC55O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2NhbGFyQWRkKHNjYWxhcjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggKyBzY2FsYXIsIHRoaXMueSArIHNjYWxhcik7XG4gIH1cblxuICBzY2FsYXJBZGRFcXVhbHMoc2NhbGFyOiBudW1iZXIpIHtcbiAgICB0aGlzLnggKz0gc2NhbGFyO1xuICAgIHRoaXMueSArPSBzY2FsYXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzdWJ0cmFjdCh0aGF0OiBWZWN0b3IyRCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54IC0gdGhhdC54LCB0aGlzLnkgLSB0aGF0LnkpO1xuICB9XG5cbiAgc3VidHJhY3RFcXVhbHModGhhdDogVmVjdG9yMkQpIHtcbiAgICB0aGlzLnggLT0gdGhhdC54O1xuICAgIHRoaXMueSAtPSB0aGF0Lnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzY2FsYXJTdWJ0cmFjdChzY2FsYXI6IG51bWJlcikge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54IC0gc2NhbGFyLCB0aGlzLnkgLSBzY2FsYXIpO1xuICB9XG5cbiAgc2NhbGFyU3VidHJhY3RFcXVhbHMoc2NhbGFyOiBudW1iZXIpIHtcbiAgICB0aGlzLnggLT0gc2NhbGFyO1xuICAgIHRoaXMueSAtPSBzY2FsYXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBtdWx0aXBseShzY2FsYXI6IG51bWJlcikge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICogc2NhbGFyLCB0aGlzLnkgKiBzY2FsYXIpO1xuICB9XG5cbiAgbXVsdGlwbHlFcXVhbHMoc2NhbGFyOiBudW1iZXIpIHtcbiAgICB0aGlzLnggKj0gc2NhbGFyO1xuICAgIHRoaXMueSAqPSBzY2FsYXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBkaXZpZGUoc2NhbGFyOiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCAvIHNjYWxhciwgdGhpcy55IC8gc2NhbGFyKTtcbiAgfVxuXG4gIGRpdmlkZUVxdWFscyhzY2FsYXI6IG51bWJlcikge1xuICAgIHRoaXMueCAvPSBzY2FsYXI7XG4gICAgdGhpcy55IC89IHNjYWxhcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGVxKHRoYXQ6IFZlY3RvcjJEKSB7XG4gICAgcmV0dXJuICh0aGlzLnggPT09IHRoYXQueCAmJiB0aGlzLnkgPT09IHRoYXQueSk7XG4gIH1cblxuICBsdCh0aGF0OiBWZWN0b3IyRCkge1xuICAgIHJldHVybiAodGhpcy54IDwgdGhhdC54ICYmIHRoaXMueSA8IHRoYXQueSk7XG4gIH1cblxuICBsdGUodGhhdDogVmVjdG9yMkQpIHtcbiAgICByZXR1cm4gKHRoaXMueCA8PSB0aGF0LnggJiYgdGhpcy55IDw9IHRoYXQueSk7XG4gIH1cblxuICBndCh0aGF0OiBWZWN0b3IyRCkge1xuICAgIHJldHVybiAodGhpcy54ID4gdGhhdC54ICYmIHRoaXMueSA+IHRoYXQueSk7XG4gIH1cblxuICBndGUodGhhdDogVmVjdG9yMkQpIHtcbiAgICByZXR1cm4gKHRoaXMueCA+PSB0aGF0LnggJiYgdGhpcy55ID49IHRoYXQueSk7XG4gIH1cblxuICBsZXJwKHRoYXQ6IFZlY3RvcjJELCB0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCArICh0aGF0LnggLSB0aGlzLngpICogdCwgdGhpcy55ICsgKHRoYXQueSAtIHRoaXMueSkgKiB0KTtcbiAgfVxuXG4gIGRpc3RhbmNlRnJvbSh0aGF0OiBWZWN0b3IyRCkge1xuICAgIGNvbnN0IGR4ID0gdGhpcy54IC0gdGhhdC54O1xuICAgIGNvbnN0IGR5ID0gdGhpcy55IC0gdGhhdC55O1xuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICB9XG5cbiAgbWluKHRoYXQ6IFZlY3RvcjJEKSB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyRChNYXRoLm1pbih0aGlzLngsIHRoYXQueCksIE1hdGgubWluKHRoaXMueSwgdGhhdC55KSk7XG4gIH1cblxuICBtYXgodGhhdDogVmVjdG9yMkQpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKE1hdGgubWF4KHRoaXMueCwgdGhhdC54KSwgTWF0aC5tYXgodGhpcy55LCB0aGF0LnkpKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnggKyAnLCcgKyB0aGlzLnk7XG4gIH1cblxuICBzZXRYWSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIHNldEZyb21Qb2ludCh0aGF0OiBWZWN0b3IyRCkge1xuICAgIHRoaXMueCA9IHRoYXQueDtcbiAgICB0aGlzLnkgPSB0aGF0Lnk7XG4gIH1cblxuICBzd2FwKHRoYXQ6IFZlY3RvcjJEKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIHRoaXMueCA9IHRoYXQueDtcbiAgICB0aGlzLnkgPSB0aGF0Lnk7XG4gICAgdGhhdC54ID0geDtcbiAgICB0aGF0LnkgPSB5O1xuICB9XG5cbiAgbGVuZ3RoKCkge1xuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcbiAgfVxuXG4gIGRvdCh0aGF0OiBWZWN0b3IyRCkge1xuICAgIHJldHVybiB0aGlzLnggKiB0aGF0LnggKyB0aGlzLnkgKiB0aGF0Lnk7XG4gIH1cblxuICBjcm9zcyh0aGF0OiBWZWN0b3IyRCkge1xuICAgIHJldHVybiB0aGlzLnggKiB0aGF0LnkgLSB0aGlzLnkgKiB0aGF0Lng7XG4gIH1cblxuICB1bml0KCkge1xuICAgIHJldHVybiB0aGlzLmRpdmlkZSh0aGlzLmxlbmd0aCgpKTtcbiAgfVxuXG4gIHVuaXRFcXVhbHMoKSB7XG4gICAgdGhpcy5kaXZpZGVFcXVhbHModGhpcy5sZW5ndGgoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwZXJwKCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQoLXRoaXMueSwgdGhpcy54KTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tUG9pbnRzKHAxOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9LCBwMjoge3g6IG51bWJlciwgeTogbnVtYmVyfSk6IFZlY3RvcjJEIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHAyLnggLSBwMS54LCBwMi55IC0gcDEueSk7XG4gIH1cbn1cblxuY2xhc3MgUG9seW5vbWlhbCB7XG4gIHN0YXRpYyBUT0xFUkFOQ0UgPSAxZS02O1xuICBzdGF0aWMgQUNDVVJBQ1kgPSA2O1xuXG4gIGNvZWZzOiBhbnlbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKC4uLmNvZWZzOiBudW1iZXJbXSkge1xuICAgIGZvciAobGV0IGkgPSBjb2Vmcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdGhpcy5jb2Vmcy5wdXNoKGNvZWZzW2ldKTtcbiAgICB9XG4gIH1cblxuICBldmFsKHg6IG51bWJlcikge1xuICAgIGxldCByZXN1bHQgPSAwO1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmNvZWZzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQgKiB4ICsgdGhpcy5jb2Vmc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIG11bHRpcGx5KHRoYXQ6IFBvbHlub21pYWwpIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgUG9seW5vbWlhbCgpO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPD0gdGhpcy5nZXREZWdyZWUoKSArIHRoYXQuZ2V0RGVncmVlKCk7IGkrKykge1xuICAgICAgcmVzdWx0LmNvZWZzLnB1c2goMCk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPD0gdGhpcy5nZXREZWdyZWUoKTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSB0aGF0LmdldERlZ3JlZSgpOyBqKyspIHtcbiAgICAgICAgcmVzdWx0LmNvZWZzW2kgKyBqXSArPSB0aGlzLmNvZWZzW2ldICogdGhhdC5jb2Vmc1tqXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGRpdmlkZV9zY2FsYXIoc2NhbGFyOiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29lZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY29lZnNbaV0gLz0gc2NhbGFyO1xuICAgIH1cbiAgfVxuXG4gIHNpbXBsaWZ5KCkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmdldERlZ3JlZSgpOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKE1hdGguYWJzKHRoaXMuY29lZnNbaV0pIDw9IFBvbHlub21pYWwuVE9MRVJBTkNFKSB7XG4gICAgICAgIHRoaXMuY29lZnMucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBiaXNlY3Rpb24obWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XG4gICAgbGV0IG1pblZhbHVlID0gdGhpcy5ldmFsKG1pbik7XG4gICAgbGV0IG1heFZhbHVlID0gdGhpcy5ldmFsKG1heCk7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoTWF0aC5hYnMobWluVmFsdWUpIDw9IFBvbHlub21pYWwuVE9MRVJBTkNFKSB7XG4gICAgICByZXN1bHQgPSBtaW47XG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyhtYXhWYWx1ZSkgPD0gUG9seW5vbWlhbC5UT0xFUkFOQ0UpIHtcbiAgICAgIHJlc3VsdCA9IG1heDtcbiAgICB9IGVsc2UgaWYgKG1pblZhbHVlICogbWF4VmFsdWUgPD0gMCkge1xuICAgICAgY29uc3QgdG1wMSA9IE1hdGgubG9nKG1heCAtIG1pbik7XG4gICAgICBjb25zdCB0bXAyID0gTWF0aC5sb2coMTApICogUG9seW5vbWlhbC5BQ0NVUkFDWTtcbiAgICAgIGNvbnN0IGl0ZXJzID0gTWF0aC5jZWlsKCh0bXAxICsgdG1wMikgLyBNYXRoLmxvZygyKSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJzOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gMC41ICogKG1pbiArIG1heCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5ldmFsKHJlc3VsdCk7XG4gICAgICAgIGlmIChNYXRoLmFicyh2YWx1ZSkgPD0gUG9seW5vbWlhbC5UT0xFUkFOQ0UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgKiBtaW5WYWx1ZSA8IDApIHtcbiAgICAgICAgICBtYXggPSByZXN1bHQ7XG4gICAgICAgICAgbWF4VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaW4gPSByZXN1bHQ7XG4gICAgICAgICAgbWluVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgY29uc3QgY29lZnMgPSBbXTtcbiAgICBjb25zdCBzaWducyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IHRoaXMuY29lZnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29lZnNbaV07XG4gICAgICBpZiAodmFsdWUgIT09IDApIHtcbiAgICAgICAgY29uc3Qgc2lnbiA9ICh2YWx1ZSA8IDApID8gJyAtICcgOiAnICsgJztcbiAgICAgICAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XG4gICAgICAgIGlmIChpID4gMCAmJiB2YWx1ZSA9PT0gMSkge1xuICAgICAgICAgIHZhbHVlID0gJ3gnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlICs9ICd4JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDEpIHtcbiAgICAgICAgICB2YWx1ZSArPSAnXicgKyBpO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25zLnB1c2goc2lnbik7XG4gICAgICAgIGNvZWZzLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzaWduc1swXSA9IChzaWduc1swXSA9PT0gJyArICcpID8gJycgOiAnLSc7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjb2Vmcy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0ICs9IHNpZ25zW2ldICsgY29lZnNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBnZXREZWdyZWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29lZnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIGdldERlcml2YXRpdmUoKSB7XG4gICAgY29uc3QgZGVyaXZhdGl2ZSA9IG5ldyBQb2x5bm9taWFsKCk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmNvZWZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXJpdmF0aXZlLmNvZWZzLnB1c2goaSAqIHRoaXMuY29lZnNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVyaXZhdGl2ZTtcbiAgfVxuXG4gIGdldFJvb3RzKCkge1xuICAgIGxldCByZXN1bHQ6IG51bWJlcltdO1xuICAgIHRoaXMuc2ltcGxpZnkoKTtcbiAgICBzd2l0Y2ggKHRoaXMuZ2V0RGVncmVlKCkpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXN1bHQgPSB0aGlzLmdldExpbmVhclJvb3QoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZ2V0UXVhZHJhdGljUm9vdHMoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZ2V0Q3ViaWNSb290cygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5nZXRRdWFydGljUm9vdHMoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGdldFJvb3RzSW5JbnRlcnZhbChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcbiAgICBjb25zdCByb290cyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCByb290O1xuICAgIGlmICh0aGlzLmdldERlZ3JlZSgpID09PSAxKSB7XG4gICAgICByb290ID0gdGhpcy5iaXNlY3Rpb24obWluLCBtYXgpO1xuICAgICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgICByb290cy5wdXNoKHJvb3QpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZXJpdiA9IHRoaXMuZ2V0RGVyaXZhdGl2ZSgpO1xuICAgICAgY29uc3QgZHJvb3RzID0gZGVyaXYuZ2V0Um9vdHNJbkludGVydmFsKG1pbiwgbWF4KTtcbiAgICAgIGlmIChkcm9vdHMubGVuZ3RoID4gMCkge1xuICAgICAgICByb290ID0gdGhpcy5iaXNlY3Rpb24obWluLCBkcm9vdHNbMF0pO1xuICAgICAgICBpZiAocm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgcm9vdHMucHVzaChyb290KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDw9IGRyb290cy5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICByb290ID0gdGhpcy5iaXNlY3Rpb24oZHJvb3RzW2ldLCBkcm9vdHNbaSArIDFdKTtcbiAgICAgICAgICBpZiAocm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgICByb290cy5wdXNoKHJvb3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByb290ID0gdGhpcy5iaXNlY3Rpb24oZHJvb3RzW2Ryb290cy5sZW5ndGggLSAxXSwgbWF4KTtcbiAgICAgICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgIHJvb3RzLnB1c2gocm9vdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QgPSB0aGlzLmJpc2VjdGlvbihtaW4sIG1heCk7XG4gICAgICAgIGlmIChyb290ICE9IG51bGwpIHtcbiAgICAgICAgICByb290cy5wdXNoKHJvb3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByb290cztcbiAgfVxuXG4gIGdldExpbmVhclJvb3QoKSB7XG4gICAgY29uc3QgcmVzdWx0OiBudW1iZXJbXSA9IFtdO1xuICAgIGNvbnN0IGEgPSB0aGlzLmNvZWZzWzFdO1xuICAgIGlmIChhICE9PSAwKSB7XG4gICAgICByZXN1bHQucHVzaCgtdGhpcy5jb2Vmc1swXSAvIGEpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZ2V0UXVhZHJhdGljUm9vdHMoKSB7XG4gICAgY29uc3QgcmVzdWx0czogbnVtYmVyW10gPSBbXTtcbiAgICBpZiAodGhpcy5nZXREZWdyZWUoKSA9PT0gMikge1xuICAgICAgY29uc3QgYSA9IHRoaXMuY29lZnNbMl07XG4gICAgICBjb25zdCBiID0gdGhpcy5jb2Vmc1sxXSAvIGE7XG4gICAgICBjb25zdCBjID0gdGhpcy5jb2Vmc1swXSAvIGE7XG4gICAgICBjb25zdCBkID0gYiAqIGIgLSA0ICogYztcbiAgICAgIGlmIChkID4gMCkge1xuICAgICAgICBjb25zdCBlID0gTWF0aC5zcXJ0KGQpO1xuICAgICAgICByZXN1bHRzLnB1c2goMC41ICogKC1iICsgZSkpO1xuICAgICAgICByZXN1bHRzLnB1c2goMC41ICogKC1iIC0gZSkpO1xuICAgICAgfSBlbHNlIGlmIChkID09PSAwKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCgwLjUgKiAtYik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgZ2V0Q3ViaWNSb290cygpIHtcbiAgICBjb25zdCByZXN1bHRzOiBudW1iZXJbXSA9IFtdO1xuICAgIGxldCBkaXNyaW07XG4gICAgaWYgKHRoaXMuZ2V0RGVncmVlKCkgPT09IDMpIHtcbiAgICAgIGNvbnN0IGMzID0gdGhpcy5jb2Vmc1szXTtcbiAgICAgIGNvbnN0IGMyID0gdGhpcy5jb2Vmc1syXSAvIGMzO1xuICAgICAgY29uc3QgYzEgPSB0aGlzLmNvZWZzWzFdIC8gYzM7XG4gICAgICBjb25zdCBjMCA9IHRoaXMuY29lZnNbMF0gLyBjMztcbiAgICAgIGNvbnN0IGEgPSAoMyAqIGMxIC0gYzIgKiBjMikgLyAzO1xuICAgICAgY29uc3QgYiA9ICgyICogYzIgKiBjMiAqIGMyIC0gOSAqIGMxICogYzIgKyAyNyAqIGMwKSAvIDI3O1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gYzIgLyAzO1xuICAgICAgY29uc3QgZGlzY3JpbSA9IGIgKiBiIC8gNCArIGEgKiBhICogYSAvIDI3O1xuICAgICAgY29uc3QgaGFsZkIgPSBiIC8gMjtcbiAgICAgIGlmIChNYXRoLmFicyhkaXNjcmltKSA8PSBQb2x5bm9taWFsLlRPTEVSQU5DRSkge1xuICAgICAgICBkaXNyaW0gPSAwO1xuICAgICAgfVxuICAgICAgbGV0IHRtcDtcbiAgICAgIGlmIChkaXNjcmltID4gMCkge1xuICAgICAgICBjb25zdCBlID0gTWF0aC5zcXJ0KGRpc2NyaW0pO1xuICAgICAgICBsZXQgcm9vdDtcbiAgICAgICAgdG1wID0gLWhhbGZCICsgZTtcbiAgICAgICAgaWYgKHRtcCA+PSAwKSB7XG4gICAgICAgICAgcm9vdCA9IE1hdGgucG93KHRtcCwgMSAvIDMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvb3QgPSAtTWF0aC5wb3coLXRtcCwgMSAvIDMpO1xuICAgICAgICB9XG4gICAgICAgIHRtcCA9IC1oYWxmQiAtIGU7XG4gICAgICAgIGlmICh0bXAgPj0gMCkge1xuICAgICAgICAgIHJvb3QgKz0gTWF0aC5wb3codG1wLCAxIC8gMyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm9vdCAtPSBNYXRoLnBvdygtdG1wLCAxIC8gMyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0cy5wdXNoKHJvb3QgLSBvZmZzZXQpO1xuICAgICAgfSBlbHNlIGlmIChkaXNjcmltIDwgMCkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydCgtYSAvIDMpO1xuICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoTWF0aC5zcXJ0KC1kaXNjcmltKSwgLWhhbGZCKSAvIDM7XG4gICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBzcXJ0MyA9IE1hdGguc3FydCgzKTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKDIgKiBkaXN0YW5jZSAqIGNvcyAtIG9mZnNldCk7XG4gICAgICAgIHJlc3VsdHMucHVzaCgtZGlzdGFuY2UgKiAoY29zICsgc3FydDMgKiBzaW4pIC0gb2Zmc2V0KTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKC1kaXN0YW5jZSAqIChjb3MgLSBzcXJ0MyAqIHNpbikgLSBvZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGhhbGZCID49IDApIHtcbiAgICAgICAgICB0bXAgPSAtTWF0aC5wb3coaGFsZkIsIDEgLyAzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0bXAgPSBNYXRoLnBvdygtaGFsZkIsIDEgLyAzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzLnB1c2goMiAqIHRtcCAtIG9mZnNldCk7XG4gICAgICAgIHJlc3VsdHMucHVzaCgtdG1wIC0gb2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICBnZXRRdWFydGljUm9vdHMoKSB7XG4gICAgY29uc3QgcmVzdWx0czogbnVtYmVyW10gPSBbXTtcbiAgICBpZiAodGhpcy5nZXREZWdyZWUoKSA9PT0gNCkge1xuICAgICAgY29uc3QgYzQgPSB0aGlzLmNvZWZzWzRdO1xuICAgICAgY29uc3QgYzMgPSB0aGlzLmNvZWZzWzNdIC8gYzQ7XG4gICAgICBjb25zdCBjMiA9IHRoaXMuY29lZnNbMl0gLyBjNDtcbiAgICAgIGNvbnN0IGMxID0gdGhpcy5jb2Vmc1sxXSAvIGM0O1xuICAgICAgY29uc3QgYzAgPSB0aGlzLmNvZWZzWzBdIC8gYzQ7XG4gICAgICBjb25zdCByZXNvbHZlUm9vdHMgPSBuZXcgUG9seW5vbWlhbCgxLCAtYzIsIGMzICogYzEgLSA0ICogYzAsIC1jMyAqIGMzICogYzAgKyA0ICogYzIgKiBjMCAtIGMxICogYzEpLmdldEN1YmljUm9vdHMoKTtcbiAgICAgIGNvbnN0IHkgPSByZXNvbHZlUm9vdHNbMF07XG4gICAgICBsZXQgZGlzY3JpbSA9IGMzICogYzMgLyA0IC0gYzIgKyB5O1xuICAgICAgaWYgKE1hdGguYWJzKGRpc2NyaW0pIDw9IFBvbHlub21pYWwuVE9MRVJBTkNFKSB7XG4gICAgICAgIGRpc2NyaW0gPSAwO1xuICAgICAgfVxuXG4gICAgICBsZXQgdDI7XG4gICAgICBsZXQgZDogbnVtYmVyO1xuICAgICAgaWYgKGRpc2NyaW0gPiAwKSB7XG4gICAgICAgIGNvbnN0IGUgPSBNYXRoLnNxcnQoZGlzY3JpbSk7XG4gICAgICAgIGNvbnN0IHQxID0gMyAqIGMzICogYzMgLyA0IC0gZSAqIGUgLSAyICogYzI7XG4gICAgICAgIHQyID0gKDQgKiBjMyAqIGMyIC0gOCAqIGMxIC0gYzMgKiBjMyAqIGMzKSAvICg0ICogZSk7XG4gICAgICAgIGxldCBwbHVzID0gdDEgKyB0MjtcbiAgICAgICAgbGV0IG1pbnVzID0gdDEgLSB0MjtcbiAgICAgICAgbGV0IGY6IG51bWJlcjtcbiAgICAgICAgaWYgKE1hdGguYWJzKHBsdXMpIDw9IFBvbHlub21pYWwuVE9MRVJBTkNFKSB7XG4gICAgICAgICAgcGx1cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1hdGguYWJzKG1pbnVzKSA8PSBQb2x5bm9taWFsLlRPTEVSQU5DRSkge1xuICAgICAgICAgIG1pbnVzID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGx1cyA+PSAwKSB7XG4gICAgICAgICAgZiA9IE1hdGguc3FydChwbHVzKTtcbiAgICAgICAgICByZXN1bHRzLnB1c2goLWMzIC8gNCArIChlICsgZikgLyAyKTtcbiAgICAgICAgICByZXN1bHRzLnB1c2goLWMzIC8gNCArIChlIC0gZikgLyAyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWludXMgPj0gMCkge1xuICAgICAgICAgIGYgPSBNYXRoLnNxcnQobWludXMpO1xuICAgICAgICAgIHJlc3VsdHMucHVzaCgtYzMgLyA0ICsgKGYgLSBlKSAvIDIpO1xuICAgICAgICAgIHJlc3VsdHMucHVzaCgtYzMgLyA0IC0gKGYgKyBlKSAvIDIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRpc2NyaW0gPj0gMCkge1xuICAgICAgICB0MiA9IHkgKiB5IC0gNCAqIGMwO1xuICAgICAgICBpZiAodDIgPj0gLVBvbHlub21pYWwuVE9MRVJBTkNFKSB7XG4gICAgICAgICAgaWYgKHQyIDwgMCkge1xuICAgICAgICAgICAgdDIgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0MiA9IDIgKiBNYXRoLnNxcnQodDIpO1xuICAgICAgICAgIGNvbnN0IHQxID0gMyAqIGMzICogYzMgLyA0IC0gMiAqIGMyO1xuICAgICAgICAgIGlmICh0MSArIHQyID49IFBvbHlub21pYWwuVE9MRVJBTkNFKSB7XG4gICAgICAgICAgICBkID0gTWF0aC5zcXJ0KHQxICsgdDIpO1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKC1jMyAvIDQgKyBkIC8gMik7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goLWMzIC8gNCAtIGQgLyAyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHQxIC0gdDIgPj0gUG9seW5vbWlhbC5UT0xFUkFOQ0UpIHtcbiAgICAgICAgICAgIGQgPSBNYXRoLnNxcnQodDEgLSB0Mik7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goLWMzIC8gNCArIGQgLyAyKTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCgtYzMgLyA0IC0gZCAvIDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxufVxuXG5jbGFzcyBUb2tlbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0eXBlOiBudW1iZXIsIHB1YmxpYyB0ZXh0OiBhbnkpIHtcblxuICB9XG5cbiAgdHlwZWlzKHQ6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IHQ7XG4gIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgUGF0aCB7XG4gIHN0YXRpYyBDT01NQU5EID0gMDtcbiAgc3RhdGljIE5VTUJFUiA9IDE7XG4gIHN0YXRpYyBFT0QgPSAyO1xuICBzdGF0aWMgUEFSQU1TIDoge1trZXk6IHN0cmluZ106IHN0cmluZ1tdfT0ge1xuICAgIEE6IFsncngnLCAncnknLCAneC1heGlzLXJvdGF0aW9uJywgJ2xhcmdlLWFyYy1mbGFnJywgJ3N3ZWVwLWZsYWcnLCAneCcsICd5J10sXG4gICAgYTogWydyeCcsICdyeScsICd4LWF4aXMtcm90YXRpb24nLCAnbGFyZ2UtYXJjLWZsYWcnLCAnc3dlZXAtZmxhZycsICd4JywgJ3knXSxcbiAgICBDOiBbJ3gxJywgJ3kxJywgJ3gyJywgJ3kyJywgJ3gnLCAneSddLFxuICAgIGM6IFsneDEnLCAneTEnLCAneDInLCAneTInLCAneCcsICd5J10sXG4gICAgSDogWyd4J10sXG4gICAgaDogWyd4J10sXG4gICAgTDogWyd4JywgJ3knXSxcbiAgICBsOiBbJ3gnLCAneSddLFxuICAgIE06IFsneCcsICd5J10sXG4gICAgbTogWyd4JywgJ3knXSxcbiAgICBROiBbJ3gxJywgJ3kxJywgJ3gnLCAneSddLFxuICAgIHE6IFsneDEnLCAneTEnLCAneCcsICd5J10sXG4gICAgUzogWyd4MicsICd5MicsICd4JywgJ3knXSxcbiAgICBzOiBbJ3gyJywgJ3kyJywgJ3gnLCAneSddLFxuICAgIFQ6IFsneCcsICd5J10sXG4gICAgdDogWyd4JywgJ3knXSxcbiAgICBWOiBbJ3knXSxcbiAgICB2OiBbJ3knXSxcbiAgICBaOiA8c3RyaW5nW10+W10sXG4gICAgejogPHN0cmluZ1tdPltdXG4gIH07XG5cbiAgcHJpdmF0ZSBzZWdtZW50czogSVBhdGhTZWdtZW50W107XG5cbiAgY29uc3RydWN0b3IocGF0aDogc3RyaW5nKSB7XG4gICAgdGhpcy5zZWdtZW50cyA9IG51bGw7XG4gICAgdGhpcy5wYXJzZURhdGEocGF0aCk7XG4gIH1cblxuICBhcHBlbmRQYXRoU2VnbWVudChzZWdtZW50OiBJUGF0aFNlZ21lbnQpIHtcbiAgICBzZWdtZW50LnByZXZpb3VzID0gdGhpcy5zZWdtZW50c1t0aGlzLnNlZ21lbnRzLmxlbmd0aCAtIDFdO1xuICAgIHRoaXMuc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgfVxuXG4gIHBhcnNlRGF0YShkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0b2tlbnMgPSB0aGlzLnRva2VuaXplKGQpO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IHRva2VuID0gdG9rZW5zW2luZGV4XTtcbiAgICBsZXQgbW9kZSA9ICdCT0QnO1xuICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICB3aGlsZSAoIXRva2VuLnR5cGVpcyhQYXRoLkVPRCkpIHtcbiAgICAgIGxldCBwYXJhbUxlbmd0aDtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgICAgaWYgKG1vZGUgPT09ICdCT0QnKSB7XG4gICAgICAgIGlmICh0b2tlbi50ZXh0ID09PSAnTScgfHwgdG9rZW4udGV4dCA9PT0gJ20nKSB7XG4gICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICBwYXJhbUxlbmd0aCA9IFBhdGguUEFSQU1TW3Rva2VuLnRleHRdLmxlbmd0aDtcbiAgICAgICAgICBtb2RlID0gdG9rZW4udGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggZGF0YSBtdXN0IGJlZ2luIHdpdGggYSBtb3ZldG8gY29tbWFuZCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodG9rZW4udHlwZWlzKFBhdGguTlVNQkVSKSkge1xuICAgICAgICAgIHBhcmFtTGVuZ3RoID0gUGF0aC5QQVJBTVNbbW9kZV0ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgcGFyYW1MZW5ndGggPSBQYXRoLlBBUkFNU1t0b2tlbi50ZXh0XS5sZW5ndGg7XG4gICAgICAgICAgbW9kZSA9IHRva2VuLnRleHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgoaW5kZXggKyBwYXJhbUxlbmd0aCkgPCB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGluZGV4ICsgcGFyYW1MZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IG4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgaWYgKG4udHlwZWlzKFBhdGguTlVNQkVSKSkge1xuICAgICAgICAgICAgcGFyYW1zW3BhcmFtcy5sZW5ndGhdID0gbi50ZXh0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB0eXBlIGlzIG5vdCBhIG51bWJlcjogJyArIG1vZGUgKyAnLCcgKyBuLnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VnbWVudDtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5zZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gKGxlbmd0aCA9PT0gMCkgPyBudWxsIDogdGhpcy5zZWdtZW50c1tsZW5ndGggLSAxXTtcbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgY2FzZSdBJzpcbiAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgQWJzb2x1dGVBcmNQYXRoKHBhcmFtcywgdGhpcywgcHJldmlvdXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSdDJzpcbiAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgQWJzb2x1dGVDdXJ2ZXRvMyhwYXJhbXMsIHRoaXMsIHByZXZpb3VzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UnYyc6XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFJlbGF0aXZlQ3VydmV0bzMocGFyYW1zLCB0aGlzLCBwcmV2aW91cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlJ0gnOlxuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBBYnNvbHV0ZUhMaW5ldG8ocGFyYW1zLCB0aGlzLCBwcmV2aW91cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlJ0wnOlxuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBBYnNvbHV0ZUxpbmV0byhwYXJhbXMsIHRoaXMsIHByZXZpb3VzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UnbCc6XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFJlbGF0aXZlTGluZXRvKHBhcmFtcywgdGhpcywgcHJldmlvdXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSdNJzpcbiAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgQWJzb2x1dGVNb3ZldG8ocGFyYW1zLCB0aGlzLCBwcmV2aW91cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlJ20nOlxuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBSZWxhdGl2ZU1vdmV0byhwYXJhbXMsIHRoaXMsIHByZXZpb3VzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UnUSc6XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IEFic29sdXRlQ3VydmV0bzIocGFyYW1zLCB0aGlzLCBwcmV2aW91cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlJ3EnOlxuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBSZWxhdGl2ZUN1cnZldG8yKHBhcmFtcywgdGhpcywgcHJldmlvdXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSdTJzpcbiAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgQWJzb2x1dGVTbW9vdGhDdXJ2ZXRvMyhwYXJhbXMsIHRoaXMsIHByZXZpb3VzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2Uncyc6XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFJlbGF0aXZlU21vb3RoQ3VydmV0bzMocGFyYW1zLCB0aGlzLCBwcmV2aW91cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlJ1QnOlxuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBBYnNvbHV0ZVNtb290aEN1cnZldG8yKHBhcmFtcywgdGhpcywgcHJldmlvdXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSd0JzpcbiAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgUmVsYXRpdmVTbW9vdGhDdXJ2ZXRvMihwYXJhbXMsIHRoaXMsIHByZXZpb3VzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UnWic6XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFJlbGF0aXZlQ2xvc2VQYXRoKHBhcmFtcywgdGhpcywgcHJldmlvdXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSd6JzpcbiAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgUmVsYXRpdmVDbG9zZVBhdGgocGFyYW1zLCB0aGlzLCBwcmV2aW91cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzZWdtZW50IHR5cGU6ICcgKyBtb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIGluZGV4ICs9IHBhcmFtTGVuZ3RoO1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgICAgIGlmIChtb2RlID09PSAnTScpIHtcbiAgICAgICAgICBtb2RlID0gJ0wnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlID09PSAnbScpIHtcbiAgICAgICAgICBtb2RlID0gJ2wnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggZGF0YSBlbmRlZCBiZWZvcmUgYWxsIHBhcmFtZXRlcnMgd2VyZSBmb3VuZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRva2VuaXplKGQ6IHN0cmluZykge1xuICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgIHdoaWxlIChkICE9PSAnJykge1xuICAgICAgaWYgKGQubWF0Y2goL14oWyBcXHRcXHJcXG4sXSspLykpIHtcbiAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgfSBlbHNlIGlmIChkLm1hdGNoKC9eKFthQWNDaEhsTG1NcVFzU3RUdlZ6Wl0pLykpIHtcbiAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGhdID0gbmV3IFRva2VuKFBhdGguQ09NTUFORCwgUmVnRXhwLiQxKTtcbiAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgfSBlbHNlIGlmIChkLm1hdGNoKC9eKChbLStdP1swLTldKyhcXC5bMC05XSopP3xbLStdP1xcLlswLTldKykoW2VFXVstK10/WzAtOV0rKT8pLykpIHtcbiAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGhdID0gbmV3IFRva2VuKFBhdGguTlVNQkVSLCBwYXJzZUZsb2F0KFJlZ0V4cC4kMSkpO1xuICAgICAgICBkID0gZC5zdWJzdHIoUmVnRXhwLiQxLmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBzZWdtZW50IGNvbW1hbmQ6ICcgKyBkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdG9rZW5zW3Rva2Vucy5sZW5ndGhdID0gbmV3IFRva2VuKFBhdGguRU9ELCBudWxsKTtcbiAgICByZXR1cm4gdG9rZW5zO1xuICB9XG5cbiAgaW50ZXJzZWN0U2hhcGUoc2hhcGU6IElTaGFwZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgdGhpcy5zZWdtZW50cykge1xuICAgICAgY29uc3QgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0U2hhcGVzKHNlZ21lbnQsIHNoYXBlKTtcbiAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIucG9pbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCkge1xuICAgIHJldHVybiBwYXJhbSgnUGF0aCcsIFtdKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgSVBhdGhTZWdtZW50IGV4dGVuZHMgSVNoYXBlIHtcbiAgY29tbWFuZDogc3RyaW5nO1xuICBsYXN0UG9pbnQ6IFZlY3RvcjJEO1xuICBwcmV2aW91czogSVBhdGhTZWdtZW50O1xufVxuXG5jbGFzcyBBYnNvbHV0ZVBhdGhTZWdtZW50IGltcGxlbWVudHMgSVBhdGhTZWdtZW50IHtcbiAgcG9pbnRzOiBWZWN0b3IyRFtdID0gW107XG5cbiAgY29uc3RydWN0b3IocHVibGljIGNvbW1hbmQ6IHN0cmluZywgcGFyYW1zOiBzdHJpbmdbXSwgcHVibGljIG93bmVyOiBQYXRoLCBwdWJsaWMgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgcGFyYW1zLmxlbmd0aCkge1xuICAgICAgdGhpcy5wb2ludHMucHVzaChuZXcgVmVjdG9yMkQocGFyc2VGbG9hdChwYXJhbXNbaW5kZXhdKSwgcGFyc2VGbG9hdChwYXJhbXNbaW5kZXggKyAxXSkpKTtcbiAgICAgIGluZGV4ICs9IDI7XG4gICAgfVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHMubWFwKCh2KSA9PiB2LnRvU3RyaW5nKCkpO1xuICAgIGxldCBjb21tYW5kID0gJyc7XG4gICAgaWYgKHRoaXMucHJldmlvdXMuY29tbWFuZCAhPT0gdGhpcy5jb21tYW5kKSB7XG4gICAgICBjb21tYW5kID0gdGhpcy5jb21tYW5kO1xuICAgIH1cbiAgICByZXR1cm4gY29tbWFuZCArIHBvaW50cy5qb2luKCcgJyk7XG4gIH1cblxuICBnZXQgbGFzdFBvaW50KCkge1xuICAgIHJldHVybiB0aGlzLnBvaW50c1t0aGlzLnBvaW50cy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCk6IElJbnRlcnNlY3Rpb25QYXJhbSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuY2xhc3MgQWJzb2x1dGVBcmNQYXRoIGV4dGVuZHMgQWJzb2x1dGVQYXRoU2VnbWVudCB7XG4gIHJ4OiBudW1iZXI7XG4gIHJ5OiBudW1iZXI7XG4gIGFuZ2xlOiBudW1iZXI7XG4gIGFyY0ZsYWc6IG51bWJlcjtcbiAgc3dlZXBGbGFnOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocGFyYW1zOiBzdHJpbmdbXSwgb3duZXI6IFBhdGgsIHByZXZpb3VzOiBJUGF0aFNlZ21lbnQpIHtcbiAgICBzdXBlcignQScsIHBhcmFtcy5zbGljZShwYXJhbXMubGVuZ3RoIC0gMiksIG93bmVyLCBwcmV2aW91cyk7XG4gICAgdGhpcy5yeCA9IHBhcnNlRmxvYXQocGFyYW1zLnNoaWZ0KCkpO1xuICAgIHRoaXMucnkgPSBwYXJzZUZsb2F0KHBhcmFtcy5zaGlmdCgpKTtcbiAgICB0aGlzLmFuZ2xlID0gcGFyc2VGbG9hdChwYXJhbXMuc2hpZnQoKSk7XG4gICAgdGhpcy5hcmNGbGFnID0gcGFyc2VGbG9hdChwYXJhbXMuc2hpZnQoKSk7XG4gICAgdGhpcy5zd2VlcEZsYWcgPSBwYXJzZUZsb2F0KHBhcmFtcy5zaGlmdCgpKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCBjb21tYW5kID0gJyc7XG4gICAgaWYgKHRoaXMucHJldmlvdXMuY29tbWFuZCAhPT0gdGhpcy5jb21tYW5kKSB7XG4gICAgICBjb21tYW5kID0gdGhpcy5jb21tYW5kO1xuICAgIH1cbiAgICByZXR1cm4gY29tbWFuZCArIFt0aGlzLnJ4LCB0aGlzLnJ5LCB0aGlzLmFuZ2xlLCB0aGlzLmFyY0ZsYWcsIHRoaXMuc3dlZXBGbGFnLCB0aGlzLnBvaW50c1swXS50b1N0cmluZygpXS5qb2luKCcsJyk7XG4gIH1cblxuICBhc0ludGVyc2VjdGlvblBhcmFtcygpIHtcbiAgICByZXR1cm4gcGFyYW0oJ0VsbGlwc2UnLCBbdGhpcy5jZW50ZXIsIHRoaXMucngsIHRoaXMucnldKTtcbiAgfVxuXG4gIGdldCBjZW50ZXIoKSB7XG4gICAgY29uc3Qgc3RhcnRQb2ludCA9IHRoaXMucHJldmlvdXMubGFzdFBvaW50O1xuICAgIGNvbnN0IGVuZFBvaW50ID0gdGhpcy5wb2ludHNbMF07XG4gICAgbGV0IHJ4ID0gdGhpcy5yeDtcbiAgICBsZXQgcnkgPSB0aGlzLnJ5O1xuICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5hbmdsZSAqIE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIGNvbnN0IFRPTEVSQU5DRSA9IDFlLTY7XG4gICAgY29uc3QgaGFsZkRpZmYgPSBzdGFydFBvaW50LnN1YnRyYWN0KGVuZFBvaW50KS5kaXZpZGUoMik7XG4gICAgY29uc3QgeDFwID0gaGFsZkRpZmYueCAqIGMgKyBoYWxmRGlmZi55ICogcztcbiAgICBjb25zdCB5MXAgPSBoYWxmRGlmZi54ICogLXMgKyBoYWxmRGlmZi55ICogYztcbiAgICBjb25zdCB4MXB4MXAgPSB4MXAgKiB4MXA7XG4gICAgY29uc3QgeTFweTFwID0geTFwICogeTFwO1xuICAgIGNvbnN0IGxhbWJkYSA9ICh4MXB4MXAgLyAocnggKiByeCkgKSArICggeTFweTFwIC8gKHJ5ICogcnkpKTtcbiAgICBsZXQgZmFjdG9yOiBudW1iZXI7XG4gICAgaWYgKGxhbWJkYSA+IDEpIHtcbiAgICAgIGZhY3RvciA9IE1hdGguc3FydChsYW1iZGEpO1xuICAgICAgcnggKj0gZmFjdG9yO1xuICAgICAgcnkgKj0gZmFjdG9yO1xuICAgIH1cbiAgICBjb25zdCByeHJ4ID0gcnggKiByeDtcbiAgICBjb25zdCByeXJ5ID0gcnkgKiByeTtcbiAgICBjb25zdCByeHkxID0gcnhyeCAqIHkxcHkxcDtcbiAgICBjb25zdCByeXgxID0gcnlyeSAqIHgxcHgxcDtcbiAgICBmYWN0b3IgPSAocnhyeCAqIHJ5cnkgLSByeHkxIC0gcnl4MSkgLyAocnh5MSArIHJ5eDEpO1xuICAgIGlmIChNYXRoLmFicyhmYWN0b3IpIDwgVE9MRVJBTkNFKSB7XG4gICAgICBmYWN0b3IgPSAwO1xuICAgIH1cbiAgICBsZXQgc3EgPSBNYXRoLnNxcnQoZmFjdG9yKTtcbiAgICBpZiAodGhpcy5hcmNGbGFnID09PSB0aGlzLnN3ZWVwRmxhZykge1xuICAgICAgc3EgPSAtc3E7XG4gICAgfVxuICAgIGNvbnN0IG1pZCA9IHN0YXJ0UG9pbnQuYWRkKGVuZFBvaW50KS5kaXZpZGUoMik7XG4gICAgY29uc3QgY3hwID0gc3EgKiByeCAqIHkxcCAvIHJ5O1xuICAgIGNvbnN0IGN5cCA9IHNxICogLXJ5ICogeDFwIC8gcng7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyRChjeHAgKiBjIC0gY3lwICogcyArIG1pZC54LCBjeHAgKiBzICsgY3lwICogYyArIG1pZC55KTtcbiAgfVxufVxuY2xhc3MgQWJzb2x1dGVDdXJ2ZXRvMiBleHRlbmRzIEFic29sdXRlUGF0aFNlZ21lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbXM6IHN0cmluZ1tdLCBvd25lcjogUGF0aCwgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIHN1cGVyKCdRJywgcGFyYW1zLCBvd25lciwgcHJldmlvdXMpO1xuICB9XG5cbiAgZ2V0IGNvbnRyb2xQb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludHNbMF07XG4gIH1cblxuICBhc0ludGVyc2VjdGlvblBhcmFtcygpIHtcbiAgICByZXR1cm4gcGFyYW0oJ0JlemllcjInLCBbdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQsIHRoaXMucG9pbnRzWzBdLCB0aGlzLnBvaW50c1sxXV0pO1xuICB9XG59XG5jbGFzcyBBYnNvbHV0ZUN1cnZldG8zIGV4dGVuZHMgQWJzb2x1dGVQYXRoU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtczogc3RyaW5nW10sIG93bmVyOiBQYXRoLCBwcmV2aW91czogSVBhdGhTZWdtZW50KSB7XG4gICAgc3VwZXIoJ0MnLCBwYXJhbXMsIG93bmVyLCBwcmV2aW91cyk7XG4gIH1cblxuICBnZXQgbGFzdENvbnRyb2xQb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludHNbMV07XG4gIH1cblxuICBhc0ludGVyc2VjdGlvblBhcmFtcygpIHtcbiAgICByZXR1cm4gcGFyYW0oJ0JlemllcjMnLCBbdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQsIHRoaXMucG9pbnRzWzBdLCB0aGlzLnBvaW50c1sxXSwgdGhpcy5wb2ludHNbMl1dKTtcbiAgfVxufVxuY2xhc3MgQWJzb2x1dGVITGluZXRvIGV4dGVuZHMgQWJzb2x1dGVQYXRoU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtczogc3RyaW5nW10sIG93bmVyOiBQYXRoLCBwcmV2aW91czogSVBhdGhTZWdtZW50KSB7XG4gICAgc3VwZXIoJ0gnLCBbcGFyYW1zLnBvcCgpLCBTdHJpbmcocHJldmlvdXMubGFzdFBvaW50LnkpXSwgb3duZXIsIHByZXZpb3VzKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCBjb21tYW5kID0gJyc7XG4gICAgaWYgKHRoaXMucHJldmlvdXMuY29tbWFuZCAhPT0gdGhpcy5jb21tYW5kKSB7XG4gICAgICBjb21tYW5kID0gdGhpcy5jb21tYW5kO1xuICAgIH1cbiAgICByZXR1cm4gY29tbWFuZCArIHRoaXMucG9pbnRzWzBdLng7XG4gIH1cbn1cbmNsYXNzIEFic29sdXRlTGluZXRvIGV4dGVuZHMgQWJzb2x1dGVQYXRoU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtczogc3RyaW5nW10sIG93bmVyOiBQYXRoLCBwcmV2aW91czogSVBhdGhTZWdtZW50KSB7XG4gICAgc3VwZXIoJ0wnLCBwYXJhbXMsIG93bmVyLCBwcmV2aW91cyk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgY29tbWFuZCA9ICcnO1xuICAgIGlmICh0aGlzLnByZXZpb3VzLmNvbW1hbmQgIT09IHRoaXMuY29tbWFuZCAmJiB0aGlzLnByZXZpb3VzLmNvbW1hbmQgIT09ICdNJykge1xuICAgICAgY29tbWFuZCA9IHRoaXMuY29tbWFuZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbW1hbmQgKyB0aGlzLnBvaW50c1swXS50b1N0cmluZygpO1xuICB9XG5cbiAgYXNJbnRlcnNlY3Rpb25QYXJhbXMoKSB7XG4gICAgcmV0dXJuIHBhcmFtKCdMaW5lJywgW3RoaXMucHJldmlvdXMubGFzdFBvaW50LCB0aGlzLnBvaW50c1swXV0pO1xuICB9XG59XG5jbGFzcyBBYnNvbHV0ZU1vdmV0byBleHRlbmRzIEFic29sdXRlUGF0aFNlZ21lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbXM6IHN0cmluZ1tdLCBvd25lcjogUGF0aCwgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIHN1cGVyKCdNJywgcGFyYW1zLCBvd25lciwgcHJldmlvdXMpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdNJyArIHRoaXMucG9pbnRzWzBdLnRvU3RyaW5nKCk7XG4gIH1cbn1cbmNsYXNzIEFic29sdXRlU21vb3RoQ3VydmV0bzIgZXh0ZW5kcyBBYnNvbHV0ZVBhdGhTZWdtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1zOiBzdHJpbmdbXSwgb3duZXI6IFBhdGgsIHByZXZpb3VzOiBJUGF0aFNlZ21lbnQpIHtcbiAgICBzdXBlcignVCcsIHBhcmFtcywgb3duZXIsIHByZXZpb3VzKTtcbiAgfVxuXG4gIGdldCBjb250cm9sUG9pbnQoKSB7XG4gICAgY29uc3QgbGFzdFBvaW50ID0gdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQ7XG4gICAgbGV0IHBvaW50O1xuICAgIGlmICh0aGlzLnByZXZpb3VzLmNvbW1hbmQubWF0Y2goL15bUXFUdF0kLykpIHtcbiAgICAgIGNvbnN0IGN0cmxQb2ludCA9ICg8YW55PnRoaXMucHJldmlvdXMpLmNvbnRyb2xQb2ludDtcbiAgICAgIGNvbnN0IGRpZmYgPSBjdHJsUG9pbnQuc3VidHJhY3QobGFzdFBvaW50KTtcbiAgICAgIHBvaW50ID0gbGFzdFBvaW50LnN1YnRyYWN0KGRpZmYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludCA9IGxhc3RQb2ludDtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xuICB9XG5cbiAgYXNJbnRlcnNlY3Rpb25QYXJhbXMoKSB7XG4gICAgcmV0dXJuIHBhcmFtKCdCZXppZXIyJywgW3RoaXMucHJldmlvdXMubGFzdFBvaW50LCB0aGlzLmNvbnRyb2xQb2ludCwgdGhpcy5wb2ludHNbMF1dKTtcbiAgfVxufVxuY2xhc3MgQWJzb2x1dGVTbW9vdGhDdXJ2ZXRvMyBleHRlbmRzIEFic29sdXRlUGF0aFNlZ21lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbXM6IHN0cmluZ1tdLCBvd25lcjogUGF0aCwgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIHN1cGVyKCdTJywgcGFyYW1zLCBvd25lciwgcHJldmlvdXMpO1xuICB9XG5cbiAgZ2V0IGZpcnN0Q29udHJvbFBvaW50KCkge1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IHRoaXMucHJldmlvdXMubGFzdFBvaW50O1xuICAgIGxldCBwb2ludDtcbiAgICBpZiAodGhpcy5wcmV2aW91cy5jb21tYW5kLm1hdGNoKC9eW1NzQ2NdJC8pKSB7XG4gICAgICBjb25zdCBsYXN0Q29udHJvbCA9ICg8YW55PnRoaXMucHJldmlvdXMpLmxhc3RDb250cm9sUG9pbnQ7XG4gICAgICBjb25zdCBkaWZmID0gbGFzdENvbnRyb2wuc3VidHJhY3QobGFzdFBvaW50KTtcbiAgICAgIHBvaW50ID0gbGFzdFBvaW50LnN1YnRyYWN0KGRpZmYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludCA9IGxhc3RQb2ludDtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xuICB9XG5cbiAgZ2V0IGxhc3RDb250cm9sUG9pbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzWzBdO1xuICB9XG5cbiAgYXNJbnRlcnNlY3Rpb25QYXJhbXMoKSB7XG4gICAgcmV0dXJuIHBhcmFtKCdCZXppZXIzJywgW3RoaXMucHJldmlvdXMubGFzdFBvaW50LCB0aGlzLmZpcnN0Q29udHJvbFBvaW50LCB0aGlzLnBvaW50c1swXSwgdGhpcy5wb2ludHNbMV1dKTtcbiAgfVxufVxuXG5jbGFzcyBSZWxhdGl2ZVBhdGhTZWdtZW50IGltcGxlbWVudHMgSVBhdGhTZWdtZW50IHtcbiAgcG9pbnRzOiBWZWN0b3IyRFtdID0gW107XG5cbiAgY29uc3RydWN0b3IocHVibGljIGNvbW1hbmQ6IHN0cmluZywgcGFyYW1zOiBzdHJpbmdbXSwgcHVibGljIG93bmVyOiBQYXRoLCBwdWJsaWMgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IHRoaXMucHJldmlvdXMgPyB0aGlzLnByZXZpb3VzLmxhc3RQb2ludCA6IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHdoaWxlIChpbmRleCA8IHBhcmFtcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGhhbmRsZSA9IG5ldyBWZWN0b3IyRChsYXN0UG9pbnQueCArIHBhcnNlRmxvYXQocGFyYW1zW2luZGV4XSksIGxhc3RQb2ludC55ICsgcGFyc2VGbG9hdChwYXJhbXNbaW5kZXggKyAxXSkpO1xuICAgICAgdGhpcy5wb2ludHMucHVzaChoYW5kbGUpO1xuICAgICAgaW5kZXggKz0gMjtcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBjb25zdCBwb2ludHMgPSBbXTtcbiAgICBsZXQgY29tbWFuZCA9ICcnO1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IHRoaXMucHJldmlvdXMgPyB0aGlzLnByZXZpb3VzLmxhc3RQb2ludCA6IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICBpZiAodGhpcy5wcmV2aW91cyA9PSBudWxsIHx8IHRoaXMucHJldmlvdXMuY29tbWFuZCAhPT0gdGhpcy5jb21tYW5kKSB7XG4gICAgICBjb21tYW5kID0gdGhpcy5jb21tYW5kO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICBjb25zdCBkaWZmID0gcG9pbnQuc3VidHJhY3QobGFzdFBvaW50KTtcbiAgICAgIHBvaW50cy5wdXNoKGRpZmYudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiBjb21tYW5kICsgcG9pbnRzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIGdldCBsYXN0UG9pbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzW3RoaXMucG9pbnRzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgYXNJbnRlcnNlY3Rpb25QYXJhbXMoKTogSUludGVyc2VjdGlvblBhcmFtIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5jbGFzcyBSZWxhdGl2ZUNsb3NlUGF0aCBleHRlbmRzIFJlbGF0aXZlUGF0aFNlZ21lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbXM6IHN0cmluZ1tdLCBvd25lcjogUGF0aCwgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIHN1cGVyKCd6JywgcGFyYW1zLCBvd25lciwgcHJldmlvdXMpO1xuICB9XG5cbiAgZ2V0IGxhc3RQb2ludCgpIHtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMucHJldmlvdXM7XG4gICAgbGV0IHBvaW50O1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBpZiAoY3VycmVudC5jb21tYW5kLm1hdGNoKC9eW21NelpdJC8pKSB7XG4gICAgICAgIHBvaW50ID0gY3VycmVudC5sYXN0UG9pbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucHJldmlvdXM7XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCkge1xuICAgIHJldHVybiBwYXJhbSgnTGluZScsIFt0aGlzLnByZXZpb3VzLmxhc3RQb2ludCwgdGhpcy5sYXN0UG9pbnRdKTtcbiAgfVxufVxuY2xhc3MgUmVsYXRpdmVDdXJ2ZXRvMiBleHRlbmRzIFJlbGF0aXZlUGF0aFNlZ21lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbXM6IHN0cmluZ1tdLCBvd25lcjogUGF0aCwgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIHN1cGVyKCdxJywgcGFyYW1zLCBvd25lciwgcHJldmlvdXMpO1xuICB9XG5cbiAgZ2V0IGNvbnRyb2xQb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludHNbMF07XG4gIH1cblxuICBhc0ludGVyc2VjdGlvblBhcmFtcygpIHtcbiAgICByZXR1cm4gcGFyYW0oJ0JlemllcjInLCBbdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQsIHRoaXMucG9pbnRzWzBdLCB0aGlzLnBvaW50c1sxXV0pO1xuICB9XG59XG5jbGFzcyBSZWxhdGl2ZUN1cnZldG8zIGV4dGVuZHMgUmVsYXRpdmVQYXRoU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtczogc3RyaW5nW10sIG93bmVyOiBQYXRoLCBwcmV2aW91czogSVBhdGhTZWdtZW50KSB7XG4gICAgc3VwZXIoJ2MnLCBwYXJhbXMsIG93bmVyLCBwcmV2aW91cyk7XG4gIH1cblxuICBnZXQgbGFzdENvbnRyb2xQb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludHNbMV07XG4gIH1cblxuICBhc0ludGVyc2VjdGlvblBhcmFtcygpIHtcbiAgICByZXR1cm4gcGFyYW0oJ0JlemllcjMnLCBbdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQsIHRoaXMucG9pbnRzWzBdLCB0aGlzLnBvaW50c1sxXSwgdGhpcy5wb2ludHNbMl1dKTtcbiAgfVxufVxuY2xhc3MgUmVsYXRpdmVMaW5ldG8gZXh0ZW5kcyBSZWxhdGl2ZVBhdGhTZWdtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1zOiBzdHJpbmdbXSwgb3duZXI6IFBhdGgsIHByZXZpb3VzOiBJUGF0aFNlZ21lbnQpIHtcbiAgICBzdXBlcignbCcsIHBhcmFtcywgb3duZXIsIHByZXZpb3VzKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IHRoaXMucHJldmlvdXMgPyB0aGlzLnByZXZpb3VzLmxhc3RQb2ludCA6IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICBjb25zdCBwb2ludCA9IHRoaXMucG9pbnRzWzBdLnN1YnRyYWN0KGxhc3RQb2ludCk7XG4gICAgbGV0IGNvbW1hbmQgPSAnJztcbiAgICBpZiAodGhpcy5wcmV2aW91cy5jb21tYW5kICE9PSB0aGlzLmNvbW1hbmQgJiYgdGhpcy5wcmV2aW91cy5jb21tYW5kICE9PSAnbScpIHtcbiAgICAgIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmQ7XG4gICAgfVxuICAgIHJldHVybiBjb21tYW5kICsgcG9pbnQudG9TdHJpbmcoKTtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCkge1xuICAgIHJldHVybiBwYXJhbSgnTGluZScsIFt0aGlzLnByZXZpb3VzLmxhc3RQb2ludCwgdGhpcy5wb2ludHNbMF1dKTtcbiAgfVxufVxuY2xhc3MgUmVsYXRpdmVNb3ZldG8gZXh0ZW5kcyBSZWxhdGl2ZVBhdGhTZWdtZW50IHtcblxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IHN0cmluZ1tdLCBvd25lcjogUGF0aCwgcHJldmlvdXM6IElQYXRoU2VnbWVudCkge1xuICAgIHN1cGVyKCdtJywgcGFyYW1zLCBvd25lciwgcHJldmlvdXMpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdtJyArIHRoaXMucG9pbnRzWzBdLnRvU3RyaW5nKCk7XG4gIH1cbn1cbmNsYXNzIFJlbGF0aXZlU21vb3RoQ3VydmV0bzIgZXh0ZW5kcyBSZWxhdGl2ZVBhdGhTZWdtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1zOiBzdHJpbmdbXSwgb3duZXI6IFBhdGgsIHByZXZpb3VzOiBJUGF0aFNlZ21lbnQpIHtcbiAgICBzdXBlcigndCcsIHBhcmFtcywgb3duZXIsIHByZXZpb3VzKTtcbiAgfVxuXG4gIGdldCBjb250cm9sUG9pbnQoKSB7XG4gICAgY29uc3QgbGFzdFBvaW50ID0gdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQ7XG4gICAgbGV0IHBvaW50O1xuICAgIGlmICh0aGlzLnByZXZpb3VzLmNvbW1hbmQubWF0Y2goL15bUXFUdF0kLykpIHtcbiAgICAgIGNvbnN0IGN0cmxQb2ludCA9ICg8YW55PnRoaXMucHJldmlvdXMpLmNvbnRyb2xQb2ludDtcbiAgICAgIGNvbnN0IGRpZmYgPSBjdHJsUG9pbnQuc3VidHJhY3QobGFzdFBvaW50KTtcbiAgICAgIHBvaW50ID0gbGFzdFBvaW50LnN1YnRyYWN0KGRpZmYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludCA9IGxhc3RQb2ludDtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xuICB9XG5cbiAgYXNJbnRlcnNlY3Rpb25QYXJhbXMoKSB7XG4gICAgcmV0dXJuIHBhcmFtKCdCZXppZXIyJywgW3RoaXMucHJldmlvdXMubGFzdFBvaW50LCB0aGlzLmNvbnRyb2xQb2ludCwgdGhpcy5wb2ludHNbMF1dKTtcbiAgfVxufVxuXG5jbGFzcyBSZWxhdGl2ZVNtb290aEN1cnZldG8zIGV4dGVuZHMgUmVsYXRpdmVQYXRoU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtczogc3RyaW5nW10sIG93bmVyOiBQYXRoLCBwcmV2aW91czogSVBhdGhTZWdtZW50KSB7XG4gICAgc3VwZXIoJ3MnLCBwYXJhbXMsIG93bmVyLCBwcmV2aW91cyk7XG4gIH1cblxuICBnZXQgZmlyc3RDb250cm9sUG9pbnQoKSB7XG4gICAgY29uc3QgbGFzdFBvaW50ID0gdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQ7XG4gICAgbGV0IHBvaW50O1xuICAgIGlmICh0aGlzLnByZXZpb3VzLmNvbW1hbmQubWF0Y2goL15bU3NDY10kLykpIHtcbiAgICAgIGNvbnN0IGxhc3RDb250cm9sID0gKDxhbnk+dGhpcy5wcmV2aW91cykubGFzdENvbnRyb2xQb2ludDtcbiAgICAgIGNvbnN0IGRpZmYgPSBsYXN0Q29udHJvbC5zdWJ0cmFjdChsYXN0UG9pbnQpO1xuICAgICAgcG9pbnQgPSBsYXN0UG9pbnQuc3VidHJhY3QoZGlmZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ID0gbGFzdFBvaW50O1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnQ7XG4gIH1cblxuICBnZXQgbGFzdENvbnRyb2xQb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludHNbMF07XG4gIH1cblxuICBhc0ludGVyc2VjdGlvblBhcmFtcygpIHtcbiAgICByZXR1cm4gcGFyYW0oJ0JlemllcjMnLCBbdGhpcy5wcmV2aW91cy5sYXN0UG9pbnQsIHRoaXMuZmlyc3RDb250cm9sUG9pbnQsIHRoaXMucG9pbnRzWzBdLCB0aGlzLnBvaW50c1sxXV0pO1xuICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy8yRC50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDI5LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHtub25lLCBsaXN0LCBSYW5nZSwgUmFuZ2UxRCwgQ29tcG9zaXRlUmFuZ2UxRH0gZnJvbSAnLi9yYW5nZSc7XG4vKipcbiAqIHNpbXBsZSBudW1iZXIgc3RhdGlzdGljcyBzaW1pbGFyIHRvIERvdWJsZVN0YXRpc3RpY3MgaW4gQ2FsZXlkb1xuICogVE9ETyB1c2UgYSBzdGFuZGFyZCBsaWJyYXJ5IGZvciB0aGF0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVN0YXRpc3RpY3Mge1xuICByZWFkb25seSBtaW46IG51bWJlcjtcbiAgcmVhZG9ubHkgbWF4OiBudW1iZXI7XG4gIHJlYWRvbmx5IHN1bTogbnVtYmVyO1xuICByZWFkb25seSBtZWFuOiBudW1iZXI7XG4gIHJlYWRvbmx5IHZhcjogbnVtYmVyO1xuICByZWFkb25seSBzZDogbnVtYmVyO1xuICByZWFkb25seSBuOiBudW1iZXI7XG4gIHJlYWRvbmx5IG5hbnM6IG51bWJlcjtcbiAgcmVhZG9ubHkgbW9tZW50MjogbnVtYmVyO1xuICByZWFkb25seSBtb21lbnQzOiBudW1iZXI7XG4gIHJlYWRvbmx5IG1vbWVudDQ6IG51bWJlcjtcbiAgcmVhZG9ubHkga3VydG9zaXM6IG51bWJlcjtcbiAgcmVhZG9ubHkgc2tld25lc3M6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQWR2YW5jZWRTdGF0aXN0aWNzIGV4dGVuZHMgSVN0YXRpc3RpY3Mge1xuICByZWFkb25seSBtZWRpYW46IG51bWJlcjtcbiAgcmVhZG9ubHkgcTE6IG51bWJlcjtcbiAgcmVhZG9ubHkgcTM6IG51bWJlcjtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIElJdGVyYWJsZTxUPiB7XG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBUKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJSGlzdG9ncmFtIGV4dGVuZHMgSUl0ZXJhYmxlPG51bWJlcj4ge1xuICByZWFkb25seSBiaW5zOiBudW1iZXI7XG4gIHJlYWRvbmx5IGxhcmdlc3RGcmVxdWVuY3k6IG51bWJlcjtcbiAgLyoqXG4gICAqIGxhcmdlc3QgZnJlcXVlbmN5IHdpdGhvdXQgbWlzc2luZ1xuICAgKi9cbiAgcmVhZG9ubHkgbGFyZ2VzdEJpbjogbnVtYmVyO1xuICByZWFkb25seSBjb3VudDogbnVtYmVyO1xuICAvKipcbiAgICogbnVtYmVyIG9mIHZhbGlkIGVudHJpZXM7XG4gICAqL1xuICByZWFkb25seSB2YWxpZENvdW50OiBudW1iZXI7XG5cbiAgZnJlcXVlbmN5KGJpbjogbnVtYmVyKTogbnVtYmVyO1xuICByYW5nZShiaW46IG51bWJlcik6IFJhbmdlO1xuXG4gIGJpbk9mKHZhbHVlOiBhbnkpOiBudW1iZXI7XG5cbiAgcmVhZG9ubHkgbWlzc2luZzogbnVtYmVyO1xuICByZWFkb25seSBtaXNzaW5nUmFuZ2U6IFJhbmdlO1xuXG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDYXRIaXN0b2dyYW0gZXh0ZW5kcyBJSGlzdG9ncmFtIHtcbiAgcmVhZG9ubHkgY2F0ZWdvcmllczogc3RyaW5nW107XG4gIHJlYWRvbmx5IGNvbG9yczogc3RyaW5nW107XG59XG5cbmNsYXNzIFN0YXRpc3RpY3MgaW1wbGVtZW50cyBJU3RhdGlzdGljcyB7XG4gIG1pbjogbnVtYmVyID0gTmFOO1xuICBtYXg6IG51bWJlciA9IE5hTjtcbiAgc3VtOiBudW1iZXIgPSAwO1xuICBtZWFuOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF92YXI6IG51bWJlciA9IDA7XG4gIG46IG51bWJlciA9IDA7XG4gIG5hbnM6IG51bWJlciA9IDA7XG4gIG1vbWVudDI6IG51bWJlciA9IE5hTjtcbiAgbW9tZW50MzogbnVtYmVyID0gTmFOO1xuICBtb21lbnQ0OiBudW1iZXIgPSBOYU47XG5cbiAgZ2V0IHZhcigpIHtcbiAgICByZXR1cm4gdGhpcy5uID4gMSA/IHRoaXMuX3ZhciAvICh0aGlzLm4gLSAxKSA6IDA7XG4gIH1cblxuICAvKiogUmV0dXJucyB0aGUgc3RhbmRhcmQgZGV2aWF0aW9uICovXG4gIGdldCBzZCgpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMudmFyKTtcbiAgfVxuXG4gIGdldCBrdXJ0b3NpcygpIHtcbiAgICBpZiAodGhpcy5uID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLm4gKiB0aGlzLm1vbWVudDQpIC8gKHRoaXMubW9tZW50MiAqIHRoaXMubW9tZW50MikgLSAzO1xuICB9XG5cbiAgZ2V0IHNrZXduZXNzKCkge1xuICAgIGlmICh0aGlzLm4gPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMubikgKiB0aGlzLm1vbWVudDMgLyAoTWF0aC5wb3codGhpcy5tb21lbnQyLCAzLiAvIDIuKSk7XG4gIH1cblxuICBwdXNoKHg6IG51bWJlcikge1xuICAgIGlmICh0eXBlb2YgeCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHggPSBOdW1iZXIuTmFOO1xuICAgIH1cblxuICAgIGlmIChpc05hTih4KSkge1xuICAgICAgdGhpcy5uYW5zKys7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5uKys7XG4gICAgdGhpcy5zdW0gKz0geDtcbiAgICBpZiAoeCA8IHRoaXMubWluIHx8IGlzTmFOKHRoaXMubWluKSkge1xuICAgICAgdGhpcy5taW4gPSB4O1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXggPCB4IHx8IGlzTmFOKHRoaXMubWF4KSkge1xuICAgICAgdGhpcy5tYXggPSB4O1xuICAgIH1cbiAgICAvLyBodHRwOi8vd3d3LmpvaG5kY29vay5jb20vc3RhbmRhcmRfZGV2aWF0aW9uLmh0bWxcbiAgICAvLyBTZWUgS251dGggVEFPQ1Agdm9sIDIsIDNyZCBlZGl0aW9uLCBwYWdlIDIzMlxuICAgIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQWxnb3JpdGhtc19mb3JfY2FsY3VsYXRpbmdfdmFyaWFuY2UjSGlnaGVyLW9yZGVyX3N0YXRpc3RpY3NcblxuICAgIGlmICh0aGlzLm4gPT09IDEpIHtcbiAgICAgIHRoaXMubWVhbiA9IHg7XG4gICAgICB0aGlzLl92YXIgPSAwO1xuICAgICAgdGhpcy5tb21lbnQyID0gdGhpcy5tb21lbnQzID0gdGhpcy5tb21lbnQ0ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWVhbk1pbnVzMSA9IHRoaXMubWVhbjtcbiAgICAgIHRoaXMubWVhbiA9IG1lYW5NaW51czEgKyAoeCAtIG1lYW5NaW51czEpIC8gdGhpcy5uO1xuICAgICAgdGhpcy5fdmFyID0gdGhpcy5fdmFyICsgKHggLSBtZWFuTWludXMxKSAqICh4IC0gdGhpcy5tZWFuKTtcblxuICAgICAgY29uc3QgZGVsdGEgPSB4IC0gbWVhbk1pbnVzMTtcbiAgICAgIGNvbnN0IGRlbHRhTiA9IGRlbHRhIC8gdGhpcy5uO1xuICAgICAgY29uc3QgZGVsdGFOU3F1YXJlID0gZGVsdGFOICogZGVsdGFOO1xuICAgICAgY29uc3QgdGVybTEgPSBkZWx0YSAqIGRlbHRhTiAqICh0aGlzLm4gLSAxKTtcbiAgICAgIHRoaXMubW9tZW50NCArPSB0ZXJtMSAqIGRlbHRhTlNxdWFyZSAqICh0aGlzLm4gKiB0aGlzLm4gLSAzICogdGhpcy5uICsgMykgKyA2ICogZGVsdGFOU3F1YXJlICogdGhpcy5tb21lbnQyIC0gNCAqIGRlbHRhTiAqIHRoaXMubW9tZW50MztcbiAgICAgIHRoaXMubW9tZW50MyArPSB0ZXJtMSAqIGRlbHRhTiAqICh0aGlzLm4gLSAyKSAtIDMgKiBkZWx0YU4gKiB0aGlzLm1vbWVudDI7XG4gICAgICB0aGlzLm1vbWVudDIgKz0gdGVybTE7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEFkdmFuY2VkU3RhdGlzdGljcyBleHRlbmRzIFN0YXRpc3RpY3MgaW1wbGVtZW50cyBJQWR2YW5jZWRTdGF0aXN0aWNzIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG1lZGlhbjogbnVtYmVyLCBwdWJsaWMgcmVhZG9ubHkgcTE6IG51bWJlciwgcHVibGljIHJlYWRvbmx5IHEzOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlU3RhdHMoLi4uYXJyOiBJSXRlcmFibGU8bnVtYmVyPltdKTogSVN0YXRpc3RpY3Mge1xuICBjb25zdCByID0gbmV3IFN0YXRpc3RpY3MoKTtcbiAgYXJyLmZvckVhY2goKGEpID0+IGEuZm9yRWFjaChyLnB1c2gsIHIpKTtcbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIHF1YW50aWxlKGFycjogbnVtYmVyW10sIHBlcmNlbnRpbGU6IG51bWJlcikge1xuICBjb25zdCBuID0gYXJyLmxlbmd0aDtcbiAgaWYgKG4gPT09IDApIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG4gIGlmIChuIDwgMiB8fCBwZXJjZW50aWxlIDw9IDApIHtcbiAgICByZXR1cm4gYXJyWzBdO1xuICB9XG4gIGlmIChwZXJjZW50aWxlID49IDEpIHtcbiAgICByZXR1cm4gYXJyW24gLSAxXTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSBwZXJjZW50aWxlICogKG4gLSAxKTtcbiAgY29uc3QgdGFyZ2V0SW5kZXggPSBNYXRoLmZsb29yKHRhcmdldCk7XG4gIGNvbnN0IGEgPSBhcnJbdGFyZ2V0SW5kZXhdLCBiID0gYXJyW3RhcmdldEluZGV4ICsgMV07XG4gIHJldHVybiBhICsgKGIgLSBhKSAqICh0YXJnZXQgLSB0YXJnZXRJbmRleCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQWR2YW5jZWRTdGF0cyhhcnI6IG51bWJlcltdKTogSUFkdmFuY2VkU3RhdGlzdGljcyB7XG4gIGFyciA9IGFyci5zbGljZSgpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcblxuICBjb25zdCByID0gbmV3IEFkdmFuY2VkU3RhdGlzdGljcyhxdWFudGlsZShhcnIsIDAuNSksIHF1YW50aWxlKGFyciwgMC4yNSksIHF1YW50aWxlKGFyciwgMC43NSkpO1xuICBhcnIuZm9yRWFjaCgoYSkgPT4gci5wdXNoKGEpKTtcbiAgcmV0dXJuIHI7XG59XG5cbmNsYXNzIEFIaXN0b2dyYW0gaW1wbGVtZW50cyBJSGlzdG9ncmFtIHtcbiAgcHJpdmF0ZSBfYmluczogbnVtYmVyW107XG4gIHByaXZhdGUgX21pc3Npbmc6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3JhbmdlczogUmFuZ2VbXTtcbiAgcHJpdmF0ZSBfbWlzc2luZ1JhbmdlID0gbm9uZSgpO1xuXG4gIGNvbnN0cnVjdG9yKGJpbnM6IG51bWJlciwgaGlzdD86IG51bWJlcltdKSB7XG4gICAgdGhpcy5fYmlucyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluczsgKytpKSB7XG4gICAgICB0aGlzLl9iaW5zLnB1c2goaGlzdCAmJiBoaXN0Lmxlbmd0aCA+IGkgPyBoaXN0W2ldIDogMCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGxhcmdlc3RGcmVxdWVuY3koKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWF4LmFwcGx5KE1hdGgsIHRoaXMuX2JpbnMpLCB0aGlzLl9taXNzaW5nKTtcbiAgfVxuXG4gIGdldCBsYXJnZXN0QmluKCkge1xuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLCB0aGlzLl9iaW5zKTtcbiAgfVxuXG4gIGdldCBjb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZENvdW50ICsgdGhpcy5fbWlzc2luZztcbiAgfVxuXG4gIGdldCB2YWxpZENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9iaW5zLnJlZHVjZSgocCwgcykgPT4gcCArIHMsIDApO1xuICB9XG5cbiAgZ2V0IGJpbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JpbnMubGVuZ3RoO1xuICB9XG5cbiAgYmluT2YodmFsdWU6IGFueSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGZyZXF1ZW5jeShiaW46IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9iaW5zW2Jpbl07XG4gIH1cblxuICByYW5nZShiaW46IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9yYW5nZXMgPyB0aGlzLl9yYW5nZXNbYmluXSA6IG5vbmUoKTtcbiAgfVxuXG4gIGdldCBtaXNzaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9taXNzaW5nO1xuICB9XG5cbiAgZ2V0IG1pc3NpbmdSYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWlzc2luZ1JhbmdlO1xuICB9XG5cbiAgcHVzaEFsbChhcnI6IElJdGVyYWJsZTxhbnk+LCBpbmRpY2VzPzogUmFuZ2UxRCwgc2l6ZT86IG51bWJlcikge1xuICAgIGNvbnN0IGJpbmluZGV4OiBudW1iZXJbXVtdID0gW10sIG1pc3NpbmdpbmRleDogbnVtYmVyW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5iaW5zIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGJpbmluZGV4LnB1c2goW10pO1xuICAgIH1cbiAgICBpZiAoaW5kaWNlcykge1xuICAgICAgY29uc3QgaXQgPSBpbmRpY2VzLml0ZXIoc2l6ZSk7XG4gICAgICBhcnIuZm9yRWFjaCgoeCkgPT4ge1xuICAgICAgICBjb25zdCBpbmRleCA9IGl0Lm5leHQoKTtcbiAgICAgICAgY29uc3QgYmluID0gdGhpcy5iaW5PZih4KTtcbiAgICAgICAgaWYgKGJpbiA8IDApIHtcbiAgICAgICAgICB0aGlzLl9taXNzaW5nKys7XG4gICAgICAgICAgbWlzc2luZ2luZGV4LnB1c2goaW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2JpbnNbYmluXSsrO1xuICAgICAgICAgIGJpbmluZGV4W2Jpbl0ucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy9idWlsZCByYW5nZSBhbmQgcmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICAgIHRoaXMuX3JhbmdlcyA9IGJpbmluZGV4Lm1hcCgoZCkgPT4gbGlzdChkLnNvcnQoKS5maWx0ZXIoKGRpLCBpLCBhKSA9PiBkaSAhPT0gYVtpIC0gMV0pKSk7XG4gICAgICB0aGlzLl9taXNzaW5nUmFuZ2UgPSBsaXN0KG1pc3NpbmdpbmRleC5zb3J0KCkuZmlsdGVyKChkaSwgaSwgYSkgPT4gZGkgIT09IGFbaSAtIDFdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyci5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICAgIGNvbnN0IGJpbiA9IHRoaXMuYmluT2YoeCk7XG4gICAgICAgIGlmIChiaW4gPCAwKSB7XG4gICAgICAgICAgdGhpcy5fbWlzc2luZysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2JpbnNbYmluXSsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3JhbmdlcyA9IG51bGw7XG4gICAgICB0aGlzLl9taXNzaW5nUmFuZ2UgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5fYmlucy5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcpO1xuICB9XG59XG5cbmNsYXNzIEhpc3RvZ3JhbSBleHRlbmRzIEFIaXN0b2dyYW0ge1xuICBjb25zdHJ1Y3RvcihiaW5zOiBudW1iZXIsIHByaXZhdGUgdmFsdWVSYW5nZTogbnVtYmVyW10sIGhpc3Q/OiBudW1iZXJbXSkge1xuICAgIHN1cGVyKGJpbnMsIGhpc3QpO1xuICB9XG5cbiAgYmluT2YodmFsdWU6IGFueSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdGhpcy5iaW5PZkltcGwoPG51bWJlcj52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHByaXZhdGUgYmluT2ZJbXBsKHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGNvbnN0IG4gPSAodmFsdWUgLSB0aGlzLnZhbHVlUmFuZ2VbMF0pIC8gKHRoaXMudmFsdWVSYW5nZVsxXSAtIHRoaXMudmFsdWVSYW5nZVswXSk7XG4gICAgbGV0IGJpbiA9IE1hdGgucm91bmQobiAqICh0aGlzLmJpbnMgLSAxKSk7XG4gICAgaWYgKGJpbiA8IDApIHtcbiAgICAgIGJpbiA9IDA7XG4gICAgfVxuICAgIGlmIChiaW4gPj0gdGhpcy5iaW5zKSB7XG4gICAgICBiaW4gPSB0aGlzLmJpbnMgLSAxO1xuICAgIH1cbiAgICByZXR1cm4gaXNOYU4oYmluKSA/IC0xIDogYmluO1xuICB9XG59XG5cbmNsYXNzIENhdEhpc3RvZ3JhbSBleHRlbmRzIEFIaXN0b2dyYW0gaW1wbGVtZW50cyBJQ2F0SGlzdG9ncmFtIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB2YWx1ZXM6IGFueVtdLCBwdWJsaWMgcmVhZG9ubHkgY2F0ZWdvcmllczogc3RyaW5nW10sIHB1YmxpYyByZWFkb25seSBjb2xvcnM6IHN0cmluZ1tdKSB7XG4gICAgc3VwZXIodmFsdWVzLmxlbmd0aCk7XG4gIH1cblxuICBiaW5PZih2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzLmluZGV4T2YodmFsdWUpO1xuICB9XG59XG5cblxuY2xhc3MgUmFuZ2VIaXN0b2dyYW0gaW1wbGVtZW50cyBJQ2F0SGlzdG9ncmFtIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBfcmFuZ2U6IENvbXBvc2l0ZVJhbmdlMUQpIHtcbiAgfVxuXG4gIGdldCBjYXRlZ29yaWVzKCkge1xuICAgIHJldHVybiB0aGlzLl9yYW5nZS5ncm91cHMubWFwKChnKSA9PiBnLm5hbWUpO1xuICB9XG5cbiAgZ2V0IGNvbG9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmFuZ2UuZ3JvdXBzLm1hcCgoZykgPT4gZy5jb2xvcik7XG4gIH1cblxuICBnZXQgbGFyZ2VzdEZyZXF1ZW5jeSgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgdGhpcy5fcmFuZ2UuZ3JvdXBzLm1hcCgoZykgPT4gZy5sZW5ndGgpKTtcbiAgfVxuXG4gIGdldCBsYXJnZXN0QmluKCkge1xuICAgIHJldHVybiB0aGlzLmxhcmdlc3RGcmVxdWVuY3k7XG4gIH1cblxuICBnZXQgY291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JhbmdlLmxlbmd0aDtcbiAgfVxuXG4gIGdldCB2YWxpZENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50O1xuICB9XG5cbiAgZ2V0IGJpbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JhbmdlLmdyb3Vwcy5sZW5ndGg7XG4gIH1cblxuICBiaW5PZih2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JhbmdlLmdyb3Vwcy5maW5kSW5kZXgoKGcpID0+IGcubmFtZSA9PT0gdmFsdWUpO1xuICB9XG5cbiAgZnJlcXVlbmN5KGJpbjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JhbmdlLmdyb3Vwc1tiaW5dLmxlbmd0aDtcbiAgfVxuXG4gIHJhbmdlKGJpbjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGxpc3QodGhpcy5fcmFuZ2UuZ3JvdXBzW2Jpbl0pO1xuICB9XG5cbiAgZ2V0IG1pc3NpbmcoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBnZXQgbWlzc2luZ1JhbmdlKCkge1xuICAgIHJldHVybiBub25lKCk7XG4gIH1cblxuICBmb3JFYWNoKGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JhbmdlLmdyb3Vwcy5mb3JFYWNoKChnLCBpKSA9PiBjYWxsYmFja2ZuLmNhbGwodGhpc0FyZywgZy5sZW5ndGgsIGkpKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlzdChhcnI6IElJdGVyYWJsZTxudW1iZXI+LCBpbmRpY2VzOiBSYW5nZTFELCBzaXplOiBudW1iZXIsIGJpbnM6IG51bWJlciwgcmFuZ2U6IG51bWJlcltdKTogSUhpc3RvZ3JhbSB7XG4gIGNvbnN0IHIgPSBuZXcgSGlzdG9ncmFtKGJpbnMsIHJhbmdlKTtcbiAgci5wdXNoQWxsKGFyciwgaW5kaWNlcywgc2l6ZSk7XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2F0ZWdvcmljYWxIaXN0PFQ+KGFycjogSUl0ZXJhYmxlPFQ+LCBpbmRpY2VzOiBSYW5nZTFELCBzaXplOiBudW1iZXIsIGNhdGVnb3JpZXM6IFRbXSwgbGFiZWxzOiBzdHJpbmdbXSwgY29sb3JzOiBzdHJpbmdbXSk6IElIaXN0b2dyYW0ge1xuICBjb25zdCByID0gbmV3IENhdEhpc3RvZ3JhbShjYXRlZ29yaWVzLCBsYWJlbHMsIGNvbG9ycyk7XG4gIHIucHVzaEFsbChhcnIsIGluZGljZXMsIHNpemUpO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlSGlzdChyYW5nZTogQ29tcG9zaXRlUmFuZ2UxRCkge1xuICByZXR1cm4gbmV3IFJhbmdlSGlzdG9ncmFtKHJhbmdlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3cmFwSGlzdChoaXN0OiBudW1iZXJbXSwgdmFsdWVSYW5nZTogbnVtYmVyW10pIHtcbiAgcmV0dXJuIG5ldyBIaXN0b2dyYW0oaGlzdC5sZW5ndGgsIHZhbHVlUmFuZ2UsIGhpc3QpO1xufVxuXG4vKipcbiAqIGNvbXB1dGVzIHRoZSBleHRlbnQgW21pbiwgbWF4XSBmb3IgdGhlIGdpdmVuIGFycmF5LCBpbiBjYXNlIG9mIGVtcHR5IGFycmF5IFtOYU4sIE5hTl0gaXMgcmV0dXJuZWRcbiAqIEBwYXJhbSBhcnIgdGhlIGFycmF5XG4gKiBAcmV0dXJuIHtbbnVtYmVyLG51bWJlcl19IFttaW4sIG1heF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVudChhcnI6IElJdGVyYWJsZTxudW1iZXI+KTogW251bWJlciwgbnVtYmVyXSB7XG4gIGxldCBtaW4gPSBOYU4sIG1heCA9IE5hTjtcbiAgYXJyLmZvckVhY2goKHYpID0+IHtcbiAgICBpZiAoaXNOYU4odikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzTmFOKG1pbikgfHwgbWluID4gdikge1xuICAgICAgbWluID0gdjtcbiAgICB9XG4gICAgaWYgKGlzTmFOKG1heCkgfHwgbWluIDwgdikge1xuICAgICAgbWF4ID0gdjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gW21pbiwgbWF4XTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYXRoLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge2FsbCwgbGlzdCBhcyBybGlzdCwgUmFuZ2VMaWtlLCByYW5nZSwgYXNVbmdyb3VwZWQsIGNvbXBvc2l0ZSwgcGFyc2V9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCBSYW5nZSBmcm9tICcuLi9yYW5nZS9SYW5nZSc7XG5pbXBvcnQgQ29tcG9zaXRlUmFuZ2UxRCBmcm9tICcuLi9yYW5nZS9Db21wb3NpdGVSYW5nZTFEJztcbmltcG9ydCB7YXJnU29ydCwgYXJnRmlsdGVyfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQge1NlbGVjdEFibGUsIHJlc29sdmUgYXMgcmVzb2x2ZUlEVHlwZSwgSURUeXBlfSBmcm9tICcuLi9pZHR5cGUnO1xuaW1wb3J0IHtcbiAgY2F0ZWdvcmljYWwycGFydGl0aW9uaW5nLFxuICBJQ2F0ZWdvcmljYWwyUGFydGl0aW9uaW5nT3B0aW9ucyxcbiAgSUNhdGVnb3J5LFxuICBJQ2F0ZWdvcmljYWxWYWx1ZVR5cGVEZXNjLFxuICBJTnVtYmVyVmFsdWVUeXBlRGVzYyxcbiAgVkFMVUVfVFlQRV9DQVRFR09SSUNBTCxcbiAgVkFMVUVfVFlQRV9JTlQsXG4gIFZBTFVFX1RZUEVfUkVBTCwgSVZhbHVlVHlwZURlc2Ncbn0gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZUFkdmFuY2VkU3RhdHMsXG4gIElBZHZhbmNlZFN0YXRpc3RpY3MsXG4gIElIaXN0b2dyYW0sXG4gIGNhdGVnb3JpY2FsSGlzdCxcbiAgaGlzdCxcbiAgSVN0YXRpc3RpY3MsXG4gIGNvbXB1dGVTdGF0c1xufSBmcm9tICcuLi9tYXRoJztcbmltcG9ydCB7SVZlY3Rvcn0gZnJvbSAnLi9JVmVjdG9yJztcbmltcG9ydCB7SVN0cmF0aWZpY2F0aW9ufSBmcm9tICcuLi9zdHJhdGlmaWNhdGlvbic7XG5pbXBvcnQgU3RyYXRpZmljYXRpb25WZWN0b3IgZnJvbSAnLi9pbnRlcm5hbC9TdHJhdGlmaWNhdGlvblZlY3Rvcic7XG5pbXBvcnQgUHJvamVjdGVkQXRvbSBmcm9tICcuL2ludGVybmFsL1Byb2plY3RlZEF0b20nO1xuaW1wb3J0IElBdG9tLCB7SUF0b21WYWx1ZX0gZnJvbSAnLi4vYXRvbS9JQXRvbSc7XG4vKipcbiAqIGJhc2UgY2xhc3MgZm9yIGRpZmZlcmVudCBWZWN0b3IgaW1wbGVtZW50YXRpb25zLCB2aWV3cywgdHJhbnNwb3NlZCwuLi5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQVZlY3RvcjxULEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4gZXh0ZW5kcyBTZWxlY3RBYmxlIHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJvb3Q6IElWZWN0b3I8VCxEPikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBnZXQgZGltKCkge1xuICAgIHJldHVybiBbdGhpcy5sZW5ndGhdO1xuICB9XG5cbiAgYWJzdHJhY3QgZGF0YShyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8YW55W10+O1xuXG4gIGFic3RyYWN0IHNpemUoKTogbnVtYmVyO1xuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZSgpO1xuICB9XG5cbiAgdmlldyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBJVmVjdG9yPFQsRD4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlOm5vLXVzZS1iZWZvcmUtZGVjbGFyZVxuICAgIC8vIERpc2FibGVkIHRoZSBydWxlLCBiZWNhdXNlIHRoZSBjbGFzc2VzIGJlbG93IHJlZmVyZW5jZSBlYWNoIG90aGVyIGluIGEgd2F5IHRoYXQgaXQgaXMgaW1wb3NzaWJsZSB0byBmaW5kIGEgc3VjY2Vzc2Z1bCBvcmRlci5cbiAgICByZXR1cm4gbmV3IFZlY3RvclZpZXcodGhpcy5yb290LCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgYXN5bmMgaWRWaWV3KGlkUmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxJVmVjdG9yPFQsRD4+IHtcbiAgICBjb25zdCBpZHMgPSBhd2FpdCB0aGlzLmlkcygpO1xuICAgIHJldHVybiB0aGlzLnZpZXcoaWRzLmluZGV4T2YocGFyc2UoaWRSYW5nZSkpKTtcbiAgfVxuXG4gIGFzeW5jIHN0YXRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8SVN0YXRpc3RpY3M+IHtcbiAgICBpZiAodGhpcy5yb290LnZhbHVldHlwZS50eXBlICE9PSBWQUxVRV9UWVBFX0lOVCAmJiB0aGlzLnJvb3QudmFsdWV0eXBlLnR5cGUgIT09IFZBTFVFX1RZUEVfUkVBTCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdpbnZhbGlkIHZhbHVlIHR5cGU6ICcgKyB0aGlzLnJvb3QudmFsdWV0eXBlLnR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZVN0YXRzKGF3YWl0IHRoaXMuZGF0YShyYW5nZSkpO1xuICB9XG5cbiAgYXN5bmMgc3RhdHNBZHZhbmNlZChyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPElBZHZhbmNlZFN0YXRpc3RpY3M+IHtcbiAgICBpZiAodGhpcy5yb290LnZhbHVldHlwZS50eXBlICE9PSBWQUxVRV9UWVBFX0lOVCAmJiB0aGlzLnJvb3QudmFsdWV0eXBlLnR5cGUgIT09IFZBTFVFX1RZUEVfUkVBTCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdpbnZhbGlkIHZhbHVlIHR5cGU6ICcgKyB0aGlzLnJvb3QudmFsdWV0eXBlLnR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZUFkdmFuY2VkU3RhdHMoYXdhaXQgdGhpcy5kYXRhKHJhbmdlKSk7XG4gIH1cblxuICBnZXQgaW5kaWNlcygpOiBSYW5nZSB7XG4gICAgcmV0dXJuIHJhbmdlKDAsIHRoaXMubGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm4gdGhlIHJhbmdlIG9mIHRoaXMgdmVjdG9yIGFzIGEgZ3JvdXBlZCByYW5nZSwgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIHRoaXMgbWlnaHQgYmUgYSBzaW5nbGUgZ3JvdXAgb3IgbXVsdGlwbGUgb25lc1xuICAgKi9cbiAgYXN5bmMgZ3JvdXBzKCk6IFByb21pc2U8Q29tcG9zaXRlUmFuZ2UxRD4ge1xuICAgIGNvbnN0IHYgPSB0aGlzLnJvb3QudmFsdWV0eXBlO1xuICAgIGlmICh2LnR5cGUgPT09IFZBTFVFX1RZUEVfQ0FURUdPUklDQUwpIHtcbiAgICAgIGNvbnN0IHZjID0gPElDYXRlZ29yaWNhbFZhbHVlVHlwZURlc2M+PGFueT52O1xuICAgICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgICAgY29uc3Qgb3B0aW9uczogSUNhdGVnb3JpY2FsMlBhcnRpdGlvbmluZ09wdGlvbnMgPSB7XG4gICAgICAgIG5hbWU6IHRoaXMucm9vdC5kZXNjLmlkXG4gICAgICB9O1xuICAgICAgaWYgKHR5cGVvZiB2Yy5jYXRlZ29yaWVzWzBdICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCB2Y2MgPSA8SUNhdGVnb3J5W10+dmMuY2F0ZWdvcmllcztcbiAgICAgICAgaWYgKHZjY1swXS5jb2xvcikge1xuICAgICAgICAgIG9wdGlvbnMuY29sb3JzID0gdmNjLm1hcCgoZCkgPT4gZC5jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZjY1swXS5sYWJlbCkge1xuICAgICAgICAgIG9wdGlvbnMubGFiZWxzID0gdmNjLm1hcCgoZCkgPT4gZC5sYWJlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjYXRlZ29yaWNhbDJwYXJ0aXRpb25pbmcoZCwgdmMuY2F0ZWdvcmllcy5tYXAoKGQpID0+IHR5cGVvZiBkID09PSAnc3RyaW5nJyA/IGQgOiBkLm5hbWUpLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjb21wb3NpdGUodGhpcy5yb290LmRlc2MuaWQsIFthc1VuZ3JvdXBlZCh0aGlzLmluZGljZXMuZGltKDApKV0pKTtcbiAgICB9XG4gIH1cblxuICBzdHJhdGlmaWNhdGlvbigpOiBQcm9taXNlPElTdHJhdGlmaWNhdGlvbj4ge1xuICAgIHJldHVybiB0aGlzLmFzU3RyYXRpZmljYXRpb24oKTtcbiAgfVxuXG4gIGFzeW5jIGFzU3RyYXRpZmljYXRpb24oKTogUHJvbWlzZTxJU3RyYXRpZmljYXRpb24+IHtcbiAgICByZXR1cm4gbmV3IFN0cmF0aWZpY2F0aW9uVmVjdG9yKHRoaXMucm9vdCwgYXdhaXQgdGhpcy5ncm91cHMoKSk7XG4gIH1cblxuICBhc3luYyBoaXN0KGJpbnM/OiBudW1iZXIsIHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8SUhpc3RvZ3JhbT4ge1xuICAgIGNvbnN0IHYgPSB0aGlzLnJvb3QudmFsdWV0eXBlO1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEocmFuZ2UpO1xuICAgIHN3aXRjaCAodi50eXBlKSB7XG4gICAgICBjYXNlIFZBTFVFX1RZUEVfQ0FURUdPUklDQUw6XG4gICAgICAgIGNvbnN0IHZjID0gPElDYXRlZ29yaWNhbFZhbHVlVHlwZURlc2M+PGFueT52O1xuICAgICAgICByZXR1cm4gY2F0ZWdvcmljYWxIaXN0KGQsIHRoaXMuaW5kaWNlcy5kaW0oMCksIGQubGVuZ3RoLCB2Yy5jYXRlZ29yaWVzLm1hcCgoZCkgPT4gdHlwZW9mIGQgPT09ICdzdHJpbmcnID8gZCA6IGQubmFtZSksXG4gICAgICAgICAgdmMuY2F0ZWdvcmllcy5tYXAoKGQpID0+IHR5cGVvZiBkID09PSAnc3RyaW5nJyA/IGQgOiBkLmxhYmVsIHx8IGQubmFtZSksXG4gICAgICAgICAgdmMuY2F0ZWdvcmllcy5tYXAoKGQpID0+IHR5cGVvZiBkID09PSAnc3RyaW5nJyA/ICdncmF5JyA6IGQuY29sb3IgfHwgJ2dyYXknKSk7XG4gICAgICBjYXNlIFZBTFVFX1RZUEVfUkVBTDpcbiAgICAgIGNhc2UgVkFMVUVfVFlQRV9JTlQ6XG4gICAgICAgIGNvbnN0IHZuID0gPElOdW1iZXJWYWx1ZVR5cGVEZXNjPjxhbnk+djtcbiAgICAgICAgcmV0dXJuIGhpc3QoZCwgdGhpcy5pbmRpY2VzLmRpbSgwKSwgZC5sZW5ndGgsIGJpbnMgPyBiaW5zIDogTWF0aC5yb3VuZChNYXRoLnNxcnQodGhpcy5sZW5ndGgpKSwgdm4ucmFuZ2UpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7IC8vY2FudCBjcmVhdGUgaGlzdCBmb3IgdW5pcXVlIG9iamVjdHMgb3Igb3RoZXIgb25lc1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGV2ZXJ5KGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiAoYXdhaXQgdGhpcy5kYXRhKCkpLmV2ZXJ5KGNhbGxiYWNrZm4sIHRoaXNBcmcpO1xuICB9XG5cbiAgYXN5bmMgc29tZShjYWxsYmFja2ZuOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuZGF0YSgpKS5zb21lKGNhbGxiYWNrZm4sIHRoaXNBcmcpO1xuICB9XG5cbiAgYXN5bmMgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpIHtcbiAgICAoYXdhaXQgdGhpcy5kYXRhKCkpLmZvckVhY2goY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gIH1cblxuICBhc3luYyByZWR1Y2U8VT4oY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IFUsIGN1cnJlbnRWYWx1ZTogVCwgY3VycmVudEluZGV4OiBudW1iZXIpID0+IFUsIGluaXRpYWxWYWx1ZTogVSwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8VT4ge1xuICAgIGZ1bmN0aW9uIGhlbHBlcigpIHtcbiAgICAgIHJldHVybiBjYWxsYmFja2ZuLmFwcGx5KHRoaXNBcmcsIEFycmF5LmZyb20oYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLmRhdGEoKSkucmVkdWNlKGhlbHBlciwgaW5pdGlhbFZhbHVlKTtcbiAgfVxuXG4gIGFzeW5jIHJlZHVjZVJpZ2h0PFU+KGNhbGxiYWNrZm46IChwcmV2aW91c1ZhbHVlOiBVLCBjdXJyZW50VmFsdWU6IFQsIGN1cnJlbnRJbmRleDogbnVtYmVyKSA9PiBVLCBpbml0aWFsVmFsdWU6IFUsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPFU+IHtcbiAgICBmdW5jdGlvbiBoZWxwZXIoKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2tmbi5hcHBseSh0aGlzQXJnLCBBcnJheS5mcm9tKGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIHJldHVybiAoYXdhaXQgdGhpcy5kYXRhKCkpLnJlZHVjZVJpZ2h0KGhlbHBlciwgaW5pdGlhbFZhbHVlKTtcbiAgfVxuXG4gIHJlZHVjZUF0b208VSwgVUQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oZjogKGRhdGE6IFRbXSwgaWRzOiBSYW5nZSwgbmFtZXM6IHN0cmluZ1tdKSA9PiBJQXRvbVZhbHVlPFU+LCB0aGlzQXJndW1lbnQ/OiBhbnksIHZhbHVldHlwZT86IFVELCBpZHR5cGU/OiBJRFR5cGUpOiBJQXRvbTxVLFVEPiB7XG4gICAgY29uc3QgcjogSVZlY3RvcjxULEQ+ID0gPElWZWN0b3I8VCxEPj4oPGFueT50aGlzKTtcbiAgICByZXR1cm4gbmV3IFByb2plY3RlZEF0b20ociwgZiwgdGhpc0FyZ3VtZW50LCB2YWx1ZXR5cGUsIGlkdHlwZSk7XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgbGV0IHI6IElWZWN0b3I8VCxEPiA9IDxJVmVjdG9yPFQsRD4+KDxhbnk+dGhpcyk7XG4gICAgaWYgKHBlcnNpc3RlZCAmJiBwZXJzaXN0ZWQuZikge1xuICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tZXZhbCAqL1xuICAgICAgcmV0dXJuIHRoaXMucmVkdWNlQXRvbShldmFsKHBlcnNpc3RlZC5mKSwgdGhpcywgcGVyc2lzdGVkLnZhbHVldHlwZSwgcGVyc2lzdGVkLmlkdHlwZSA/IHJlc29sdmVJRFR5cGUocGVyc2lzdGVkLmlkdHlwZSkgOiB1bmRlZmluZWQpO1xuICAgICAgLyogdHNsaW50OmVuYWJsZTpuby1ldmFsICovXG4gICAgfSBlbHNlIGlmIChwZXJzaXN0ZWQgJiYgcGVyc2lzdGVkLnJhbmdlKSB7IC8vc29tZSB2aWV3IG9udG8gaXRcbiAgICAgIHIgPSByLnZpZXcocGFyc2UocGVyc2lzdGVkLnJhbmdlKSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFWZWN0b3I7XG5cblxuLyoqXG4gKiB2aWV3IG9uIHRoZSB2ZWN0b3IgcmVzdHJpY3RlZCBieSBhIHJhbmdlXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclZpZXc8VCxEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgQVZlY3RvcjxULEQ+IHtcbiAgLyoqXG4gICAqIEBwYXJhbSByb290IHVuZGVybHlpbmcgbWF0cml4XG4gICAqIEBwYXJhbSByYW5nZSByYW5nZSBzZWxlY3Rpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IElWZWN0b3I8VCxEPiwgcHJpdmF0ZSByYW5nZTogUmFuZ2UpIHtcbiAgICBzdXBlcihyb290KTtcbiAgfVxuXG4gIGdldCBkZXNjKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QuZGVzYztcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb3Q6IHRoaXMucm9vdC5wZXJzaXN0KCksXG4gICAgICByYW5nZTogdGhpcy5yYW5nZS50b1N0cmluZygpXG4gICAgfTtcbiAgfVxuXG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2Uuc2l6ZSh0aGlzLnJvb3QuZGltKVswXTtcbiAgfVxuXG4gIGF0KGk6IG51bWJlcikge1xuICAgIGNvbnN0IGludmVydGVkID0gdGhpcy5yYW5nZS5pbnZlcnQoW2ldLCB0aGlzLnJvb3QuZGltKTtcbiAgICByZXR1cm4gdGhpcy5yb290LmF0KGludmVydGVkWzBdKTtcbiAgfVxuXG4gIGRhdGEocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5kYXRhKHRoaXMucmFuZ2UucHJlTXVsdGlwbHkocGFyc2UocmFuZ2UpLCB0aGlzLnJvb3QuZGltKSk7XG4gIH1cblxuICBuYW1lcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5yb290Lm5hbWVzKHRoaXMucmFuZ2UucHJlTXVsdGlwbHkocGFyc2UocmFuZ2UpLCB0aGlzLnJvb3QuZGltKSk7XG4gIH1cblxuICBpZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5pZHModGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIHZpZXcocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgY29uc3QgciA9IHBhcnNlKHJhbmdlKTtcbiAgICBpZiAoci5pc0FsbCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVmVjdG9yVmlldyh0aGlzLnJvb3QsIHRoaXMucmFuZ2UucHJlTXVsdGlwbHkociwgdGhpcy5kaW0pKTtcbiAgfVxuXG4gIGdldCB2YWx1ZXR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC52YWx1ZXR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QuaWR0eXBlO1xuICB9XG5cbiAgZ2V0IGlkdHlwZXMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmlkdHlwZV07XG4gIH1cblxuICAvKmdldCBpbmRpY2VzKCkge1xuICAgcmV0dXJuIHRoaXMucmFuZ2U7XG4gICB9Ki9cblxuICBhc3luYyBzb3J0KGNvbXBhcmVGbj86IChhOiBULCBiOiBUKSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElWZWN0b3I8VCxEPj4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICBjb25zdCBpbmRpY2VzID0gYXJnU29ydChkLCBjb21wYXJlRm4sIHRoaXNBcmcpO1xuICAgIHJldHVybiB0aGlzLnZpZXcocmxpc3QoaW5kaWNlcykpO1xuICB9XG5cbiAgYXN5bmMgZmlsdGVyKGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8SVZlY3RvcjxULEQ+PiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdGaWx0ZXIoZCwgY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZlY3Rvci9BVmVjdG9yLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuaW1wb3J0IHtWZWN0b3IyRCwgSVNoYXBlLCBJSW50ZXJzZWN0aW9uUGFyYW0sIEludGVyc2VjdGlvbiwgdmVjfSBmcm9tICcuLi8yRCc7XG5pbXBvcnQgUmVjdCBmcm9tICcuL1JlY3QnO1xuaW1wb3J0IENpcmNsZSBmcm9tICcuL0NpcmNsZSc7XG5cbmV4cG9ydCBjb25zdCBDT1JORVI6IGFueSA9IDxhbnk+W107XG5DT1JORVIuTiA9IENPUk5FUlswXSA9ICduJztcbkNPUk5FUi5ORSA9IENPUk5FUlsxXSA9ICduZSc7XG5DT1JORVIuRSA9IENPUk5FUlsyXSA9ICdlJztcbkNPUk5FUi5TRSA9IENPUk5FUlszXSA9ICdzZSc7XG5DT1JORVIuUyA9IENPUk5FUls0XSA9ICdzJztcbkNPUk5FUi5TVyA9IENPUk5FUls1XSA9ICdzdyc7XG5DT1JORVIuVyA9IENPUk5FUls2XSA9ICd3JztcbkNPUk5FUi5OVyA9IENPUk5FUls3XSA9ICdudyc7XG5cbi8qKlxuICogYSBzaW1wbGUgYmFzaWMgc2hhcGVcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFTaGFwZSBpbXBsZW1lbnRzIElTaGFwZSB7XG4gIC8qKlxuICAgKiBzaGlmdCB0aGUgc2hhcGUgYnkgdGhlIGdpdmVuIGFtb3VudFxuICAgKiBAcGFyYW0geFxuICAgKiBAcGFyYW0geVxuICAgKi9cbiAgc2hpZnQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBBU2hhcGU7XG4gIHNoaWZ0KHh5OiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9KTogQVNoYXBlO1xuICBzaGlmdCh4eTogW251bWJlciwgbnVtYmVyXSk6IEFTaGFwZTtcbiAgc2hpZnQoKSB7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnNoaWZ0SW1wbChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgIHRoaXMuc2hpZnRJbXBsKGFyZ3VtZW50c1swXVswXSwgYXJndW1lbnRzWzBdWzFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaGlmdEltcGwoYXJndW1lbnRzWzBdLngsIGFyZ3VtZW50c1swXS55KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogY2VudGVyIG9mIHRoaXMgc2hhcGVcbiAgICogQHJldHVybnMge0NpcmNsZX1cbiAgICovXG4gIGdldCBjZW50ZXIoKTogVmVjdG9yMkQge1xuICAgIHJldHVybiB0aGlzLmJzKCkueHk7XG4gIH1cblxuICAvKipcbiAgICogYXhpcyBhbGlnbmVkIGJvdW5kaW5nIGJveCAocm8pXG4gICAqL1xuICBhYnN0cmFjdCBhYWJiKCk6IFJlY3Q7XG5cbiAgLyoqXG4gICAqIGEgc3BlY2lmaWMgY29ybmVyIG9mIHRoIGF4aXMgYWxpZ25lZCBib3VuZGluZyBib3hcbiAgICogQHBhcmFtIGNvcm5lclxuICAgKiBAcmV0dXJucyB7VmVjdG9yMkR9XG4gICAqL1xuICBjb3JuZXIoY29ybmVyOiBzdHJpbmcpOiBWZWN0b3IyRCB7XG4gICAgY29uc3QgciA9IHRoaXMuYWFiYigpO1xuICAgIHN3aXRjaCAoY29ybmVyKSB7XG4gICAgICBjYXNlIENPUk5FUi5OOlxuICAgICAgICByZXR1cm4gdmVjKHIuY3gsIHIueSk7XG4gICAgICBjYXNlIENPUk5FUi5TOlxuICAgICAgICByZXR1cm4gdmVjKHIuY3gsIHIueTIpO1xuICAgICAgY2FzZSBDT1JORVIuVzpcbiAgICAgICAgcmV0dXJuIHZlYyhyLngsIHIuY3kpO1xuICAgICAgY2FzZSBDT1JORVIuRTpcbiAgICAgICAgcmV0dXJuIHZlYyhyLngyLCByLmN5KTtcbiAgICAgIGNhc2UgQ09STkVSLk5FOlxuICAgICAgICByZXR1cm4gdmVjKHIueDIsIHIueSk7XG4gICAgICBjYXNlIENPUk5FUi5OVzpcbiAgICAgICAgcmV0dXJuIHIueHk7XG4gICAgICBjYXNlIENPUk5FUi5TRTpcbiAgICAgICAgcmV0dXJuIHZlYyhyLngyLCByLnkyKTtcbiAgICAgIGNhc2UgQ09STkVSLlNXOlxuICAgICAgICByZXR1cm4gdmVjKHIueCwgci55Mik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBib3VuZGluZyBzcGhlcmUgKHJvKVxuICAgKi9cbiAgYWJzdHJhY3QgYnMoKTogQ2lyY2xlO1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBzaGlmdEltcGwoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkO1xuXG4gIGFic3RyYWN0IGFzSW50ZXJzZWN0aW9uUGFyYW1zKCk6IElJbnRlcnNlY3Rpb25QYXJhbTtcblxuICBpbnRlcnNlY3RzKG90aGVyOiBBU2hhcGUpIHtcbiAgICByZXR1cm4gSW50ZXJzZWN0aW9uLmludGVyc2VjdFNoYXBlcyh0aGlzLCBvdGhlcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVNoYXBlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dlb20vQVNoYXBlLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge0lQZXJzaXN0YWJsZX0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtJRXZlbnRIYW5kbGVyfSBmcm9tICcuLi9ldmVudCc7XG5pbXBvcnQge3BhcnNlLCBSYW5nZSwgUmFuZ2UxRCwgUmFuZ2VMaWtlfSBmcm9tICcuLi9yYW5nZSc7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2VsZWN0aW9uVHlwZSA9ICdzZWxlY3RlZCc7XG5leHBvcnQgY29uc3QgaG92ZXJTZWxlY3Rpb25UeXBlID0gJ2hvdmVyZWQnO1xuXG5leHBvcnQgZW51bSBTZWxlY3RPcGVyYXRpb24ge1xuICBTRVQsIEFERCwgUkVNT1ZFXG59XG5cbi8qKlxuICogY29udmVydHMgdGhlIGdpdmVuIG1vdXNlIGV2ZW50IHRvIGEgc2VsZWN0IG9wZXJhdGlvblxuICogQHBhcmFtIGV2ZW50IHRoZSBtb3VzZSBldmVudCB0byBleGFtaW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1NlbGVjdE9wZXJhdGlvbihldmVudDogTW91c2VFdmVudCk6IFNlbGVjdE9wZXJhdGlvbjtcbi8qKlxuICogY29udmVydHMgdGhlIGdpdmVuIGtleSBtb2RpZmllcnMgdG8gc2VsZWN0IG9wZXJhdGlvblxuICogQHBhcmFtIGN0cnlLZXlcbiAqIEBwYXJhbSBhbHRLZXlcbiAqIEBwYXJhbSBzaGlmdEtleVxuICogQHBhcmFtIG1ldGFLZXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2VsZWN0T3BlcmF0aW9uKGN0cnlLZXk6IGJvb2xlYW4sIGFsdEtleTogYm9vbGVhbiwgc2hpZnRLZXk6IGJvb2xlYW4sIG1ldGFLZXk6IGJvb2xlYW4pOiBTZWxlY3RPcGVyYXRpb247XG5leHBvcnQgZnVuY3Rpb24gdG9TZWxlY3RPcGVyYXRpb24oZXZlbnQ6IGFueSkge1xuICBsZXQgY3RyeUtleURvd24sIHNoaWZ0RG93biwgYWx0RG93biwgbWV0YURvd247XG4gIGlmICh0eXBlb2YgZXZlbnQgPT09ICdib29sZWFuJykge1xuICAgIGN0cnlLZXlEb3duID0gZXZlbnQ7XG4gICAgYWx0RG93biA9IGFyZ3VtZW50c1sxXSB8fCBmYWxzZTtcbiAgICBzaGlmdERvd24gPSBhcmd1bWVudHNbMl0gfHwgZmFsc2U7XG4gICAgbWV0YURvd24gPSBhcmd1bWVudHNbM10gfHwgZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgY3RyeUtleURvd24gPSBldmVudC5jdHJsS2V5IHx8IGZhbHNlO1xuICAgIGFsdERvd24gPSBldmVudC5hbHRLZXkgfHwgZmFsc2U7XG4gICAgc2hpZnREb3duID0gZXZlbnQuc2hpZnRLZXkgfHwgZmFsc2U7XG4gICAgbWV0YURvd24gPSBldmVudC5tZXRhS2V5IHx8IGZhbHNlO1xuICB9XG4gIGlmIChjdHJ5S2V5RG93biB8fCBzaGlmdERvd24pIHtcbiAgICByZXR1cm4gU2VsZWN0T3BlcmF0aW9uLkFERDtcbiAgfSBlbHNlIGlmIChhbHREb3duIHx8IG1ldGFEb3duKSB7XG4gICAgcmV0dXJuIFNlbGVjdE9wZXJhdGlvbi5SRU1PVkU7XG4gIH1cbiAgcmV0dXJuIFNlbGVjdE9wZXJhdGlvbi5TRVQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUlEVHlwZSBleHRlbmRzIElFdmVudEhhbmRsZXIsIElQZXJzaXN0YWJsZSB7XG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgbmFtZXM6IHN0cmluZztcbiAgcmVhZG9ubHkgaW50ZXJuYWw6IGJvb2xlYW47XG4gIHRvU3RyaW5nKCk6IHN0cmluZztcblxuICBzZWxlY3Rpb25UeXBlcygpOiBzdHJpbmdbXTtcblxuICBjbGVhcigpOiB2b2lkO1xuICBjbGVhcih0eXBlOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBhc1NlbGVjdE9wZXJhdGlvbih2OiBhbnkpIHtcbiAgaWYgKCF2KSB7XG4gICAgcmV0dXJuIFNlbGVjdE9wZXJhdGlvbi5TRVQ7XG4gIH1cbiAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgIHN3aXRjaCAodi50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlICdhZGQnIDpcbiAgICAgICAgcmV0dXJuIFNlbGVjdE9wZXJhdGlvbi5BREQ7XG4gICAgICBjYXNlICdyZW1vdmUnIDpcbiAgICAgICAgcmV0dXJuIFNlbGVjdE9wZXJhdGlvbi5SRU1PVkU7XG4gICAgICBkZWZhdWx0IDpcbiAgICAgICAgcmV0dXJuIFNlbGVjdE9wZXJhdGlvbi5TRVQ7XG4gICAgfVxuICB9XG4gIHJldHVybiArdjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxXaXRoTm9uZShyOiBSYW5nZSwgbmRpbTogbnVtYmVyKSB7XG4gIHdoaWxlIChyLm5kaW0gPCBuZGltKSB7XG4gICAgci5kaW1zW3IubmRpbV0gPSBSYW5nZTFELm5vbmUoKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVncmF0ZVNlbGVjdGlvbihjdXJyZW50OiBSYW5nZSwgYWRkaXRpb25hbDogUmFuZ2VMaWtlLCBvcGVyYXRpb246IFNlbGVjdE9wZXJhdGlvbiA9IFNlbGVjdE9wZXJhdGlvbi5TRVQpIHtcbiAgY29uc3QgbmV4dCA9IHBhcnNlKGFkZGl0aW9uYWwpO1xuICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuICAgIGNhc2UgU2VsZWN0T3BlcmF0aW9uLkFERDpcbiAgICAgIHJldHVybiBjdXJyZW50LnVuaW9uKG5leHQpO1xuICAgIGNhc2UgU2VsZWN0T3BlcmF0aW9uLlJFTU9WRTpcbiAgICAgIHJldHVybiBjdXJyZW50LndpdGhvdXQobmV4dCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBuZXh0O1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaWR0eXBlL0lJRFR5cGUudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyNy4xMi4yMDE2LlxuICovXG5cbmltcG9ydCB7SUludGVyc2VjdGlvblBhcmFtLCBWZWN0b3IyRH0gZnJvbSAnLi4vMkQnO1xuaW1wb3J0IEFTaGFwZSBmcm9tICcuL0FTaGFwZSc7XG5pbXBvcnQgUmVjdCBmcm9tICcuL1JlY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaXJjbGUgZXh0ZW5kcyBBU2hhcGUge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgeCA9IDAsIHB1YmxpYyB5ID0gMCwgcHVibGljIHJhZGl1cyA9IDApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgZ2V0IHh5KCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54LCB0aGlzLnkpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBDaXJjbGUoeD0ke3RoaXMueH0seT0ke3RoaXMueX0scmFkaXVzPSR7dGhpcy5yYWRpdXN9KWA7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2hpZnRJbXBsKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy54ICs9IHg7XG4gICAgdGhpcy55ICs9IHk7XG4gIH1cblxuICBhYWJiKCk6IFJlY3Qge1xuICAgIHJldHVybiBuZXcgUmVjdCh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgfVxuXG4gIGJzKCk6IENpcmNsZSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB0cmFuc2Zvcm0oc2NhbGU6IG51bWJlcltdLCByb3RhdGU6IG51bWJlcikge1xuICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCAqIHNjYWxlWzBdLCB0aGlzLnkgKiBzY2FsZVsxXSwgdGhpcy5yYWRpdXMgKiAoc2NhbGVbMF0gKyBzY2FsZVsxXSkgLyAyKTtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCk6IElJbnRlcnNlY3Rpb25QYXJhbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICdDaXJjbGUnLFxuICAgICAgcGFyYW1zOiBbdGhpcy54eSwgdGhpcy5yYWRpdXNdXG4gICAgfTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dlb20vQ2lyY2xlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge0lJbnRlcnNlY3Rpb25QYXJhbSwgVmVjdG9yMkR9IGZyb20gJy4uLzJEJztcbmltcG9ydCBBU2hhcGUgZnJvbSAnLi9BU2hhcGUnO1xuaW1wb3J0IENpcmNsZSBmcm9tICcuL0NpcmNsZSc7XG5cbi8qKlxuICogYSBzaW1wbGUgYm91bmRpbmcgcmVjdFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN0IGV4dGVuZHMgQVNoYXBlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHggPSAwLCBwdWJsaWMgeSA9IDAsIHB1YmxpYyB3ID0gMCwgcHVibGljIGggPSAwKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIGVxKHRoYXQ6IFJlY3QpIHtcbiAgICByZXR1cm4gdGhpcy54ID09PSB0aGF0LnggJiYgdGhpcy55ID09PSB0aGF0LnkgJiYgdGhpcy53ID09PSB0aGF0LncgJiYgdGhpcy5oID09PSB0aGF0Lmg7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFJlY3QoeD0ke3RoaXMueH0seT0ke3RoaXMueX0sdz0ke3RoaXMud30saD0ke3RoaXMuaH0pYDtcbiAgfVxuXG4gIGdldCB4eSgpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCwgdGhpcy55KTtcbiAgfVxuXG4gIGdldCB4MnkyKCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54MiwgdGhpcy55Mik7XG4gIH1cblxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMudywgdGhpcy5oKTtcbiAgfVxuXG4gIGdldCBjeCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnggKyB0aGlzLncgLyAyO1xuICB9XG5cbiAgZ2V0IGN5KCkge1xuICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmggLyAyO1xuICB9XG5cbiAgc2V0IGN4KHZhbDogbnVtYmVyKSB7XG4gICAgdGhpcy54ID0gdmFsIC0gdGhpcy53IC8gMjtcbiAgfVxuXG4gIHNldCBjeSh2YWw6IG51bWJlcikge1xuICAgIHRoaXMueSA9IHZhbCAtIHRoaXMueSAvIDI7XG4gIH1cblxuICBnZXQgeDIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53O1xuICB9XG5cbiAgZ2V0IHkyKCkge1xuICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmg7XG4gIH1cblxuICBzZXQgeDIodmFsOiBudW1iZXIpIHtcbiAgICB0aGlzLncgPSB2YWwgLSB0aGlzLng7XG4gIH1cblxuICBzZXQgeTIodmFsOiBudW1iZXIpIHtcbiAgICB0aGlzLmggPSB2YWwgLSB0aGlzLnk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2hpZnRJbXBsKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy54ICs9IHg7XG4gICAgdGhpcy55ICs9IHk7XG4gIH1cblxuICBhYWJiKCk6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYnMoKTogQ2lyY2xlIHtcbiAgICByZXR1cm4gbmV3IENpcmNsZSh0aGlzLmN4LCB0aGlzLmN5LCBNYXRoLnNxcnQodGhpcy53ICogMiArIHRoaXMuaCAqIDIpIC8gMik7XG4gIH1cblxuICB0cmFuc2Zvcm0oc2NhbGU6IG51bWJlcltdLCByb3RhdGU6IG51bWJlcikge1xuICAgIC8vVE9ETyByb3RhdGVcbiAgICByZXR1cm4gbmV3IFJlY3QodGhpcy54ICogc2NhbGVbMF0sIHRoaXMueSAqIHNjYWxlWzFdLCB0aGlzLncgKiBzY2FsZVswXSwgdGhpcy5oICogc2NhbGVbMV0pO1xuICB9XG5cbiAgYXNJbnRlcnNlY3Rpb25QYXJhbXMoKTogSUludGVyc2VjdGlvblBhcmFtIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogJ1JlY3RhbmdsZScsXG4gICAgICBwYXJhbXM6IFt0aGlzLnh5LCB0aGlzLngyeTJdXG4gICAgfTtcbiAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2VvbS9SZWN0LnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5cbmltcG9ydCB7Z2V0QVBJSlNPTiwgc2VuZEFQSX0gZnJvbSAnLi4vYWpheCc7XG5pbXBvcnQge0V2ZW50SGFuZGxlcn0gZnJvbSAnLi4vZXZlbnQnO1xuaW1wb3J0IHtub25lLCBSYW5nZSwgUmFuZ2VMaWtlLCBwYXJzZSwgbGlzdCBhcyBybGlzdH0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtJSURUeXBlLCBkZWZhdWx0U2VsZWN0aW9uVHlwZSwgU2VsZWN0T3BlcmF0aW9uLCBhc1NlbGVjdE9wZXJhdGlvbn0gZnJvbSAnLi9JSURUeXBlJztcbmltcG9ydCB7SURUeXBlTGlrZSwgcmVzb2x2ZX0gZnJvbSAnLi9tYW5hZ2VyJztcbmltcG9ydCB7cmVzb2x2ZUltbWVkaWF0ZWx5fSBmcm9tICcuLi9pbnRlcm5hbC9wcm9taXNlJztcbi8qKlxuICogQW4gSURUeXBlIGlzIGEgc2VtYW50aWMgYWdncmVnYXRpb24gb2YgYW4gZW50aXR5IHR5cGUsIGxpa2UgUGF0aWVudCBhbmQgR2VuZS5cbiAqXG4gKiBBbiBlbnRpdHkgaXMgdHJhY2tlZCBieSBhIHVuaXF1ZSBpZGVudGlmaWVyIChpbnRlZ2VyKSB3aXRoaW4gdGhlIHN5c3RlbSxcbiAqIHdoaWNoIGlzIG1hcHBlZCB0byBhIGNvbW1vbiwgZXh0ZXJuYWwgaWRlbnRpZmllciBvciBuYW1lIChzdHJpbmcpIGFzIHdlbGwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElEVHlwZSBleHRlbmRzIEV2ZW50SGFuZGxlciBpbXBsZW1lbnRzIElJRFR5cGUge1xuICBzdGF0aWMgcmVhZG9ubHkgRVZFTlRfU0VMRUNUID0gJ3NlbGVjdCc7XG4gIC8qKlxuICAgKiB0aGUgY3VycmVudCBzZWxlY3Rpb25zXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHNlbCA9IG5ldyBNYXA8c3RyaW5nLCBSYW5nZT4oKTtcblxuICAvLyBUT0RPOiBpcyB0aGlzIGNhY2hlIGV2ZXIgZW1wdGllZCwgb3IgZG8gd2UgYXNzdW1lIGEgcmVhc29uYWJsZSB1cHBlciBib3VuZCBvbiB0aGUgZW50aXRpZXMgaW4gSURUeXBlP1xuICBwcml2YXRlIHJlYWRvbmx5IG5hbWUyaWRDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWQybmFtZUNhY2hlID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oKTtcblxuICBwcml2YXRlIGNhbkJlTWFwcGVkVG86IFByb21pc2U8SURUeXBlW10+ID0gbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIGlkIHRoZSBzeXN0ZW0gaWRlbnRpZmllciBvZiB0aGlzIElEVHlwZVxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGlzIElEVHlwZSBmb3IgZXh0ZXJuYWwgcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSBuYW1lcyB0aGUgcGx1cmFsIGZvcm0gb2YgYWJvdmUgbmFtZVxuICAgKiBAcGFyYW0gaW50ZXJuYWwgd2hldGhlciB0aGlzIGlzIGFuIGludGVybmFsIHR5cGUgb3Igbm90XG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgaWQ6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG5hbWVzOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBpbnRlcm5hbCA9IGZhbHNlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgY29uc3QgczogYW55ID0ge307XG4gICAgdGhpcy5zZWwuZm9yRWFjaCgodiwgaykgPT4gc1trXSA9IHYudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbDogcyxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIG5hbWVzOiB0aGlzLm5hbWVzXG4gICAgfTtcbiAgfVxuXG4gIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpIHtcbiAgICAoPGFueT50aGlzKS5uYW1lID0gcGVyc2lzdGVkLm5hbWU7XG4gICAgKDxhbnk+dGhpcykubmFtZXMgPSBwZXJzaXN0ZWQubmFtZXM7XG4gICAgT2JqZWN0LmtleXMocGVyc2lzdGVkLnNlbCkuZm9yRWFjaCgodHlwZSkgPT4gdGhpcy5zZWwuc2V0KHR5cGUsIHBlcnNpc3RlZC5zZWxbdHlwZV0pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICBzZWxlY3Rpb25UeXBlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNlbC5rZXlzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgY3VycmVudCBzZWxlY3Rpb25zIG9mIHRoZSBnaXZlbiB0eXBlXG4gICAqIEBwYXJhbSB0eXBlIG9wdGlvbmFsIHRoZSBzZWxlY3Rpb24gdHlwZVxuICAgKiBAcmV0dXJucyB7UmFuZ2V9XG4gICAqL1xuICBzZWxlY3Rpb25zKHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSkge1xuICAgIGlmICh0aGlzLnNlbC5oYXModHlwZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbC5nZXQodHlwZSk7XG4gICAgfVxuICAgIGNvbnN0IHYgPSBub25lKCk7XG4gICAgdGhpcy5zZWwuc2V0KHR5cGUsIHYpO1xuICAgIHJldHVybiB2O1xuICB9XG5cbiAgLyoqXG4gICAqIHNlbGVjdCB0aGUgZ2l2ZW4gcmFuZ2UgYXNcbiAgICogQHBhcmFtIHJhbmdlXG4gICAqL1xuICBzZWxlY3QocmFuZ2U6IFJhbmdlTGlrZSk6IFJhbmdlO1xuICBzZWxlY3QocmFuZ2U6IFJhbmdlTGlrZSwgb3A6IFNlbGVjdE9wZXJhdGlvbik6IFJhbmdlO1xuICBzZWxlY3QodHlwZTogc3RyaW5nLCByYW5nZTogUmFuZ2VMaWtlKTogUmFuZ2U7XG4gIHNlbGVjdCh0eXBlOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2UsIG9wOiBTZWxlY3RPcGVyYXRpb24pOiBSYW5nZTtcbiAgc2VsZWN0KCkge1xuICAgIGNvbnN0IGEgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgY29uc3QgdHlwZSA9ICh0eXBlb2YgYVswXSA9PT0gJ3N0cmluZycpID8gYS5zaGlmdCgpIDogZGVmYXVsdFNlbGVjdGlvblR5cGUsXG4gICAgICByYW5nZSA9IHBhcnNlKGFbMF0pLFxuICAgICAgb3AgPSBhc1NlbGVjdE9wZXJhdGlvbihhWzFdKTtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RJbXBsKHJhbmdlLCBvcCwgdHlwZSk7XG4gIH1cblxuICBwcml2YXRlIHNlbGVjdEltcGwocmFuZ2U6IFJhbmdlLCBvcCA9IFNlbGVjdE9wZXJhdGlvbi5TRVQsIHR5cGU6IHN0cmluZyA9IGRlZmF1bHRTZWxlY3Rpb25UeXBlKSB7XG4gICAgY29uc3QgYiA9IHRoaXMuc2VsZWN0aW9ucyh0eXBlKTtcbiAgICBsZXQgbmV3VmFsdWU6IFJhbmdlID0gbm9uZSgpO1xuICAgIHN3aXRjaCAob3ApIHtcbiAgICAgIGNhc2UgU2VsZWN0T3BlcmF0aW9uLlNFVDpcbiAgICAgICAgbmV3VmFsdWUgPSByYW5nZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNlbGVjdE9wZXJhdGlvbi5BREQ6XG4gICAgICAgIG5ld1ZhbHVlID0gYi51bmlvbihyYW5nZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTZWxlY3RPcGVyYXRpb24uUkVNT1ZFOlxuICAgICAgICBuZXdWYWx1ZSA9IGIud2l0aG91dChyYW5nZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYi5lcShuZXdWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICB0aGlzLnNlbC5zZXQodHlwZSwgbmV3VmFsdWUpO1xuICAgIGNvbnN0IGFkZGVkID0gb3AgIT09IFNlbGVjdE9wZXJhdGlvbi5SRU1PVkUgPyByYW5nZSA6IG5vbmUoKTtcbiAgICBjb25zdCByZW1vdmVkID0gKG9wID09PSBTZWxlY3RPcGVyYXRpb24uQUREID8gbm9uZSgpIDogKG9wID09PSBTZWxlY3RPcGVyYXRpb24uU0VUID8gYiA6IHJhbmdlKSk7XG4gICAgdGhpcy5maXJlKElEVHlwZS5FVkVOVF9TRUxFQ1QsIHR5cGUsIG5ld1ZhbHVlLCBhZGRlZCwgcmVtb3ZlZCwgYik7XG4gICAgdGhpcy5maXJlKGAke0lEVHlwZS5FVkVOVF9TRUxFQ1R9LSR7dHlwZX1gLCBuZXdWYWx1ZSwgYWRkZWQsIHJlbW92ZWQsIGIpO1xuICAgIHJldHVybiBiO1xuICB9XG5cbiAgY2xlYXIodHlwZSA9IGRlZmF1bHRTZWxlY3Rpb25UeXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0SW1wbChub25lKCksIFNlbGVjdE9wZXJhdGlvbi5TRVQsIHR5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIGlkZW50aWZpZXIgPC0+IG5hbWUgbWFwcGluZyBpbiBidWxrLlxuICAgKiBAcGFyYW0gaWRzIHRoZSBlbnRpdHkgaWRlbnRpZmllcnMgdG8gY2FjaGVcbiAgICogQHBhcmFtIG5hbWVzIHRoZSBtYXRjaGluZyBlbnRpdHkgbmFtZXMgdG8gY2FjaGVcbiAgICovXG4gIGZpbGxNYXBDYWNoZShpZHM6IG51bWJlcltdLCBuYW1lczogc3RyaW5nW10pIHtcbiAgICBpZHMuZm9yRWFjaCgoaWQsIGkpID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBTdHJpbmcobmFtZXNbaV0pO1xuICAgICAgdGhpcy5uYW1lMmlkQ2FjaGUuc2V0KG5hbWUsIGlkKTtcbiAgICAgIHRoaXMuaWQybmFtZUNhY2hlLnNldChpZCwgbmFtZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyB0aGUgbGlzdCBvZiBpZHR5cGVzIHRoYXQgdGhpcyB0eXBlIGNhbiBiZSBtYXBwZWQgdG9cbiAgICogQHJldHVybnMge1Byb21pc2U8SURUeXBlW10+fVxuICAgKi9cbiAgZ2V0Q2FuQmVNYXBwZWRUbygpIHtcbiAgICBpZiAodGhpcy5jYW5CZU1hcHBlZFRvID09PSBudWxsKSB7XG4gICAgICB0aGlzLmNhbkJlTWFwcGVkVG8gPSBnZXRBUElKU09OKGAvaWR0eXBlLyR7dGhpcy5pZH0vYCkudGhlbigobGlzdCkgPT4gbGlzdC5tYXAocmVzb2x2ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYW5CZU1hcHBlZFRvO1xuICB9XG5cbiAgbWFwVG9GaXJzdE5hbWUoaWRzOiBSYW5nZUxpa2UsIHRvSURUeXBlOiBJRFR5cGVMaWtlKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IHJlc29sdmUodG9JRFR5cGUpO1xuICAgIGNvbnN0IHIgPSBwYXJzZShpZHMpO1xuICAgIHJldHVybiBjaG9vc2VSZXF1ZXN0TWV0aG9kKGAvaWR0eXBlLyR7dGhpcy5pZH0vJHt0YXJnZXQuaWR9YCwge2lkczogci50b1N0cmluZygpLCBtb2RlOiAnZmlyc3QnfSk7XG4gIH1cblxuICBtYXBOYW1lVG9GaXJzdE5hbWUobmFtZXM6IHN0cmluZ1tdLCB0b0lEdHlwZTogSURUeXBlTGlrZSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICBjb25zdCB0YXJnZXQgPSByZXNvbHZlKHRvSUR0eXBlKTtcbiAgICByZXR1cm4gY2hvb3NlUmVxdWVzdE1ldGhvZChgL2lkdHlwZS8ke3RoaXMuaWR9LyR7dGFyZ2V0LmlkfWAsIHtxOiBuYW1lcywgbW9kZTogJ2ZpcnN0J30pO1xuICB9XG5cbiAgbWFwVG9OYW1lKGlkczogUmFuZ2VMaWtlLCB0b0lEVHlwZTogc3RyaW5nfElEVHlwZSk6IFByb21pc2U8c3RyaW5nW11bXT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IHJlc29sdmUodG9JRFR5cGUpO1xuICAgIGNvbnN0IHIgPSBwYXJzZShpZHMpO1xuICAgIHJldHVybiBjaG9vc2VSZXF1ZXN0TWV0aG9kKGAvaWR0eXBlLyR7dGhpcy5pZH0vJHt0YXJnZXQuaWR9YCwge2lkczogci50b1N0cmluZygpfSk7XG4gIH1cblxuICBtYXBOYW1lVG9OYW1lKG5hbWVzOiBzdHJpbmdbXSwgdG9JRHR5cGU6IElEVHlwZUxpa2UpOiBQcm9taXNlPHN0cmluZ1tdW10+IHtcbiAgICBjb25zdCB0YXJnZXQgPSByZXNvbHZlKHRvSUR0eXBlKTtcbiAgICByZXR1cm4gY2hvb3NlUmVxdWVzdE1ldGhvZChgL2lkdHlwZS8ke3RoaXMuaWR9LyR7dGFyZ2V0LmlkfWAsIHtxOiBuYW1lc30pO1xuICB9XG5cbiAgbWFwVG9GaXJzdElEKGlkczogUmFuZ2VMaWtlLCB0b0lEVHlwZTogSURUeXBlTGlrZSk6IFByb21pc2U8bnVtYmVyW10+IHtcbiAgICBjb25zdCB0YXJnZXQgPSByZXNvbHZlKHRvSURUeXBlKTtcbiAgICBjb25zdCByID0gcGFyc2UoaWRzKTtcbiAgICByZXR1cm4gY2hvb3NlUmVxdWVzdE1ldGhvZChgL2lkdHlwZS8ke3RoaXMuaWR9LyR7dGFyZ2V0LmlkfS9tYXBgLCB7aWRzOiByLnRvU3RyaW5nKCksIG1vZGU6ICdmaXJzdCd9KTtcbiAgfVxuXG4gIG1hcFRvSUQoaWRzOiBSYW5nZUxpa2UsIHRvSURUeXBlOiBJRFR5cGVMaWtlKTogUHJvbWlzZTxudW1iZXJbXVtdPiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gcmVzb2x2ZSh0b0lEVHlwZSk7XG4gICAgY29uc3QgciA9IHBhcnNlKGlkcyk7XG4gICAgcmV0dXJuIGNob29zZVJlcXVlc3RNZXRob2QoYC9pZHR5cGUvJHt0aGlzLmlkfS8ke3RhcmdldC5pZH0vbWFwYCwge2lkczogci50b1N0cmluZygpfSk7XG4gIH1cblxuICBtYXBOYW1lVG9GaXJzdElEKG5hbWVzOiBzdHJpbmdbXSwgdG9JRFR5cGU6IElEVHlwZUxpa2UpOiBQcm9taXNlPG51bWJlcltdPiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gcmVzb2x2ZSh0b0lEVHlwZSk7XG4gICAgcmV0dXJuIGNob29zZVJlcXVlc3RNZXRob2QoYC9pZHR5cGUvJHt0aGlzLmlkfS8ke3RhcmdldC5pZH0vbWFwYCwge3E6IG5hbWVzLCBtb2RlOiAnZmlyc3QnfSk7XG4gIH1cblxuICBtYXBOYW1lVG9JRChuYW1lczogc3RyaW5nW10sIHRvSURUeXBlOiBJRFR5cGVMaWtlKTogUHJvbWlzZTxudW1iZXJbXVtdPiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gcmVzb2x2ZSh0b0lEVHlwZSk7XG4gICAgcmV0dXJuIGNob29zZVJlcXVlc3RNZXRob2QoYC9pZHR5cGUvJHt0aGlzLmlkfS8ke3RhcmdldC5pZH0vbWFwYCwge3E6IG5hbWVzfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCB0aGUgc3lzdGVtIGlkZW50aWZpZXJzIGZvciB0aGUgZ2l2ZW4gZW50aXR5IG5hbWVzLlxuICAgKiBAcGFyYW0gbmFtZXMgdGhlIGVudGl0eSBuYW1lcyB0byByZXNvbHZlXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSBvZiBzeXN0ZW0gaWRlbnRpZmllcnMgdGhhdCBtYXRjaCB0aGUgaW5wdXQgbmFtZXNcbiAgICovXG4gIGFzeW5jIG1hcChuYW1lczogc3RyaW5nW10pOiBQcm9taXNlPG51bWJlcltdPiB7XG4gICAgbmFtZXMgPSBuYW1lcy5tYXAoKHMpID0+IFN0cmluZyhzKSk7IC8vIGVuc3VyZSBzdHJpbmdzXG4gICAgY29uc3QgdG9SZXNvbHZlID0gbmFtZXMuZmlsdGVyKChuYW1lKSA9PiAhdGhpcy5uYW1lMmlkQ2FjaGUuaGFzKG5hbWUpKTtcbiAgICBpZiAodG9SZXNvbHZlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVJbW1lZGlhdGVseShuYW1lcy5tYXAoKG5hbWUpID0+IHRoaXMubmFtZTJpZENhY2hlLmdldChuYW1lKSkpO1xuICAgIH1cbiAgICBjb25zdCBpZHM6IG51bWJlcltdID0gYXdhaXQgY2hvb3NlUmVxdWVzdE1ldGhvZChgL2lkdHlwZS8ke3RoaXMuaWR9L21hcGAsIHtpZHM6IHRvUmVzb2x2ZX0pO1xuICAgIHRvUmVzb2x2ZS5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgICB0aGlzLm5hbWUyaWRDYWNoZS5zZXQobmFtZSwgaWRzW2ldKTtcbiAgICAgIHRoaXMuaWQybmFtZUNhY2hlLnNldChpZHNbaV0sIG5hbWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBuYW1lcy5tYXAoKG5hbWUpID0+IHRoaXMubmFtZTJpZENhY2hlLmdldChuYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCB0aGUgbmFtZXMgZm9yIHRoZSBnaXZlbiBlbnRpdHkgc3lzdGVtIGlkZW50aWZpZXJzLlxuICAgKiBAcGFyYW0gaWRzIHRoZSBlbnRpdHkgbmFtZXMgdG8gcmVzb2x2ZVxuICAgKiBAcmV0dXJucyBhIHByb21pc2Ugb2Ygc3lzdGVtIGlkZW50aWZpZXJzIHRoYXQgbWF0Y2ggdGhlIGlucHV0IG5hbWVzXG4gICAqL1xuICBhc3luYyB1bm1hcChpZHM6IFJhbmdlTGlrZSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICBjb25zdCByID0gcGFyc2UoaWRzKTtcbiAgICBjb25zdCB0b1Jlc29sdmU6IG51bWJlcltdID0gW107XG4gICAgci5kaW0oMCkuZm9yRWFjaCgobmFtZSkgPT4gISh0aGlzLmlkMm5hbWVDYWNoZS5oYXMobmFtZSkpID8gdG9SZXNvbHZlLnB1c2gobmFtZSkgOiBudWxsKTtcbiAgICBpZiAodG9SZXNvbHZlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgci5kaW0oMCkuZm9yRWFjaCgobmFtZSkgPT4gcmVzdWx0LnB1c2godGhpcy5pZDJuYW1lQ2FjaGUuZ2V0KG5hbWUpKSk7XG4gICAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KHJlc3VsdCk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBhd2FpdCBjaG9vc2VSZXF1ZXN0TWV0aG9kKGAvaWR0eXBlLyR7dGhpcy5pZH0vdW5tYXBgLCB7aWRzOiBybGlzdCh0b1Jlc29sdmUpLnRvU3RyaW5nKCl9KTtcbiAgICB0b1Jlc29sdmUuZm9yRWFjaCgoaWQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHIgPSBTdHJpbmcocmVzdWx0W2ldKTtcbiAgICAgIHRoaXMuaWQybmFtZUNhY2hlLnNldChpZCwgcik7XG4gICAgICB0aGlzLm5hbWUyaWRDYWNoZS5zZXQociwgaWQpO1xuICAgIH0pO1xuICAgIGNvbnN0IG91dDogc3RyaW5nW10gPSBbXTtcbiAgICByLmRpbSgwKS5mb3JFYWNoKChuYW1lKSA9PiBvdXQucHVzaCh0aGlzLmlkMm5hbWVDYWNoZS5nZXQobmFtZSkpKTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIHNlYXJjaCBmb3IgYWxsIG1hdGNoaW5nIGlkcyBmb3IgYSBnaXZlbiBwYXR0ZXJuXG4gICAqIEBwYXJhbSBwYXR0ZXJuXG4gICAqIEBwYXJhbSBsaW1pdCBtYXhpbWFsIG51bWJlciBvZiByZXN1bHRzXG4gICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyBzZWFyY2gocGF0dGVybjogc3RyaW5nLCBsaW1pdCA9IDEwKTogUHJvbWlzZTxJRFBhaXJbXT4ge1xuICAgY29uc3QgcmVzdWx0OiBJRFBhaXJbXSA9IGF3YWl0IGdldEFQSUpTT04oYC9pZHR5cGUvJHt0aGlzLmlkfS9zZWFyY2hgLCB7cTogcGF0dGVybiwgbGltaXR9KTtcbiAgICAvLyBjYWNoZSByZXN1bHRzXG4gICAgcmVzdWx0LmZvckVhY2goKHBhaXIpID0+IHtcbiAgICAgIGNvbnN0IHIgPSBTdHJpbmcocGFpci5uYW1lKTtcbiAgICAgIHRoaXMuaWQybmFtZUNhY2hlLnNldChwYWlyLmlkLCByKTtcbiAgICAgIHRoaXMubmFtZTJpZENhY2hlLnNldChyLCBwYWlyLmlkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIHNlYXJjaCBmb3IgYWxsIG1hdGNoaW5nIGlkcyBmb3IgYSBnaXZlbiBwYXR0ZXJuXG4gICAqIEBwYXJhbSBwYXR0ZXJuXG4gICAqIEBwYXJhbSBsaW1pdCBtYXhpbWFsIG51bWJlciBvZiByZXN1bHRzXG4gICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBzZWFyY2hNYXBwaW5nKHBhdHRlcm46IHN0cmluZywgdG9JRFR5cGU6IHN0cmluZ3xJRFR5cGUsIGxpbWl0ID0gMTApOiBQcm9taXNlPHttYXRjaDogc3RyaW5nLCB0bzogc3RyaW5nfVtdPiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gcmVzb2x2ZSh0b0lEVHlwZSk7XG4gICAgcmV0dXJuIGdldEFQSUpTT04oYC9pZHR5cGUvJHt0aGlzLmlkfS8ke3RhcmdldC5pZH0vc2VhcmNoYCwge3E6IHBhdHRlcm4sIGxpbWl0fSk7XG4gIH1cbn1cblxuLyoqXG4gKiBjaG9vc2VzIHdoZXRoZXIgYSBHRVQgb3IgUE9TVCByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHBlY3RlZCB1cmwgbGVuZ3RoXG4gKiBAcGFyYW0gdXJsXG4gKiBAcGFyYW0gZGF0YVxuICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAqL1xuZnVuY3Rpb24gY2hvb3NlUmVxdWVzdE1ldGhvZCh1cmw6IHN0cmluZywgZGF0YTogYW55ID0ge30pIHtcbiAgY29uc3QgZGF0YUxlbmd0aEd1ZXNzID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIGNvbnN0IGxlbmd0aEd1ZXNzID0gdXJsLmxlbmd0aCArIGRhdGFMZW5ndGhHdWVzcy5sZW5ndGg7XG5cbiAgY29uc3QgbWV0aG9kID0gbGVuZ3RoR3Vlc3MgPCAyMDAwID8gJ0dFVCcgOiAnUE9TVCc7XG4gIHJldHVybiBzZW5kQVBJKHVybCwgZGF0YSwgbWV0aG9kKTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIElEUGFpciB7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgaWQ6IG51bWJlcjtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pZHR5cGUvSURUeXBlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge0lSYW5nZUVsZW19IGZyb20gJy4vaW50ZXJuYWwnO1xuaW1wb3J0IFJhbmdlRWxlbSBmcm9tICcuL2ludGVybmFsL1JhbmdlRWxlbSc7XG5pbXBvcnQge0lJdGVyYXRvciwgSXRlcmF0b3IsIGZvckxpc3QsIGNvbmNhdH0gZnJvbSAnLi4vaXRlcmF0b3InO1xuaW1wb3J0IFJhbmdlMURHcm91cCBmcm9tICcuL1JhbmdlMURHcm91cCc7XG5cbmZ1bmN0aW9uIHNvcnROdW1lcmljKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gIHJldHVybiBhIC0gYjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFuZ2UxRCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXJyOiBJUmFuZ2VFbGVtW107XG5cbiAgY29uc3RydWN0b3IoYXJnPzogUmFuZ2UxRHxJUmFuZ2VFbGVtW10pIHtcbiAgICBpZiAoYXJnIGluc3RhbmNlb2YgUmFuZ2UxRCkge1xuICAgICAgdGhpcy5hcnIgPSAoPFJhbmdlMUQ+YXJnKS5hcnI7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgIHRoaXMuYXJyID0gPElSYW5nZUVsZW1bXT5hcmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXJyID0gW107XG4gICAgfVxuICB9XG5cbiAgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNpemUoKTtcbiAgfVxuXG4gIHN0YXRpYyBhbGwoKTogUmFuZ2UxRCB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZTFEKFtSYW5nZUVsZW0uYWxsKCldKTtcbiAgfVxuXG4gIHN0YXRpYyBzaW5nbGUoaXRlbTogbnVtYmVyKTogUmFuZ2UxRCB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZTFEKFtSYW5nZUVsZW0uc2luZ2xlKGl0ZW0pXSk7XG4gIH1cblxuICBzdGF0aWMgbm9uZSgpOiBSYW5nZTFEIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlMUQoKTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKGluZGljZXM6IG51bWJlcltdKTogUmFuZ2UxRCB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZTFEKFJhbmdlMUQuY29tcHJlc3MoaW5kaWNlcykpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY29tcHJlc3MoaW5kaWNlczogbnVtYmVyW10pOiBJUmFuZ2VFbGVtW10ge1xuICAgIGlmIChpbmRpY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSBpZiAoaW5kaWNlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBbUmFuZ2VFbGVtLnNpbmdsZShpbmRpY2VzWzBdKV07XG4gICAgfVxuICAgIC8vcmV0dXJuIGluZGljZXMubWFwKFJhbmdlRWxlbS5zaW5nbGUpO1xuICAgIGNvbnN0IHIgPSA8SVJhbmdlRWxlbVtdPltdLFxuICAgICAgZGVsdGFzID0gaW5kaWNlcy5zbGljZSgxKS5tYXAoKGUsIGkpID0+IGUgLSBpbmRpY2VzW2ldKTtcbiAgICBsZXQgc3RhcnQgPSAwLCBhY3QgPSAxLCBpID0gMDtcbiAgICB3aGlsZSAoYWN0IDwgaW5kaWNlcy5sZW5ndGgpIHtcbiAgICAgIHdoaWxlIChkZWx0YXNbc3RhcnRdID09PSBkZWx0YXNbYWN0IC0gMV0gJiYgYWN0IDwgaW5kaWNlcy5sZW5ndGgpIHsgLy93aGlsZSB0aGUgc2FtZSBkZWx0YVxuICAgICAgICBhY3QrKztcbiAgICAgIH1cbiAgICAgIGlmIChhY3QgPT09IHN0YXJ0ICsgMSkgeyAvL2p1c3QgYSBzaW5nbGUgaXRlbSB1c2VkXG4gICAgICAgIHIucHVzaChSYW5nZUVsZW0uc2luZ2xlKGluZGljZXNbc3RhcnRdKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLysxIHNpbmNlIGVuZCBpcyBleGNsdWRlZFxuICAgICAgICAvL2ZpeCB3aGlsZSBqdXN0ICsxIGlzIGFsbG93ZWQgYW5kIC0xIGlzIG5vdCBhbGxvd2VkXG4gICAgICAgIGlmIChkZWx0YXNbc3RhcnRdID09PSAxKSB7XG4gICAgICAgICAgci5wdXNoKFJhbmdlRWxlbS5yYW5nZShpbmRpY2VzW3N0YXJ0XSwgaW5kaWNlc1thY3QgLSAxXSArIGRlbHRhc1tzdGFydF0sIGRlbHRhc1tzdGFydF0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGFjdDsgaSsrKSB7XG4gICAgICAgICAgICByLnB1c2goUmFuZ2VFbGVtLnNpbmdsZShpbmRpY2VzW2ldKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFydCA9IGFjdDtcbiAgICAgIGFjdCArPSAxO1xuICAgIH1cbiAgICB3aGlsZSAoc3RhcnQgPCBpbmRpY2VzLmxlbmd0aCkgeyAvL2Nvcm5lciBjYXNlIGJ5IGFkZGluZyBhY3QrMSwgaXQgbWlnaHQgaGFwcGVuIHRoYXQgdGhlIGxhc3Qgb25lIGlzbnQgY29uc2lkZXJlZFxuICAgICAgci5wdXNoKFJhbmdlRWxlbS5zaW5nbGUoaW5kaWNlc1tzdGFydCsrXSkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGdldCBpc0FsbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hcnIubGVuZ3RoID09PSAxICYmIHRoaXMuYXQoMCkuaXNBbGw7XG4gIH1cblxuICBnZXQgaXNOb25lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFyci5sZW5ndGggPT09IDA7XG4gIH1cblxuICBnZXQgaXNVbmJvdW5kKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFyci5zb21lKChkKSA9PiBkLmlzVW5ib3VuZCk7XG4gIH1cblxuICBwcml2YXRlIGdldCBpc0xpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyLmV2ZXJ5KChkKSA9PiBkLmlzU2luZ2xlKTtcbiAgfVxuXG4gIHB1c2goLi4uaXRlbXM6IChJUmFuZ2VFbGVtfHN0cmluZ3xudW1iZXJ8W251bWJlciwgbnVtYmVyLCBudW1iZXJdKVtdKTogbnVtYmVyIHtcbiAgICBmdW5jdGlvbiBwKGl0ZW06IGFueSkge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gUmFuZ2VFbGVtLnBhcnNlKGl0ZW0udG9TdHJpbmcoKSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gUmFuZ2VFbGVtLnNpbmdsZSg8bnVtYmVyPml0ZW0pO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VFbGVtKGl0ZW1bMF0sIGl0ZW1bMV0sIGl0ZW1bMl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDxSYW5nZUVsZW0+aXRlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hcnIucHVzaCguLi5pdGVtcy5tYXAocCkpO1xuICB9XG5cbiAgcHVzaFNsaWNlKGZyb206IG51bWJlciwgdG86IG51bWJlciA9IC0xLCBzdGVwOiBudW1iZXIgPSAxKTogdm9pZCB7XG4gICAgdGhpcy5hcnIucHVzaChuZXcgUmFuZ2VFbGVtKGZyb20sIHRvLCBzdGVwKSk7XG4gIH1cblxuICBwdXNoTGlzdChpbmRpY2VzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHRoaXMuYXJyLnB1c2goLi4uUmFuZ2UxRC5jb21wcmVzcyhpbmRpY2VzKSk7XG4gIH1cblxuICBzZXRTbGljZShmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIgPSAtMSwgc3RlcDogbnVtYmVyID0gMSk6IHZvaWQge1xuICAgIHRoaXMuYXJyLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5wdXNoU2xpY2UoZnJvbSwgdG8sIHN0ZXApO1xuICB9XG5cbiAgc2V0TGlzdChpbmRpY2VzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHRoaXMuYXJyLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5wdXNoTGlzdChpbmRpY2VzKTtcbiAgfVxuXG4gIGF0KGluZGV4OiBudW1iZXIpOiBJUmFuZ2VFbGVtIHtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICBpbmRleCArPSB0aGlzLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmFyci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBSYW5nZUVsZW0ubm9uZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcnJbaW5kZXhdO1xuICB9XG5cbiAgc2l6ZShzaXplPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB0ID0gdGhpcy5hcnIubWFwKChkKSA9PiBkLnNpemUoc2l6ZSkpO1xuICAgIHJldHVybiB0LnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIHdoZXRoZXIgdGhpcyByYW5nZSBpcyB0aGUgaWRlbnRpdHksIGkuZS4gdGhlIGZpcnN0IG5hdHVyYWwgbnVtYmVycyBzdGFydGluZyB3aXRoIDBcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0lkZW50aXR5UmFuZ2UoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXJyLmxlbmd0aCA9PT0gMSAmJiB0aGlzLmFyclswXS5mcm9tID09PSAwICYmIHRoaXMuYXJyWzBdLnN0ZXAgPT09IDE7XG4gIH1cblxuICByZXBlYXQobnRpbWVzID0gMSk6IFJhbmdlMUQge1xuICAgIGlmIChudGltZXMgPT09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gdGhpcy5hcnIuc2xpY2UoKTtcbiAgICAvL3B1c2ggbiB0aW1lc1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbnRpbWVzOyArK2kpIHtcbiAgICAgIHIucHVzaC5hcHBseShyLCB0aGlzLmFycik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmFuZ2UxRChyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjb21iaW5lcyB0aGlzIHJhbmdlIHdpdGggYW5vdGhlciBhbmQgcmV0dXJucyBhIG5ldyBvbmVcbiAgICogdGhpcyA9ICgxLDMsNSw3KSwgc3ViID0gKDEsMikgLT4gKDEsMikoMSwzLDUsNykgPSAoMyw1KVxuICAgKiBAcmV0dXJucyB7UmFuZ2UxRH1cbiAgICovXG4gIHByZU11bHRpcGx5KHN1YjogUmFuZ2UxRCwgc2l6ZT86IG51bWJlcik6IFJhbmdlMUQge1xuICAgIGlmICh0aGlzLmlzQWxsKSB7XG4gICAgICByZXR1cm4gc3ViLmNsb25lKCk7XG4gICAgfVxuICAgIGlmIChzdWIuaXNBbGwpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gICAgfVxuICAgIGlmIChzdWIuaXNOb25lIHx8IHRoaXMuaXNOb25lKSB7XG4gICAgICByZXR1cm4gUmFuZ2UxRC5ub25lKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzSWRlbnRpdHlSYW5nZSkgeyAvL2lkZW50aXR5IGxvb2t1cFxuICAgICAgcmV0dXJuIHN1Yi5jbG9uZSgpO1xuICAgIH1cbiAgICAvL1RPRE8gb3B0aW1pemVcbiAgICBjb25zdCBsID0gdGhpcy5pdGVyKHNpemUpLmFzTGlzdCgpO1xuICAgIGNvbnN0IG1hcEltcGwgPSAoc3ViOiBSYW5nZTFEKSA9PiB7XG4gICAgICBjb25zdCBzID0gc3ViLml0ZXIobC5sZW5ndGgpO1xuICAgICAgY29uc3QgcjogbnVtYmVyW109IFtdO1xuICAgICAgcy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8IGwubGVuZ3RoKSB7IC8vY2hlY2sgZm9yIG91dCBvZiByYW5nZVxuICAgICAgICAgIHIucHVzaChsW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc3ViLmZyb21MaWtlKHIpO1xuICAgIH07XG4gICAgaWYgKHR5cGVvZiAoPElDb21wb3NpdGVSYW5nZTFEPnN1YikuZnJvbUxpa2VDb21wb3NpdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IGNzdWIgPSA8SUNvbXBvc2l0ZVJhbmdlMUQ+c3ViO1xuICAgICAgcmV0dXJuIGNzdWIuZnJvbUxpa2VDb21wb3NpdGUoPGFueT5jc3ViLmdyb3Vwcy5tYXAobWFwSW1wbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWFwSW1wbChzdWIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBsb2dpY2FsIHVuaW9uIGJldHdlZW4gdHdvIHJhbmdlc1xuICAgKiBAcGFyYW0gb3RoZXJcbiAgICogQHJldHVybnMge1JhbmdlMUR9XG4gICAqL1xuICB1bmlvbihvdGhlcjogUmFuZ2UxRCwgc2l6ZT86IG51bWJlcik6IFJhbmdlMUQge1xuICAgIGlmICh0aGlzLmlzQWxsIHx8IG90aGVyLmlzTm9uZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgICB9XG4gICAgaWYgKG90aGVyLmlzQWxsIHx8IHRoaXMuaXNOb25lKSB7XG4gICAgICByZXR1cm4gb3RoZXIuY2xvbmUoKTtcbiAgICB9XG4gICAgY29uc3QgciA9IHRoaXMuaXRlcihzaXplKS5hc0xpc3QoKTtcbiAgICBjb25zdCBpdDIgPSBvdGhlci5pdGVyKHNpemUpO1xuICAgIGl0Mi5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBpZiAoci5pbmRleE9mKGkpIDwgMCkge1xuICAgICAgICByLnB1c2goaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG90aGVyLmZyb21MaWtlKHIuc29ydChzb3J0TnVtZXJpYykpO1xuICB9XG5cbiAgLyoqXG4gICAqIGxvZ2ljYWwgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIHJhbmdlc1xuICAgKiBAcGFyYW0gb3RoZXJcbiAgICogQHBhcmFtIHNpemVcbiAgICogQHJldHVybnMge1JhbmdlMUR9XG4gICAqL1xuICBpbnRlcnNlY3Qob3RoZXI6IFJhbmdlMUQsIHNpemU/OiBudW1iZXIpOiBSYW5nZTFEIHtcbiAgICBpZiAodGhpcy5pc05vbmUgfHwgb3RoZXIuaXNOb25lKSB7XG4gICAgICByZXR1cm4gUmFuZ2UxRC5ub25lKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzQWxsKSB7XG4gICAgICByZXR1cm4gb3RoZXIuY2xvbmUoKTtcbiAgICB9XG4gICAgaWYgKG90aGVyLmlzQWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICAgIH1cbiAgICBjb25zdCBpdDEgPSB0aGlzLml0ZXIoc2l6ZSkuYXNMaXN0KCk7XG4gICAgY29uc3QgaXQyID0gb3RoZXIuaXRlcihzaXplKTtcbiAgICBjb25zdCByOiBudW1iZXJbXSA9IFtdO1xuICAgIGl0Mi5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBpZiAoaXQxLmluZGV4T2YoaSkgPj0gMCkge1xuICAgICAgICByLnB1c2goaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG90aGVyLmZyb21MaWtlKHIuc29ydChzb3J0TnVtZXJpYykpO1xuICB9XG5cbiAgdG9TZXQoc2l6ZT86IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZUR1cGxpY2F0ZXMoc2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogbG9naWNhbCBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIHJhbmdlc1xuICAgKiBAcGFyYW0gd2l0aG91dFxuICAgKiBAcGFyYW0gc2l6ZVxuICAgKiBAcmV0dXJucyB7UmFuZ2UxRH1cbiAgICovXG4gIHdpdGhvdXQod2l0aG91dDogUmFuZ2UxRCwgc2l6ZT86IG51bWJlcik6IFJhbmdlMUQge1xuICAgIGlmICh0aGlzLmlzTm9uZSB8fCB3aXRob3V0LmlzTm9uZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgICB9XG4gICAgaWYgKHdpdGhvdXQuaXNBbGwpIHtcbiAgICAgIHJldHVybiBSYW5nZTFELm5vbmUoKTtcbiAgICB9XG4gICAgY29uc3QgaXQxID0gdGhpcy5pdGVyKHNpemUpO1xuICAgIGNvbnN0IGl0MiA9IHdpdGhvdXQuaXRlcihzaXplKS5hc0xpc3QoKTtcbiAgICBjb25zdCByOiBudW1iZXJbXSA9IFtdO1xuICAgIGl0MS5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBpZiAoaXQyLmluZGV4T2YoaSkgPCAwKSB7XG4gICAgICAgIHIucHVzaChpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gUmFuZ2UxRC5mcm9tKHIuc29ydChzb3J0TnVtZXJpYykpO1xuICB9XG5cbiAgLyoqXG4gICAqIGNsb25lcyB0aGlzIHJhbmdlXG4gICAqIEByZXR1cm5zIHtSYW5nZTFEfVxuICAgKi9cbiAgY2xvbmUoKTogUmFuZ2UxRCB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZTFEKHRoaXMuYXJyLm1hcCgoZCkgPT4gZC5jbG9uZSgpKSk7XG4gIH1cblxuICAvKipcbiAgICogaW52ZXJ0cyB0aGUgZ2l2ZW4gaW5kZXggdG8gdGhlIG9yaWdpbmFsIHJhbmdlXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcGFyYW0gc2l6ZSB0aGUgdW5kZXJseWluZyBzaXplIGZvciBuZWdhdGl2ZSBpbmRpY2VzXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBpbnZlcnQoaW5kZXg6IG51bWJlciwgc2l6ZT86IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNBbGwpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNOb25lKSB7XG4gICAgICByZXR1cm4gLTE7IC8vbm90IG1hcHBlZFxuICAgIH1cbiAgICAvLyBmaW5kIHRoZSByYW5nZSBlbGVtZW50IHRoYXQgY29udGFpbiB0aGUgaW5kZXgtdGggZWxlbWVudFxuICAgIGxldCBzID0gdGhpcy5hcnJbMF0uc2l6ZShzaXplKTtcbiAgICBsZXQgYWN0ID0gMCwgdG90YWw6IG51bWJlciA9IHM7XG4gICAgY29uc3QgbkVsZW1zID0gdGhpcy5hcnIubGVuZ3RoLTE7XG4gICAgd2hpbGUgKHRvdGFsIDwgaW5kZXggJiYgYWN0IDwgbkVsZW1zKSB7XG4gICAgICBhY3QrKztcbiAgICAgIHMgPSB0aGlzLmFyclthY3RdLnNpemUoc2l6ZSk7XG4gICAgICB0b3RhbCArPSBzO1xuICAgIH1cbiAgICBpZiAoYWN0ID49IHRoaXMuYXJyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIC0xOyAvL25vdCBtYXBwZWRcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXJyW2FjdF0uaW52ZXJ0KGluZGV4IC0gdG90YWwgKyBzLCBzaXplKTtcbiAgfVxuXG4gIGluZGV4T2YoaW5kaWNlczogbnVtYmVyW10pOiBudW1iZXJbXTtcblxuICBpbmRleE9mKGluZGV4OiBudW1iZXIpOiBudW1iZXI7XG5cbiAgaW5kZXhPZiguLi5pbmRleDogbnVtYmVyW10pOiBudW1iZXJbXTtcblxuICBpbmRleE9mKHI6IFJhbmdlMUQsIHNpemU/OiBudW1iZXIpOiBSYW5nZTFEO1xuXG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSBpbmRleChpY2VzKSBvZiB0aGUgZ2l2ZW4gZWxlbWVudHNcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGluZGV4T2YoKTogYW55IHtcbiAgICBpZiAoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgUmFuZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4UmFuZ2VPZihhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSk7XG4gICAgfVxuICAgIGxldCBhcnI6IG51bWJlcltdO1xuICAgIGNvbnN0IGJhc2UgPSB0aGlzLml0ZXIoKS5hc0xpc3QoKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBiYXNlLmluZGV4T2YoPG51bWJlcj5hcmd1bWVudHNbMF0pO1xuICAgICAgfVxuICAgICAgYXJyID0gYXJndW1lbnRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnIgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBhcnIubWFwKChpbmRleCwgaSkgPT4gYmFzZS5pbmRleE9mKGluZGV4KSk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyB0aGUgcmFuZ2UgcmVwcmVzZW50aW5nIHRoZSBpbmRpY2VzIG9mIHRoZSBnaXZlbiByYW5nZSB3aXRoaW4gdGhlIGN1cnJlbnQgZGF0YVxuICAgKiBAcGFyYW0gclxuICAgKiBAcGFyYW0gc2l6ZVxuICAgKiBAcmV0dXJuIHtSYW5nZTFEfVxuICAgKi9cbiAgaW5kZXhSYW5nZU9mKHI6IFJhbmdlMUQsIHNpemU/OiBudW1iZXIpOiBSYW5nZTFEIHtcbiAgICBpZiAoci5pc05vbmUgfHwgdGhpcy5pc05vbmUpIHtcbiAgICAgIHJldHVybiByLmZyb21MaWtlKFtdKTtcbiAgICB9XG4gICAgaWYgKHIuaXNBbGwpIHsgLy9pbmRleCBvZiBhbGwgaXMgc3RpbGwgYWxsXG4gICAgICByZXR1cm4gUmFuZ2UxRC5hbGwoKTtcbiAgICB9XG4gICAgLy9cbiAgICBsZXQgbWFwSW1wbDogKGQ6IG51bWJlciwgcmVzdWx0OiBudW1iZXJbXSk9PnZvaWQ7XG4gICAgaWYgKHRoaXMuaXNJZGVudGl0eVJhbmdlKSB7XG4gICAgICBjb25zdCBlbmQgPSB0aGlzLmFyclswXS50bztcbiAgICAgIG1hcEltcGwgPSAoZCwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChkID49IDAgJiYgZCA8IGVuZCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhcnIgPSB0aGlzLml0ZXIoKS5hc0xpc3QoKTtcbiAgICAgIG1hcEltcGwgPSAoZCwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihkKTtcbiAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mICg8SUNvbXBvc2l0ZVJhbmdlMUQ+cikuZnJvbUxpa2VDb21wb3NpdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IGNzdWIgPSA8SUNvbXBvc2l0ZVJhbmdlMUQ+cjtcbiAgICAgIHJldHVybiBjc3ViLmZyb21MaWtlQ29tcG9zaXRlKGNzdWIuZ3JvdXBzLm1hcCgoZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQ6IG51bWJlcltdPSBbXTtcbiAgICAgICAgZy5mb3JFYWNoKChkKSA9PiBtYXBJbXBsKGQsIHJlc3VsdCkpO1xuICAgICAgICByZXR1cm4gZy5mcm9tTGlrZShyZXN1bHQpO1xuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZXN1bHQ6IG51bWJlcltdID0gW107XG4gICAgICByLmZvckVhY2goKGQpID0+IG1hcEltcGwoZCwgcmVzdWx0KSk7XG4gICAgICByZXR1cm4gci5mcm9tTGlrZShyZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBmaWx0ZXJzIHRoZSBnaXZlbiBkYXRhIGFjY29yZGluZyB0byB0aGlzIHJhbmdlXG4gICAqIEBwYXJhbSBkYXRhXG4gICAqIEBwYXJhbSBzaXplIHRoZSB0b3RhbCBzaXplIGZvciByZXNvbHZpbmcgbmVnYXRpdmUgaW5kaWNlc1xuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZpbHRlcihkYXRhOiBhbnlbXSwgc2l6ZT86IG51bWJlciwgdHJhbnNmb3JtOiAodjogYW55KSA9PiBhbnkgPSAoZCkgPT4gZCkge1xuICAgIGlmICh0aGlzLmlzQWxsKSB7XG4gICAgICByZXR1cm4gZGF0YS5tYXAodHJhbnNmb3JtKTtcbiAgICB9XG4gICAgY29uc3QgaXQgPSB0aGlzLml0ZXIoc2l6ZSk7XG4gICAgLy9vcHRpbWl6YXRpb25cbiAgICBpZiAoaXQuYnlPbmUgJiYgaXQgaW5zdGFuY2VvZiBJdGVyYXRvcikge1xuICAgICAgcmV0dXJuIGRhdGEuc2xpY2UoKDxJdGVyYXRvcj48YW55Pml0KS5mcm9tLCAoPEl0ZXJhdG9yPjxhbnk+aXQpLnRvKS5tYXAodHJhbnNmb3JtKTtcbiAgICAgIC8vfSBlbHNlIGlmIChpdC5ieU1pbnVzT25lKSB7XG4gICAgICAvLyAgdmFyIGQgPSBkYXRhLnNsaWNlKCk7XG4gICAgICAvLyAgZC5yZXZlcnNlKCk7XG4gICAgICAvLyAgcmV0dXJuIGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgIHdoaWxlIChpdC5oYXNOZXh0KCkpIHtcbiAgICAgICAgci5wdXNoKHRyYW5zZm9ybShkYXRhW2l0Lm5leHQoKV0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGVzIGFuIGl0ZXJhdG9yIG9mIHRoaXMgcmFuZ2VcbiAgICogQHBhcmFtIHNpemUgdGhlIHVuZGVybHlpbmcgc2l6ZSBmb3IgbmVnYXRpdmUgaW5kaWNlc1xuICAgKi9cbiAgaXRlcihzaXplPzogbnVtYmVyKTogSUl0ZXJhdG9yPG51bWJlcj4ge1xuICAgIGlmICh0aGlzLmlzTGlzdCkge1xuICAgICAgcmV0dXJuIGZvckxpc3QodGhpcy5hcnIubWFwKChkKSA9PiAoPGFueT5kKS5mcm9tKSk7XG4gICAgfVxuICAgIGNvbnN0IGl0czogSUl0ZXJhdG9yPG51bWJlcj5bXSA9IHRoaXMuYXJyLm1hcCgoZCkgPT4gZC5pdGVyKHNpemUpKTtcbiAgICByZXR1cm4gY29uY2F0LmFwcGx5KG51bGwsIGl0cyk7XG4gIH1cblxuICBnZXQgX19pdGVyYXRvcl9fKCkge1xuICAgIHJldHVybiB0aGlzLml0ZXIoKTtcbiAgfVxuXG4gIGFzTGlzdChzaXplPzogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgIHJldHVybiB0aGlzLml0ZXIoc2l6ZSkuYXNMaXN0KCk7XG4gIH1cblxuICBnZXQgZmlyc3QoKSB7XG4gICAgaWYgKHRoaXMuaXNOb25lKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXJyWzBdLmZyb207XG4gIH1cblxuICBnZXQgbGFzdCgpIHtcbiAgICBpZiAodGhpcy5pc05vbmUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcnJbdGhpcy5hcnIubGVuZ3RoIC0gMV0uZnJvbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmb3IgZWFjaCBlbGVtZW50XG4gICAqIEBwYXJhbSBjYWxsYmFja2ZuXG4gICAqIEBwYXJhbSB0aGlzQXJnXG4gICAqL1xuICBmb3JFYWNoKGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMuaXRlcigpLmZvckVhY2goY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gIH1cblxuICBjb250YWlucyh2YWx1ZTogbnVtYmVyLCBzaXplPzogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXJyLnNvbWUoKGVsZW0pID0+IGVsZW0uY29udGFpbnModmFsdWUsIHNpemUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzb3J0XG4gICAqIEBwYXJhbSBjbXBcbiAgICogQHJldHVybiB7UmFuZ2UxRH1cbiAgICovXG4gIHNvcnQoY21wOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IG51bWJlciA9IHNvcnROdW1lcmljKTogUmFuZ2UxRCB7XG4gICAgY29uc3QgYXJyID0gdGhpcy5pdGVyKCkuYXNMaXN0KCk7XG4gICAgY29uc3QgciA9IGFyci5zb3J0KGNtcCk7XG4gICAgcmV0dXJuIHRoaXMuZnJvbUxpa2Uocik7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZUR1cGxpY2F0ZXMoc2l6ZT86IG51bWJlcik6IFJhbmdlMUQge1xuICAgIGxldCBhcnIgPSB0aGlzLml0ZXIoKS5hc0xpc3QoKTtcbiAgICBhcnIgPSBhcnIuc29ydChzb3J0TnVtZXJpYyk7XG4gICAgYXJyID0gYXJyLmZpbHRlcigoZGksIGkpID0+IGRpICE9PSBhcnJbaSAtIDFdKTsgLy9zYW1lIHZhbHVlIGFzIGJlZm9yZSwgcmVtb3ZlXG4gICAgcmV0dXJuIFJhbmdlMUQuZnJvbShhcnIpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldmVydHMgdGhlIG9yZGVyIG9mIHRoaXMgcmFuZ2VcbiAgICovXG4gIHJldmVyc2UoKTogUmFuZ2UxRCB7XG4gICAgY29uc3QgYSA9IHRoaXMuYXJyLm1hcCgocikgPT4gci5yZXZlcnNlKCkpO1xuICAgIGEucmV2ZXJzZSgpO1xuICAgIHJldHVybiBuZXcgUmFuZ2UxRChhKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGlmICh0aGlzLmlzQWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuYXJyWzBdLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiAnKCcgKyB0aGlzLmFyci5qb2luKCcsJykgKyAnKSc7XG4gIH1cblxuICBlcShvdGhlcjogUmFuZ2UxRCkge1xuICAgIGlmICh0aGlzID09PSBvdGhlciB8fCAodGhpcy5pc0FsbCAmJiBvdGhlci5pc0FsbCkgfHwgKHRoaXMuaXNOb25lICYmIG90aGVyLmlzTm9uZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvL1RPRE8gbW9yZSBwZXJmb3JtYW50IGNvbXBhcmlzb25cbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpID09PSBvdGhlci50b1N0cmluZygpO1xuICB9XG5cbiAgZnJvbUxpa2UoaW5kaWNlczogbnVtYmVyW10pIHtcbiAgICByZXR1cm4gUmFuZ2UxRC5mcm9tKGluZGljZXMpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbXBvc2l0ZVJhbmdlMUQgZXh0ZW5kcyBSYW5nZTFEIHtcbiAgZ3JvdXBzOiBSYW5nZTFER3JvdXBbXTtcbiAgZnJvbUxpa2VDb21wb3NpdGUoZ3JvdXBzOiBSYW5nZTFER3JvdXBbXSk6IFJhbmdlMUQ7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmFuZ2UvUmFuZ2UxRC50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKlxuICogVGhpcyBtb2R1bGUgcHJvdmlkZXMgYWNjZXNzIGZ1bmN0aW9ucyBmb3IgZGF0YXNldCBzdG9yZWQgb24gYSBzZXJ2ZXIsIGluY2x1ZGluZyBmdW5jdGlvbnMgdG8gbGlzdCBhbGwgZGF0YXNldHMsXG4gKiB0byByZXRyaWV2ZSBkYXRhc2V0cyBieSBuYW1lcywgaWQgdHlwZXMsIGlkcywgZXRjLlxuICpcbiAqIFNlZSBJRGF0YURlc2NyaXB0aW9uTWV0YURhdGEgaW4gZGF0YXR5cGUudHMgZm9yIHZhcmlvdXMgbGVnYWwgcGFyYW1ldGVyc1xuICovXG5pbXBvcnQge29mZmxpbmUgYXMgaXNPZmZsaW5lLCBmaXhJZCwgcmFuZG9tSWR9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHtnZXRBUElKU09OLCBzZW5kQVBJfSBmcm9tICcuL2FqYXgnO1xuaW1wb3J0IHtsaXN0IGFzIGxpc3RQbHVnaW5zfSBmcm9tICcuL3BsdWdpbic7XG5pbXBvcnQge0lEYXRhRGVzY3JpcHRpb24sIElEYXRhVHlwZSwgRHVtbXlEYXRhVHlwZX0gZnJvbSAnLi9kYXRhdHlwZSc7XG5pbXBvcnQge0lUYWJsZX0gZnJvbSAnLi90YWJsZSc7XG5pbXBvcnQge3dyYXBPYmplY3RzfSBmcm9tICcuL3RhYmxlL1RhYmxlJztcbmV4cG9ydCB7cmFuZG9tX2lkLCBmaXhJZH0gZnJvbSAnLi9pbmRleCc7XG5cbi8vZXhwb3J0IHtjb252ZXJ0VGFibGVUb1ZlY3RvcnMsIGNvbnZlcnRUb1RhYmxlLCBsaXN0QXNUYWJsZX0gZnJvbSAnLi9pbnRlcm5hbC9kYXRhX3V0aWxzJztcblxuLy9maW5kIGFsbCBkYXRhdHlwZSBwbHVnaW5zXG5jb25zdCBhdmFpbGFibGUgPSBsaXN0UGx1Z2lucygnZGF0YXR5cGUnKTtcblxuY29uc3QgY2FjaGVCeUlkID0gbmV3IE1hcDxzdHJpbmcsIFByb21pc2U8SURhdGFUeXBlPj4oKTtcbmNvbnN0IGNhY2hlQnlOYW1lID0gbmV3IE1hcDxzdHJpbmcsIFByb21pc2U8SURhdGFUeXBlPj4oKTtcbmNvbnN0IGNhY2hlQnlGUU5hbWUgPSBuZXcgTWFwPHN0cmluZywgUHJvbWlzZTxJRGF0YVR5cGU+PigpO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDYWNoZShkYXRhc2V0PzogSURhdGFUeXBlIHwgSURhdGFEZXNjcmlwdGlvbikge1xuICBpZiAoZGF0YXNldCkge1xuICAgIGNvbnN0IGRlc2M6IElEYXRhRGVzY3JpcHRpb24gPSAoPElEYXRhVHlwZT5kYXRhc2V0KS5kZXNjIHx8IDxJRGF0YURlc2NyaXB0aW9uPmRhdGFzZXQ7XG4gICAgY2FjaGVCeUlkLmRlbGV0ZShkZXNjLmlkKTtcbiAgICBjYWNoZUJ5TmFtZS5kZWxldGUoZGVzYy5uYW1lKTtcbiAgICBjYWNoZUJ5RlFOYW1lLmRlbGV0ZShkZXNjLmZxbmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgY2FjaGVCeUlkLmNsZWFyKCk7XG4gICAgY2FjaGVCeU5hbWUuY2xlYXIoKTtcbiAgICBjYWNoZUJ5RlFOYW1lLmNsZWFyKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2FjaGVkRW50cmllcygpOiBQcm9taXNlPElEYXRhVHlwZVtdPiB7XG4gIHJldHVybiBQcm9taXNlLmFsbChBcnJheS5mcm9tKGNhY2hlQnlJZC52YWx1ZXMoKSkpO1xufVxuXG5mdW5jdGlvbiBjYWNoZWQoZGVzYzogSURhdGFEZXNjcmlwdGlvbiwgcmVzdWx0OiBQcm9taXNlPElEYXRhVHlwZT4pIHtcbiAgY2FjaGVCeUlkLnNldChkZXNjLmlkLCByZXN1bHQpO1xuICBjYWNoZUJ5RlFOYW1lLnNldChkZXNjLmZxbmFtZSwgcmVzdWx0KTtcbiAgY2FjaGVCeU5hbWUuc2V0KGRlc2MubmFtZSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBjcmVhdGUgYW4gb2JqZWN0IG91dCBvZiBhIGRlc2NyaXB0aW9uXG4gKiBAcGFyYW0gZGVzY1xuICogQHJldHVybnMgeyp9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHRyYW5zZm9ybUVudHJ5KGRlc2M6IElEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlPElEYXRhVHlwZT4ge1xuICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgKDxhbnk+ZGVzYykuaWQgPSBkZXNjLmlkIHx8IGZpeElkKGRlc2MubmFtZSArIHJhbmRvbUlkKDUpKTtcbiAgKDxhbnk+ZGVzYykuZnFuYW1lID0gZGVzYy5mcW5hbWUgfHwgZGVzYy5uYW1lO1xuICAoPGFueT5kZXNjKS5kZXNjcmlwdGlvbiA9IGRlc2MuZGVzY3JpcHRpb24gfHwgJyc7XG4gICg8YW55PmRlc2MpLmNyZWF0b3IgPSBkZXNjLmNyZWF0b3IgfHwgJ0Fub255bW91cyc7XG4gICg8YW55PmRlc2MpLnRzID0gZGVzYy50cyB8fCAwO1xuXG4gIGlmIChjYWNoZUJ5SWQuaGFzKGRlc2MuaWQpKSB7XG4gICAgcmV0dXJuIGNhY2hlQnlJZC5nZXQoZGVzYy5pZCk7XG4gIH1cblxuICAvL2ZpbmQgbWF0Y2hpbmcgdHlwZVxuICBjb25zdCBwbHVnaW4gPSBhdmFpbGFibGUuZmlsdGVyKChwKSA9PiBwLmlkID09PSBkZXNjLnR5cGUpO1xuICAvL25vIHR5cGUgdGhlcmUgY3JlYXRlIGEgZHVtbXkgb25lXG4gIGlmIChwbHVnaW4ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGNhY2hlZChkZXNjLCBQcm9taXNlLnJlc29sdmUobmV3IER1bW15RGF0YVR5cGUoZGVzYykpKTtcbiAgfVxuICAvL3Rha2UgdGhlIGZpcnN0IG1hdGNoaW5nIG9uZVxuICByZXR1cm4gY2FjaGVkKGRlc2MsIHBsdWdpblswXS5sb2FkKCkudGhlbigoZCkgPT5kLmZhY3RvcnkoZGVzYykpKTtcbn1cblxuLyoqXG4gKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyBhIG1hcCBvZiBhbGwgYXZhaWxhYmxlIGRhdGFcbiAqIEBwYXJhbSBmaWx0ZXIgb3B0aW9uYWwgZmlsdGVyIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGEgc2VydmVyIHNpZGUgaW50ZXJwcmV0YWJsZSBmaWx0ZXIgb2JqZWN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZTxJRGF0YVR5cGVbXT59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0KGZpbHRlcj86ICh7W2tleTogc3RyaW5nXTogc3RyaW5nfSl8KChkOiBJRGF0YVR5cGUpID0+IGJvb2xlYW4pKTogUHJvbWlzZTxJRGF0YVR5cGVbXT4ge1xuICBjb25zdCBmID0gKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpID8gPChkOiBJRGF0YVR5cGUpID0+IGJvb2xlYW4+ZmlsdGVyIDogbnVsbDtcbiAgY29uc3QgcSA9ICh0eXBlb2YgZmlsdGVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZmlsdGVyICE9PSAnZnVuY3Rpb24nKSA/IDxhbnk+ZmlsdGVyIDoge307XG5cbiAgbGV0IHI6IFByb21pc2U8SURhdGFUeXBlW10+O1xuXG4gIGlmIChpc09mZmxpbmUpIHtcbiAgICByID0gZ2V0Q2FjaGVkRW50cmllcygpO1xuICB9IGVsc2Uge1xuICAgIC8vbG9hZCBkZXNjcmlwdGlvbnMgYW5kIGNyZWF0ZSBkYXRhIG91dCBvZiB0aGVtXG4gICAgciA9IGdldEFQSUpTT04oJy9kYXRhc2V0LycsIHEpLnRoZW4oKHIpID0+IFByb21pc2UuYWxsPElEYXRhVHlwZT4oci5tYXAodHJhbnNmb3JtRW50cnkpKSk7XG4gIH1cblxuICBpZiAoZiAhPT0gbnVsbCkge1xuICAgIHIgPSByLnRoZW4oKGQpID0+IGQuZmlsdGVyKGYpKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTm9kZSB7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgY2hpbGRyZW46IElOb2RlW107XG4gIGRhdGE6IElEYXRhVHlwZTtcbn1cblxuLyoqXG4gKiBjb252ZXJ0cyBhIGdpdmVuIGxpc3Qgb2YgZGF0YXNldHMgdG8gYSB0cmVlXG4gKiBAcGFyYW0gbGlzdFxuICogQHJldHVybnMge3tjaGlsZHJlbjogQXJyYXksIG5hbWU6IHN0cmluZywgZGF0YTogbnVsbH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9UcmVlKGxpc3Q6IElEYXRhVHlwZVtdKTogSU5vZGUge1xuICAvL2NyZWF0ZSBhIHRyZWUgb3V0IG9mIHRoZSBsaXN0IGJ5IHRoZSBmcW5hbWVcbiAgY29uc3Qgcm9vdCA6SU5vZGUgPSB7Y2hpbGRyZW46IFtdLCBuYW1lOiAnLycsIGRhdGE6IG51bGx9O1xuXG4gIGxpc3QuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBjb25zdCBwYXRoID0gZW50cnkuZGVzYy5mcW5hbWUuc3BsaXQoJy8nKTtcbiAgICBsZXQgYWN0ID0gcm9vdDtcbiAgICBwYXRoLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgIGxldCBuZXh0ID0gYWN0LmNoaWxkcmVuLmZpbmQoKGQpID0+IGQubmFtZSA9PT0gbm9kZSk7XG4gICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgbmV4dCA9IHtjaGlsZHJlbjogW10sIG5hbWU6IG5vZGUsIGRhdGE6IG51bGx9O1xuICAgICAgICBhY3QuY2hpbGRyZW4ucHVzaChuZXh0KTtcbiAgICAgIH1cbiAgICAgIGFjdCA9IG5leHQ7XG4gICAgfSk7XG4gICAgYWN0LmRhdGEgPSBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8qKlxuICogcmV0dXJucyBhIHRyZWUgb2YgYWxsIGF2YWlsYWJsZSBkYXRhc2V0c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJlZShmaWx0ZXI/OiAoe1trZXk6IHN0cmluZ106IHN0cmluZ30pfCgoZDogSURhdGFUeXBlKSA9PiBib29sZWFuKSk6IFByb21pc2U8SU5vZGU+IHtcbiAgcmV0dXJuIGNvbnZlcnRUb1RyZWUoYXdhaXQgbGlzdChmaWx0ZXIpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBkYXRhc2V0IG1hdGNoaW5nIHRoZSBnaXZlbiBxdWVyeVxuICogQHBhcmFtIHF1ZXJ5XG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Rmlyc3QocXVlcnk6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9IHwgc3RyaW5nIHwgUmVnRXhwKTogUHJvbWlzZTxJRGF0YVR5cGU+IHtcbiAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ3N0cmluZycgfHwgcXVlcnkgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gZ2V0Rmlyc3RCeU5hbWUoPHN0cmluZ3xSZWdFeHA+cXVlcnkpO1xuICB9XG4gIGNvbnN0IHEgPSA8YW55PnF1ZXJ5O1xuICBxLmxpbWl0ID0gMTtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBsaXN0KHEpO1xuICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7ZXJyb3I6ICdub3RoaW5nIGZvdW5kLCBtYXRjaGluZycsIGFyZ3M6IHF9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdFswXSk7XG59XG5cbi8qZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZyl7XG4gcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcbiB9Ki9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0QnlOYW1lKG5hbWU6IHN0cmluZyB8IFJlZ0V4cCkge1xuICByZXR1cm4gZ2V0Rmlyc3RXaXRoQ2FjaGUobmFtZSwgY2FjaGVCeU5hbWUsICduYW1lJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3RCeUZRTmFtZShuYW1lOiBzdHJpbmcgfCBSZWdFeHApIHtcbiAgcmV0dXJuIGdldEZpcnN0V2l0aENhY2hlKG5hbWUsIGNhY2hlQnlGUU5hbWUsICdmcW5hbWUnKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3RXaXRoQ2FjaGUobmFtZTogc3RyaW5nIHwgUmVnRXhwLCBjYWNoZTogTWFwPHN0cmluZywgUHJvbWlzZTxJRGF0YVR5cGU+PiwgYXR0cjogc3RyaW5nKSB7XG4gIGNvbnN0IHIgPSB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgPyBuZXcgUmVnRXhwKDxzdHJpbmc+bmFtZSkgOiBuYW1lO1xuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBBcnJheS5mcm9tKGNhY2hlLmVudHJpZXMoKSkpIHtcbiAgICBpZiAoci50ZXN0KGspKSB7XG4gICAgICByZXR1cm4gdjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdldEZpcnN0KHtcbiAgICBbYXR0cl06IHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyA/IG5hbWUgOiBuYW1lLnNvdXJjZVxuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyBkYXRhc2V0IGJhc2VkIG9uIGEgc3BlY2lmaWMgSUQuXG4gKiBAcGFyYW0gaWQgdGhlIElELCBhcyBkZWZpbmVkIGluIElEYXRhRGVzY3JpcHRpb25EYXRhI2lkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRCeUlkKGlkOiBzdHJpbmcpIHtcbiAgaWYgKGNhY2hlQnlJZC5oYXMoaWQpKSB7XG4gICAgcmV0dXJuIGNhY2hlQnlJZC5nZXQoaWQpO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1FbnRyeShhd2FpdCBnZXRBUElKU09OKGAvZGF0YXNldC8ke2lkfS9kZXNjYCkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciBnZXR0aW5nIGEgc3BlY2lmaWMgZGF0YXNldFxuICogQHBhcmFtIGEgcGVyc2lzdGVkIGlkIG9yIHBlcnNpc3RlZCBvYmplY3QgY29udGFpbmluZyB0aGUgaWRcbiAqIEByZXR1cm5zIHtQcm9taXNlPElEYXRhVHlwZT59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXQocGVyc2lzdGVkOiBhbnkgfCBzdHJpbmcpOiBQcm9taXNlPElEYXRhVHlwZT4ge1xuICBpZiAodHlwZW9mIHBlcnNpc3RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZ2V0QnlJZCg8c3RyaW5nPnBlcnNpc3RlZCk7XG4gIH1cbiAgLy9yZXNvbHZlIHBhcmVudCBhbmQgdGhlbiByZXNvbHZlIGl0IHVzaW5nIHJlc3RvcmUgaXRlbVxuICBpZiAocGVyc2lzdGVkLnJvb3QpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBhd2FpdCBnZXQocGVyc2lzdGVkLnJvb3QpO1xuICAgIHJldHVybiBwYXJlbnQgPyA8SURhdGFUeXBlPnBhcmVudC5yZXN0b3JlKHBlcnNpc3RlZCkgOiBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vY2FuJ3QgcmVzdG9yZSBub24gcm9vdCBhbmQgbm9uIGRhdGEgaWRcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ2Nhbm5vdCByZXN0b3JlIG5vbiByb290IGFuZCBub24gZGF0YSBpZCcpO1xuICB9XG59XG5cbi8qKlxuICogY3JlYXRlcyBhIG5ldyBkYXRhc2V0IGZvciB0aGUgZ2l2ZW4gZGVzY3JpcHRpb25cbiAqIEBwYXJhbSBkZXNjXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxJRGF0YVR5cGU+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGRlc2M6IElEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlPElEYXRhVHlwZT4ge1xuICByZXR1cm4gdHJhbnNmb3JtRW50cnkoZGVzYyk7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVEYXRhKGRlc2M6IGFueSwgZmlsZT86IEZpbGUpIHtcbiAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBkYXRhLmFwcGVuZCgnZGVzYycsIEpTT04uc3RyaW5naWZ5KGRlc2MpKTtcbiAgaWYgKGZpbGUpIHtcbiAgICBkYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIHVwbG9hZHMgYSBnaXZlbiBkYXRhc2V0IGRlc2NyaXB0aW9uIHdpdGggb3B0aW9uYWwgZmlsZSBhdHRhY2htZW50IG90IHRoZSBzZXJ2ZXJcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gZmlsZVxuICogQHJldHVybnMge1Byb21pc2U8Kj59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGxvYWQoZGF0YTogYW55LCBmaWxlPzogRmlsZSk6IFByb21pc2U8SURhdGFUeXBlPiB7XG4gIGRhdGEgPSBwcmVwYXJlRGF0YShkYXRhLCBmaWxlKTtcbiAgcmV0dXJuIHRyYW5zZm9ybUVudHJ5KGF3YWl0IHNlbmRBUEkoJy9kYXRhc2V0LycsIGRhdGEsICdQT1NUJykpO1xufVxuXG4vKipcbiAqIHVwZGF0ZXMgYW4gZXhpc3RpbmcgZGF0YXNldCB3aXRoIGEgbmV3IGRlc2NyaXB0aW9uIGFuZCBvcHRpb25hbCBmaWxlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gcmV0dXJucyB0aGUgdXBkYXRlIGRhdGFzZXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShlbnRyeTogSURhdGFUeXBlLCBkYXRhOiBhbnksIGZpbGU/OiBGaWxlKTogUHJvbWlzZTxJRGF0YVR5cGU+IHtcbiAgZGF0YSA9IHByZXBhcmVEYXRhKGRhdGEsIGZpbGUpO1xuICBjb25zdCBkZXNjID0gYXdhaXQgc2VuZEFQSShgL2RhdGFzZXQvJHtlbnRyeS5kZXNjLmlkfWAsIGRhdGEsICdQVVQnKTtcbiAgLy8gY2xlYXIgZXhpc3RpbmcgY2FjaGVcbiAgY2xlYXJDYWNoZShlbnRyeSk7XG4gIC8vdXBkYXRlIHdpdGggY3VycmVudCBvbmVcbiAgcmV0dXJuIHRyYW5zZm9ybUVudHJ5KGRlc2MpO1xufVxuXG4vKipcbiAqIG1vZGlmaWVzIGFuIGV4aXN0aW5nIGRhdGFzZXQgd2l0aCBhIG5ldyBkZXNjcmlwdGlvbiBhbmQgb3B0aW9uYWwgZmlsZSwgdGhlIGRpZmZlcmVuY2UgdG8gdXBkYXRlIGlzIHRoYXQgdGhpcyBzaG91bGQgYmUgdXNlZCBmb3IgcGFydGlhbCBjaGFuZ2VzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gcmV0dXJucyB0aGUgdXBkYXRlIGRhdGFzZXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1vZGlmeShlbnRyeTogSURhdGFUeXBlLCBkYXRhOiBhbnksIGZpbGU/OiBGaWxlKTogUHJvbWlzZTxJRGF0YVR5cGU+IHtcbiAgZGF0YSA9IHByZXBhcmVEYXRhKGRhdGEsIGZpbGUpO1xuICBjb25zdCBkZXNjID0gYXdhaXQgc2VuZEFQSShgL2RhdGFzZXQvJHtlbnRyeS5kZXNjLmlkfWAsIGRhdGEsICdQT1NUJyk7XG4gIGNsZWFyQ2FjaGUoZW50cnkpO1xuICByZXR1cm4gdHJhbnNmb3JtRW50cnkoZGVzYyk7XG59XG5cbi8qKlxuICogcmVtb3ZlcyBhIGdpdmVuIGRhdGFzZXRcbiAqIEBwYXJhbSBlbnRyeVxuICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmUoZW50cnk6IElEYXRhVHlwZSB8IElEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgZGVzYzogSURhdGFEZXNjcmlwdGlvbiA9ICg8SURhdGFUeXBlPmVudHJ5KS5kZXNjIHx8IDxJRGF0YURlc2NyaXB0aW9uPmVudHJ5O1xuXG4gIGF3YWl0IHNlbmRBUEkoYC9kYXRhc2V0LyR7ZGVzYy5pZH1gLCB7fSwgJ0RFTEVURScpO1xuICBjbGVhckNhY2hlKGRlc2MpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kYXRhLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAxMi4wMi4yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyMi4xMC4yMDE0LlxuICovXG5pbXBvcnQge0dyYXBoTm9kZSwgR3JhcGhFZGdlLCBBR3JhcGgsIElHcmFwaCwgSUdyYXBoRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuL2dyYXBoJztcbmV4cG9ydCB7SUdyYXBoRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuL2dyYXBoJztcbmltcG9ydCB7cmVzb2x2ZUltbWVkaWF0ZWx5fSBmcm9tICcuLi9pbnRlcm5hbC9wcm9taXNlJztcblxuZXhwb3J0IGludGVyZmFjZSBJR3JhcGhGYWN0b3J5IHtcbiAgbWFrZU5vZGUocDogYW55KTogR3JhcGhOb2RlO1xuICBtYWtlRWRnZShwOiBhbnksIGxvb2t1cDogKGlkOiBudW1iZXIpID0+IEdyYXBoTm9kZSk6IEdyYXBoRWRnZTtcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRHcmFwaEZhY3Rvcnk6IElHcmFwaEZhY3RvcnkgPSB7XG4gIG1ha2VOb2RlOiAocDogYW55KSA9PiAoKG5ldyBHcmFwaE5vZGUoKSkucmVzdG9yZShwKSksXG4gIG1ha2VFZGdlOiAocDogYW55LCBsb29rdXApID0+ICgobmV3IEdyYXBoRWRnZSgpKS5yZXN0b3JlKHAsIGxvb2t1cCkpXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaEJhc2UgZXh0ZW5kcyBBR3JhcGggaW1wbGVtZW50cyBJR3JhcGgge1xuICBwcml2YXRlIHJlYWRvbmx5IF9ub2RlczogR3JhcGhOb2RlW107XG4gIHByaXZhdGUgcmVhZG9ubHkgX2VkZ2VzOiBHcmFwaEVkZ2VbXTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGVzYzogSUdyYXBoRGF0YURlc2NyaXB0aW9uLCBub2RlczogR3JhcGhOb2RlW10gPSBbXSwgZWRnZXM6IEdyYXBoRWRnZVtdID0gW10pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX25vZGVzID0gbm9kZXM7XG4gICAgdGhpcy5fZWRnZXMgPSBlZGdlcztcbiAgfVxuXG4gIGdldCBub2RlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fbm9kZXM7XG4gIH1cblxuICBnZXQgZWRnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VkZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIG1pZ3JhdGUgb25lIGdyYXBoIHRvIGFub3RoZXIgY2xlYW5pbmcgdGhpcyBncmFwaCByZXR1cm5pbmcgbm9kZSByZWZlcmVuY2VzXG4gICAqIEByZXR1cm5zIHt7bm9kZXM6IEdyYXBoTm9kZVtdOyBlZGdlczogR3JhcGhFZGdlW119fVxuICAgKi9cbiAgbWlncmF0ZSgpOiBQcm9taXNlTGlrZTx7bm9kZXM6IEdyYXBoTm9kZVtdLCBlZGdlczogR3JhcGhFZGdlW119Pnx7bm9kZXM6IEdyYXBoTm9kZVtdLCBlZGdlczogR3JhcGhFZGdlW119IHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZXM6IHRoaXMubm9kZXMsXG4gICAgICBlZGdlczogdGhpcy5lZGdlc1xuICAgIH07XG4gIH1cblxuICBhZGROb2RlKG46IEdyYXBoTm9kZSk6IHRoaXN8UHJvbWlzZUxpa2U8dGhpcz4ge1xuICAgIHRoaXMubm9kZXMucHVzaChuKTtcbiAgICB0aGlzLmZpcmUoJ2FkZF9ub2RlJywgbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1cGRhdGVOb2RlKG46IEdyYXBoTm9kZSk6IHRoaXN8UHJvbWlzZUxpa2U8dGhpcz4ge1xuICAgIC8vc2luY2Ugd2Ugc3RvcmUgYSByZWZlcmVuY2Ugd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xuICAgIHRoaXMuZmlyZSgndXBkYXRlX25vZGUnLCBuKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbW92ZU5vZGUobjogR3JhcGhOb2RlKTogdGhpc3xQcm9taXNlTGlrZTx0aGlzPiB7XG4gICAgY29uc3QgaSA9IHRoaXMubm9kZXMuaW5kZXhPZihuKTtcbiAgICBpZiAoaSA8IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzLnNwbGljZShpLCAxKTtcbiAgICB0aGlzLmZpcmUoJ3JlbW92ZV9ub2RlJywgbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRFZGdlKGVkZ2VPclNvdXJjZTogR3JhcGhFZGdlIHwgR3JhcGhOb2RlLCB0eXBlPzogc3RyaW5nLCB0PzogR3JhcGhOb2RlKTogdGhpc3xQcm9taXNlTGlrZTx0aGlzPiB7XG4gICAgaWYgKGVkZ2VPclNvdXJjZSBpbnN0YW5jZW9mIEdyYXBoRWRnZSkge1xuICAgICAgY29uc3QgZSA9IDxHcmFwaEVkZ2U+ZWRnZU9yU291cmNlO1xuICAgICAgdGhpcy5lZGdlcy5wdXNoKGUpO1xuICAgICAgdGhpcy5maXJlKCdhZGRfZWRnZScsIGUsIGUudHlwZSwgZS5zb3VyY2UsIGUudGFyZ2V0KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGRFZGdlKG5ldyBHcmFwaEVkZ2UodHlwZSwgPEdyYXBoTm9kZT5lZGdlT3JTb3VyY2UsIHQpKTtcbiAgfVxuXG4gIHVwZGF0ZUVkZ2UoZTogR3JhcGhFZGdlKTogdGhpc3xQcm9taXNlTGlrZTx0aGlzPiB7XG4gICAgLy9zaW5jZSB3ZSBzdG9yZSBhIHJlZmVyZW5jZSB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gICAgdGhpcy5maXJlKCd1cGRhdGVfZWRnZScsIGUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlRWRnZShlOiBHcmFwaEVkZ2UpOiB0aGlzfFByb21pc2VMaWtlPHRoaXM+IHtcbiAgICBjb25zdCBpID0gdGhpcy5lZGdlcy5pbmRleE9mKGUpO1xuICAgIGlmIChpIDwgMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGUudGFrZURvd24oKTtcbiAgICB0aGlzLmVkZ2VzLnNwbGljZShpLCAxKTtcbiAgICB0aGlzLmZpcmUoJ3JlbW92ZV9lZGdlJywgZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbGVhcigpOiBQcm9taXNlPHRoaXM+IHtcbiAgICB0aGlzLm5vZGVzLnNwbGljZSgwLCB0aGlzLm5vZGVzLmxlbmd0aCk7XG4gICAgdGhpcy5lZGdlcy5zcGxpY2UoMCwgdGhpcy5lZGdlcy5sZW5ndGgpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIGNvbnN0IHI6IGFueSA9IHtcbiAgICAgIHJvb3Q6IHRoaXMuZGVzYy5pZFxuICAgIH07XG4gICAgci5ub2RlcyA9IHRoaXMubm9kZXMubWFwKChzKSA9PiBzLnBlcnNpc3QoKSk7XG4gICAgci5lZGdlcyA9IHRoaXMuZWRnZXMubWFwKChsKSA9PiBsLnBlcnNpc3QoKSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICByZXN0b3JlKGR1bXA6IGFueSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ3JhcGgvR3JhcGhCYXNlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAxMi4wMi4yMDE1LlxuICovXG5pbXBvcnQge21peGluLCBoYXNoLCByZXNvbHZlSW59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7SURUeXBlLCBTZWxlY3RPcGVyYXRpb24sIGRlZmF1bHRTZWxlY3Rpb25UeXBlLCByZXNvbHZlIGFzIHJlc29sdmVJRFR5cGV9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQge1JhbmdlLCBsaXN0IGFzIHJsaXN0LCBSYW5nZTFELCBhbGx9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7QURhdGFUeXBlfSBmcm9tICcuLi9kYXRhdHlwZSc7XG5pbXBvcnQge2xpc3QgYXMgbGlzdFBsdWdpbnMsIGxvYWQgYXMgbG9hZFBsdWdpbn0gZnJvbSAnLi4vcGx1Z2luJztcbmltcG9ydCBPYmplY3ROb2RlLCB7SU9iamVjdFJlZiwgY2F0fSBmcm9tICcuL09iamVjdE5vZGUnO1xuaW1wb3J0IFN0YXRlTm9kZSwge30gZnJvbSAnLi9TdGF0ZU5vZGUnO1xuaW1wb3J0IEFjdGlvbk5vZGUsIHtJQWN0aW9uLCBtZXRhLCBBY3Rpb25NZXRhRGF0YX0gZnJvbSAnLi9BY3Rpb25Ob2RlJztcbmltcG9ydCBTbGlkZU5vZGUgZnJvbSAnLi9TbGlkZU5vZGUnO1xuaW1wb3J0IHtpc1R5cGUsIEdyYXBoRWRnZSwgR3JhcGhOb2RlfSBmcm9tICcuLi9ncmFwaC9ncmFwaCc7XG5pbXBvcnQgR3JhcGhCYXNlLCB7SUdyYXBoRmFjdG9yeSwgSUdyYXBoRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuLi9ncmFwaC9HcmFwaEJhc2UnO1xuaW1wb3J0IHtyZXNvbHZlSW1tZWRpYXRlbHl9IGZyb20gJy4uL2ludGVybmFsL3Byb21pc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24gZXh0ZW5kcyBJR3JhcGhEYXRhRGVzY3JpcHRpb24ge1xuICByZWFkb25seSBsb2NhbD86IGJvb2xlYW47XG4gIHJlYWRvbmx5IHNpemU6IFtudW1iZXIsIG51bWJlcl07XG4gIHJlYWRvbmx5IGF0dHJzOiB7XG4gICAgZ3JhcGh0eXBlOiBzdHJpbmc7XG4gICAgb2Y6IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJSW52ZXJzZUFjdGlvbkNyZWF0b3Ige1xuICAoaW5wdXRzOiBJT2JqZWN0UmVmPGFueT5bXSwgY3JlYXRlczogSU9iamVjdFJlZjxhbnk+W10sIHJlbW92ZXM6IElPYmplY3RSZWY8YW55PltdKTogSUFjdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ21kUmVzdWx0IHtcbiAgLyoqXG4gICAqIHRoZSBjb21tYW5kIHRvIHJldmVydCB0aGlzIGNvbW1hbmRcbiAgICovXG4gIGludmVyc2U6IElBY3Rpb24gfCBJSW52ZXJzZUFjdGlvbkNyZWF0b3I7XG4gIC8qKlxuICAgKiB0aGUgY3JlYXRlZCByZWZlcmVuY2VzXG4gICAqL1xuICBjcmVhdGVkPzogSU9iamVjdFJlZjxhbnk+W107XG4gIC8qKlxuICAgKiB0aGUgcmVtb3ZlZCByZWZlcmVuY2VzXG4gICAqL1xuICByZW1vdmVkPzogSU9iamVjdFJlZjxhbnk+W107XG5cbiAgLyoqXG4gICAqIHRoZW4gbnVtYmVyIG9mIGFjdHVhbCBtaWxsaXNlY29uZHMgY29uc3VtZWRcbiAgICovXG4gIGNvbnN1bWVkPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIGFic3RyYWN0IGRlZmluaXRpb24gb2YgYSBjb21tYW5kXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNtZEZ1bmN0aW9uIHtcbiAgKGlucHV0czogSU9iamVjdFJlZjxhbnk+W10sIHBhcmFtZXRlcnM6IGFueSwgZ3JhcGg6IFByb3ZlbmFuY2VHcmFwaCwgd2l0aGluOiBudW1iZXIpOiBQcm9taXNlTGlrZTxJQ21kUmVzdWx0PiB8IElDbWRSZXN1bHQ7XG59XG4vKipcbiAqIGEgZmFjdG9yeSB0byBjcmVhdGUgZnJvbSBhbiBpZCB0aGUgY29ycmVzcG9uZGluZyBjb21tYW5kXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNtZEZ1bmN0aW9uRmFjdG9yeSB7XG4gIChpZDogc3RyaW5nKTogSUNtZEZ1bmN0aW9uO1xufVxuXG5cbi8qKlxuICogYW4gYWN0aW9uIGNvbXByZXNzb3IgaXMgdXNlZCB0byBjb21wcmVzcyBhIHNlcmllcyBvZiBhY3Rpb24gdG8gZmV3ZXIgb25lLCBlLmcuIGNyZWF0ZSBhbmQgcmVtb3ZlIGNhbiBiZSBhbm5paGlsYXRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElBY3Rpb25Db21wcmVzc29yIHtcbiAgKHBhdGg6IEFjdGlvbk5vZGVbXSk6IEFjdGlvbk5vZGVbXTtcbn1cblxuXG5mdW5jdGlvbiByZW1vdmVOb29wcyhwYXRoOiBBY3Rpb25Ob2RlW10pIHtcbiAgcmV0dXJuIHBhdGguZmlsdGVyKChhKSA9PiBhLmZfaWQgIT09ICdub29wJyk7XG59XG5cbmZ1bmN0aW9uIGNvbXBvc2l0ZUNvbXByZXNzb3IoY3M6IElBY3Rpb25Db21wcmVzc29yW10pIHtcbiAgcmV0dXJuIChwYXRoOiBBY3Rpb25Ob2RlW10pID0+IHtcbiAgICBwYXRoID0gcmVtb3ZlTm9vcHMocGF0aCk7XG4gICAgbGV0IGJlZm9yZTogbnVtYmVyO1xuICAgIGRvIHtcbiAgICAgIGJlZm9yZSA9IHBhdGgubGVuZ3RoO1xuICAgICAgY3MuZm9yRWFjaCgoYykgPT4gcGF0aCA9IGMocGF0aCkpO1xuICAgIH0gd2hpbGUgKGJlZm9yZSA+IHBhdGgubGVuZ3RoKTtcbiAgICByZXR1cm4gcGF0aDtcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvbXByZXNzb3IocGF0aDogQWN0aW9uTm9kZVtdKSB7XG4gIGNvbnN0IHRvbG9hZCA9IGxpc3RQbHVnaW5zKCdhY3Rpb25Db21wcmVzc29yJykuZmlsdGVyKChwbHVnaW46IGFueSkgPT4ge1xuICAgIHJldHVybiBwYXRoLnNvbWUoKGFjdGlvbikgPT4gYWN0aW9uLmZfaWQubWF0Y2gocGx1Z2luLm1hdGNoZXMpICE9IG51bGwpO1xuICB9KTtcbiAgcmV0dXJuIGNvbXBvc2l0ZUNvbXByZXNzb3IoKGF3YWl0IGxvYWRQbHVnaW4odG9sb2FkKSkubWFwKChsKSA9PiA8SUFjdGlvbkNvbXByZXNzb3I+bC5mYWN0b3J5KSk7XG59XG4vKipcbiAqIHJldHVybnMgYSBjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIHBhdGhzIHdoZXJlIGp1c3QgdGhlIGxhc3Qgc2VsZWN0aW9uIG9wZXJhdGlvbiByZW1haW5zXG4gKiBAcGFyYW0gcGF0aFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29tcHJlc3MocGF0aDogQWN0aW9uTm9kZVtdKSB7XG4gIGlmIChwYXRoLmxlbmd0aCA8PSAxKSB7XG4gICAgcmV0dXJuIHBhdGg7IC8vY2FuJ3QgY29tcHJlc3Mgc2luZ2xlIG9uZVxuICB9XG4gIC8vcmV0dXJuIHJlc29sdmVJbW1lZGlhdGVseShwYXRoKTtcbiAgLy9UT0RPIGZpbmQgYSBzdHJhdGVneSBob3cgdG8gY29tcHJlc3MgYnV0IGFsc28gaW52ZXJ0IHNraXBwZWQgYWN0aW9uc1xuICBjb25zdCBjb21wcmVzc29yID0gYXdhaXQgY3JlYXRlQ29tcHJlc3NvcihwYXRoKTtcbiAgLy9yZXR1cm4gcGF0aDtcbiAgLy9jb25zb2xlLmxvZygnYmVmb3JlJywgcGF0aC5tYXAoKHBhdGgpID0+IHBhdGgudG9TdHJpbmcoKSkpO1xuICBsZXQgYmVmb3JlOiBudW1iZXI7XG4gIGRvIHtcbiAgICBiZWZvcmUgPSBwYXRoLmxlbmd0aDtcbiAgICBwYXRoID0gY29tcHJlc3NvcihwYXRoKTtcbiAgfSB3aGlsZSAoYmVmb3JlID4gcGF0aC5sZW5ndGgpO1xuICAvL2NvbnNvbGUubG9nKCdhZnRlcicsIHBhdGgubWFwKChwYXRoKSA9PiBwYXRoLnRvU3RyaW5nKCkpKTtcbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogZmluZCBjb21tb24gZWxlbWVudCBpbiB0aGUgbGlzdCBvZiB0d28gZWxlbWVudHMgcmV0dXJuaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSBmaXJzdCBzYW1lIGl0ZW1cbiAqIEBwYXJhbSBhXG4gKiBAcGFyYW0gYlxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZmluZENvbW1vbjxUPihhOiBUW10sIGI6IFRbXSkge1xuICBsZXQgYyA9IDA7XG4gIHdoaWxlIChjIDwgYS5sZW5ndGggJiYgYyA8IGIubGVuZ3RoICYmIGFbY10gPT09IGJbY10pIHsgLy9nbyB0byBuZXh0IHRpbGwgYSBkaWZmZXJlbmNlXG4gICAgYysrO1xuICB9XG4gIGlmIChjID09PSAwKSB7IC8vbm90IGV2ZW4gdGhlIHJvb3QgY29tbW9uXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpOiBjIC0gMSxcbiAgICBqOiBjIC0gMVxuICB9O1xufVxuXG5mdW5jdGlvbiBhc0Z1bmN0aW9uKGk6IGFueSkge1xuICBpZiAodHlwZW9mKGkpICE9PSAnZnVuY3Rpb24nKSB7IC8vbWFrZSBhIGZ1bmN0aW9uXG4gICAgcmV0dXJuICgpID0+IGk7XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIG5vb3AoaW5wdXRzOiBJT2JqZWN0UmVmPGFueT5bXSwgcGFyYW1ldGVyOiBhbnkpOiBJQ21kUmVzdWx0IHtcbiAgcmV0dXJuIHtcbiAgICBpbnZlcnNlOiBjcmVhdGVOb29wKClcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9vcCgpIHtcbiAgcmV0dXJuIHtcbiAgICBtZXRhOiBtZXRhKCdub29wJywgY2F0LmN1c3RvbSksXG4gICAgaWQ6ICdub29wJyxcbiAgICBmOiBub29wLFxuICAgIGlucHV0czogPElPYmplY3RSZWY8YW55PltdPltdLFxuICAgIHBhcmFtZXRlcjoge31cbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGF6eUNtZEZ1bmN0aW9uRmFjdG9yeSgpOiBJQ21kRnVuY3Rpb25GYWN0b3J5IHtcbiAgY29uc3QgZmFjdHMgPSBsaXN0UGx1Z2lucygnYWN0aW9uRmFjdG9yeScpO1xuICBjb25zdCBzaW5nbGVzID0gbGlzdFBsdWdpbnMoJ2FjdGlvbkZ1bmN0aW9uJyk7XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUZ1bihpZDogc3RyaW5nKSB7XG4gICAgaWYgKGlkID09PSAnbm9vcCcpIHtcbiAgICAgIHJldHVybiByZXNvbHZlSW1tZWRpYXRlbHkobm9vcCk7XG4gICAgfVxuICAgIGNvbnN0IHNpbmdsZSA9IHNpbmdsZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gaWQpO1xuICAgIGlmIChzaW5nbGUpIHtcbiAgICAgIHJldHVybiBzaW5nbGUubG9hZCgpLnRoZW4oKGYpID0+IGYuZmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGZhY3RvcnkgPSBmYWN0cy5maW5kKChmOiBhbnkpID0+IGlkLm1hdGNoKGYuY3JlYXRlcykgIT0gbnVsbCk7XG4gICAgaWYgKGZhY3RvcnkpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5LmxvYWQoKS50aGVuKChmKSA9PiBmLmZhY3RvcnkoaWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdubyBmYWN0b3J5IGZvdW5kIGZvciAnICsgaWQpO1xuICB9XG5cbiAgY29uc3QgbGF6eUZ1bmN0aW9uID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBsZXQgX3Jlc29sdmVkOiBQcm9taXNlTGlrZTxhbnk+ID0gbnVsbDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IGFueSwgaW5wdXRzOiBJT2JqZWN0UmVmPGFueT5bXSwgcGFyYW1ldGVyczogYW55KSB7XG4gICAgICBjb25zdCB0aGF0ID0gdGhpcywgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcbiAgICAgIGlmIChfcmVzb2x2ZWQgPT0gbnVsbCkge1xuICAgICAgICBfcmVzb2x2ZWQgPSByZXNvbHZlRnVuKGlkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzb2x2ZWQudGhlbigoZikgPT4gZi5hcHBseSh0aGF0LCBhcmdzKSk7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIChpZCkgPT4gbGF6eUZ1bmN0aW9uKGlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3ZlbmFuY2VHcmFwaEZhY3RvcnkoKTogSUdyYXBoRmFjdG9yeSB7XG4gIGNvbnN0IGZhY3RvcnkgPSBjcmVhdGVMYXp5Q21kRnVuY3Rpb25GYWN0b3J5KCk7XG4gIGNvbnN0IHR5cGVzOiBhbnkgPSB7XG4gICAgYWN0aW9uOiBBY3Rpb25Ob2RlLFxuICAgIHN0YXRlOiBTdGF0ZU5vZGUsXG4gICAgb2JqZWN0OiBPYmplY3ROb2RlLFxuICAgIHN0b3J5OiBTbGlkZU5vZGVcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBtYWtlTm9kZTogKG4pID0+IHR5cGVzW24udHlwZV0ucmVzdG9yZShuLCBmYWN0b3J5KSxcbiAgICBtYWtlRWRnZTogKG4sIGxvb2t1cCkgPT4gKChuZXcgR3JhcGhFZGdlKCkpLnJlc3RvcmUobiwgbG9va3VwKSlcbiAgfTtcbn1cblxuZXhwb3J0IGVudW0gUHJvdmVuYW5jZUdyYXBoRGltIHtcbiAgQWN0aW9uID0gMCxcbiAgT2JqZWN0ID0gMSxcbiAgU3RhdGUgPSAyLFxuICBTbGlkZSA9IDNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2xpZGVQYXRoKHM/OiBTbGlkZU5vZGUpIHtcbiAgY29uc3QgcjogU2xpZGVOb2RlW10gPSBbXTtcbiAgd2hpbGUgKHMpIHtcbiAgICBpZiAoci5pbmRleE9mKHMpID49IDApIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICByLnB1c2gocyk7XG4gICAgcyA9IHMubmV4dDtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUHJvdmVuYW5jZUdyYXBoTWFuYWdlciB7XG4gIGxpc3QoKTogUHJvbWlzZUxpa2U8SVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbltdPjtcbiAgZ2V0KGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlTGlrZTxQcm92ZW5hbmNlR3JhcGg+O1xuICBjcmVhdGUoKTogUHJvbWlzZUxpa2U8UHJvdmVuYW5jZUdyYXBoPjtcblxuICBlZGl0KGdyYXBoOiBJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9ufFByb3ZlbmFuY2VHcmFwaCwgZGVzYzogYW55KTogUHJvbWlzZUxpa2U8SVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbj47XG5cbiAgZGVsZXRlKGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlTGlrZTxib29sZWFuPjtcblxuICBpbXBvcnQoanNvbjogYW55KTogUHJvbWlzZUxpa2U8UHJvdmVuYW5jZUdyYXBoPjtcbn1cblxuZnVuY3Rpb24gZmluZE1ldGFPYmplY3Q8VD4oZmluZDogSU9iamVjdFJlZjxUPikge1xuICByZXR1cm4gKG9iajogT2JqZWN0Tm9kZTxhbnk+KSA9PiBmaW5kID09PSBvYmogfHwgKChvYmoudmFsdWUgPT09IG51bGwgfHwgb2JqLnZhbHVlID09PSBmaW5kLnZhbHVlKSAmJiAoZmluZC5oYXNoID09PSBvYmouaGFzaCkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm92ZW5hbmNlR3JhcGggZXh0ZW5kcyBBRGF0YVR5cGU8SVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbj4ge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBQUk9QQUdBVEVEX0VWRU5UUyA9IFsnc3luYycsICdhZGRfZWRnZScsICdhZGRfbm9kZScsICdzeW5jX25vZGUnLCAnc3luY19lZGdlJywgJ3N5bmNfc3RhcnQnXTtcbiAgcHJpdmF0ZSBfYWN0aW9uczogQWN0aW9uTm9kZVtdID0gW107XG4gIHByaXZhdGUgX29iamVjdHM6IE9iamVjdE5vZGU8YW55PltdID0gW107XG4gIHByaXZhdGUgX3N0YXRlczogU3RhdGVOb2RlW10gPSBbXTtcbiAgcHJpdmF0ZSBfc2xpZGVzOiBTbGlkZU5vZGVbXSA9IFtdO1xuXG4gIGFjdDogU3RhdGVOb2RlID0gbnVsbDtcbiAgcHJpdmF0ZSBsYXN0QWN0aW9uOiBBY3Rpb25Ob2RlID0gbnVsbDtcblxuICAvL2N1cnJlbnRseSBleGVjdXRpbmcgcHJvbWlzZVxuICBwcml2YXRlIGN1cnJlbnRseVJ1bm5pbmcgPSBmYWxzZTtcbiAgZXhlY3V0ZUN1cnJlbnRBY3Rpb25XaXRoaW4gPSAtMTtcbiAgcHJpdmF0ZSBuZXh0UXVldWU6ICgoKSA9PiBhbnkpW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihkZXNjOiBJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uLCBwdWJsaWMgYmFja2VuZDogR3JhcGhCYXNlKSB7XG4gICAgc3VwZXIoZGVzYyk7XG4gICAgdGhpcy5wcm9wYWdhdGUodGhpcy5iYWNrZW5kLCAuLi5Qcm92ZW5hbmNlR3JhcGguUFJPUEFHQVRFRF9FVkVOVFMpO1xuXG4gICAgaWYgKHRoaXMuYmFja2VuZC5ubm9kZXMgPT09IDApIHtcbiAgICAgIHRoaXMuYWN0ID0gbmV3IFN0YXRlTm9kZSgnU3RhcnQnKTtcbiAgICAgIHRoaXMuX3N0YXRlcy5wdXNoKHRoaXMuYWN0KTtcbiAgICAgIHRoaXMuYmFja2VuZC5hZGROb2RlKHRoaXMuYWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYWN0ID0gKDxhbnk+ZGVzYykuYWN0O1xuICAgICAgdGhpcy5fYWN0aW9ucyA9IDxhbnk+dGhpcy5iYWNrZW5kLm5vZGVzLmZpbHRlcigobikgPT4gKG4gaW5zdGFuY2VvZiBBY3Rpb25Ob2RlKSk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gPGFueT50aGlzLmJhY2tlbmQubm9kZXMuZmlsdGVyKChuKSA9PiAobiBpbnN0YW5jZW9mIE9iamVjdE5vZGUpKTtcbiAgICAgIHRoaXMuX3N0YXRlcyA9IDxhbnk+dGhpcy5iYWNrZW5kLm5vZGVzLmZpbHRlcigobikgPT4gKG4gaW5zdGFuY2VvZiBTdGF0ZU5vZGUpKTtcbiAgICAgIHRoaXMuX3NsaWRlcyA9IDxhbnk+dGhpcy5iYWNrZW5kLm5vZGVzLmZpbHRlcigobikgPT4gKG4gaW5zdGFuY2VvZiBTbGlkZU5vZGUpKTtcbiAgICAgIHRoaXMuYWN0ID0gPFN0YXRlTm9kZT4oYWN0ID49IDAgPyB0aGlzLmdldFN0YXRlQnlJZChhY3QpIDogdGhpcy5fc3RhdGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICBtaWdyYXRlQmFja2VuZChiYWNrZW5kOiBHcmFwaEJhc2UpIHtcbiAgICAvL2Fzc2VydHMgdGhhdCB0aGUgb2xkIGJhY2tlbmQgYW5kIHRoZSBuZXcgb25lIGhhdmUgdGhlIHNhbWUgbm9kZXMgaW5zaWRlIG9mIHRoZW1cbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbih0aGlzLmJhY2tlbmQsIC4uLlByb3ZlbmFuY2VHcmFwaC5QUk9QQUdBVEVEX0VWRU5UUyk7XG4gICAgdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgICB0aGlzLnByb3BhZ2F0ZSh0aGlzLmJhY2tlbmQsIC4uLlByb3ZlbmFuY2VHcmFwaC5QUk9QQUdBVEVEX0VWRU5UUyk7XG4gICAgLy9oYWNrIHRvIHVwZGF0ZSB0aGUgZGVzY3JpcHRpb24gb2JqZWN0XG4gICAgKDxhbnk+dGhpcykuZGVzYyA9IDxJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uPmJhY2tlbmQuZGVzYztcbiAgfVxuXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZXMubGVuZ3RoIDw9IDE7XG4gIH1cblxuICBnZXQgZGltKCkge1xuICAgIHJldHVybiBbdGhpcy5fYWN0aW9ucy5sZW5ndGgsIHRoaXMuX29iamVjdHMubGVuZ3RoLCB0aGlzLl9zdGF0ZXMubGVuZ3RoLCB0aGlzLl9zbGlkZXMubGVuZ3RoXTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2UgPSBhbGwoKSkge1xuICAgIGNvbnN0IHRvSUQgPSAoYTogYW55KSA9PiBhLmlkO1xuICAgIGNvbnN0IGFjdGlvbnMgPSBSYW5nZTFELmZyb20odGhpcy5fYWN0aW9ucy5tYXAodG9JRCkpO1xuICAgIGNvbnN0IG9iamVjdHMgPSBSYW5nZTFELmZyb20odGhpcy5fb2JqZWN0cy5tYXAodG9JRCkpO1xuICAgIGNvbnN0IHN0YXRlcyA9IFJhbmdlMUQuZnJvbSh0aGlzLl9zdGF0ZXMubWFwKHRvSUQpKTtcbiAgICBjb25zdCBzdG9yaWVzID0gUmFuZ2UxRC5mcm9tKHRoaXMuX3NsaWRlcy5tYXAodG9JRCkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmFuZ2UucHJlTXVsdGlwbHkocmxpc3QoYWN0aW9ucywgb2JqZWN0cywgc3RhdGVzLCBzdG9yaWVzKSkpO1xuICB9XG5cbiAgc2VsZWN0U3RhdGUoc3RhdGU6IFN0YXRlTm9kZSwgb3A6IFNlbGVjdE9wZXJhdGlvbiA9IFNlbGVjdE9wZXJhdGlvbi5TRVQsIHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSwgZXh0cmFzID0ge30pIHtcbiAgICB0aGlzLmZpcmUoJ3NlbGVjdF9zdGF0ZSxzZWxlY3Rfc3RhdGVfJyArIHR5cGUsIHN0YXRlLCB0eXBlLCBvcCwgZXh0cmFzKTtcbiAgICB0aGlzLnNlbGVjdChQcm92ZW5hbmNlR3JhcGhEaW0uU3RhdGUsIHR5cGUsIHN0YXRlID8gW3RoaXMuX3N0YXRlcy5pbmRleE9mKHN0YXRlKV0gOiBbXSwgb3ApO1xuICB9XG5cbiAgc2VsZWN0U2xpZGUoc3RhdGU6IFNsaWRlTm9kZSwgb3A6IFNlbGVjdE9wZXJhdGlvbiA9IFNlbGVjdE9wZXJhdGlvbi5TRVQsIHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSwgZXh0cmFzID0ge30pIHtcbiAgICB0aGlzLmZpcmUoJ3NlbGVjdF9zbGlkZSxzZWxlY3Rfc2xpZGVfJyArIHR5cGUsIHN0YXRlLCB0eXBlLCBvcCwgZXh0cmFzKTtcbiAgICB0aGlzLnNlbGVjdChQcm92ZW5hbmNlR3JhcGhEaW0uU2xpZGUsIHR5cGUsIHN0YXRlID8gW3RoaXMuX3NsaWRlcy5pbmRleE9mKHN0YXRlKV0gOiBbXSwgb3ApO1xuICB9XG5cbiAgc2VsZWN0QWN0aW9uKGFjdGlvbjogQWN0aW9uTm9kZSwgb3A6IFNlbGVjdE9wZXJhdGlvbiA9IFNlbGVjdE9wZXJhdGlvbi5TRVQsIHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSkge1xuICAgIHRoaXMuZmlyZSgnc2VsZWN0X2FjdGlvbixzZWxlY3RfYWN0aW9uXycgKyB0eXBlLCBhY3Rpb24sIHR5cGUsIG9wKTtcbiAgICB0aGlzLnNlbGVjdChQcm92ZW5hbmNlR3JhcGhEaW0uQWN0aW9uLCB0eXBlLCBhY3Rpb24gPyBbdGhpcy5fYWN0aW9ucy5pbmRleE9mKGFjdGlvbildIDogW10sIG9wKTtcbiAgfVxuXG4gIHNlbGVjdGVkU3RhdGVzKHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSk6IFN0YXRlTm9kZVtdIHtcbiAgICBjb25zdCBzZWwgPSB0aGlzLmlkdHlwZXNbUHJvdmVuYW5jZUdyYXBoRGltLlN0YXRlXS5zZWxlY3Rpb25zKHR5cGUpO1xuICAgIGlmIChzZWwuaXNOb25lKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBNYXA8bnVtYmVyLFN0YXRlTm9kZT4oKTtcbiAgICB0aGlzLl9zdGF0ZXMuZm9yRWFjaCgocykgPT4gbG9va3VwLnNldChzLmlkLCBzKSk7XG4gICAgY29uc3Qgbm9kZXM6IFN0YXRlTm9kZVtdID0gW107XG4gICAgc2VsLmRpbSgwKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgbiA9IGxvb2t1cC5nZXQoaWQpO1xuICAgICAgaWYgKG4pIHtcbiAgICAgICAgbm9kZXMucHVzaChuKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cblxuXG4gIHNlbGVjdGVkU2xpZGVzKHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSk6IFNsaWRlTm9kZVtdIHtcbiAgICBjb25zdCBzZWwgPSB0aGlzLmlkdHlwZXNbUHJvdmVuYW5jZUdyYXBoRGltLlNsaWRlXS5zZWxlY3Rpb25zKHR5cGUpO1xuICAgIGlmIChzZWwuaXNOb25lKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBNYXA8bnVtYmVyLCBTbGlkZU5vZGU+KCk7XG4gICAgdGhpcy5fc2xpZGVzLmZvckVhY2goKHMpID0+IGxvb2t1cC5zZXQocy5pZCwgcykpO1xuICAgIGNvbnN0IG5vZGVzIDpTbGlkZU5vZGVbXSA9IFtdO1xuICAgIHNlbC5kaW0oMCkuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBsb29rdXAuZ2V0KGlkKTtcbiAgICAgIGlmIChuKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9XG5cbiAgZ2V0IGlkdHlwZXMoKTogSURUeXBlW10ge1xuICAgIHJldHVybiBbJ19wcm92ZW5hbmNlX2FjdGlvbnMnLCAnX3Byb3ZlbmFuY2Vfb2JqZWN0cycsICdfcHJvdmVuYW5jZV9zdGF0ZXMnLCAnX3Byb3ZlbmFuY2Vfc3RvcmllcyddLm1hcChyZXNvbHZlSURUeXBlKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGNvbnN0IHIgPSB0aGlzLmJhY2tlbmQuY2xlYXIoKTtcbiAgICB0aGlzLl9zdGF0ZXMgPSBbXTtcbiAgICB0aGlzLl9hY3Rpb25zID0gW107XG4gICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgIHRoaXMuX3NsaWRlcyA9IFtdO1xuICAgIHRoaXMuYWN0ID0gbnVsbDtcbiAgICB0aGlzLmxhc3RBY3Rpb24gPSBudWxsO1xuXG4gICAgdGhpcy5hY3QgPSBuZXcgU3RhdGVOb2RlKCdzdGFydCcpO1xuICAgIHRoaXMuX3N0YXRlcy5wdXNoKHRoaXMuYWN0KTtcbiAgICB0aGlzLmJhY2tlbmQuYWRkTm9kZSh0aGlzLmFjdCk7XG5cbiAgICB0aGlzLmZpcmUoJ2NsZWFyJyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgfVxuXG4gIGdldCBzdGF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlcztcbiAgfVxuXG4gIGdldFN0YXRlQnlJZChpZDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlcy5maW5kKChzKSA9PiBzLmlkID09PSBpZCk7XG4gIH1cblxuICBnZXQgYWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aW9ucztcbiAgfVxuXG4gIGdldEFjdGlvbkJ5SWQoaWQ6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9hY3Rpb25zLmZpbmQoKHMpID0+IHMuaWQgPT09IGlkKTtcbiAgfVxuXG4gIGdldCBvYmplY3RzKCkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3RzO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlJZChpZDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMuZmluZCgocykgPT4gcy5pZCA9PT0gaWQpO1xuICB9XG5cbiAgZ2V0IHN0b3JpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NsaWRlcztcbiAgfVxuXG4gIGdldFNsaWRlQnlJZChpZDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NsaWRlcy5maW5kKChzKSA9PiBzLmlkID09PSBpZCk7XG4gIH1cblxuICBnZXRTbGlkZUNoYWlucygpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yaWVzLmZpbHRlcigobikgPT4gbi5pc1N0YXJ0KTtcbiAgfVxuXG4gIGdldFNsaWRlcygpOiBTbGlkZU5vZGVbXVtdIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTbGlkZUNoYWlucygpLm1hcCh0b1NsaWRlUGF0aCk7XG4gIH1cblxuICBnZXQgZWRnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja2VuZC5lZGdlcztcbiAgfVxuXG4gIHByaXZhdGUgYWRkRWRnZShzOiBHcmFwaE5vZGUsIHR5cGU6IHN0cmluZywgdDogR3JhcGhOb2RlLCBhdHRyczphbnkgPSB7fSkge1xuICAgIGNvbnN0IGwgPSBuZXcgR3JhcGhFZGdlKHR5cGUsIHMsIHQpO1xuICAgIE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKChhdHRyKSA9PiBsLnNldEF0dHIoYXR0ciwgYXR0cnNbYXR0cl0pKTtcbiAgICB0aGlzLmJhY2tlbmQuYWRkRWRnZShsKTtcbiAgICByZXR1cm4gbDtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQWN0aW9uKG1ldGE6IEFjdGlvbk1ldGFEYXRhLCBmdW5jdGlvbklkOiBzdHJpbmcsIGY6IElDbWRGdW5jdGlvbiwgaW5wdXRzOiBJT2JqZWN0UmVmPGFueT5bXSA9IFtdLCBwYXJhbWV0ZXI6IGFueSA9IHt9KSB7XG4gICAgY29uc3QgciA9IG5ldyBBY3Rpb25Ob2RlKG1ldGEsIGZ1bmN0aW9uSWQsIGYsIHBhcmFtZXRlcik7XG4gICAgcmV0dXJuIHRoaXMuaW5pdEFjdGlvbihyLCBpbnB1dHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0QWN0aW9uKHI6IEFjdGlvbk5vZGUsIGlucHV0czogSU9iamVjdFJlZjxhbnk+W10gPSBbXSkge1xuICAgIGNvbnN0IGlub2JqZWN0cyA9IGlucHV0cy5tYXAoKGkpID0+IFByb3ZlbmFuY2VHcmFwaC5maW5kSW5BcnJheSh0aGlzLl9vYmplY3RzLCBpKSk7XG4gICAgdGhpcy5fYWN0aW9ucy5wdXNoKHIpO1xuICAgIHRoaXMuYmFja2VuZC5hZGROb2RlKHIpO1xuICAgIHRoaXMuZmlyZSgnYWRkX2FjdGlvbicsIHIpO1xuICAgIGlub2JqZWN0cy5mb3JFYWNoKChvYmosIGkpID0+IHtcbiAgICAgIHRoaXMuYWRkRWRnZShyLCAncmVxdWlyZXMnLCBvYmosIHtpbmRleDogaX0pO1xuICAgIH0pO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgY3JlYXRlSW52ZXJzZShhY3Rpb246IEFjdGlvbk5vZGUsIGludmVydGVyOiBJSW52ZXJzZUFjdGlvbkNyZWF0b3IpIHtcbiAgICBjb25zdCBjcmVhdGVzID0gYWN0aW9uLmNyZWF0ZXMsXG4gICAgICByZW1vdmVzID0gYWN0aW9uLnJlbW92ZXM7XG4gICAgY29uc3QgaSA9IGludmVydGVyLmNhbGwoYWN0aW9uLCBhY3Rpb24ucmVxdWlyZXMsIGNyZWF0ZXMsIHJlbW92ZXMpO1xuICAgIGNvbnN0IGludmVydGVkID0gdGhpcy5jcmVhdGVBY3Rpb24oaS5tZXRhLCBpLmlkLCBpLmYsIGkuaW5wdXRzLCBpLnBhcmFtZXRlcik7XG4gICAgaW52ZXJ0ZWQub25jZUV4ZWN1dGVkID0gdHJ1ZTtcbiAgICB0aGlzLmFkZEVkZ2UoaW52ZXJ0ZWQsICdpbnZlcnNlcycsIGFjdGlvbik7XG5cbiAgICAvL3RoZSBpbnZlcnRlZCBhY3Rpb24gc2hvdWxkIGNyZWF0ZSB0aGUgcmVtb3ZlZCBvbmVzIGFuZCByZW1vdmVzIHRoZSBjcmF0ZWQgb25lc1xuICAgIHJlbW92ZXMuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgdGhpcy5hZGRFZGdlKGludmVydGVkLCAnY3JlYXRlcycsIGMsIHtpbmRleDogaX0pO1xuICAgIH0pO1xuICAgIGNyZWF0ZXMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgdGhpcy5hZGRFZGdlKGludmVydGVkLCAncmVtb3ZlcycsIGMpO1xuICAgIH0pO1xuXG4gICAgLy9jcmVhdGUgdGhlIGxvb3AgaW4gdGhlIHN0YXRlc1xuICAgIHRoaXMuYWRkRWRnZShhY3Rpb24ucmVzdWx0c0luLCAnbmV4dCcsIGludmVydGVkKTtcbiAgICB0aGlzLmFkZEVkZ2UoaW52ZXJ0ZWQsICdyZXN1bHRzSW4nLCBhY3Rpb24ucHJldmlvdXMpO1xuXG4gICAgcmV0dXJuIGludmVydGVkO1xuICB9XG5cbiAgcHVzaChhY3Rpb246IElBY3Rpb24pOiBQcm9taXNlPElDbWRSZXN1bHQ+O1xuICBwdXNoKG1ldGE6IEFjdGlvbk1ldGFEYXRhLCBmdW5jdGlvbklkOiBzdHJpbmcsIGY6IElDbWRGdW5jdGlvbiwgaW5wdXRzOiBJT2JqZWN0UmVmPGFueT5bXSwgcGFyYW1ldGVyOiBhbnkpOiBQcm9taXNlPElDbWRSZXN1bHQ+O1xuICBwdXNoKGFyZzogYW55LCBmdW5jdGlvbklkOiBzdHJpbmcgPSAnJywgZjogSUNtZEZ1bmN0aW9uID0gbnVsbCwgaW5wdXRzOiBJT2JqZWN0UmVmPGFueT5bXSA9IFtdLCBwYXJhbWV0ZXI6IGFueSA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuaW5PcmRlcigoKSA9PiB7XG4gICAgICBpZiAoYXJnIGluc3RhbmNlb2YgQWN0aW9uTWV0YURhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuKHRoaXMuY3JlYXRlQWN0aW9uKDxBY3Rpb25NZXRhRGF0YT5hcmcsIGZ1bmN0aW9uSWQsIGYsIGlucHV0cywgcGFyYW1ldGVyKSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBhID0gPElBY3Rpb24+YXJnO1xuICAgICAgICByZXR1cm4gdGhpcy5ydW4odGhpcy5jcmVhdGVBY3Rpb24oYS5tZXRhLCBhLmlkLCBhLmYsIGEuaW5wdXRzIHx8IFtdLCBhLnBhcmFtZXRlciB8fCB7fSksIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHVzaFdpdGhSZXN1bHQoYWN0aW9uOiBJQWN0aW9uLCByZXN1bHQ6IElDbWRSZXN1bHQpIHtcbiAgICByZXR1cm4gdGhpcy5pbk9yZGVyKCgpID0+IHtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLmNyZWF0ZUFjdGlvbihhY3Rpb24ubWV0YSwgYWN0aW9uLmlkLCBhY3Rpb24uZiwgYWN0aW9uLmlucHV0cyB8fCBbXSwgYWN0aW9uLnBhcmFtZXRlciB8fCB7fSk7XG4gICAgICByZXR1cm4gdGhpcy5ydW4oYSwgcmVzdWx0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZpbmRPYmplY3Q8VD4odmFsdWU6IFQpIHtcbiAgICBjb25zdCByID0gdGhpcy5fb2JqZWN0cy5maW5kKChvYmopID0+IG9iai52YWx1ZSA9PT0gdmFsdWUpO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuXG4gIGFkZE9iamVjdDxUPih2YWx1ZTogVCwgbmFtZTogc3RyaW5nID0gdmFsdWUgPyB2YWx1ZS50b1N0cmluZygpIDogJ051bGwnLCBjYXRlZ29yeSA9IGNhdC5kYXRhLCBoYXNoID0gbmFtZSArICdfJyArIGNhdGVnb3J5KSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0SW1wbCh2YWx1ZSwgbmFtZSwgY2F0ZWdvcnksIGhhc2gsIHRydWUpO1xuICB9XG5cbiAgYWRkSnVzdE9iamVjdDxUPih2YWx1ZTogVCwgbmFtZTogc3RyaW5nID0gdmFsdWUgPyB2YWx1ZS50b1N0cmluZygpIDogJ051bGwnLCBjYXRlZ29yeSA9IGNhdC5kYXRhLCBoYXNoID0gbmFtZSArICdfJyArIGNhdGVnb3J5KSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0SW1wbCh2YWx1ZSwgbmFtZSwgY2F0ZWdvcnksIGhhc2gsIGZhbHNlKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkT2JqZWN0SW1wbDxUPih2YWx1ZTogVCwgbmFtZTogc3RyaW5nID0gdmFsdWUgPyB2YWx1ZS50b1N0cmluZygpIDogJ051bGwnLCBjYXRlZ29yeSA9IGNhdC5kYXRhLCBoYXNoID0gbmFtZSArICdfJyArIGNhdGVnb3J5LCBjcmVhdGVFZGdlID0gZmFsc2UpIHtcbiAgICBjb25zdCByID0gbmV3IE9iamVjdE5vZGU8VD4odmFsdWUsIG5hbWUsIGNhdGVnb3J5LCBoYXNoKTtcbiAgICB0aGlzLl9vYmplY3RzLnB1c2gocik7XG4gICAgdGhpcy5iYWNrZW5kLmFkZE5vZGUocik7XG4gICAgaWYgKGNyZWF0ZUVkZ2UpIHtcbiAgICAgIHRoaXMuYWRkRWRnZSh0aGlzLmFjdCwgJ2NvbnNpc3RzT2YnLCByKTtcbiAgICB9XG4gICAgdGhpcy5maXJlKCdhZGRfb2JqZWN0Jywgcik7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmUoYXJyOiBJT2JqZWN0UmVmPGFueT5bXSkge1xuICAgIHJldHVybiBhcnIubWFwKChyKSA9PiB7XG4gICAgICBpZiAociBpbnN0YW5jZW9mIE9iamVjdE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIDxPYmplY3ROb2RlPGFueT4+cjtcbiAgICAgIH1cbiAgICAgIGlmICgoPGFueT5yKS5fcmVzb2x2ZXNUbyBpbnN0YW5jZW9mIE9iamVjdE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIDxPYmplY3ROb2RlPGFueT4+KDxhbnk+cikuX3Jlc29sdmVzVG87XG4gICAgICB9XG4gICAgICAvL2Vsc2UgY3JlYXRlIGEgbmV3IGluc3RhbmNlXG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFkZEp1c3RPYmplY3Qoci52YWx1ZSwgci5uYW1lLCByLmNhdGVnb3J5LCByLmhhc2gpO1xuICAgICAgKDxhbnk+cikuX3Jlc29sdmVzVG8gPSByZXN1bHQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZmluZEluQXJyYXkoYXJyOiBPYmplY3ROb2RlPGFueT5bXSwgcjogSU9iamVjdFJlZjxhbnk+KSB7XG4gICAgaWYgKHIgaW5zdGFuY2VvZiBPYmplY3ROb2RlKSB7XG4gICAgICByZXR1cm4gPE9iamVjdE5vZGU8YW55Pj5yO1xuICAgIH1cbiAgICBpZiAoKDxhbnk+cikuX3Jlc29sdmVzVG8gaW5zdGFuY2VvZiBPYmplY3ROb2RlKSB7XG4gICAgICByZXR1cm4gPE9iamVjdE5vZGU8YW55Pj4oPGFueT5yKS5fcmVzb2x2ZXNUbztcbiAgICB9XG4gICAgLy9lbHNlIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZVxuICAgIGNvbnN0IHJlc3VsdCA9IGFyci5maW5kKGZpbmRNZXRhT2JqZWN0KHIpKTtcbiAgICAoPGFueT5yKS5fcmVzb2x2ZXNUbyA9IHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZmluZE9yQWRkT2JqZWN0PFQ+KGk6IFR8SU9iamVjdFJlZjxUPiwgbmFtZT86IHN0cmluZywgdHlwZT86IGFueSk6IE9iamVjdE5vZGU8VD4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRPckFkZE9iamVjdEltcGwoaSwgbmFtZSwgdHlwZSwgdHJ1ZSk7XG4gIH1cblxuICBmaW5kT3JBZGRKdXN0T2JqZWN0PFQ+KGk6IFR8SU9iamVjdFJlZjxUPiwgbmFtZT86IHN0cmluZywgdHlwZT86IGFueSk6IE9iamVjdE5vZGU8VD4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRPckFkZE9iamVjdEltcGwoaSwgbmFtZSwgdHlwZSwgZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kT3JBZGRPYmplY3RJbXBsPFQ+KGk6IFR8SU9iamVjdFJlZjxUPiwgbmFtZT86IHN0cmluZywgdHlwZT86IGFueSwgY3JlYXRlRWRnZSA9IGZhbHNlKTogT2JqZWN0Tm9kZTxUPiB7XG4gICAgbGV0IHI6IE9iamVjdE5vZGU8VD47XG4gICAgY29uc3QgaiA9IDxhbnk+aTtcbiAgICBpZiAoaSBpbnN0YW5jZW9mIE9iamVjdE5vZGUpIHtcbiAgICAgIHJldHVybiA8T2JqZWN0Tm9kZTxUPj5pO1xuICAgIH1cbiAgICBpZiAoai5fcmVzb2x2ZXNUbyBpbnN0YW5jZW9mIE9iamVjdE5vZGUpIHtcbiAgICAgIHJldHVybiA8T2JqZWN0Tm9kZTxUPj5qLl9yZXNvbHZlc1RvO1xuICAgIH1cbiAgICBpZiAoai5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSAmJiBqLmhhc093blByb3BlcnR5KCduYW1lJykpIHsgLy9zb3VuZHMgbGlrZSBhbiBwcm94eVxuICAgICAgai5jYXRlZ29yeSA9IGouY2F0ZWdvcnkgfHwgY2F0LmRhdGE7XG4gICAgICByID0gdGhpcy5fb2JqZWN0cy5maW5kKGZpbmRNZXRhT2JqZWN0KGopKTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGlmIChyLnZhbHVlID09PSBudWxsKSB7IC8vcmVzdG9yZSBpbnN0YW5jZVxuICAgICAgICAgIHIudmFsdWUgPSBqLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vY2FjaGUgcmVzdWx0XG4gICAgICAgIGouX3Jlc29sdmVzVG8gPSByO1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdEltcGwoai52YWx1ZSwgai5uYW1lLCBqLmNhdGVnb3J5LCBqLmhhc2gsIGNyZWF0ZUVkZ2UpO1xuICAgIH0gZWxzZSB7IC8vcmF3IHZhbHVlXG4gICAgICByID0gdGhpcy5fb2JqZWN0cy5maW5kKChvYmopID0+IChvYmoudmFsdWUgPT09IG51bGwgfHwgb2JqLnZhbHVlID09PSBpKSAmJiAobmFtZSA9PT0gbnVsbCB8fCBvYmoubmFtZSA9PT0gbmFtZSkgJiYgKHR5cGUgPT09IG51bGwgfHwgdHlwZSA9PT0gb2JqLmNhdGVnb3J5KSk7XG4gICAgICBpZiAocikge1xuICAgICAgICBpZiAoci52YWx1ZSA9PT0gbnVsbCkgeyAvL3Jlc3RvcmUgaW5zdGFuY2VcbiAgICAgICAgICByLnZhbHVlID0gPFQ+aTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdEltcGwoPGFueT5pLCBuYW1lLCB0eXBlLCBuYW1lICsgJ18nICsgdHlwZSwgY3JlYXRlRWRnZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbk9yZGVyKGY6ICgpID0+IFByb21pc2VMaWtlPGFueT4pOiBQcm9taXNlTGlrZTxhbnk+IHtcbiAgICBpZiAodGhpcy5jdXJyZW50bHlSdW5uaW5nKSB7XG4gICAgICBsZXQgaGVscGVyOiAoKT0+dm9pZDtcbiAgICAgIGNvbnN0IHIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBoZWxwZXIgPSByZXNvbHZlLmJpbmQodGhpcyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubmV4dFF1ZXVlLnB1c2goaGVscGVyKTtcbiAgICAgIHJldHVybiByLnRoZW4oZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBleGVjdXRlZEFjdGlvbihhY3Rpb246IEFjdGlvbk5vZGUsIG5ld1N0YXRlOiBib29sZWFuLCByZXN1bHQ6IElDbWRSZXN1bHQpIHtcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5hY3Q7XG4gICAgY29uc3QgbmV4dCA9IGFjdGlvbi5yZXN1bHRzSW47XG4gICAgcmVzdWx0ID0gbWl4aW4oe2NyZWF0ZWQ6IFtdLCByZW1vdmVkOiBbXSwgaW52ZXJzZTogbnVsbCwgY29uc3VtZWQ6IDB9LCByZXN1bHQpO1xuICAgIHRoaXMuZmlyZSgnZXhlY3V0ZWQnLCBhY3Rpb24sIHJlc3VsdCk7XG5cbiAgICBjb25zdCBmaXJzdFRpbWUgPSAhYWN0aW9uLm9uY2VFeGVjdXRlZDtcbiAgICBhY3Rpb24ub25jZUV4ZWN1dGVkID0gdHJ1ZTtcblxuICAgIGxldCBjcmVhdGVkOiBPYmplY3ROb2RlPGFueT5bXTtcbiAgICBsZXQgcmVtb3ZlZDogT2JqZWN0Tm9kZTxhbnk+W107XG5cbiAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAvL2NyZWF0ZSBhbiBsaW5rIG91dHB1dHNcbiAgICAgIC8vXG4gICAgICBjcmVhdGVkID0gdGhpcy5yZXNvbHZlKHJlc3VsdC5jcmVhdGVkKTtcbiAgICAgIGNyZWF0ZWQuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgICB0aGlzLmFkZEVkZ2UoYWN0aW9uLCAnY3JlYXRlcycsIGMsIHtpbmRleDogaX0pO1xuICAgICAgfSk7XG4gICAgICAvLyBhIHJlbW92ZWQgb25lIHNob3VsZCBiZSBwYXJ0IG9mIHRoZSBpbnB1dHNcbiAgICAgIGNvbnN0IHJlcXVpcmVzID0gYWN0aW9uLnJlcXVpcmVzO1xuICAgICAgcmVtb3ZlZCA9IHJlc3VsdC5yZW1vdmVkLm1hcCgocikgPT4gUHJvdmVuYW5jZUdyYXBoLmZpbmRJbkFycmF5KHJlcXVpcmVzLCByKSk7XG4gICAgICByZW1vdmVkLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgYy52YWx1ZSA9IG51bGw7IC8vZnJlZSByZWZlcmVuY2VcbiAgICAgICAgdGhpcy5hZGRFZGdlKGFjdGlvbiwgJ3JlbW92ZXMnLCBjKTtcbiAgICAgIH0pO1xuXG4gICAgICAvL3VwZGF0ZSBuZXcgc3RhdGVcbiAgICAgIGlmIChuZXdTdGF0ZSkge1xuICAgICAgICBjb25zdCBvYmpzID0gY3VycmVudC5jb25zaXN0c09mO1xuICAgICAgICBvYmpzLnB1c2guYXBwbHkob2JqcywgY3JlYXRlZCk7XG4gICAgICAgIHJlbW92ZWQuZm9yRWFjaCgocikgPT4ge1xuICAgICAgICAgIGNvbnN0IGkgPSBvYmpzLmluZGV4T2Yocik7XG4gICAgICAgICAgb2Jqcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBvYmpzLmZvckVhY2goKG9iaikgPT4gdGhpcy5hZGRFZGdlKG5leHQsICdjb25zaXN0c09mJywgb2JqKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmZpcmUoJ2V4ZWN1dGVkX2ZpcnN0JywgYWN0aW9uLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlZCA9IGFjdGlvbi5jcmVhdGVzO1xuICAgICAgLy91cGRhdGUgY3JlYXRlcyByZWZlcmVuY2UgdmFsdWVzXG4gICAgICBjcmVhdGVkLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgICAgYy52YWx1ZSA9IHJlc3VsdC5jcmVhdGVkW2ldLnZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZW1vdmVkID0gYWN0aW9uLnJlbW92ZXM7XG4gICAgICByZW1vdmVkLmZvckVhY2goKGMpID0+IGMudmFsdWUgPSBudWxsKTtcbiAgICB9XG4gICAgcmVzdWx0LmludmVyc2UgPSBhc0Z1bmN0aW9uKHJlc3VsdC5pbnZlcnNlKTtcbiAgICBhY3Rpb24udXBkYXRlSW52ZXJzZSh0aGlzLCA8SUludmVyc2VBY3Rpb25DcmVhdG9yPnJlc3VsdC5pbnZlcnNlKTtcblxuICAgIHRoaXMuc3dpdGNoVG9JbXBsKGFjdGlvbiwgbmV4dCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uLFxuICAgICAgc3RhdGU6IG5leHQsXG4gICAgICBjcmVhdGVkLFxuICAgICAgcmVtb3ZlZCxcbiAgICAgIGNvbnN1bWVkOiByZXN1bHQuY29uc3VtZWRcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBydW4oYWN0aW9uOiBBY3Rpb25Ob2RlLCByZXN1bHQ6IElDbWRSZXN1bHQsIHdpdGhpbk1pbGxpc2Vjb25kczogbnVtYmVyIHwgKCgpID0+IG51bWJlcikgPSAtMSk6IFByb21pc2VMaWtlPElDbWRSZXN1bHQ+IHtcbiAgICBsZXQgbmV4dDogU3RhdGVOb2RlID0gYWN0aW9uLnJlc3VsdHNJbixcbiAgICAgIG5ld1N0YXRlID0gZmFsc2U7XG4gICAgaWYgKCFuZXh0KSB7IC8vY3JlYXRlIGEgbmV3IHN0YXRlXG4gICAgICBuZXdTdGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmFkZEVkZ2UodGhpcy5hY3QsICduZXh0JywgYWN0aW9uKTtcbiAgICAgIG5leHQgPSB0aGlzLm1ha2VTdGF0ZShhY3Rpb24ubWV0YS5uYW1lKTtcbiAgICAgIHRoaXMuYWRkRWRnZShhY3Rpb24sICdyZXN1bHRzSW4nLCBuZXh0KTtcbiAgICB9XG4gICAgdGhpcy5maXJlKCdleGVjdXRlJywgYWN0aW9uKTtcbiAgICBpZiAoaGFzaC5oYXMoJ2RlYnVnJykpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdleGVjdXRlICcgKyBhY3Rpb24ubWV0YSArICcgJyArIGFjdGlvbi5mX2lkKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50bHlSdW5uaW5nID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2Yod2l0aGluTWlsbGlzZWNvbmRzKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd2l0aGluTWlsbGlzZWNvbmRzID0gKDxhbnk+d2l0aGluTWlsbGlzZWNvbmRzKSgpO1xuICAgIH1cbiAgICB0aGlzLmV4ZWN1dGVDdXJyZW50QWN0aW9uV2l0aGluID0gPG51bWJlcj53aXRoaW5NaWxsaXNlY29uZHM7XG5cbiAgICBjb25zdCBydW5uaW5nQWN0aW9uID0gKHJlc3VsdCA/IHJlc29sdmVJbW1lZGlhdGVseShyZXN1bHQpIDogYWN0aW9uLmV4ZWN1dGUodGhpcywgdGhpcy5leGVjdXRlQ3VycmVudEFjdGlvbldpdGhpbikpLnRoZW4odGhpcy5leGVjdXRlZEFjdGlvbi5iaW5kKHRoaXMsIGFjdGlvbiwgbmV3U3RhdGUpKTtcblxuICAgIHJ1bm5pbmdBY3Rpb24udGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjb25zdCBxID0gdGhpcy5uZXh0UXVldWUuc2hpZnQoKTtcbiAgICAgIGlmIChxKSB7XG4gICAgICAgIHEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudGx5UnVubmluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJ1bm5pbmdBY3Rpb247XG4gIH1cblxuICBwcml2YXRlIHN3aXRjaFRvSW1wbChhY3Rpb246IEFjdGlvbk5vZGUsIHN0YXRlOiBTdGF0ZU5vZGUpIHtcbiAgICBsZXQgYmFrOiBhbnkgPSB0aGlzLmFjdDtcbiAgICB0aGlzLmFjdCA9IHN0YXRlO1xuICAgIHRoaXMuZmlyZSgnc3dpdGNoX3N0YXRlJywgc3RhdGUsIGJhayk7XG5cbiAgICBiYWsgPSB0aGlzLmxhc3RBY3Rpb247XG4gICAgdGhpcy5sYXN0QWN0aW9uID0gYWN0aW9uO1xuICAgIHRoaXMuZmlyZSgnc3dpdGNoX2FjdGlvbicsIGFjdGlvbiwgYmFrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBleGVjdXRlIGEgYnVuY2ggb2YgYWxyZWFkeSBleGVjdXRlZCBhY3Rpb25zXG4gICAqIEBwYXJhbSBhY3Rpb25zXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHJ1bkNoYWluKGFjdGlvbnM6IEFjdGlvbk5vZGVbXSwgd2l0aGluTWlsbGlzZWNvbmRzID0gLTEpIHtcbiAgICBpZiAoYWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmICh3aXRoaW5NaWxsaXNlY29uZHMgPiAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlSW4od2l0aGluTWlsbGlzZWNvbmRzKS50aGVuKCgpID0+IFtdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNvbHZlSW1tZWRpYXRlbHkoW10pO1xuICAgIH1cbiAgICAvL2FjdGlvbnMgPSBjb21wcmVzcyhhY3Rpb25zLCBudWxsKTtcbiAgICBjb25zdCBsYXN0ID0gYWN0aW9uc1thY3Rpb25zLmxlbmd0aCAtIDFdO1xuXG4gICAgY29uc3QgdG9ydW4gPSBhd2FpdCBjb21wcmVzcyhhY3Rpb25zKTtcblxuXG4gICAgbGV0IHJlbWFpbmluZyA9IHdpdGhpbk1pbGxpc2Vjb25kcztcblxuICAgIGZ1bmN0aW9uIGd1ZXNzVGltZShpbmRleDogbnVtYmVyKSB7XG4gICAgICBjb25zdCBsZWZ0ID0gdG9ydW4ubGVuZ3RoIC0gaW5kZXg7XG4gICAgICByZXR1cm4gKCkgPT4gcmVtYWluaW5nIDwgMCA/IC0xIDogcmVtYWluaW5nIC8gbGVmdDsgLy91bmlmb3JtbHkgZGlzdHJpYnV0ZVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoY29uc3VtZWQ6IG51bWJlcikge1xuICAgICAgcmVtYWluaW5nIC09IGNvbnN1bWVkO1xuICAgIH1cblxuICAgIHRoaXMuZmlyZSgncnVuX2NoYWluJywgdG9ydW4pO1xuICAgIGNvbnN0IHJlc3VsdHMgPVtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9ydW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IHRvcnVuW2ldO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5ydW4oYWN0aW9uLCBudWxsLCB3aXRoaW5NaWxsaXNlY29uZHMgPCAwID8gLTEgOiBndWVzc1RpbWUoaSkpO1xuICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICB1cGRhdGVUaW1lKHJlc3VsdC5jb25zdW1lZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0ICE9PSBsYXN0LnJlc3VsdHNJbikge1xuICAgICAgdGhpcy5zd2l0Y2hUb0ltcGwobGFzdCwgbGFzdC5yZXN1bHRzSW4pO1xuICAgIH1cbiAgICB0aGlzLmZpcmUoJ3Jhbl9jaGFpbicsIHRoaXMuYWN0LCB0b3J1bik7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICB1bmRvKCkge1xuICAgIGlmICghdGhpcy5sYXN0QWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KG51bGwpO1xuICAgIH1cbiAgICAvL2NyZWF0ZSBhbmQgc3RvcmUgdGhlIGludmVyc2VcbiAgICBpZiAodGhpcy5sYXN0QWN0aW9uLmludmVyc2VzICE9IG51bGwpIHtcbiAgICAgIC8vdW5kbyBhbmQgdW5kb2luZyBzaG91bGQgc3RpbGwgZ28gb25lIHVwXG4gICAgICByZXR1cm4gdGhpcy5qdW1wVG8odGhpcy5hY3QucHJldmlvdXNTdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmluT3JkZXIoKCkgPT4gdGhpcy5ydW4odGhpcy5sYXN0QWN0aW9uLmdldE9yQ3JlYXRlSW52ZXJzZSh0aGlzKSwgbnVsbCkpO1xuICAgIH1cbiAgfVxuXG4gIGp1bXBUbyhzdGF0ZTogU3RhdGVOb2RlLCB3aXRoaW5NaWxsaXNlY29uZHMgPSAtMSkge1xuICAgIHJldHVybiB0aGlzLmluT3JkZXIoKCkgPT4ge1xuICAgICAgbGV0IGFjdGlvbnM6IEFjdGlvbk5vZGVbXSA9IFtdO1xuICAgICAgY29uc3QgYWN0ID0gdGhpcy5hY3Q7XG4gICAgICBpZiAoYWN0ID09PSBzdGF0ZSkgeyAvL2p1bXAgdG8gbXlzZWxmXG4gICAgICAgIHJldHVybiB3aXRoaW5NaWxsaXNlY29uZHMgPj0gMCA/IHJlc29sdmVJbih3aXRoaW5NaWxsaXNlY29uZHMpLnRoZW4oKCkgPT4gW10pIDogcmVzb2x2ZUltbWVkaWF0ZWx5KFtdKTtcbiAgICAgIH1cbiAgICAgIC8vbGV0cyBsb29rIGF0IHRoZSBzaW1wbGUgcGFzdFxuICAgICAgY29uc3QgYWN0UGF0aCA9IGFjdC5wYXRoLFxuICAgICAgICB0YXJnZXRQYXRoID0gc3RhdGUucGF0aDtcbiAgICAgIGNvbnN0IGNvbW1vbiA9IGZpbmRDb21tb24oYWN0UGF0aCwgdGFyZ2V0UGF0aCk7XG4gICAgICBpZiAoY29tbW9uKSB7XG4gICAgICAgIGNvbnN0IHRvUmV2ZXJ0ID0gYWN0UGF0aC5zbGljZShjb21tb24uaSArIDEpLnJldmVyc2UoKSxcbiAgICAgICAgICB0b0ZvcndhcmQgPSB0YXJnZXRQYXRoLnNsaWNlKGNvbW1vbi5qICsgMSk7XG4gICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdCh0b1JldmVydC5tYXAoKHIpID0+IHIucmVzdWx0c0Zyb21bMF0uZ2V0T3JDcmVhdGVJbnZlcnNlKHRoaXMpKSk7XG4gICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdCh0b0ZvcndhcmQubWFwKChyKSA9PiByLnJlc3VsdHNGcm9tWzBdKSk7XG4gICAgICB9XG4gICAgICAvL25vIGluIHRoZSBkaXJlY3QgYnJhbmNoZXMgbWF5YmUgaW4gZGlmZmVyZW50IGxvb3AgaW5zdGFuY2VzP1xuICAgICAgLy9UT0RPXG4gICAgICByZXR1cm4gdGhpcy5ydW5DaGFpbihhY3Rpb25zLCB3aXRoaW5NaWxsaXNlY29uZHMpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBhY3Rpb24gdGhlIGFjdGlvbiB0byBmb3JrIGFuZCBhdHRhY2ggdG8gdGFyZ2V0XG4gICAqIEBwYXJhbSB0YXJnZXQgdGhlIHN0YXRlIHRvIGF0dGFjaCB0aGUgZ2l2ZW4gYWN0aW9uIGFuZCBhbGwgb2YgdGhlIHJlc3RcbiAgICogQHBhcmFtIG9iamVjdFJlcGxhY2VtZW50cyBtYXBwaW5ncyBvZiBvYmplY3QgcmVwbGFjZW1lbnRzXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZm9yayhhY3Rpb246IEFjdGlvbk5vZGUsIHRhcmdldDogU3RhdGVOb2RlLCBvYmplY3RSZXBsYWNlbWVudHM6IHtmcm9tOiBJT2JqZWN0UmVmPGFueT4sIHRvOiBJT2JqZWN0UmVmPGFueT59W10gPSBbXSkge1xuICAgIC8vc2FuaXR5IGNoZWNrIGlmIHRhcmdldCBpcyBhIGNoaWxkIG9mIHRhcmdldCAuLi4gYmFkXG4gICAgLy9jb2xsZWN0IGFsbCBzdGF0ZXNcbiAgICBjb25zdCBhbGw6IFN0YXRlTm9kZVtdID0gW107XG4gICAgY29uc3QgcXVldWUgPSBbYWN0aW9uLnJlc3VsdHNJbl07XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5leHQgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgaWYgKGFsbC5pbmRleE9mKG5leHQpID49IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBhbGwucHVzaChuZXh0KTtcbiAgICAgIHF1ZXVlLnB1c2guYXBwbHkocXVldWUsIG5leHQubmV4dFN0YXRlcyk7XG4gICAgfVxuICAgIGlmIChhbGwuaW5kZXhPZih0YXJnZXQpID49IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy90YXJnZXQgaXMgYSBjaGlsZCBvZiBzdGF0ZVxuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldE9iamVjdHMgPSB0YXJnZXQuY29uc2lzdHNPZjtcbiAgICBjb25zdCBzb3VyY2VPYmplY3RzID0gYWN0aW9uLnByZXZpb3VzLmNvbnNpc3RzT2Y7XG4gICAgLy9mdW5jdGlvbiBpc1NhbWUoYTogYW55W10sIGIgOiBhbnlbXSkge1xuICAgIC8vICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoKGFpLCBpKSA9PiBhaSA9PT0gYltpXSk7XG4gICAgLy99XG4gICAgLy9pZiAoaXNTYW1lKHRhcmdldE9iamVjdHMsIHNvdXJjZU9iamVjdHMpKSB7XG4gICAgLy9ubyBzdGF0ZSBjaGFuZ2UgfiBzaW1pbGFyIHN0YXRlLCBqdXN0IGNyZWF0ZSBhIGxpbmtcbiAgICAvL3dlIGNhbiBjb3B5IHRoZSBhY3Rpb24gYW5kIHBvaW50IHRvIHRoZSBzYW1lIHRhcmdldFxuICAgIC8vICBjb25zdCBjbG9uZSA9IHRoaXMuaW5pdEFjdGlvbihhY3Rpb24uY2xvbmUoKSwgYWN0aW9uLnJlcXVpcmVzKTtcbiAgICAvLyAgdGhpcy5hZGRFZGdlKHRhcmdldCwgJ25leHQnLCBjbG9uZSk7XG4gICAgLy8gIHRoaXMuYWRkRWRnZShjbG9uZSwgJ3Jlc3VsdHNJbicsIGFjdGlvbi5yZXN1bHRzSW4pO1xuICAgIC8vfSBlbHNlIHtcbiAgICBjb25zdCByZW1vdmVkT2JqZWN0cyA9IHNvdXJjZU9iamVjdHMuZmlsdGVyKChvKSA9PiB0YXJnZXRPYmplY3RzLmluZGV4T2YobykgPCAwKTtcbiAgICBjb25zdCByZXBsYWNlbWVudHM6IHtbaWQ6IHN0cmluZ106IElPYmplY3RSZWY8YW55Pn0gPSB7fTtcbiAgICBvYmplY3RSZXBsYWNlbWVudHMuZm9yRWFjaCgoZCkgPT4gcmVwbGFjZW1lbnRzW3RoaXMuZmluZE9yQWRkT2JqZWN0KGQuZnJvbSkuaWRdID0gZC50byk7XG4gICAgLy9uZWVkIHRvIGNvcHkgYWxsIHRoZSBzdGF0ZXMgYW5kIGFjdGlvbnNcbiAgICB0aGlzLmNvcHlCcmFuY2goYWN0aW9uLCB0YXJnZXQsIHJlbW92ZWRPYmplY3RzLCByZXBsYWNlbWVudHMpO1xuICAgIC8vfVxuXG4gICAgdGhpcy5maXJlKCdmb3JrZWRfYnJhbmNoJywgYWN0aW9uLCB0YXJnZXQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBjb3B5QWN0aW9uKGFjdGlvbjogQWN0aW9uTm9kZSwgYXBwZW5kVG86IFN0YXRlTm9kZSwgb2JqZWN0UmVwbGFjZW1lbnRzOiB7W2lkOiBzdHJpbmddOiBJT2JqZWN0UmVmPGFueT59KSB7XG4gICAgY29uc3QgY2xvbmUgPSB0aGlzLmluaXRBY3Rpb24oYWN0aW9uLmNsb25lKCksIGFjdGlvbi5yZXF1aXJlcy5tYXAoKGEpID0+IG9iamVjdFJlcGxhY2VtZW50c1tTdHJpbmcoYS5pZCldIHx8IGEpKTtcbiAgICB0aGlzLmFkZEVkZ2UoYXBwZW5kVG8sICduZXh0JywgY2xvbmUpO1xuICAgIGNvbnN0IHMgPSB0aGlzLm1ha2VTdGF0ZShhY3Rpb24ucmVzdWx0c0luLm5hbWUsIGFjdGlvbi5yZXN1bHRzSW4uZGVzY3JpcHRpb24pO1xuICAgIHRoaXMuYWRkRWRnZShjbG9uZSwgJ3Jlc3VsdHNJbicsIHMpO1xuICAgIHJldHVybiBzO1xuICB9XG5cbiAgcHJpdmF0ZSBjb3B5QnJhbmNoKGFjdGlvbjogQWN0aW9uTm9kZSwgdGFyZ2V0OiBTdGF0ZU5vZGUsIHJlbW92ZWRPYmplY3Q6IE9iamVjdE5vZGU8YW55PltdLCBvYmplY3RSZXBsYWNlbWVudHM6IHtbaWQ6IHN0cmluZ106IElPYmplY3RSZWY8YW55Pn0pIHtcbiAgICBjb25zdCBxdWV1ZSA9IFt7YTogYWN0aW9uLCBiOiB0YXJnZXR9XTtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbmV4dCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICBsZXQgYiA9IG5leHQuYjtcbiAgICAgIGNvbnN0IGEgPSBuZXh0LmE7XG4gICAgICBjb25zdCBzb21lUmVtb3ZlZE9iamVjdFJlcXVpcmVkID0gYS5yZXF1aXJlcy5zb21lKChhaSkgPT4gcmVtb3ZlZE9iamVjdC5pbmRleE9mKGFpKSA+PSAwICYmICEoU3RyaW5nKGFpLmlkKSBpbiBvYmplY3RSZXBsYWNlbWVudHMpKTtcbiAgICAgIGlmICghc29tZVJlbW92ZWRPYmplY3RSZXF1aXJlZCkge1xuICAgICAgICAvL2NvcHkgaXQgYW5kIGNyZWF0ZSBhIG5ldyBwYWlyIHRvIGV4ZWN1dGVcbiAgICAgICAgYiA9IHRoaXMuY29weUFjdGlvbihhLCBuZXh0LmIsIG9iamVjdFJlcGxhY2VtZW50cyk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoLmFwcGx5KHF1ZXVlLCBhLnJlc3VsdHNJbi5uZXh0Lm1hcCgoYWEpID0+ICh7YTogYWEsIGJ9KSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbWFrZVN0YXRlKG5hbWU6IHN0cmluZywgZGVzY3JpcHRpb24gPSAnJykge1xuICAgIGNvbnN0IHMgPSBuZXcgU3RhdGVOb2RlKG5hbWUsIGRlc2NyaXB0aW9uKTtcbiAgICB0aGlzLl9zdGF0ZXMucHVzaChzKTtcbiAgICB0aGlzLmJhY2tlbmQuYWRkTm9kZShzKTtcbiAgICB0aGlzLmZpcmUoJ2FkZF9zdGF0ZScsIHMpO1xuICAgIHJldHVybiBzO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICBjb25zdCByID0gKDxhbnk+dGhpcy5iYWNrZW5kKS5wZXJzaXN0KCk7XG4gICAgci5hY3QgPSB0aGlzLmFjdCA/IHRoaXMuYWN0LmlkIDogbnVsbDtcbiAgICByLmxhc3RBY3Rpb24gPSB0aGlzLmxhc3RBY3Rpb24gPyB0aGlzLmxhc3RBY3Rpb24uaWQgOiBudWxsO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgLypcbiAgIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpIHtcbiAgIGNvbnN0IGxvb2t1cCA9IHt9LFxuICAgbG9va3VwRnVuID0gKGlkKSA9PiBsb29rdXBbaWRdO1xuICAgY29uc3QgdHlwZXMgPSB7XG4gICBhY3Rpb246IEFjdGlvbk5vZGUsXG4gICBzdGF0ZTogU3RhdGVOb2RlLFxuICAgb2JqZWN0OiBPYmplY3ROb2RlXG4gICB9O1xuICAgdGhpcy5jbGVhcigpO1xuICAgcGVyc2lzdGVkLm5vZGVzLmZvckVhY2goKHApID0+IHtcbiAgIHZhciBuID0gdHlwZXNbcC50eXBlXS5yZXN0b3JlKHAsIGZhY3RvcnkpO1xuICAgbG9va3VwW24uaWRdID0gbjtcbiAgIGlmIChuIGluc3RhbmNlb2YgQWN0aW9uTm9kZSkge1xuICAgdGhpcy5fYWN0aW9ucy5wdXNoKG4pO1xuICAgfSBlbHNlIGlmIChuIGluc3RhbmNlb2YgU3RhdGVOb2RlKSB7XG4gICB0aGlzLl9zdGF0ZXMucHVzaChuKTtcbiAgIH0gZWxzZSBpZiAobiBpbnN0YW5jZW9mIE9iamVjdE5vZGUpIHtcbiAgIHRoaXMuX29iamVjdHMucHVzaChuKTtcbiAgIH1cbiAgIHRoaXMuYmFja2VuZC5hZGROb2RlKG4pO1xuICAgfSk7XG4gICBpZiAocGVyc2lzdGVkLmFjdCkge1xuICAgdGhpcy5hY3QgPSBsb29rdXBbcGVyc2lzdGVkLmlkXTtcbiAgIH1cbiAgIGlmIChwZXJzaXN0ZWQubGFzdEFjdGlvbikge1xuICAgdGhpcy5sYXN0QWN0aW9uID0gbG9va3VwW3BlcnNpc3RlZC5sYXN0QWN0aW9uXTtcbiAgIH1cblxuICAgcGVyc2lzdGVkLmVkZ2VzLmZvckVhY2goKHApID0+IHtcbiAgIHZhciBuID0gKG5ldyBncmFwaC5HcmFwaEVkZ2UoKSkucmVzdG9yZShwLCBsb29rdXBGdW4pO1xuICAgdGhpcy5iYWNrZW5kLmFkZEVkZ2Uobik7XG4gICB9KTtcbiAgIHJldHVybiB0aGlzO1xuICAgfSovXG5cblxuICB3cmFwQXNTbGlkZShzdGF0ZTogU3RhdGVOb2RlKSB7XG4gICAgY29uc3Qgbm9kZSA9IG5ldyBTbGlkZU5vZGUoKTtcbiAgICBub2RlLm5hbWUgPSBzdGF0ZS5uYW1lO1xuICAgIHRoaXMuYWRkRWRnZShub2RlLCAnanVtcFRvJywgc3RhdGUpO1xuICAgIHRoaXMuX3NsaWRlcy5wdXNoKG5vZGUpO1xuICAgIHRoaXMuYmFja2VuZC5hZGROb2RlKG5vZGUpO1xuICAgIHRoaXMuZmlyZSgnYWRkX3NsaWRlJywgbm9kZSk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBjbG9uZVNpbmdsZVNsaWRlTm9kZShzdGF0ZTogU2xpZGVOb2RlKSB7XG4gICAgY29uc3QgY2xvbmUgPSBzdGF0ZS5zdGF0ZSAhPSBudWxsID8gdGhpcy53cmFwQXNTbGlkZShzdGF0ZS5zdGF0ZSkgOiB0aGlzLm1ha2VUZXh0U2xpZGUoKTtcbiAgICBzdGF0ZS5hdHRycy5mb3JFYWNoKChhdHRyKSA9PiB7XG4gICAgICBpZiAoYXR0ciAhPT0gJ2Fubm90YXRpb25zJykge1xuICAgICAgICBjbG9uZS5zZXRBdHRyKGF0dHIsIHN0YXRlLmdldEF0dHIoYXR0ciwgbnVsbCkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNsb25lLnNldEF0dHIoJ2Fubm90YXRpb25zJywgc3RhdGUuYW5ub3RhdGlvbnMubWFwKChhKSA9PiBtaXhpbih7fSwgYSkpKTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cblxuICAvKipcbiAgICogY3JlYXRlcyBhIG5ldyBzbGlkZSBvZiB0aGUgZ2l2ZW4gU3RhdGVOb2RlIGJ5IGp1bXBpbmcgdG8gdGhlbVxuICAgKiBAcGFyYW0gc3RhdGVzXG4gICAqL1xuICBleHRyYWN0U2xpZGUoc3RhdGVzOiBTdGF0ZU5vZGVbXSwgYWRkU3RhcnRFbmQgPSB0cnVlKTogU2xpZGVOb2RlIHtcbiAgICBjb25zdCBhZGRTbGlkZSA9IChub2RlOiBTbGlkZU5vZGUpID0+IHtcbiAgICAgIHRoaXMuX3NsaWRlcy5wdXNoKG5vZGUpO1xuICAgICAgdGhpcy5iYWNrZW5kLmFkZE5vZGUobm9kZSk7XG4gICAgICB0aGlzLmZpcmUoJ2FkZF9zbGlkZScsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICBsZXQgc2xpZGU6IFNsaWRlTm9kZSA9IGFkZFN0YXJ0RW5kID8gYWRkU2xpZGUoU2xpZGVOb2RlLm1ha2VUZXh0KCdVbm5hbWVkIFN0b3J5JykpIDogbnVsbCxcbiAgICAgIHByZXYgPSBzbGlkZTtcbiAgICBzdGF0ZXMuZm9yRWFjaCgocywgaSkgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IGFkZFNsaWRlKG5ldyBTbGlkZU5vZGUoKSk7XG4gICAgICBub2RlLm5hbWUgPSBzLm5hbWU7XG4gICAgICB0aGlzLmFkZEVkZ2Uobm9kZSwgJ2p1bXBUbycsIHMpO1xuICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgdGhpcy5hZGRFZGdlKHByZXYsICduZXh0Jywgbm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZSA9IG5vZGU7XG4gICAgICB9XG4gICAgICBwcmV2ID0gbm9kZTtcbiAgICB9KTtcblxuICAgIGlmIChhZGRTdGFydEVuZCkge1xuICAgICAgY29uc3QgbGFzdCA9IFNsaWRlTm9kZS5tYWtlVGV4dCgnVGhhbmtzJyk7XG4gICAgICBhZGRTbGlkZShsYXN0KTtcbiAgICAgIHRoaXMuYWRkRWRnZShwcmV2LCAnbmV4dCcsIGxhc3QpO1xuICAgIH1cblxuICAgIHRoaXMuZmlyZSgnZXh0cmFjdF9zbGlkZScsIHNsaWRlKTtcbiAgICB0aGlzLnNlbGVjdFNsaWRlKHNsaWRlKTtcbiAgICByZXR1cm4gc2xpZGU7XG4gIH1cblxuICBzdGFydE5ld1NsaWRlKHRpdGxlPzogc3RyaW5nLCBzdGF0ZXM6IFN0YXRlTm9kZVtdID0gW10pIHtcbiAgICBjb25zdCBzID0gdGhpcy5tYWtlVGV4dFNsaWRlKHRpdGxlKTtcbiAgICBpZiAoc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHMyID0gdGhpcy5leHRyYWN0U2xpZGUoc3RhdGVzLCBmYWxzZSk7XG4gICAgICB0aGlzLmFkZEVkZ2UocywgJ25leHQnLCBzMik7XG4gICAgfVxuICAgIHRoaXMuZmlyZSgnc3RhcnRfc2xpZGUnLCBzKTtcbiAgICByZXR1cm4gcztcbiAgfVxuXG5cbiAgbWFrZVRleHRTbGlkZSh0aXRsZT86IHN0cmluZykge1xuICAgIGNvbnN0IHMgPSBTbGlkZU5vZGUubWFrZVRleHQodGl0bGUpO1xuICAgIHRoaXMuX3NsaWRlcy5wdXNoKHMpO1xuICAgIHRoaXMuYmFja2VuZC5hZGROb2RlKHMpO1xuICAgIHRoaXMuZmlyZSgnYWRkX3NsaWRlJywgcyk7XG4gICAgcmV0dXJuIHM7XG4gIH1cblxuICBpbnNlcnRJbnRvU2xpZGUodG9JbnNlcnQ6IFNsaWRlTm9kZSwgc2xpZGU6IFNsaWRlTm9kZSwgYmVmb3JlSXQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMubW92ZVNsaWRlKHRvSW5zZXJ0LCBzbGlkZSwgYmVmb3JlSXQpO1xuICB9XG5cbiAgYXBwZW5kVG9TbGlkZShzbGlkZTogU2xpZGVOb2RlLCBlbGVtOiBTbGlkZU5vZGUpIHtcbiAgICBjb25zdCBzID0gdG9TbGlkZVBhdGgoc2xpZGUpO1xuICAgIHJldHVybiB0aGlzLm1vdmVTbGlkZShlbGVtLCBzW3MubGVuZ3RoIC0gMV0sIGZhbHNlKTtcbiAgfVxuXG4gIG1vdmVTbGlkZShub2RlOiBTbGlkZU5vZGUsIHRvOiBTbGlkZU5vZGUsIGJlZm9yZUl0OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBpZiAoKGJlZm9yZUl0ICYmIG5vZGUubmV4dCA9PT0gdG8pIHx8ICghYmVmb3JlSXQgJiYgbm9kZS5wcmV2aW91cyA9PT0gdG8pKSB7XG4gICAgICByZXR1cm47IC8vYWxyZWFkeSBtYXRjaGVzXG4gICAgfVxuICAgIC8vMS4gZXh0cmFjdCB0aGUgbm9kZVxuICAgIC8vY3JlYXRlIG90aGVyIGxpbmtzXG4gICAgY29uc3QgcHJldiA9IG5vZGUucHJldmlvdXM7XG4gICAgaWYgKHByZXYpIHtcbiAgICAgIG5vZGUubmV4dHMuZm9yRWFjaCgobikgPT4ge1xuICAgICAgICB0aGlzLmFkZEVkZ2UocHJldiwgJ25leHQnLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvL3JlbW92ZSBsaW5rc1xuICAgIHRoaXMuZWRnZXMuZmlsdGVyKChlKSA9PiAoZS5zb3VyY2UgPT09IG5vZGUgfHwgZS50YXJnZXQgPT09IG5vZGUpICYmIGUudHlwZSA9PT0gJ25leHQnKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLmJhY2tlbmQucmVtb3ZlRWRnZShlKTtcbiAgICB9KTtcblxuICAgIC8vaW5zZXJ0IGludG8gdGhlIG5ldyBwbGFjZVxuICAgIGlmIChiZWZvcmVJdCkge1xuICAgICAgY29uc3QgdHByZXYgPSB0by5wcmV2aW91cztcbiAgICAgIGlmICh0cHJldikge1xuICAgICAgICB0aGlzLmVkZ2VzLmZpbHRlcigoZSkgPT4gKGUudGFyZ2V0ID09PSB0bykgJiYgZS50eXBlID09PSAnbmV4dCcpLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICB0aGlzLmJhY2tlbmQucmVtb3ZlRWRnZShlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRWRnZSh0cHJldiwgJ25leHQnLCBub2RlKTtcbiAgICAgICAgdGhpcy5hZGRFZGdlKG5vZGUsICduZXh0JywgdG8pO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRFZGdlKG5vZGUsICduZXh0JywgdG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0bmV4dHMgPSB0by5uZXh0cztcbiAgICAgIGlmICh0bmV4dHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmVkZ2VzLmZpbHRlcigoZSkgPT4gKGUuc291cmNlID09PSB0bykgJiYgZS50eXBlID09PSAnbmV4dCcpLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICB0aGlzLmJhY2tlbmQucmVtb3ZlRWRnZShlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRuZXh0cy5mb3JFYWNoKChuZXh0KSA9PiB7XG4gICAgICAgICAgdGhpcy5hZGRFZGdlKG5vZGUsICduZXh0JywgbmV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRFZGdlKHRvLCAnbmV4dCcsIG5vZGUpO1xuICAgIH1cbiAgICB0aGlzLmZpcmUoJ21vdmVfc2xpZGUnLCBub2RlLCB0bywgYmVmb3JlSXQpO1xuICB9XG5cbiAgcmVtb3ZlU2xpZGVOb2RlKG5vZGU6IFNsaWRlTm9kZSkge1xuICAgIGNvbnN0IHByZXYgPSBub2RlLnByZXZpb3VzO1xuICAgIGlmIChwcmV2KSB7XG4gICAgICBub2RlLm5leHRzLmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgdGhpcy5hZGRFZGdlKHByZXYsICduZXh0Jywgbik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5lZGdlcy5maWx0ZXIoKGUpID0+IGUuc291cmNlID09PSBub2RlIHx8IGUudGFyZ2V0ID09PSBub2RlKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLmJhY2tlbmQucmVtb3ZlRWRnZShlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zbGlkZXMuc3BsaWNlKHRoaXMuX3NsaWRlcy5pbmRleE9mKG5vZGUpLCAxKTtcbiAgICB0aGlzLmJhY2tlbmQucmVtb3ZlTm9kZShub2RlKTtcbiAgICB0aGlzLmZpcmUoJ3JlbW92ZV9zbGlkZScsIG5vZGUpO1xuICB9XG5cbiAgcmVtb3ZlRnVsbFNsaWRlKG5vZGU6IFNsaWRlTm9kZSkge1xuICAgIC8vZ28gdG8gdGhlIGJlZ2lubmluZ1xuICAgIHdoaWxlIChub2RlLnByZXZpb3VzKSB7XG4gICAgICBub2RlID0gbm9kZS5wcmV2aW91cztcbiAgICB9XG4gICAgY29uc3QgYmFrID0gbm9kZTtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgY29uc3QgbmV4dCA9IG5vZGUubmV4dDtcbiAgICAgIHRoaXMucmVtb3ZlU2xpZGVOb2RlKG5vZGUpO1xuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuICAgIHRoaXMuZmlyZSgnZGVzdHJveV9zbGlkZScsIGJhayk7XG4gIH1cblxuICBzZXRTbGlkZUp1bXBUb1RhcmdldChub2RlOiBTbGlkZU5vZGUsIHN0YXRlOiBTdGF0ZU5vZGUpIHtcbiAgICBjb25zdCBvbGQgPSBub2RlLm91dGdvaW5nLmZpbHRlcihpc1R5cGUoJ2p1bXBUbycpKVswXTtcbiAgICBpZiAob2xkKSB7XG4gICAgICB0aGlzLmJhY2tlbmQucmVtb3ZlRWRnZShvbGQpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHRoaXMuYWRkRWRnZShub2RlLCAnanVtcFRvJywgc3RhdGUpO1xuICAgIH1cbiAgICB0aGlzLmZpcmUoJ3NldF9qdW1wX3RhcmdldCcsIG5vZGUsIG9sZCA/IG9sZC50YXJnZXQgOiBudWxsLCBzdGF0ZSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9wcm92ZW5hbmNlL1Byb3ZlbmFuY2VHcmFwaC50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMjcuMDIuMjAxNy5cbiAqL1xuXG5cbmltcG9ydCB7cmV0cmlldmUsIHN0b3JlLCByZW1vdmV9IGZyb20gJy4vc2Vzc2lvbic7XG5pbXBvcnQge2ZpcmV9IGZyb20gJy4vZXZlbnQnO1xuaW1wb3J0IHtsaXN0fSBmcm9tICcuL3BsdWdpbic7XG5pbXBvcnQge0VQX1BIT1ZFQV9DT1JFX0xPR0lOLCBFUF9QSE9WRUFfQ09SRV9MT0dPVVQsIElMb2dpbkV4dGVuc2lvblBvaW50RGVzYywgSUxvZ291dEVQLCBJTG9nb3V0RVBEZXNjLCBJTG9naW5FeHRlbnNpb25Qb2ludH0gZnJvbSAnLi9leHRlbnNpb25zJztcblxuZXhwb3J0IGNvbnN0IEdMT0JBTF9FVkVOVF9VU0VSX0xPR0dFRF9JTiA9ICdVU0VSX0xPR0dFRF9JTic7XG5leHBvcnQgY29uc3QgR0xPQkFMX0VWRU5UX1VTRVJfTE9HR0VEX09VVCA9ICdVU0VSX0xPR0dFRF9PVVQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElVc2VyIHtcbiAgLyoqXG4gICAqIHVzZXIgbmFtZVxuICAgKi9cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogbGlzdCBvZiByb2xlcyB0aGUgdXNlciBpcyBhc3NvY2lhdGVkIHdpdGhcbiAgICovXG4gIHJlYWRvbmx5IHJvbGVzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNvbnN0IEFOT05ZTU9VU19VU0VSOiBJVXNlciA9IHtuYW1lOiAnYW5vbnltb3VzJywgcm9sZXM6IFsnYW5vbnltb3VzJ119O1xuXG4vKipcbiAqIHJlc2V0cyB0aGUgc3RvcmVkIHNlc3Npb24gZGF0YSB0aGF0IHdpbGwgYmUgYXV0b21hdGljYWxseSBmaWxsZWQgZHVyaW5nIGxvZ2luXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldCgpIHtcbiAgcmVtb3ZlKCdsb2dnZWRfaW4nKTtcbiAgcmVtb3ZlKCd1c2VybmFtZScpO1xuICByZW1vdmUoJ3VzZXInKTtcbn1cblxuLyoqXG4gKiB3aGV0aGVyIHRoZSB1c2VyIGlzIGxvZ2dlZCBpblxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xvZ2dlZEluKCkge1xuICByZXR1cm4gcmV0cmlldmUoJ2xvZ2dlZF9pbicpID09PSB0cnVlO1xufVxuXG4vKipcbiAqIHN0b3JlcyB0aGUgZ2l2ZW4gdXNlciBpbmZvcm1hdGlvblxuICogQHBhcmFtIHVzZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKHVzZXI6IElVc2VyKSB7XG4gIHN0b3JlKCdsb2dnZWRfaW4nLCB0cnVlKTtcbiAgc3RvcmUoJ3VzZXJuYW1lJywgdXNlci5uYW1lKTtcbiAgc3RvcmUoJ3VzZXInLCB1c2VyKTtcblxuICBsaXN0KEVQX1BIT1ZFQV9DT1JFX0xPR0lOKS5tYXAoKGRlc2M6IElMb2dpbkV4dGVuc2lvblBvaW50RGVzYykgPT4ge1xuICAgIGRlc2MubG9hZCgpLnRoZW4oKHBsdWdpbjogSUxvZ2luRXh0ZW5zaW9uUG9pbnQpID0+IHBsdWdpbi5mYWN0b3J5KHVzZXIpKTtcbiAgfSk7XG5cbiAgZmlyZShHTE9CQUxfRVZFTlRfVVNFUl9MT0dHRURfSU4sIHVzZXIpO1xufVxuXG4vKipcbiAqIGxvZ3MgdGhlIGN1cnJlbnQgdXNlciBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgY29uc3Qgd2FzTG9nZ2VkSW4gPSBpc0xvZ2dlZEluKCk7XG4gIHJlc2V0KCk7XG4gIGlmICh3YXNMb2dnZWRJbikge1xuICAgIGxpc3QoRVBfUEhPVkVBX0NPUkVfTE9HT1VUKS5tYXAoKGRlc2M6IElMb2dvdXRFUERlc2MpID0+IHtcbiAgICAgIGRlc2MubG9hZCgpLnRoZW4oKHBsdWdpbjogSUxvZ291dEVQKSA9PiBwbHVnaW4uZmFjdG9yeSgpKTtcbiAgICB9KTtcblxuICAgIGZpcmUoR0xPQkFMX0VWRU5UX1VTRVJfTE9HR0VEX09VVCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIHJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBvciBudWxsXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFVzZXIoKTogSVVzZXJ8bnVsbCB7XG4gIGlmICghaXNMb2dnZWRJbigpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHJldHJpZXZlKCd1c2VyJywgQU5PTllNT1VTX1VTRVIpO1xufVxuXG4vKipcbiAqIHJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBuYW1lIGVsc2UgYW4gYW5vbnltb3VzIHVzZXIgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFVzZXJOYW1lT3JBbm9ueW1vdXMoKSB7XG4gIGNvbnN0IHUgPSBjdXJyZW50VXNlcigpO1xuICByZXR1cm4gdSA/IHUubmFtZSA6IEFOT05ZTU9VU19VU0VSLm5hbWU7XG59XG5cblxuZXhwb3J0IGVudW0gRVBlcm1pc3Npb24ge1xuICBSRUFEID0gNCwgV1JJVEUgPSAyLCBFWEVDVVRFID0gMVxufVxuXG5leHBvcnQgZW51bSBFRW50aXR5IHtcbiAgVVNFUiwgR1JPVVAsIE9USEVSUywgQlVERElFU1xufVxuXG5mdW5jdGlvbiB0b051bWJlcihwOiBTZXQ8RVBlcm1pc3Npb24+KSB7XG4gIHJldHVybiAocC5oYXMoRVBlcm1pc3Npb24uUkVBRCkgPyA0IDogMCkgKyAocC5oYXMoRVBlcm1pc3Npb24uV1JJVEUpID8gMiA6IDApICsgKHAuaGFzKEVQZXJtaXNzaW9uLkVYRUNVVEUpID8gMSA6IDApO1xufVxuXG5mdW5jdGlvbiB0b1N0cmluZyhwOiBTZXQ8RVBlcm1pc3Npb24+KSB7XG4gIHJldHVybiAocC5oYXMoRVBlcm1pc3Npb24uUkVBRCkgPyAncicgOiAnLScpICsgKHAuaGFzKEVQZXJtaXNzaW9uLldSSVRFKSA/ICd3JyA6ICctJykgKyAocC5oYXMoRVBlcm1pc3Npb24uRVhFQ1VURSkgPyAneCcgOiAnLScpO1xufVxuXG5mdW5jdGlvbiBmcm9tTnVtYmVyKHA6IG51bWJlcikge1xuICBjb25zdCByID0gbmV3IFNldDxFUGVybWlzc2lvbj4oKTtcbiAgaWYgKHAgPj0gNCkge1xuICAgIHIuYWRkKEVQZXJtaXNzaW9uLlJFQUQpO1xuICAgIHAgLT0gNDtcbiAgfVxuICBpZiAocCA+PSAyKSB7XG4gICAgci5hZGQoRVBlcm1pc3Npb24uV1JJVEUpO1xuICAgIHAgLT0gMjtcbiAgfVxuICBpZiAocCA+PSAxKSB7XG4gICAgci5hZGQoRVBlcm1pc3Npb24uRVhFQ1VURSk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogYnkgZGVmYXVsdCBvbmx5IHRoZSBjcmVhdG9yIGhhcyBhbGwgcGVybWlzc2lvbnNcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBBTExfUkVBRF9SRUFEID0gNzQ0O1xuZXhwb3J0IGNvbnN0IEFMTF9OT05FX05PTkUgPSA3MDA7XG5leHBvcnQgY29uc3QgQUxMX1JFQURfTk9ORSA9IDc0MDtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BFUk1JU1NJT04gPSBBTExfUkVBRF9SRUFEO1xuXG4vKipcbiAqIGJ1ZGR5IHZhcmlhbnRzOiBidWRkeSwgY3JlYXRvciwgZ3JvdXAsIG90aGVyc1xuICogYnVkZGllcyBmaXJzdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICovXG5leHBvcnQgY29uc3QgQUxMX0FMTF9SRUFEX1JFQUQgPSA3NzQ0O1xuZXhwb3J0IGNvbnN0IEFMTF9BTExfTk9ORV9OT05FID0gNzcwMDtcbmV4cG9ydCBjb25zdCBBTExfQUxMX1JFQURfTk9ORSA9IDc3NDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNlY3VyZUl0ZW0ge1xuICAvKipcbiAgICogY3JlYXRvciAvIG93bmVyIG9mIHRoZSBpdGVtXG4gICAqL1xuICByZWFkb25seSBjcmVhdG9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBncm91cCBoZSBpcyBzaGFyaW5nIHRoaXMgaXRlbVxuICAgKi9cbiAgcmVhZG9ubHkgZ3JvdXA/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBkZXRhaWxlZCBwZXJtaXNzaW9ucywgYnkgZGVmYXVsdCA3NDRcbiAgICovXG4gIHJlYWRvbmx5IHBlcm1pc3Npb25zPzogbnVtYmVyO1xuICAvKipcbiAgICogZ3JvdXAgb2YgdXNlcnMgd2l0aCBzcGVjaWFsIHJpZ2h0cywgb25jZSBidWRkaWVzIHdoaWNoIGUuZy4gc2hvdWxkIGhhdmUgd3JpdGUgYWNjZXNzLCB0b29cbiAgICovXG4gIHJlYWRvbmx5IGJ1ZGRpZXM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgdXNlcjogU2V0PEVQZXJtaXNzaW9uPiwgcHVibGljIHJlYWRvbmx5IGdyb3VwOiBTZXQ8RVBlcm1pc3Npb24+LCBwdWJsaWMgcmVhZG9ubHkgb3RoZXJzOiBTZXQ8RVBlcm1pc3Npb24+LCBwdWJsaWMgcmVhZG9ubHkgYnVkZGllczogU2V0PEVQZXJtaXNzaW9uPiA9IG5ldyBTZXQoKSkge1xuXG4gIH1cblxuICBlbmNvZGUoKSB7XG4gICAgcmV0dXJuIGVuY29kZSh0aGlzLnVzZXIsIHRoaXMuZ3JvdXAsIHRoaXMub3RoZXJzKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGNvbnN0IHVzZXJFbmNvZGVkID0gdG9TdHJpbmcodGhpcy51c2VyKTtcbiAgICBjb25zdCBncm91cEVuY29kZWQgPSB0b1N0cmluZyh0aGlzLmdyb3VwKTtcbiAgICBjb25zdCBvdGhlcnNFbmNvZGVkID0gdG9TdHJpbmcodGhpcy5vdGhlcnMpO1xuICAgIHJldHVybiB1c2VyRW5jb2RlZCArIGdyb3VwRW5jb2RlZCArIG90aGVyc0VuY29kZWQ7XG4gIH1cblxuICBnZXRQZXJtaXNzaW9ucyhlbnRpdHk6IEVFbnRpdHkpIHtcbiAgICBzd2l0Y2goZW50aXR5KSB7XG4gICAgICBjYXNlIEVFbnRpdHkuVVNFUjogcmV0dXJuIHRoaXMudXNlcjtcbiAgICAgIGNhc2UgRUVudGl0eS5HUk9VUDogcmV0dXJuIHRoaXMuZ3JvdXA7XG4gICAgICBjYXNlIEVFbnRpdHkuT1RIRVJTOiByZXR1cm4gdGhpcy5vdGhlcnM7XG4gICAgfVxuICB9XG5cbiAgaGFzUGVybWlzc2lvbihlbnRpdHk6IEVFbnRpdHksIHBlcm1pc3Npb246IEVQZXJtaXNzaW9uKSB7XG4gICAgY29uc3QgcGVybWlzc2lvbnMgPSB0aGlzLmdldFBlcm1pc3Npb25zKGVudGl0eSk7XG4gICAgcmV0dXJuIHBlcm1pc3Npb25zLmhhcyhwZXJtaXNzaW9uKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKHVzZXI6IFNldDxFUGVybWlzc2lvbj4sIGdyb3VwOiBTZXQ8RVBlcm1pc3Npb24+LCBvdGhlcnM6IFNldDxFUGVybWlzc2lvbj4sIGJ1ZGRpZXM6IFNldDxFUGVybWlzc2lvbj4gPSBuZXcgU2V0KCkpIHtcbiAgY29uc3QgdXNlckVuY29kZWQgPSB0b051bWJlcih1c2VyKTtcbiAgY29uc3QgZ3JvdXBFbmNvZGVkID0gdG9OdW1iZXIoZ3JvdXApO1xuICBjb25zdCBvdGhlcnNFbmNvZGVkID0gdG9OdW1iZXIob3RoZXJzKTtcbiAgY29uc3QgYnVkZGllc0VuY29kZWQgPSB0b051bWJlcihidWRkaWVzKTtcbiAgcmV0dXJuIGJ1ZGRpZXNFbmNvZGVkICogMTAwMCArIHVzZXJFbmNvZGVkICogMTAwICsgZ3JvdXBFbmNvZGVkICogMTAgKyBvdGhlcnNFbmNvZGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKHBlcm1pc3Npb24gPSBERUZBVUxUX1BFUk1JU1NJT04pIHtcbiAgaWYgKHR5cGVvZiBwZXJtaXNzaW9uICE9PSAnbnVtYmVyJykge1xuICAgIHBlcm1pc3Npb24gPSBERUZBVUxUX1BFUk1JU1NJT047XG4gIH1cbiAgY29uc3Qgb3RoZXJzID0gZnJvbU51bWJlcihwZXJtaXNzaW9uICUgMTApO1xuICBjb25zdCBncm91cCA9IGZyb21OdW1iZXIoTWF0aC5mbG9vcihwZXJtaXNzaW9uIC8gMTApICUgMTApO1xuICBjb25zdCB1c2VyID0gZnJvbU51bWJlcihNYXRoLmZsb29yKHBlcm1pc3Npb24gLyAxMDApICUgMTApO1xuICBjb25zdCBidWRkaWVzID0gZnJvbU51bWJlcihNYXRoLmZsb29yKHBlcm1pc3Npb24gLyAxMDAwKSAlIDEwKTtcbiAgcmV0dXJuIG5ldyBQZXJtaXNzaW9uKHVzZXIsIGdyb3VwLCBvdGhlcnMsIGJ1ZGRpZXMpO1xufVxuXG5mdW5jdGlvbiBpc0VxdWFsKGE6IHN0cmluZywgYjogc3RyaW5nKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGEgPT09IG51bGwgfHwgYiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhID0gYS50b0xvd2VyQ2FzZSgpO1xuICBiID0gYi50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpID09PSAwO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhpdGVtczogc3RyaW5nW10sIGl0ZW06IHN0cmluZykge1xuICBpZiAoIWl0ZW0pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zLnNvbWUoKHIpID0+IGlzRXF1YWwoaXRlbSwgcikpO1xufVxuXG5mdW5jdGlvbiBjYW4oaXRlbTogSVNlY3VyZUl0ZW0sIHBlcm1pc3Npb246IEVQZXJtaXNzaW9uLCB1c2VyID0gY3VycmVudFVzZXIoKSk6IGJvb2xlYW4ge1xuICBpZiAoIXVzZXIpIHtcbiAgICB1c2VyID0gQU5PTllNT1VTX1VTRVI7XG4gIH1cbiAgY29uc3QgcGVybWlzc2lvbnMgPSBkZWNvZGUoaXRlbS5wZXJtaXNzaW9ucyk7XG5cbiAgLy8gSSdtIHRoZSBjcmVhdG9yIGFuZCBoYXZlIHRoZSByaWdodFxuICBpZiAoaXNFcXVhbCh1c2VyLm5hbWUsIGl0ZW0uY3JlYXRvcikgJiYgcGVybWlzc2lvbnMudXNlci5oYXMocGVybWlzc2lvbikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIEknbSBpbiB0aGUgZ3JvdXAgYW5kIGhhdmUgdGhlIHJpZ2h0XG4gIGlmIChpdGVtLmdyb3VwICYmIGluY2x1ZGVzKHVzZXIucm9sZXMsIGl0ZW0uZ3JvdXApICYmIHBlcm1pc3Npb25zLmdyb3VwLmhhcyhwZXJtaXNzaW9uKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gY2hlY2sgaWYgSSdtIGEgYnVkZHkgaGF2aW5nIHRoZSByaWdodFxuICBpZiAoaXRlbS5idWRkaWVzICYmIEFycmF5LmlzQXJyYXkoaXRlbS5idWRkaWVzKSAmJiBpbmNsdWRlcyhpdGVtLmJ1ZGRpZXMsIHVzZXIubmFtZSkgJiYgcGVybWlzc2lvbnMuYnVkZGllcy5oYXMocGVybWlzc2lvbikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGNoZWNrIG90aGVyc1xuICByZXR1cm4gcGVybWlzc2lvbnMub3RoZXJzLmhhcyhwZXJtaXNzaW9uKTtcbn1cblxuLyoqXG4gKiBjaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB1c2VyIGNhbiByZWFkIHRoZSBnaXZlbiBpdGVtXG4gKiBAcGFyYW0gaXRlbSB0aGUgaXRlbSB0byBjaGVja1xuICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgYnkgZGVmYXVsdCB0aGUgY3VycmVudCB1c2VyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlYWQoaXRlbTogSVNlY3VyZUl0ZW0sIHVzZXIgPSBjdXJyZW50VXNlcigpKSB7XG4gIHJldHVybiBjYW4oaXRlbSwgRVBlcm1pc3Npb24uUkVBRCwgdXNlcik7XG59XG5cblxuLyoqXG4gKiBjaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB1c2VyIGNhbiB3cml0ZSB0aGUgZ2l2ZW4gaXRlbVxuICogQHBhcmFtIGl0ZW0gdGhlIGl0ZW0gdG8gY2hlY2tcbiAqIEBwYXJhbSB1c2VyIHRoZSB1c2VyIGJ5IGRlZmF1bHQgdGhlIGN1cnJlbnQgdXNlclxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5Xcml0ZShpdGVtOiBJU2VjdXJlSXRlbSwgdXNlciA9IGN1cnJlbnRVc2VyKCkpIHtcbiAgcmV0dXJuIGNhbihpdGVtLCBFUGVybWlzc2lvbi5XUklURSwgdXNlcik7XG59XG5cblxuLyoqXG4gKiBjaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB1c2VyIGNhbiBleGVjdXRlIHRoZSBnaXZlbiBpdGVtXG4gKiBAcGFyYW0gaXRlbSB0aGUgaXRlbSB0byBjaGVja1xuICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgYnkgZGVmYXVsdCB0aGUgY3VycmVudCB1c2VyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbkV4ZWN1dGUoaXRlbTogSVNlY3VyZUl0ZW0sIHVzZXIgPSBjdXJyZW50VXNlcigpKSB7XG4gIHJldHVybiBjYW4oaXRlbSwgRVBlcm1pc3Npb24uRVhFQ1VURSwgdXNlcik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Blcm1pc3Npb24oaXRlbTogSVNlY3VyZUl0ZW0sIGVudGl0eTogRUVudGl0eSA9IEVFbnRpdHkuVVNFUiwgcGVybWlzc2lvbjogRVBlcm1pc3Npb24gPSBFUGVybWlzc2lvbi5SRUFEKSB7XG4gIGNvbnN0IHBlcm1pc3Npb25zID0gZGVjb2RlKGl0ZW0ucGVybWlzc2lvbnMpO1xuICByZXR1cm4gcGVybWlzc2lvbnMuaGFzUGVybWlzc2lvbihlbnRpdHksIHBlcm1pc3Npb24pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlY3VyaXR5LnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMTYuMDMuMjAxNy5cbiAqL1xuaW1wb3J0IHtBVmVjdG9yfSBmcm9tICcuLi9BVmVjdG9yJztcbmltcG9ydCB7SVN0cmluZ1ZhbHVlVHlwZURlc2MsIElEYXRhVHlwZX0gZnJvbSAnLi4vLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJVmVjdG9yLCBJVmVjdG9yRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuLi8nO1xuaW1wb3J0IHtSYW5nZUxpa2UsIHBhcnNlLCBhbGwsIGxpc3QgYXMgcmxpc3R9IGZyb20gJy4uLy4uL3JhbmdlJztcbmltcG9ydCB7YXJnU29ydCwgYXJnRmlsdGVyfSBmcm9tICcuLi8uLi8nO1xuaW1wb3J0IElEVHlwZSBmcm9tICcuLi8uLi9pZHR5cGUvSURUeXBlJztcblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBJU3RyaW5nVmVjdG9yID0gSVZlY3RvcjxzdHJpbmcsIElTdHJpbmdWYWx1ZVR5cGVEZXNjPjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFOYW1lVmVjdG9yPFQgZXh0ZW5kcyBJRGF0YVR5cGU+IGV4dGVuZHMgQVZlY3RvcjxzdHJpbmcsIElTdHJpbmdWYWx1ZVR5cGVEZXNjPiB7XG4gIHJlYWRvbmx5IGRlc2M6IElWZWN0b3JEYXRhRGVzY3JpcHRpb248SVN0cmluZ1ZhbHVlVHlwZURlc2M+O1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBiYXNlOiBUKSB7XG4gICAgc3VwZXIobnVsbCk7XG4gICAgdGhpcy5kZXNjID0ge1xuICAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICBuYW1lOiBiYXNlLmRlc2MubmFtZSxcbiAgICAgIGZxbmFtZTogYmFzZS5kZXNjLmZxbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBiYXNlLmRlc2MuZGVzY3JpcHRpb24sXG4gICAgICBpZDogYmFzZS5kZXNjLmlkICsgJ19uYW1lcycsXG4gICAgICB2YWx1ZToge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgfSxcbiAgICAgIGlkdHlwZTogdGhpcy5pZHR5cGUuaWQsXG4gICAgICBzaXplOiB0aGlzLmxlbmd0aCxcbiAgICAgIHRzOiBiYXNlLmRlc2MudHMsXG4gICAgICBjcmVhdG9yOiBiYXNlLmRlc2MuY3JlYXRvcixcbiAgICAgIGdyb3VwOiBiYXNlLmRlc2MuZ3JvdXAsXG4gICAgICBwZXJtaXNzaW9uczogYmFzZS5kZXNjLnBlcm1pc3Npb25zXG4gICAgfTtcbiAgfVxuXG4gIGdldCB2YWx1ZXR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzYy52YWx1ZTtcbiAgfVxuXG4gIC8vIFRPRE8gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGFic3RyYWN0LiBIb3dldmVyLCBpdCByZXN1bHRzIGluIGEgY29tcGlsZSBlcnJvciB3aXRoIFR5cGVzY3JpcHQgdjIuNy4yOlxuICAvLyBgVFMyNzE1OiBBYnN0cmFjdCBwcm9wZXJ0eSAnaWR0eXBlJyBpbiBjbGFzcyAnQU5hbWVWZWN0b3InIGNhbm5vdCBiZSBhY2Nlc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuYFxuICAvKmFic3RyYWN0Ki8gZ2V0IGlkdHlwZSgpOiBJRFR5cGUge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0IGlkdHlwZXMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmlkdHlwZV07XG4gIH1cblxuICBwZXJzaXN0KCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb3Q6IHRoaXMuYmFzZS5wZXJzaXN0KCksXG4gICAgICBuYW1lczogdHJ1ZVxuICAgIH07XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgbGV0IHI6IElWZWN0b3I8c3RyaW5nLCBJU3RyaW5nVmFsdWVUeXBlRGVzYz4gPSB0aGlzO1xuICAgIGlmIChwZXJzaXN0ZWQgJiYgcGVyc2lzdGVkLnJhbmdlKSB7IC8vc29tZSB2aWV3IG9udG8gaXRcbiAgICAgIHIgPSByLnZpZXcocGFyc2UocGVyc2lzdGVkLnJhbmdlKSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cbiAgYXQoaTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YShybGlzdChpKSkudGhlbigobmFtZXMpID0+IG5hbWVzWzBdKTtcbiAgfVxuXG4gIGFic3RyYWN0IG5hbWVzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxzdHJpbmdbXT47XG5cbiAgZGF0YShyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lcyhyYW5nZSk7XG4gIH1cblxuICBhc3luYyBzb3J0KGNvbXBhcmVGbj86IChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4gbnVtYmVyLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxJU3RyaW5nVmVjdG9yPiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdTb3J0KGQsIGNvbXBhcmVGbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cblxuICBhc3luYyBmaWx0ZXIoY2FsbGJhY2tmbjogKHZhbHVlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElTdHJpbmdWZWN0b3I+IHtcbiAgICBjb25zdCBkID0gYXdhaXQgdGhpcy5kYXRhKCk7XG4gICAgY29uc3QgaW5kaWNlcyA9IGFyZ0ZpbHRlcihkLCBjYWxsYmFja2ZuLCB0aGlzQXJnKTtcbiAgICByZXR1cm4gdGhpcy52aWV3KHJsaXN0KGluZGljZXMpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBTmFtZVZlY3RvcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92ZWN0b3IvaW50ZXJuYWwvQU5hbWVWZWN0b3IudHMiLCJpbXBvcnQge0lQbHVnaW5EZXNjLCBJUGx1Z2lufSBmcm9tICcuL3BsdWdpbic7XG5pbXBvcnQge0lVc2VyfSBmcm9tICcuL3NlY3VyaXR5JztcblxuLyoqXG4gKiBUcmlnZ2VyZWQgd2hlbiBhIHVzZXIgd2FzIGxvZ2dlZCBpblxuICovXG5leHBvcnQgY29uc3QgRVBfUEhPVkVBX0NPUkVfTE9HSU4gPSAnZXBQaG92ZWFDb3JlTG9naW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElMb2dpbkV4dGVuc2lvblBvaW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB1c2VyIHtJVXNlcn0gVGhlIHVzZXIgb2JqZWN0IHRoYXQgd2FzIGxvZ2dlZCBpblxuICAgKi9cbiAgZmFjdG9yeSh1c2VyOiBJVXNlcik6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ2luRXh0ZW5zaW9uUG9pbnREZXNjIGV4dGVuZHMgSVBsdWdpbkRlc2Mge1xuICBsb2FkKCk6IFByb21pc2U8SVBsdWdpbiAmIElMb2dpbkV4dGVuc2lvblBvaW50Pjtcbn1cblxuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIGEgdXNlciB3YXMgbG9nZ2VkIG91dC4gRG9lcyBub3QgcHJvdmlkZSBhbnkgZnVydGhlciBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEVQX1BIT1ZFQV9DT1JFX0xPR09VVCA9ICdlcFBob3ZlYUNvcmVMb2dvdXQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElMb2dvdXRFUCB7XG4gIGZhY3RvcnkoKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTG9nb3V0RVBEZXNjIGV4dGVuZHMgSVBsdWdpbkRlc2Mge1xuICBsb2FkKCk6IFByb21pc2U8SVBsdWdpbiAmIElMb2dvdXRFUD47XG59XG5cbi8qKlxuICogTG9hZCBsb2NhbGUgSlNPTiBmaWxlcyB3aXRoIHRyYW5zbGF0aW9uc1xuICovXG5leHBvcnQgY29uc3QgRVBfUEhPVkVBX0NPUkVfTE9DQUxFID0gJ2VwUGhvdmVhQ29yZUxvY2FsZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvY2FsZUVQRGVzYyBleHRlbmRzIElQbHVnaW5EZXNjIHtcbiAgLyoqXG4gICAqIExvY2FsZSBuYW1lc3BhY2UgdGhhdCB1c3VhbGx5IG1hdGNoZXMgdGhlIHJlc291cmNlIGZpbGVuYW1lIChlLmcuLCBgcGhvdmVhYCBhbmQgYHBob3ZlYS5qc29uYClcbiAgICovXG4gIG5zPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBMYW5ndWFnZSBmb2xsb3dpbmcgdGhlIFtJRVRGIGxhbmd1YWdlIHRhZ10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSUVURl9sYW5ndWFnZV90YWcpIChlLmcuLCBgZW5gIG9yIGBlbi1VU2ApXG4gICAqIERlZmF1bHQgdmFsdWUgaXMgYGVuYC5cbiAgICovXG4gIGxuZz86IHN0cmluZztcblxuICAvKipcbiAgICogT3JkZXIgb2YgdGhlIGxvY2FsZXMsIGlmIHR3byBsb2NhbGVzIHdpdGggdGhlIHNhbWUgbmFtZXNwYWNlIGFuZCBsYW5ndWFnZSBhcmUgZm91bmQuXG4gICAqIExvY2FsZXMgd2l0aCBhIGhpZ2hlciB0aGUgb3JkZXIgbnVtYmVyIG92ZXJyaWRlIHRoZSBsb2NhbGVzIHdpdGggbG93ZXIgb3JkZXIgbnVtYmVycy5cbiAgICogRGVmYXVsdCB2YWx1ZSBpcyAgYDBgLlxuICAgKi9cbiAgb3JkZXI/OiBudW1iZXI7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZXh0ZW5zaW9ucy50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA4LjEwLjIwMTQuXG4gKi9cblxuaW1wb3J0IHtWZWN0b3IyRH0gZnJvbSAnLi4vMkQnO1xuaW1wb3J0IFJlY3QgZnJvbSAnLi9SZWN0JztcbmltcG9ydCBDaXJjbGUgZnJvbSAnLi9DaXJjbGUnO1xuaW1wb3J0IFBvbHlnb24gZnJvbSAnLi9Qb2x5Z29uJztcbmltcG9ydCBMaW5lIGZyb20gJy4vTGluZSc7XG5pbXBvcnQgRWxsaXBzZSBmcm9tICcuL0VsbGlwc2UnO1xuaW1wb3J0IEFTaGFwZSBmcm9tICcuL0FTaGFwZSc7XG5cbmV4cG9ydCB7ZGVmYXVsdCBhcyBSZWN0fSBmcm9tICcuL1JlY3QnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIENpcmNsZX0gZnJvbSAnLi9DaXJjbGUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFBvbHlnb259IGZyb20gJy4vUG9seWdvbic7XG5leHBvcnQge2RlZmF1bHQgYXMgTGluZX0gZnJvbSAnLi9MaW5lJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBFbGxpcHNlfSBmcm9tICcuL0VsbGlwc2UnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEFTaGFwZSwgQ09STkVSfSBmcm9tICcuL0FTaGFwZSc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHZlYzIoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBWZWN0b3IyRCB7XG4gIHJldHVybiBuZXcgVmVjdG9yMkQoeCwgeSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWN0KHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlcik6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoeCwgeSwgdywgaCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlcik6IENpcmNsZSB7XG4gIHJldHVybiBuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZWxsaXBzZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzWDogbnVtYmVyLCByYWRpdXNZOiBudW1iZXIpOiBFbGxpcHNlIHtcbiAgcmV0dXJuIG5ldyBFbGxpcHNlKHgsIHksIHJhZGl1c1gsIHJhZGl1c1kpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxpbmUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IExpbmUge1xuICByZXR1cm4gbmV3IExpbmUoeDEsIHkxLCB4MiwgeTIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvbHlnb24oLi4ucG9pbnRzOiBWZWN0b3IyRFtdKTogUG9seWdvbjtcbmV4cG9ydCBmdW5jdGlvbiBwb2x5Z29uKHBvaW50czogVmVjdG9yMkRbXSk6IFBvbHlnb247XG5leHBvcnQgZnVuY3Rpb24gcG9seWdvbigpOiBQb2x5Z29uIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSkge1xuICAgIHJldHVybiBuZXcgUG9seWdvbihhcmd1bWVudHNbMF0pO1xuICB9XG4gIHJldHVybiBuZXcgUG9seWdvbihBcnJheS5mcm9tKGFyZ3VtZW50cykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcChvYmo6IGFueSk6IEFTaGFwZSB7XG4gIGlmICghb2JqKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICBpZiAob2JqIGluc3RhbmNlb2YgQVNoYXBlKSB7XG4gICAgcmV0dXJuIDxBU2hhcGU+b2JqO1xuICB9XG4gIGlmIChvYmouaGFzT3duUHJvcGVydHkoJ3gnKSAmJiBvYmouaGFzT3duUHJvcGVydHkoJ3knKSkge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoJ3JhZGl1cycpIHx8IG9iai5oYXNPd25Qcm9wZXJ0eSgncicpKSB7XG4gICAgICByZXR1cm4gY2lyY2xlKG9iai54LCBvYmoueSwgb2JqLmhhc093blByb3BlcnR5KCdyYWRpdXMnKSA/IG9iai5yYWRpdXMgOiBvYmoucik7XG4gICAgfVxuICAgIGlmICgob2JqLmhhc093blByb3BlcnR5KCdyYWRpdXNYJykgfHwgb2JqLmhhc093blByb3BlcnR5KCdyeCcpKSAmJiAob2JqLmhhc093blByb3BlcnR5KCdyYWRpdXNZJykgfHwgb2JqLmhhc093blByb3BlcnR5KCdyeScpKSkge1xuICAgICAgcmV0dXJuIGVsbGlwc2Uob2JqLngsIG9iai55LCBvYmouaGFzT3duUHJvcGVydHkoJ3JhZGl1c1gnKSA/IG9iai5yYWRpdXNYIDogb2JqLnJ4LCBvYmouaGFzT3duUHJvcGVydHkoJ3JhZGl1c1knKSA/IG9iai5yYWRpdXNZIDogb2JqLnJ5KTtcbiAgICB9XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eSgndycpICYmIG9iai5oYXNPd25Qcm9wZXJ0eSgnaCcpKSB7XG4gICAgICByZXR1cm4gcmVjdChvYmoueCwgb2JqLnksIG9iai53LCBvYmouaCk7XG4gICAgfVxuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoJ3dpZHRoJykgJiYgb2JqLmhhc093blByb3BlcnR5KCdoZWlnaHQnKSkge1xuICAgICAgcmV0dXJuIHJlY3Qob2JqLngsIG9iai55LCBvYmoud2lkdGgsIG9iai5oZWlnaHQpO1xuICAgIH1cbiAgfVxuICBpZiAob2JqLmhhc093blByb3BlcnR5KCd4MScpICYmIG9iai5oYXNPd25Qcm9wZXJ0eSgneTEnKSAmJiBvYmouaGFzT3duUHJvcGVydHkoJ3gyJykgJiYgb2JqLmhhc093blByb3BlcnR5KCd5MicpKSB7XG4gICAgcmV0dXJuIGxpbmUob2JqLngxLCBvYmoueTEsIG9iai54Miwgb2JqLnkyKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvYmopICYmIG9iai5sZW5ndGggPiAwICYmIG9ialswXS5oYXNPd25Qcm9wZXJ0eSgneCcpICYmIG9ialswXS5oYXNPd25Qcm9wZXJ0eSgneScpKSB7XG4gICAgcmV0dXJuIHBvbHlnb24ob2JqKTtcbiAgfVxuICAvLyBUT0RPIHRocm93IGVycm9yP1xuICByZXR1cm4gb2JqOyAvL2Nhbid0IGRlcml2ZSBpdCwgeWV0XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2VvbS9pbmRleC50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuLyoqXG4gKiBiYXNpYyBpdGVyYXRvciBpbnRlcmZhY2VcbiAqIEBkZXByZWNhdGVkIHVzZSBuYXRpdmUgaXRlcmF0b3IgY29uY2VwdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElJdGVyYXRvcjxUPiB7XG4gIGhhc05leHQoKTogYm9vbGVhbjtcbiAgbmV4dCgpOiBUO1xuICAvKipcbiAgICogY29udmVydHMgdGhpcyB3aG9sZSBpdGVydG9yIGludG8gYW4gYXJyYXlcbiAgICovXG4gIGFzTGlzdCgpOiBUW107XG5cbiAgaXNJbmNyZWFzaW5nOiBib29sZWFuO1xuICBpc0RlY3JlYXNpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBpbmNyZWFzZXMgYnkgb25lXG4gICAqL1xuICBieU9uZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGRlY3JlYXNlcyBieSBvbmVcbiAgICovXG4gIGJ5TWludXNPbmU6IGJvb2xlYW47XG5cbiAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDYWxscyBhIGRlZmluZWQgY2FsbGJhY2sgZnVuY3Rpb24gb24gZWFjaCBlbGVtZW50IG9mIGFuIGFycmF5LCBhbmQgcmV0dXJucyBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSByZXN1bHRzLlxuICAgKiBAcGFyYW0gY2FsbGJhY2tmbiBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byB0aHJlZSBhcmd1bWVudHMuIFRoZSBtYXAgbWV0aG9kIGNhbGxzIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uIG9uZSB0aW1lIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5LlxuICAgKiBAcGFyYW0gdGhpc0FyZyBBbiBvYmplY3QgdG8gd2hpY2ggdGhlIHRoaXMga2V5d29yZCBjYW4gcmVmZXIgaW4gdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24uIElmIHRoaXNBcmcgaXMgb21pdHRlZCwgdW5kZWZpbmVkIGlzIHVzZWQgYXMgdGhlIHRoaXMgdmFsdWUuXG4gICAqL1xuICBtYXA8VT4oY2FsbGJhY2tmbjogKHZhbHVlOiBUKSA9PiBVLCB0aGlzQXJnPzogYW55KTogSUl0ZXJhdG9yPFU+O1xufVxuXG5leHBvcnQgY2xhc3MgQUl0ZXJhdG9yPFQ+IHtcbiAgaGFzTmV4dCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBuZXh0KCk6IFQge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpOiB2b2lkIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKHRoaXMuaGFzTmV4dCgpKSB7XG4gICAgICBjYWxsYmFja2ZuLmNhbGwodGhpc0FyZywgdGhpcy5uZXh0KCksIGkrKyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGEgZGVmaW5lZCBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXksIGFuZCByZXR1cm5zIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHJlc3VsdHMuXG4gICAqIEBwYXJhbSBjYWxsYmFja2ZuIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIHRocmVlIGFyZ3VtZW50cy4gVGhlIG1hcCBtZXRob2QgY2FsbHMgdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24gb25lIHRpbWUgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSB0aGlzQXJnIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIG1hcDxVPihjYWxsYmFja2ZuOiAodmFsdWU6IFQpID0+IFUsIHRoaXNBcmc/OiBhbnkpOiBJSXRlcmF0b3I8VT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlOm5vLXVzZS1iZWZvcmUtZGVjbGFyZVxuICAgIC8vIERpc2FibGVkIHRoZSBydWxlLCBiZWNhdXNlIHRoZSBjbGFzc2VzIGJlbG93IHJlZmVyZW5jZSBlYWNoIG90aGVyIGluIGEgd2F5IHRoYXQgaXQgaXMgaW1wb3NzaWJsZSB0byBmaW5kIGEgc3VjY2Vzc2Z1bCBvcmRlci5cbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybUl0ZXJhdG9yKHRoaXMsIGNhbGxiYWNrZm4sIHRoaXNBcmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIGNvbnZlcnRzIHRoZSByZW1haW5pbmcgb2YgdGhpcyBpdGVyYXRvciB0byBhIGxpc3RcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgYXNMaXN0KCkge1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICB3aGlsZSAodGhpcy5oYXNOZXh0KCkpIHtcbiAgICAgIHIucHVzaCh0aGlzLm5leHQoKSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cbiAgZ2V0IGlzSW5jcmVhc2luZygpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXQgaXNEZWNyZWFzaW5nKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldCBieU9uZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXQgYnlNaW51c09uZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbi8qKlxuICogaXRlcmF0b3IgZm9yIGEgZ2l2ZW4gcmFuZ2VcbiAqL1xuZXhwb3J0IGNsYXNzIEl0ZXJhdG9yIGV4dGVuZHMgQUl0ZXJhdG9yPG51bWJlcj4gaW1wbGVtZW50cyBJSXRlcmF0b3I8bnVtYmVyPiB7XG5cbiAgcHJpdmF0ZSBhY3Q6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZnJvbTogbnVtYmVyLCBwdWJsaWMgdG86IG51bWJlciwgcHVibGljIHN0ZXA6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hY3QgPSB0aGlzLmZyb207XG4gIH1cblxuICAvKipcbiAgICogd2hldGhlciBtb3JlIGl0ZW1zIGFyZSBhdmFpbGFibGVcbiAgICovXG4gIGhhc05leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0ICE9PSB0aGlzLnRvICYmICgodGhpcy5zdGVwID4gMCAmJiB0aGlzLmFjdCA8IHRoaXMudG8pIHx8ICh0aGlzLnN0ZXAgPCAwICYmIHRoaXMuYWN0ID4gdGhpcy50bykpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIG5leHQgaXRlbVxuICAgKi9cbiAgbmV4dCgpIHtcbiAgICBpZiAoIXRoaXMuaGFzTmV4dCgpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignZW5kIG9mIGl0ZXJhdG9yJyk7XG4gICAgfVxuICAgIGNvbnN0IHIgPSB0aGlzLmFjdDtcbiAgICB0aGlzLmFjdCArPSB0aGlzLnN0ZXA7XG4gICAgaWYgKHRoaXMuc3RlcCA8IDAgJiYgdGhpcy5hY3QgPCB0aGlzLnRvKSB7XG4gICAgICB0aGlzLmFjdCA9IHRoaXMudG87XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0ZXAgPiAwICYmIHRoaXMuYWN0ID4gdGhpcy50bykge1xuICAgICAgdGhpcy5hY3QgPSB0aGlzLnRvO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGdldCBpc0luY3JlYXNpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcCA+IDA7XG4gIH1cblxuICBnZXQgaXNEZWNyZWFzaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXAgPCAwO1xuICB9XG5cbiAgZ2V0IGJ5T25lKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXAgPT09IDE7XG4gIH1cblxuICBnZXQgYnlNaW51c09uZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwID09PSAtMTtcbiAgfVxuXG4gIGdldCBzaXplKCkge1xuICAgIGlmICh0aGlzLmJ5T25lKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy50byAtIHRoaXMuZnJvbSwgMCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmJ5TWludXNPbmUpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmZyb20gLSB0aGlzLnRvLCAwKTtcbiAgICB9XG4gICAgY29uc3QgZCA9IHRoaXMuaXNJbmNyZWFzaW5nID8gKHRoaXMudG8gLSB0aGlzLmZyb20gKyAxKSA6ICh0aGlzLmZyb20gLSB0aGlzLnRvICsgMSk7XG4gICAgY29uc3QgcyA9IE1hdGguYWJzKHRoaXMuc3RlcCk7XG4gICAgaWYgKGQgPD0gMCkgeyAvL25vIHJhbmdlXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoZCAvIHMpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaXN0SXRlcmF0b3I8VD4gZXh0ZW5kcyBBSXRlcmF0b3I8VD4gaW1wbGVtZW50cyBJSXRlcmF0b3I8VD4ge1xuICBwcml2YXRlIGl0OiBJdGVyYXRvcjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgYXJyOiBUW10pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXQgPSBuZXcgSXRlcmF0b3IoMCwgYXJyLmxlbmd0aCwgMSk7XG4gIH1cblxuICAvKipcbiAgICogd2hldGhlciBtb3JlIGl0ZW1zIGFyZSBhdmFpbGFibGVcbiAgICovXG4gIGhhc05leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXQuaGFzTmV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIG5leHQgaXRlbVxuICAgKi9cbiAgbmV4dCgpIHtcbiAgICBpZiAoIXRoaXMuaGFzTmV4dCgpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignZW5kIG9mIGl0ZXJhdG9yJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFyclt0aGlzLml0Lm5leHQoKV07XG4gIH1cblxuICBhc0xpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyLnNsaWNlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpbmdsZUl0ZXJhdG9yPFQ+IGV4dGVuZHMgQUl0ZXJhdG9yPFQ+IGltcGxlbWVudHMgSUl0ZXJhdG9yPFQ+IHtcbiAgcHJpdmF0ZSBkZWxpdmVyZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlOiBUKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIGhhc05leHQoKSB7XG4gICAgcmV0dXJuICF0aGlzLmRlbGl2ZXJlZDtcbiAgfVxuXG4gIG5leHQoKSB7XG4gICAgaWYgKCF0aGlzLmhhc05leHQoKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2VuZCBvZiBpdGVyYXRvcicpO1xuICAgIH1cbiAgICB0aGlzLmRlbGl2ZXJlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cblxuICBhc0xpc3QoKSB7XG4gICAgcmV0dXJuIFt0aGlzLnZhbHVlXTtcbiAgfVxuXG4gIGdldCBpc0luY3JlYXNpbmcoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBnZXQgaXNEZWNyZWFzaW5nKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0IGJ5T25lKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0IGJ5TWludXNPbmUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbmNhdEl0ZXJhdG9yPFQ+IGV4dGVuZHMgQUl0ZXJhdG9yPFQ+IGltcGxlbWVudHMgSUl0ZXJhdG9yPFQ+IHtcblxuICBwcml2YXRlIGFjdDogSUl0ZXJhdG9yPFQ+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaXRzOiBJSXRlcmF0b3I8VD5bXSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hY3QgPSBpdHMuc2hpZnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB3aGV0aGVyIG1vcmUgaXRlbXMgYXJlIGF2YWlsYWJsZVxuICAgKi9cbiAgaGFzTmV4dCgpIHtcbiAgICAvL2Jhc2VkIG9uIGh0dHA6Ly9ncmVwY29kZS5jb20vZmlsZS9yZXBvMS5tYXZlbi5vcmcvbWF2ZW4yL2NvbS5nb29nbGUuZ3VhdmEvZ3VhdmEvcjA4L2NvbS9nb29nbGUvY29tbW9uL2NvbGxlY3QvSXRlcmF0b3JzLmphdmEjSXRlcmF0b3JzLmNvbmNhdCUyOGphdmEudXRpbC5JdGVyYXRvciUyOVxuICAgIGxldCBjdXJyZW50SGFzTmV4dCA9IGZhbHNlO1xuICAgIHdoaWxlICghKGN1cnJlbnRIYXNOZXh0ID0gdGhpcy5hY3QuaGFzTmV4dCgpKSAmJiB0aGlzLml0cy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmFjdCA9IHRoaXMuaXRzLnNoaWZ0KCk7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50SGFzTmV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSBuZXh0IGl0ZW1cbiAgICovXG4gIG5leHQoKSB7XG4gICAgaWYgKCF0aGlzLmhhc05leHQoKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2VuZCBvZiBpdGVyYXRvcicpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hY3QubmV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIGNvbnZlcnRzIHRoZSByZW1haW5pbmcgb2YgdGhpcyBpdGVyYXRvciB0byBhIGxpc3RcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgYXNMaXN0KCkge1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICB3aGlsZSAodGhpcy5oYXNOZXh0KCkpIHtcbiAgICAgIHIucHVzaCh0aGlzLm5leHQoKSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cbiAgZ2V0IGlzSW5jcmVhc2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5pdHMuZXZlcnkoKGl0KSA9PiBpdC5pc0luY3JlYXNpbmcpO1xuICB9XG5cbiAgZ2V0IGlzRGVjcmVhc2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5pdHMuZXZlcnkoKGl0KSA9PiBpdC5pc0RlY3JlYXNpbmcpO1xuICB9XG5cbiAgZ2V0IGJ5T25lKCkge1xuICAgIHJldHVybiB0aGlzLml0cy5ldmVyeSgoaXQpID0+IGl0LmJ5T25lKTtcbiAgfVxuXG4gIGdldCBieU1pbnVzT25lKCkge1xuICAgIHJldHVybiB0aGlzLml0cy5ldmVyeSgoaXQpID0+IGl0LmJ5TWludXNPbmUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbXB0eUl0ZXJhdG9yPFQ+IGV4dGVuZHMgQUl0ZXJhdG9yPFQ+IGltcGxlbWVudHMgSUl0ZXJhdG9yPFQ+IHtcbiAgaXNJbmNyZWFzaW5nID0gZmFsc2U7XG4gIGlzRGVjcmVhc2luZyA9IGZhbHNlO1xuICBieU9uZSA9IGZhbHNlO1xuICBieU1pbnVzT25lID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIHdoZXRoZXIgbW9yZSBpdGVtcyBhcmUgYXZhaWxhYmxlXG4gICAqL1xuICBoYXNOZXh0KCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSBuZXh0IGl0ZW1cbiAgICovXG4gIG5leHQoKTogVCB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2VuZCBvZiBpdGVyYXRvcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIGNvbnZlcnRzIHRoZSByZW1haW5pbmcgb2YgdGhpcyBpdGVyYXRvciB0byBhIGxpc3RcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgYXNMaXN0KCk6IFRbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmNsYXNzIFRyYW5zZm9ybUl0ZXJhdG9yPE8sVD4gZXh0ZW5kcyBBSXRlcmF0b3I8VD4gaW1wbGVtZW50cyBJSXRlcmF0b3I8VD4ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGl0OiBJSXRlcmF0b3I8Tz4sIHByaXZhdGUgZjogKGVsZW06IE8pID0+IFQsIHByaXZhdGUgdGhpc0FyZz86IGFueSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogd2hldGhlciBtb3JlIGl0ZW1zIGFyZSBhdmFpbGFibGVcbiAgICovXG4gIGhhc05leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXQuaGFzTmV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIG5leHQgaXRlbVxuICAgKi9cbiAgbmV4dCgpIHtcbiAgICBpZiAoIXRoaXMuaGFzTmV4dCgpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignZW5kIG9mIGl0ZXJhdG9yJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmYuY2FsbCh0aGlzLnRoaXNBcmcsIHRoaXMuaXQubmV4dCgpKTtcbiAgfVxuXG4gIGdldCBpc0luY3JlYXNpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXQuaXNJbmNyZWFzaW5nO1xuICB9XG5cbiAgZ2V0IGlzRGVjcmVhc2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5pdC5pc0RlY3JlYXNpbmc7XG4gIH1cblxuICBnZXQgYnlPbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXQuYnlPbmU7XG4gIH1cblxuICBnZXQgYnlNaW51c09uZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pdC5ieU1pbnVzT25lO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eTxUPigpIHtcbiAgcmV0dXJuIG5ldyBFbXB0eUl0ZXJhdG9yPFQ+KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQ8VD4oLi4uaXRzOiBJSXRlcmF0b3I8VD5bXSkge1xuICBpZiAoaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBlbXB0eSgpO1xuICB9IGVsc2UgaWYgKGl0cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gaXRzWzBdO1xuICB9XG4gIHJldHVybiBuZXcgQ29uY2F0SXRlcmF0b3I8VD4oaXRzKTtcbn1cblxuLyoqXG4gKiBjcmVhdGVzIGEgbmV3IGl0ZXJhdG9yIGZvciB0aGUgZ2l2ZW4gcmFuZ2VcbiAqIEBwYXJhbSBmcm9tXG4gKiBAcGFyYW0gdG9cbiAqIEBwYXJhbSBzdGVwXG4gKiBAcmV0dXJucyB7SXRlcmF0b3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIHN0ZXA6IG51bWJlcikge1xuICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZyb20sIHRvLCBzdGVwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZSh2YWx1ZTogbnVtYmVyKSB7XG4gIHJldHVybiBuZXcgU2luZ2xlSXRlcmF0b3IodmFsdWUpO1xufVxuXG4vKipcbiAqIGNyZWF0ZXMgYSBuZXcgaXRlcmF0b3IgZm9yIHRoZSBnaXZlbiBsaXN0XG4gKiBAcGFyYW0gYXJyXG4gKiBAcmV0dXJucyB7TGlzdEl0ZXJhdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yTGlzdDxUPihhcnI6IFRbXSkge1xuICByZXR1cm4gbmV3IExpc3RJdGVyYXRvcjxUPihhcnIpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2l0ZXJhdG9yLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAyNi4xMi4yMDE2LlxuICovXG5cblxuaW1wb3J0IHtJVmlzTWV0YURhdGEsIElWaXNQbHVnaW5EZXNjfSBmcm9tICcuLi8uLi92aXMnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgUHJveHlNZXRhRGF0YSBpbXBsZW1lbnRzIElWaXNNZXRhRGF0YSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcHJveHk6ICgpID0+IElWaXNNZXRhRGF0YSkge1xuXG4gIH1cblxuICBnZXQgc2NhbGluZygpIHtcbiAgICBjb25zdCBwID0gdGhpcy5wcm94eSgpO1xuICAgIHJldHVybiBwID8gcC5zY2FsaW5nIDogJ2ZyZWUnO1xuICB9XG5cbiAgZ2V0IHJvdGF0aW9uKCkge1xuICAgIGNvbnN0IHAgPSB0aGlzLnByb3h5KCk7XG4gICAgcmV0dXJuIHAgPyBwLnJvdGF0aW9uIDogMDtcbiAgfVxuXG4gIGdldCBzaXplRGVwZW5kc09uRGF0YURpbWVuc2lvbigpIHtcbiAgICBjb25zdCBwID0gdGhpcy5wcm94eSgpO1xuICAgIHJldHVybiBwID8gcC5zaXplRGVwZW5kc09uRGF0YURpbWVuc2lvbiA6IFtmYWxzZSwgZmFsc2VdO1xuICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0VmlzKGluaXRpYWw6IG51bWJlcnxzdHJpbmd8SVZpc1BsdWdpbkRlc2MsIHZpc3NlczogSVZpc1BsdWdpbkRlc2NbXSkge1xuICBzd2l0Y2ggKHR5cGVvZiBpbml0aWFsKSB7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiB2aXNzZXNbTWF0aC5tYXgoMCwgTWF0aC5taW4oPG51bWJlcj5pbml0aWFsLCB2aXNzZXMubGVuZ3RoIC0gMSkpXTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHZpc3Nlc1tNYXRoLm1heCgwLCB2aXNzZXMuZmluZEluZGV4KCh2KSA9PiB2LmlkID09PSA8c3RyaW5nPmluaXRpYWwpKV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2aXNzZXNbTWF0aC5tYXgoMCwgdmlzc2VzLmluZGV4T2YoPElWaXNQbHVnaW5EZXNjPmluaXRpYWwpKV07XG4gIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTm9kZShwYXJlbnQ6IEVsZW1lbnQpIHtcbiAgbGV0IG5vZGUgPSBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgd2hpbGUgKChub2RlID0gcGFyZW50LmZpcnN0Q2hpbGQpICE9IG51bGwpIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobm9kZSk7XG4gIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb2RlKHBhcmVudDogSFRNTEVsZW1lbnQsIHR5cGU6IHN0cmluZyA9ICdkaXYnLCBjbGF6ej86IHN0cmluZykge1xuICBjb25zdCBub2RlID0gcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgaWYgKGNsYXp6KSB7XG4gICAgY2xhenouc3BsaXQoJyAnKS5mb3JFYWNoKChjKSA9PiBub2RlLmNsYXNzTGlzdC5hZGQoYykpO1xuICB9XG4gIHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgcmV0dXJuIG5vZGU7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbXVsdGlmb3JtL2ludGVybmFsL2luZGV4LnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDUuMDguMjAxNC5cbiAqL1xuaW1wb3J0IHtJUGVyc2lzdGFibGUsIHVuaXF1ZUlkfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7SVBsdWdpbkRlc2MsIGxpc3QgYXMgbGlzdFBsdWdpbnN9IGZyb20gJy4vcGx1Z2luJztcbmltcG9ydCB7SURhdGFUeXBlfSBmcm9tICcuL2RhdGF0eXBlJztcbmltcG9ydCB7UmFuZ2V9IGZyb20gJy4vcmFuZ2UnO1xuaW1wb3J0IHtJRXZlbnRIYW5kbGVyLCBFdmVudEhhbmRsZXJ9IGZyb20gJy4vZXZlbnQnO1xuXG5cbi8qKlxuICogdHJhbnNmb3JtIGRlc2NyaXB0aW9uIHdpdGhvdXQgdHJhbnNsYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJVHJhbnNmb3JtIHtcbiAgLyoqXG4gICAqIHNjYWxlIGZhY3RvcnMgKHdpZHRoLCBoZWlnaHQpXG4gICAqL1xuICByZWFkb25seSBzY2FsZTogW251bWJlciwgbnVtYmVyXTtcblxuICAvKipcbiAgICogcm90YXRpb25cbiAgICovXG4gIHJlYWRvbmx5IHJvdGF0ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUxvY2F0ZUFibGUge1xuICAvKipcbiAgICogZGF0YSByZXByZXNlbnRlZCBieSB0aGlzIHZpc1xuICAgKi9cbiAgZGF0YTogSURhdGFUeXBlO1xuXG4gIC8qKlxuICAgKiBsb2NhdGUgbWV0aG9kLCBieSBjb252ZW50aW9uLCB3aGVuIGp1c3QgYSBzaW5nbGUgcmFuZ2UgaXMgZ2l2ZW4sIHRoZW4gcmV0dXJuXG4gICAqIGp1c3QgYSBwcm9taXNlIHdpdGggdGhpcyByYW5nZSwgZWxzZSBhbiBhcnJheVxuICAgKiB0aGUgcmV0dXJuIHR5cGUgc2hvdWxkIGJlIHNvbWV0aGluZyBjb252ZXJ0YWJsZSB1c2luZyB0aGUgZ2VvbSBtb2R1bGVcbiAgICovXG4gIGxvY2F0ZSguLi5yYW5nZTogUmFuZ2VbXSk6IFByb21pc2U8YW55PjtcblxuICBsb2NhdGVCeUlkKC4uLnJhbmdlOiBSYW5nZVtdKTogUHJvbWlzZTxhbnk+O1xufVxuXG4vKipcbiAqIG1ldGFkYXRhIGZvciBhIHZpc3VhbGl6YXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJVmlzTWV0YURhdGEge1xuICAvKipcbiAgICogc2NhbGluZyBiZWhhdmlvclxuICAgKiBwb3NzaWJsZSB2YWx1ZXM6XG4gICAqIC0gZnJlZSAoZGVmYXVsdCkgLSBubyByZXN0cmljdGlvbnNcbiAgICogLSBhc3BlY3QgLSB0aGUgaW5pdGlhbCBhc3BlY3QgcmF0aW8gbXVzdCBiZSBrZXB0LCBpLmUuIHNhbWUgc2NhbGluZyB2YWx1ZXMgaW4gYm90aCBkaW1lbnNpb25zXG4gICAqIC0gd2lkdGgtb25seSAtIG9ubHkgdGhlIHdpZHRoIGNhbiBiZSBzY2FsZWRcbiAgICogLSBoZWlnaHQtb25seSAtIG9ubHkgdGhlIGhlaWdodCBjYW4gYmUgc2NhbGVkXG4gICAqL1xuICByZWFkb25seSBzY2FsaW5nOiBzdHJpbmc7IC8vJ2ZyZWUnIChkZWZhdWx0KSB8ICdhc3BlY3QnIHwgJ3dpZHRoLW9ubHknIHwgJ2hlaWdodC1vbmx5J1xuXG4gIC8qKlxuICAgKiBkZWZpbmVzIHRoZSByb3RhdGlvbiBjaGFuZ2UgYW5nbGVzXG4gICAqIC0gbm8gLyAwIC4uLiBubyByb3RhdGlvbiAoZGVmYXVsdClcbiAgICogLSBmcmVlIC8gbnVsbCAvIE5hTiAuLi4gYW55IHJvdGF0aW9uXG4gICAqIC0gdHJhbnNwb3NlIC8gOTAgLi4uIDkwIGRlZ3JlZVxuICAgKiAtIHN3YXAgLyAxODAgLi4uIDE4MCBkZWdyZWVcbiAgICogLSA8bnVtYmVyPiBhbnkgZGVncmVlXG4gICAqL1xuICByZWFkb25seSByb3RhdGlvbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBpbmRpY2F0b3IsIHdoZXRoZXIgdGhlIHNpemUgb2YgdGhpcyB2aXMgZGVwZW5kcyBvbiB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGF0YSwgaS5lLiBhbiBheGlzIG5vLCBhIGhlYXRtYXAgeWVzXG4gICAqL1xuICByZWFkb25seSBzaXplRGVwZW5kc09uRGF0YURpbWVuc2lvbjogYm9vbGVhbltdO1xufVxuXG4vKipcbiAqIGZvcm1hbCBkZXNjcmlwdGlvbiBvZiB0aGUgaW50ZXJmYWNlIG9mIGEgcGx1Z2luIGRlc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVZpc1BsdWdpbkRlc2MgZXh0ZW5kcyBJUGx1Z2luRGVzYywgSVZpc01ldGFEYXRhIHtcbiAgLyoqXG4gICAqIGRldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gZGF0YSBjYW4gYmUgcmVwcmVzZW50ZWQgdXNpbmcgdGhpcyB2aXN1YWxpemF0aW9uIHRlY2huaXF1ZVxuICAgKiBAcGFyYW0gZGF0YVxuICAgKi9cbiAgZmlsdGVyKGRhdGE6IElEYXRhVHlwZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIGFkZCBhbGwgaWNvbiBpbmZvcm1hdGlvbiBvZiB0aGlzIHZpcyB0byB0aGUgZ2l2ZW4gaHRtbCBlbGVtZW50XG4gICAqIEBwYXJhbSBub2RlXG4gICAqL1xuICBpY29uaWZ5KG5vZGU6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZpc0luc3RhbmNlT3B0aW9ucyB7XG4gIHJvdGF0ZT86IG51bWJlcjtcbiAgc2NhbGU/OiBbbnVtYmVyLCBudW1iZXJdO1xufVxuXG4vKipcbiAqIGJhc2ljIGludGVyZmFjZSBvZiBhbiB2aXN1YWxpemF0aW9uIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVZpc0luc3RhbmNlIGV4dGVuZHMgSVBlcnNpc3RhYmxlLCBJRXZlbnRIYW5kbGVyLCBJTG9jYXRlQWJsZSB7XG4gIC8qKlxuICAgKiB0aGUgdW5pcXVlIGlkIG9mIHRoaXMgdmlzIGluc3RhbmNlXG4gICAqL1xuICByZWFkb25seSBpZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiB0aGUgYmFzZSBlbGVtZW50IG9mIHRoaXMgdmlzXG4gICAqL1xuICByZWFkb25seSBub2RlOiBFbGVtZW50O1xuXG4gIC8qKlxuICAgKiB0aGUgcmVwcmVzZW50ZWQgZGF0YVxuICAgKi9cbiAgcmVhZG9ubHkgZGF0YTogSURhdGFUeXBlO1xuXG4gIC8qKlxuICAgKiBjdXJyZW50IHNpemUgb2YgdGhpcyB2aXNcbiAgICogQHJldHVybnMgW3dpZHRoLCBoZWlnaHRdXG4gICAqL1xuICByZWFkb25seSBzaXplOiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gIC8qKlxuICAgKiB0aGUgc2l6ZSB3aXRob3V0IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWRcbiAgICovXG4gIHJlYWRvbmx5IHJhd1NpemU6IFtudW1iZXIsIG51bWJlcl07XG5cbiAgLyoqXG4gICAqIGZsYWcgd2hldGhlciB0aGUgdmlzIGlmIGZ1bGx5IGJ1aWx0LCBpZiBub3Qgd2FpdCBmb3IgdGhlICdyZWFkeScgZXZlbnRcbiAgICovXG4gIHJlYWRvbmx5IGlzQnVpbHQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb25cbiAgICovXG4gIHRyYW5zZm9ybSgpOiBJVHJhbnNmb3JtO1xuXG4gIC8qKlxuICAgKiBzZXRzIHRoZSB0cmFuc2Zvcm1hdGlvblxuICAgKiBAcGFyYW0gc2NhbGUgW3csaF1cbiAgICogQHBhcmFtIHJvdGF0ZVxuICAgKi9cbiAgdHJhbnNmb3JtKHNjYWxlOiBbbnVtYmVyLCBudW1iZXJdLCByb3RhdGU6IG51bWJlcik6IElUcmFuc2Zvcm07XG5cbiAgLyoqXG4gICAqIG9wdGlvbiBnZXR0ZXJcbiAgICogQHBhcmFtIG5hbWVcbiAgICovXG4gIG9wdGlvbihuYW1lOiBzdHJpbmcpOiBhbnk7XG5cbiAgLyoqXG4gICAqIG9wdGlvbiBzZXR0ZXJcbiAgICogQHBhcmFtIG5hbWVcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqL1xuICBvcHRpb24obmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KTogYW55O1xuXG4gIC8qKlxuICAgKiB1cGRhdGVzIHRoaXMgdmlzXG4gICAqL1xuICB1cGRhdGUoKTogdm9pZDtcblxuICAvKipcbiAgICogZGVzdHJveSB0aGlzIHZpcyBhbmQgZGVyZWdpc3RlciBoYW5kbGVycywuLi5cbiAgICovXG4gIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblZpcyhub2RlOiBFbGVtZW50LCB2aXM6IElWaXNJbnN0YW5jZSkge1xuICAoPGFueT5ub2RlKS5fX3Zpc19fID0gdmlzO1xufVxuXG4vKipcbiAqIGJhc2UgY2xhc3MgZm9yIGFuIHZpc3VhbGl6YXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIEFWaXNJbnN0YW5jZSBleHRlbmRzIEV2ZW50SGFuZGxlciB7XG4gIHJlYWRvbmx5IGlkID0gdW5pcXVlSWQoJ3ZpcycpO1xuICBwcml2YXRlIF9idWlsdCA9IGZhbHNlO1xuXG4gIG9wdGlvbihuYW1lOiBzdHJpbmcsIHZhbHVlPzogYW55KTogYW55IHtcbiAgICAvL2R1bW15XG4gICAgLy9pZiAodmFsdWUpIHtcbiAgICAvLyAgdGhpcy5maXJlKCdvcHRpb24nLCBuYW1lLCB2YWx1ZSwgbnVsbCk7XG4gICAgLy99XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwZXJzaXN0KCk6IGFueSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXQgaXNCdWlsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYnVpbHQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgbWFya1JlYWR5KGJ1aWx0OiBib29sZWFuID0gdHJ1ZSkge1xuICAgIHRoaXMuX2J1aWx0ID0gYnVpbHQ7XG4gICAgaWYgKGJ1aWx0KSB7XG4gICAgICB0aGlzLmZpcmUoJ3JlYWR5Jyk7XG4gICAgfVxuICB9XG5cbiAgbG9jYXRlKC4uLnJhbmdlOiBSYW5nZVtdKSB7XG4gICAgaWYgKHJhbmdlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRlSW1wbChyYW5nZVswXSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChyYW5nZS5tYXAodGhpcy5sb2NhdGVJbXBsLCB0aGlzKSk7XG4gIH1cblxuICBhc3luYyBsb2NhdGVCeUlkKC4uLnJhbmdlOiBSYW5nZVtdKSB7XG4gICAgY29uc3QgaWRzOiBSYW5nZSA9IGF3YWl0ICg8YW55PnRoaXMpLmRhdGEuaWRzKCk7XG4gICAgaWYgKHJhbmdlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRlSW1wbChpZHMuaW5kZXhPZihyYW5nZVswXSkpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocmFuZ2UubWFwKChyKSA9PiB0aGlzLmxvY2F0ZUltcGwoaWRzLmluZGV4T2YocikpKSk7XG4gIH1cblxuICBsb2NhdGVJbXBsKHJhbmdlOiBSYW5nZSkge1xuICAgIC8vbm8gcmVzb2x1dGlvbiBieSBkZWZhdWx0XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgfVxuXG4gIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpOiBQcm9taXNlPEFWaXNJbnN0YW5jZT4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgLy9kbyBub3RoaW5nXG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIC8vIG5vdGhpbmcgdG8gZGVzdHJveVxuICAgIGNvbnN0IG4gPSAoPGFueT50aGlzKS5ub2RlO1xuICAgIGNvbnN0IHcgPSBuID8gbi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogbnVsbDtcbiAgICBpZiAobiAmJiBuLnBhcmVudE5vZGUgJiYgISh3ICYmIHcuZXZlbnQgJiYgdy5ldmVudC50eXBlID09PSAnRE9NTm9kZVJlbW92ZWQnICYmIHcuZXZlbnQudGFyZ2V0ID09PSBuKSkge1xuICAgICAgbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pO1xuICAgIH1cbiAgICB0aGlzLmZpcmUoJ2Rlc3Ryb3llZCcpO1xuICB9XG5cbiAgdHJhbnNmb3JtKCk6IElUcmFuc2Zvcm0ge1xuICAgIHJldHVybiB7XG4gICAgICBzY2FsZTogWzEsIDFdLFxuICAgICAgcm90YXRlOiAwXG4gICAgfTtcbiAgfVxuXG4gIGdldCByYXdTaXplKCkge1xuICAgIHJldHVybiBbMTAwLCAxMDBdO1xuICB9XG5cbiAgZ2V0IHNpemUoKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgY29uc3QgdCA9IHRoaXMudHJhbnNmb3JtKCk7XG4gICAgY29uc3QgciA9IHRoaXMucmF3U2l6ZTtcbiAgICAvL1RPRE8gcm90YXRpb25cbiAgICByZXR1cm4gW3JbMF0gKiB0LnNjYWxlWzBdLCByWzFdICogdC5zY2FsZVsxXV07XG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFwb2xhdGVGaWx0ZXIocjoge2ZpbHRlcj86IHN0cmluZ3woKGRhdGE6IElEYXRhVHlwZSkgPT4gYm9vbGVhbil9KSB7XG4gIGNvbnN0IHYgPSByLmZpbHRlcjtcbiAgaWYgKHR5cGVvZiB2ID09PSAndW5kZWZpbmVkJykge1xuICAgIHIuZmlsdGVyID0gKCkgPT4gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICByLmZpbHRlciA9IChkYXRhKSA9PiBkYXRhICYmIGRhdGEuZGVzYy50eXBlICYmIGRhdGEuZGVzYy50eXBlLm1hdGNoKHYpICE9IG51bGw7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgIHIuZmlsdGVyID0gKGRhdGEpID0+IGRhdGEgJiYgZGF0YSAmJiAoZGF0YS5kZXNjLnR5cGUgJiYgZGF0YS5kZXNjLnR5cGUubWF0Y2godlswXSkpICYmICgoPGFueT5kYXRhLmRlc2MpLnZhbHVlID09PSB1bmRlZmluZWQgfHwgKDxhbnk+ZGF0YS5kZXNjKS52YWx1ZS50eXBlLm1hdGNoKHZbMV0pKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYXBvbGF0ZUljb25pZnkocjoge2ljb25pZnk/KG5vZGU6IEhUTUxFbGVtZW50KTogdm9pZH0pIHtcbiAgaWYgKHR5cGVvZiByLmljb25pZnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgci5pY29uaWZ5ID0gZnVuY3Rpb24gaWNvbmZpeSh0aGlzOiBJVmlzUGx1Z2luRGVzYywgbm9kZTogSFRNTEVsZW1lbnQpIHtcbiAgICBub2RlLnRpdGxlID0gdGhpcy5uYW1lO1xuICAgIGNvbnN0IGFueVRoaXMgPSA8YW55PnRoaXM7XG4gICAgaWYgKGFueVRoaXMuaWNvbmNzcykge1xuICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwaG92ZWEtdmlzLWljb24nKTtcbiAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChhbnlUaGlzLmljb25jc3MpO1xuICAgIH0gZWxzZSBpZiAoYW55VGhpcy5pY29uKSB7XG4gICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3Bob3ZlYS12aXMtaWNvbicpO1xuICAgICAgbm9kZS5zdHlsZS53aWR0aCA9ICcxZW0nO1xuICAgICAgbm9kZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICBub2RlLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICcxMDAlJztcbiAgICAgIG5vZGUuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9ICduby1yZXBlYXQnO1xuICAgICAgLy9sYXp5IGxvYWQgaWNvblxuICAgICAgYW55VGhpcy5pY29uKCkudGhlbigoaWNvbkRhdGE6IHN0cmluZykgPT4ge1xuICAgICAgICBub2RlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtpY29uRGF0YX0pYDtcbiAgICAgIH0pO1xuICAgICAgbm9kZS5pbm5lckhUTUwgPSAnJm5ic3AnO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLmlubmVyVGV4dCA9IHRoaXMubmFtZS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG59XG5mdW5jdGlvbiBleHRyYXBvbGF0ZVNpemUocjoge3NjYWxpbmc/OiBzdHJpbmcsIHNpemVEZXBlbmRzT25EYXRhRGltZW5zaW9uOiBib29sZWFufFtib29sZWFuLCBib29sZWFuXX0pIHtcbiAgci5zY2FsaW5nID0gci5zY2FsaW5nIHx8ICdmcmVlJztcblxuICBpZiAoQXJyYXkuaXNBcnJheShyLnNpemVEZXBlbmRzT25EYXRhRGltZW5zaW9uKSAmJiB0eXBlb2Ygci5zaXplRGVwZW5kc09uRGF0YURpbWVuc2lvblswXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgLy8gb2tcbiAgfSBlbHNlIGlmICh0eXBlb2Ygci5zaXplRGVwZW5kc09uRGF0YURpbWVuc2lvbiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgci5zaXplRGVwZW5kc09uRGF0YURpbWVuc2lvbiA9IFtyLnNpemVEZXBlbmRzT25EYXRhRGltZW5zaW9uLCByLnNpemVEZXBlbmRzT25EYXRhRGltZW5zaW9uXTtcbiAgfSBlbHNlIHtcbiAgICByLnNpemVEZXBlbmRzT25EYXRhRGltZW5zaW9uID0gW2ZhbHNlLCBmYWxzZV07XG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFwb2xhdGVSb3RhdGlvbihyOiB7cm90YXRpb246IHN0cmluZ3xudW1iZXJ8bnVsbH0pIHtcbiAgY29uc3QgbSA9IHsgLy9zdHJpbmcgdG8gdGV4dCBtYXBwaW5nc1xuICAgIGZyZWU6IE5hTixcbiAgICBubzogMCxcbiAgICB0cmFuc3Bvc2U6IDkwLFxuICAgIHN3YXA6IDE4MFxuICB9O1xuICBpZiAodHlwZW9mIHIucm90YXRpb24gPT09ICdzdHJpbmcnICYmIHIucm90YXRpb24gaW4gbSkge1xuICAgIHIucm90YXRpb24gPSAoPGFueT5tKVtyLnJvdGF0aW9uXTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygci5yb3RhdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICByLnJvdGF0aW9uID0gK3Iucm90YXRpb247XG4gIH0gZWxzZSBpZiAoci5yb3RhdGlvbiA9PT0gbnVsbCkge1xuICAgIHIucm90YXRpb24gPSBOYU47XG4gIH0gZWxzZSB7XG4gICAgci5yb3RhdGlvbiA9IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gdG9WaXNQbHVnaW4ocGx1Z2luOiBJUGx1Z2luRGVzYyk6IElWaXNQbHVnaW5EZXNjIHtcbiAgY29uc3QgcjogYW55ID0gcGx1Z2luO1xuICBleHRyYXBvbGF0ZUZpbHRlcihyKTtcbiAgZXh0cmFwb2xhdGVJY29uaWZ5KHIpO1xuICBleHRyYXBvbGF0ZVNpemUocik7XG4gIGV4dHJhcG9sYXRlUm90YXRpb24ocik7XG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIGxpc3QgYSB2aXMgcGx1Z2lucyBhbmQgY2hlY2sgaW4gYWRkaXRpb24gd2hldGhlciB0aGUgbWF0Y2ggdGhlIGdpdmVuIGRhdGEgdHlwZVxuICogQHBhcmFtIGRhdGEgdGhlIGRhdGEgdHlwZSB0byB2aXN1YWxpemVcbiAqIEByZXR1cm5zIHtJUGx1Z2luRGVzY1tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdChkYXRhOiBJRGF0YVR5cGUpOiBJVmlzUGx1Z2luRGVzY1tdIHtcbiAgLy9maWx0ZXIgYWRkaXRpb25hbGx5IHdpdGggdGhlIGZpbHRlciBhdHRyaWJ1dGUsIHdoaWNoIGNhbiBiZSBhIGZ1bmN0aW9uIG9yIHRoZSBleHBlY3RlZCBkYXRhIHR5cGVcbiAgcmV0dXJuIGxpc3RQbHVnaW5zKCd2aXMnKS5tYXAodG9WaXNQbHVnaW4pLmZpbHRlcigoZGVzYykgPT4gZGVzYy5maWx0ZXIoZGF0YSkpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Zpcy50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjIuMTAuMjAxNC5cbiAqL1xuaW1wb3J0IHtJRXZlbnR9IGZyb20gJy4uL2V2ZW50JztcbmltcG9ydCBHcmFwaEJhc2UsIHtJR3JhcGhGYWN0b3J5LCBJR3JhcGhEYXRhRGVzY3JpcHRpb259IGZyb20gJy4vR3JhcGhCYXNlJztcbmltcG9ydCB7R3JhcGhFZGdlLCBHcmFwaE5vZGUsIElHcmFwaH0gZnJvbSAnLi9ncmFwaCc7XG5pbXBvcnQge3Jlc29sdmVJbW1lZGlhdGVseX0gZnJvbSAnLi4vaW50ZXJuYWwvcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2FsU3RvcmFnZUdyYXBoIGV4dGVuZHMgR3JhcGhCYXNlIGltcGxlbWVudHMgSUdyYXBoIHtcblxuICBwcml2YXRlIHVwZGF0ZUhhbmRsZXIgPSAoZXZlbnQ6IElFdmVudCkgPT4ge1xuICAgIGNvbnN0IHMgPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKHMgaW5zdGFuY2VvZiBHcmFwaE5vZGUpIHtcbiAgICAgIHRoaXMudXBkYXRlTm9kZSg8R3JhcGhOb2RlPnMpO1xuICAgIH1cbiAgICBpZiAocyBpbnN0YW5jZW9mIEdyYXBoRWRnZSkge1xuICAgICAgdGhpcy51cGRhdGVFZGdlKDxHcmFwaEVkZ2U+cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoZGVzYzogSUdyYXBoRGF0YURlc2NyaXB0aW9uLCBub2RlczogR3JhcGhOb2RlW10gPSBbXSwgZWRnZXM6IEdyYXBoRWRnZVtdID0gW10sIHByaXZhdGUgc3RvcmFnZTogU3RvcmFnZSA9IHNlc3Npb25TdG9yYWdlKSB7XG4gICAgc3VwZXIoZGVzYywgbm9kZXMsIGVkZ2VzKTtcblxuICAgIGNvbnN0IHVpZCA9IHRoaXMudWlkO1xuICAgIGlmIChub2Rlcy5sZW5ndGggPiAwIHx8IGVkZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKGAke3VpZH0ubm9kZXNgLCBKU09OLnN0cmluZ2lmeShub2Rlcy5tYXAoKGQpID0+IGQuaWQpKSk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHVpZCArICcubm9kZS4nICsgbi5pZCwgSlNPTi5zdHJpbmdpZnkobi5wZXJzaXN0KCkpKTtcbiAgICAgICAgbi5vbignc2V0QXR0cicsIHRoaXMudXBkYXRlSGFuZGxlcik7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oYCR7dWlkfS5lZGdlc2AsIEpTT04uc3RyaW5naWZ5KGVkZ2VzLm1hcCgoZCkgPT4gZC5pZCkpKTtcbiAgICAgIGVkZ2VzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oYCR7dWlkfS5lZGdlLiR7ZS5pZH1gLCBKU09OLnN0cmluZ2lmeShlLnBlcnNpc3QoKSkpO1xuICAgICAgICBlLm9uKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBtaWdyYXRlKGdyYXBoOiBHcmFwaEJhc2UsIHN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZSkge1xuICAgIHJldHVybiByZXNvbHZlSW1tZWRpYXRlbHkoZ3JhcGgubWlncmF0ZSgpKS50aGVuKCh7bm9kZXMsIGVkZ2VzfSkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBMb2NhbFN0b3JhZ2VHcmFwaChncmFwaC5kZXNjLCBub2RlcywgZWRnZXMsIHN0b3JhZ2UpO1xuICAgIH0pO1xuICB9XG5cbiAgbWlncmF0ZSgpIHtcbiAgICB0aGlzLm5vZGVzLmZvckVhY2goKG4pID0+IG4ub2ZmKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKSk7XG4gICAgdGhpcy5lZGdlcy5mb3JFYWNoKChuKSA9PiBuLm9mZignc2V0QXR0cicsIHRoaXMudXBkYXRlSGFuZGxlcikpO1xuICAgIHJldHVybiBzdXBlci5taWdyYXRlKCk7XG4gIH1cblxuICBzdGF0aWMgbG9hZChkZXNjOiBJR3JhcGhEYXRhRGVzY3JpcHRpb24sIGZhY3Rvcnk6IElHcmFwaEZhY3RvcnksIHN0b3JhZ2U6IFN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZSwgcmVzZXQgPSBmYWxzZSkge1xuICAgIGNvbnN0IHIgPSBuZXcgTG9jYWxTdG9yYWdlR3JhcGgoZGVzYywgW10sIFtdLCBzdG9yYWdlKTtcbiAgICBpZiAoIXJlc2V0KSB7XG4gICAgICByLmxvYWQoZmFjdG9yeSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cbiAgc3RhdGljIGNsb25lKGdyYXBoOiBHcmFwaEJhc2UsIGZhY3Rvcnk6IElHcmFwaEZhY3RvcnksIHN0b3JhZ2U6IFN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZSkge1xuICAgIGNvbnN0IHIgPSBuZXcgTG9jYWxTdG9yYWdlR3JhcGgoZ3JhcGguZGVzYywgW10sIFtdLCBzdG9yYWdlKTtcbiAgICByLnJlc3RvcmVEdW1wKGdyYXBoLnBlcnNpc3QoKSwgZmFjdG9yeSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBwcml2YXRlIGdldCB1aWQoKSB7XG4gICAgcmV0dXJuIGBncmFwaCR7dGhpcy5kZXNjLmlkfWA7XG4gIH1cblxuICBwcml2YXRlIGxvYWQoZmFjdG9yeTogSUdyYXBoRmFjdG9yeSkge1xuICAgIGNvbnN0IHVpZCA9IHRoaXMudWlkO1xuICAgIGlmICh0aGlzLnN0b3JhZ2UuZ2V0SXRlbShgJHt1aWR9Lm5vZGVzYCkgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub2RlSWRzOiBzdHJpbmdbXSA9IEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0oYCR7dWlkfS5ub2Rlc2ApKTtcbiAgICBjb25zdCBsb29rdXAgPSBuZXcgTWFwPG51bWJlciwgR3JhcGhOb2RlPigpO1xuICAgIG5vZGVJZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKGAke3VpZH0ubm9kZS4ke2lkfWApKTtcbiAgICAgIGNvbnN0IG5uID0gZmFjdG9yeS5tYWtlTm9kZShuKTtcbiAgICAgIGxvb2t1cC5zZXQobm4uaWQsIG5uKTtcbiAgICAgIG5uLm9uKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKTtcbiAgICAgIHN1cGVyLmFkZE5vZGUobm4pO1xuICAgIH0pO1xuICAgIGNvbnN0IGVkZ2VJZHM6IHN0cmluZ1tdID0gSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0SXRlbShgJHt1aWR9LmVkZ2VzYCkpO1xuICAgIGVkZ2VJZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKGAke3VpZH0uZWRnZS4ke2lkfWApKTtcbiAgICAgIGNvbnN0IG5uID0gZmFjdG9yeS5tYWtlRWRnZShuLCBsb29rdXAuZ2V0LmJpbmQobG9va3VwKSk7XG4gICAgICBubi5vbignc2V0QXR0cicsIHRoaXMudXBkYXRlSGFuZGxlcik7XG4gICAgICBzdXBlci5hZGRFZGdlKG5uKTtcbiAgICB9KTtcbiAgICB0aGlzLmZpcmUoJ2xvYWRlZCcpO1xuICB9XG5cbiAgc3RhdGljIGRlbGV0ZShkZXNjOiBJR3JhcGhEYXRhRGVzY3JpcHRpb24sIHN0b3JhZ2U6IFN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZSkge1xuICAgIGNvbnN0IHVpZCA9IGBncmFwaCR7ZGVzYy5pZH1gO1xuICAgIEpTT04ucGFyc2Uoc3RvcmFnZS5nZXRJdGVtKGAke3VpZH0ubm9kZXNgKSB8fCAnW10nKS5mb3JFYWNoKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oYCR7dWlkfS5ub2RlLiR7aWR9YCk7XG4gICAgfSk7XG4gICAgc3RvcmFnZS5yZW1vdmVJdGVtKGAke3VpZH0ubm9kZXNgKTtcbiAgICBKU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbShgJHt1aWR9LmVkZ2VzYCkgfHwgJ1tdJykuZm9yRWFjaCgoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKGAke3VpZH0uZWRnZS4ke2lkfWApO1xuICAgIH0pO1xuICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShgJHt1aWR9LmVkZ2VzYCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlKGRlc2M6IElHcmFwaERhdGFEZXNjcmlwdGlvbiwgc3RvcmFnZTogU3RvcmFnZSA9IHNlc3Npb25TdG9yYWdlKSB7XG4gICAgY29uc3QgdWlkID0gYGdyYXBoJHtkZXNjLmlkfWA7XG4gIH1cblxuICByZXN0b3JlRHVtcChwZXJzaXN0ZWQ6IGFueSwgZmFjdG9yeTogSUdyYXBoRmFjdG9yeSkge1xuICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBNYXA8bnVtYmVyLCBHcmFwaE5vZGU+KCk7XG5cbiAgICBwZXJzaXN0ZWQubm9kZXMuZm9yRWFjaCgocDogYW55KSA9PiB7XG4gICAgICBjb25zdCBuID0gZmFjdG9yeS5tYWtlTm9kZShwKTtcbiAgICAgIGxvb2t1cC5zZXQobi5pZCwgbik7XG4gICAgICB0aGlzLmFkZE5vZGUobik7XG4gICAgfSk7XG5cbiAgICBwZXJzaXN0ZWQuZWRnZXMuZm9yRWFjaCgocDogYW55KSA9PiB7XG4gICAgICBjb25zdCBuID0gZmFjdG9yeS5tYWtlRWRnZShwLCBsb29rdXAuZ2V0LmJpbmQobG9va3VwKSk7XG4gICAgICB0aGlzLmFkZEVkZ2Uobik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGROb2RlKG46IEdyYXBoTm9kZSkge1xuICAgIHN1cGVyLmFkZE5vZGUobik7XG4gICAgY29uc3QgdWlkID0gdGhpcy51aWQ7XG4gICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0odWlkICsgJy5ub2RlLicgKyBuLmlkLCBKU09OLnN0cmluZ2lmeShuLnBlcnNpc3QoKSkpO1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKGAke3VpZH0ubm9kZXNgLCBKU09OLnN0cmluZ2lmeSh0aGlzLm5vZGVzLm1hcCgoZCkgPT4gZC5pZCkpKTtcbiAgICBuLm9uKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVwZGF0ZU5vZGUobjogR3JhcGhOb2RlKTogYW55IHtcbiAgICBzdXBlci51cGRhdGVOb2RlKG4pO1xuICAgIGNvbnN0IHVpZCA9IHRoaXMudWlkO1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHVpZCArICcubm9kZS4nICsgbi5pZCwgSlNPTi5zdHJpbmdpZnkobi5wZXJzaXN0KCkpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbW92ZU5vZGUobjogR3JhcGhOb2RlKSB7XG4gICAgaWYgKCFzdXBlci5yZW1vdmVOb2RlKG4pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdWlkID0gdGhpcy51aWQ7XG4gICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oYCR7dWlkfS5ub2Rlc2AsIEpTT04uc3RyaW5naWZ5KHRoaXMubm9kZXMubWFwKChkKSA9PiBkLmlkKSkpO1xuICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGAke3VpZH0ubm9kZS4ke24uaWR9YCk7XG4gICAgbi5vZmYoJ3NldEF0dHInLCB0aGlzLnVwZGF0ZUhhbmRsZXIpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRFZGdlKGVkZ2VPclNvdXJjZTogR3JhcGhFZGdlIHwgR3JhcGhOb2RlLCB0eXBlPzogc3RyaW5nLCB0PzogR3JhcGhOb2RlKSB7XG4gICAgaWYgKGVkZ2VPclNvdXJjZSBpbnN0YW5jZW9mIEdyYXBoRWRnZSkge1xuICAgICAgc3VwZXIuYWRkRWRnZShlZGdlT3JTb3VyY2UpO1xuICAgICAgY29uc3QgZSA9IDxHcmFwaEVkZ2U+ZWRnZU9yU291cmNlO1xuICAgICAgY29uc3QgdWlkID0gdGhpcy51aWQ7XG4gICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShgJHt1aWR9LmVkZ2VzYCwgSlNPTi5zdHJpbmdpZnkodGhpcy5lZGdlcy5tYXAoKGQpID0+IGQuaWQpKSk7XG4gICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShgJHt1aWR9LmVkZ2UuJHtlLmlkfWAsIEpTT04uc3RyaW5naWZ5KGUucGVyc2lzdCgpKSk7XG4gICAgICBlLm9uKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuYWRkRWRnZSg8R3JhcGhOb2RlPmVkZ2VPclNvdXJjZSwgdHlwZSwgdCk7XG4gIH1cblxuICByZW1vdmVFZGdlKGU6IEdyYXBoRWRnZSkge1xuICAgIGlmICghc3VwZXIucmVtb3ZlRWRnZShlKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vbmVlZCB0byBzaGlmdCBhbGxcbiAgICBjb25zdCB1aWQgPSB0aGlzLnVpZDtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShgJHt1aWR9LmVkZ2VzYCwgSlNPTi5zdHJpbmdpZnkodGhpcy5lZGdlcy5tYXAoKGQpID0+IGQuaWQpKSk7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7dWlkfS5lZGdlLiR7ZS5pZH1gKTtcbiAgICBlLm9mZignc2V0QXR0cicsIHRoaXMudXBkYXRlSGFuZGxlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1cGRhdGVFZGdlKGU6IEdyYXBoRWRnZSk6IGFueSB7XG4gICAgc3VwZXIudXBkYXRlRWRnZShlKTtcbiAgICBjb25zdCB1aWQgPSB0aGlzLnVpZDtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShgJHt1aWR9LmVkZ2UuJHtlLmlkfWAsIEpTT04uc3RyaW5naWZ5KGUucGVyc2lzdCgpKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBjb25zdCBubm9kZXMgPSB0aGlzLm5ub2RlcywgbmVkZ2VzID0gdGhpcy5uZWRnZXM7XG4gICAgaWYgKG5ub2RlcyA9PT0gMCAmJiBuZWRnZXMgPT09IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfVxuICAgIHRoaXMubm9kZXMuZm9yRWFjaCgobikgPT4gbi5vZmYoJ3NldEF0dHInLCB0aGlzLnVwZGF0ZUhhbmRsZXIpKTtcbiAgICB0aGlzLmVkZ2VzLmZvckVhY2goKG4pID0+IG4ub2ZmKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKSk7XG4gICAgc3VwZXIuY2xlYXIoKTtcbiAgICBjb25zdCB1aWQgPSB0aGlzLnVpZDtcbiAgICBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKHVpZCArICcubm9kZXMnKSkuZm9yRWFjaCgoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7dWlkfS5ub2RlLiR7aWR9YCk7XG4gICAgfSk7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7dWlkfS5ub2Rlc2ApO1xuICAgIEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0odWlkICsgJy5lZGdlcycpKS5mb3JFYWNoKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShgJHt1aWR9LmVkZ2UuJHtpZH1gKTtcbiAgICB9KTtcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShgJHt1aWR9LmVkZ2VzYCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgY29uc3QgcjogYW55ID0ge1xuICAgICAgcm9vdDogdGhpcy5kZXNjLmlkXG4gICAgfTtcbiAgICByLm5vZGVzID0gdGhpcy5ub2Rlcy5tYXAoKHMpID0+IHMucGVyc2lzdCgpKTtcbiAgICByLmVkZ2VzID0gdGhpcy5lZGdlcy5tYXAoKGwpID0+IGwucGVyc2lzdCgpKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dyYXBoL0xvY2FsU3RvcmFnZUdyYXBoLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAxMi4wMi4yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyMi4xMC4yMDE0LlxuICovXG5pbXBvcnQge0lQZXJzaXN0YWJsZX0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IEdyYXBoQmFzZSwge2RlZmF1bHRHcmFwaEZhY3RvcnksIElHcmFwaERhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi9HcmFwaEJhc2UnO1xuaW1wb3J0IHtHcmFwaEVkZ2UsIEdyYXBoTm9kZX0gZnJvbSAnLi9ncmFwaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbW9yeUdyYXBoIGV4dGVuZHMgR3JhcGhCYXNlIGltcGxlbWVudHMgSVBlcnNpc3RhYmxlIHtcbiAgY29uc3RydWN0b3IoZGVzYzogSUdyYXBoRGF0YURlc2NyaXB0aW9uLCBub2RlczogR3JhcGhOb2RlW10gPSBbXSwgZWRnZXM6IEdyYXBoRWRnZVtdID0gW10sIHByaXZhdGUgZmFjdG9yeSA9IGRlZmF1bHRHcmFwaEZhY3RvcnkpIHtcbiAgICBzdXBlcihkZXNjLCBub2RlcywgZWRnZXMpO1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBNYXA8bnVtYmVyLCBHcmFwaE5vZGU+KCk7XG4gICAgcGVyc2lzdGVkLm5vZGVzLmZvckVhY2goKHA6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbiA9IHRoaXMuZmFjdG9yeS5tYWtlTm9kZShwKTtcbiAgICAgIGxvb2t1cC5zZXQobi5pZCwgbik7XG4gICAgICB0aGlzLmFkZE5vZGUobik7XG4gICAgfSk7XG5cbiAgICBwZXJzaXN0ZWQuZWRnZXMuZm9yRWFjaCgocDogYW55KSA9PiB7XG4gICAgICBjb25zdCBuID0gdGhpcy5mYWN0b3J5Lm1ha2VFZGdlKHAsIGxvb2t1cC5nZXQuYmluZChsb29rdXApKTtcbiAgICAgIHRoaXMuYWRkRWRnZShuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dyYXBoL01lbW9yeUdyYXBoLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge0V2ZW50SGFuZGxlciwgSUV2ZW50LCBJRXZlbnRMaXN0ZW5lcn0gZnJvbSAnLi4vZXZlbnQnO1xuaW1wb3J0IHtub25lLCBSYW5nZSwgUmFuZ2VMaWtlLCBwYXJzZSwgUmFuZ2UxRCwgbGlzdCBhcyBybGlzdH0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtTZWxlY3RPcGVyYXRpb24sIGFzU2VsZWN0T3BlcmF0aW9uLCBJSURUeXBlLCBkZWZhdWx0U2VsZWN0aW9uVHlwZX0gZnJvbSAnLi9JSURUeXBlJztcbmltcG9ydCBJRFR5cGUgZnJvbSAnLi9JRFR5cGUnO1xuXG4vL2Z1bmN0aW9uIGluZGljZXNDb21wYXJlKGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSkge1xuLy8gIC8vYXNzZXJ0IGEubGVuZ3RoID0gYi5sZW5ndGhcbi8vICBmb3IobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuLy8gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbi8vICAgICAgcmV0dXJuIGFbaV0gLSBiW2ldO1xuLy8gICAgfVxuLy8gIH1cbi8vICByZXR1cm4gMDtcbi8vfVxuLy9cbi8vZnVuY3Rpb24gY29tcHJlc3NQYWlycyhwYWlyczogbnVtYmVyW11bXSk6IFJhbmdlW10ge1xuLy8gIHJldHVybiBwYWlycy5tYXAoKGEpID0+IHJsaXN0KC4uLmEpKTtcbi8vfVxuXG5mdW5jdGlvbiBvdmVybGFwcyhyOiBSYW5nZSwgd2l0aFJhbmdlOiBSYW5nZSwgbmRpbTogbnVtYmVyKSB7XG4gIGlmICh3aXRoUmFuZ2UubmRpbSA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlOyAvL2NhdGNoIGFsbFxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oci5uZGltLCBuZGltKTsgKytpKSB7XG4gICAgY29uc3QgcmkgPSByLmRpbShpKTtcbiAgICBjb25zdCB3aSA9IHdpdGhSYW5nZS5kaW0oaSk7XG4gICAgaWYgKHdpLmlzQWxsIHx8IHJpLmlzQWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFyaS5pc1VuYm91bmQgJiYgcmkuYXNMaXN0KCkuZXZlcnkoKHJpaSkgPT4gIXdpLmNvbnRhaW5zKHJpaSkpKSB7XG4gICAgICAvL2l0IHRoZSBpZHMgYXQgZGltZW5zaW9uIGkgYXJlIG5vdCBvdmVybGFwcGluZyBjYW4ndCBvdmVybGFwIGluIG90aGVyc1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvL1RPRE9cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNlbGxzKGI6IFJhbmdlW10sIHdpdGhvdXQ6IFJhbmdlW10sIG5kaW06IG51bWJlcikge1xuICBpZiAod2l0aG91dC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYjtcbiAgfVxuICBjb25zdCByOiBSYW5nZVtdID0gW107XG4gIGIuZm9yRWFjaCgoYmkpID0+IHtcbiAgICBpZiAod2l0aG91dC5zb21lKCh3KSA9PiB3LmVxKGJpKSkpIHtcbiAgICAgIC8vc2tpcFxuICAgIH0gZWxzZSBpZiAod2l0aG91dC5zb21lKCh3KSA9PiBvdmVybGFwcyhiaSwgdywgbmRpbSkpKSB7XG4gICAgICAvL1RPRE9cbiAgICB9IGVsc2Uge1xuICAgICAgci5wdXNoKGJpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcjtcbn1cbi8qKlxuICogYSBwcm9kdWN0IGlkdHlwZSBpcyBhIHByb2R1Y3Qgb2YgbXVsdGlwbGUgdW5kZXJseWluZyBvbmVzLCBlLmcuIHBhdGllbnQgeCBnZW5lLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9kdWN0SURUeXBlIGV4dGVuZHMgRXZlbnRIYW5kbGVyIGltcGxlbWVudHMgSUlEVHlwZSB7XG4gIHN0YXRpYyByZWFkb25seSBFVkVOVF9TRUxFQ1RfRElNID0gJ3NlbGVjdERpbSc7XG4gIHN0YXRpYyByZWFkb25seSBFVkVOVF9TRUxFQ1RfUFJPRFVDVCA9ICdzZWxlY3RQcm9kdWN0JztcblxuICBwcml2YXRlIHNlbCA9IG5ldyBNYXA8c3RyaW5nLCBSYW5nZVtdPigpO1xuXG4gIHByaXZhdGUgaXNPbiA9IGZhbHNlO1xuICBwcml2YXRlIHNlbGVjdGlvbkxpc3RlbmVyID0gKGV2ZW50OiBJRXZlbnQsIHR5cGU6IHN0cmluZywgYWN0OiBSYW5nZSwgYWRkZWQ6IFJhbmdlLCByZW1vdmVkOiBSYW5nZSkgPT4ge1xuICAgIHRoaXMuZmlyZShgJHtQcm9kdWN0SURUeXBlLkVWRU5UX1NFTEVDVF9ESU19LCR7UHJvZHVjdElEVHlwZS5FVkVOVF9TRUxFQ1RfUFJPRFVDVH1gLCB0aGlzLmVsZW1zLmluZGV4T2YoPElEVHlwZT5ldmVudC5jdXJyZW50VGFyZ2V0KSwgdHlwZSwgYWN0LCBhZGRlZCwgcmVtb3ZlZCk7XG4gICAgdGhpcy5maXJlKGAke1Byb2R1Y3RJRFR5cGUuRVZFTlRfU0VMRUNUX0RJTX0tJHt0eXBlfSwke1Byb2R1Y3RJRFR5cGUuRVZFTlRfU0VMRUNUX1BST0RVQ1R9LSR7dHlwZX1gLCB0aGlzLmVsZW1zLmluZGV4T2YoPElEVHlwZT5ldmVudC5jdXJyZW50VGFyZ2V0KSwgYWN0LCBhZGRlZCwgcmVtb3ZlZCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZWxlbXM6IElEVHlwZVtdLCBwdWJsaWMgcmVhZG9ubHkgaW50ZXJuYWwgPSBmYWxzZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBvbihldmVudHM6IHN0cmluZ3x7W2tleTogc3RyaW5nXTogSUV2ZW50TGlzdGVuZXJ9LCBsaXN0ZW5lcj86IElFdmVudExpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLmlzT24pIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgICB0aGlzLmlzT24gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIub24oZXZlbnRzLCBsaXN0ZW5lcik7XG4gIH1cblxuICBnZXQgaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbXMubWFwKChlKSA9PiBlLmlkKS5qb2luKCdYJyk7XG4gIH1cblxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtcy5tYXAoKGUpID0+IGUubmFtZSkuam9pbignIHggJyk7XG4gIH1cblxuICBnZXQgbmFtZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbXMubWFwKChlKSA9PiBlLm5hbWVzKS5qb2luKCcgeCAnKTtcbiAgfVxuXG4gIHByaXZhdGUgZW5hYmxlKCkge1xuICAgIHRoaXMuZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4gZWxlbS5vbihJRFR5cGUuRVZFTlRfU0VMRUNULCB0aGlzLnNlbGVjdGlvbkxpc3RlbmVyKSk7XG4gIH1cblxuICBwcml2YXRlIGRpc2FibGUoKSB7XG4gICAgdGhpcy5lbGVtcy5mb3JFYWNoKChlbGVtKSA9PiBlbGVtLm9mZihJRFR5cGUuRVZFTlRfU0VMRUNULCB0aGlzLnNlbGVjdGlvbkxpc3RlbmVyKSk7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIGNvbnN0IHM6IGFueSA9IHt9O1xuICAgIHRoaXMuc2VsLmZvckVhY2goKHYsIHR5cGUpID0+IHNbdHlwZV0gPSB2Lm1hcCgocikgPT4gci50b1N0cmluZygpKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbDogc1xuICAgIH07XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgT2JqZWN0LmtleXMocGVyc2lzdGVkLnNlbCkuZm9yRWFjaCgodHlwZSkgPT4gdGhpcy5zZWwuc2V0KHR5cGUsIHBlcnNpc3RlZC5zZWxbdHlwZV0ubWFwKHBhcnNlKSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxuXG4gIHNlbGVjdGlvblR5cGVzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2VsLmtleXMoKSk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJuIHRoZSBjdXJyZW50IHNlbGVjdGlvbnMgb2YgdGhlIGdpdmVuIHR5cGVcbiAgICogQHBhcmFtIHR5cGUgb3B0aW9uYWwgdGhlIHNlbGVjdGlvbiB0eXBlXG4gICAqIEByZXR1cm5zIHtSYW5nZVtdfVxuICAgKi9cbiAgc2VsZWN0aW9ucyh0eXBlID0gZGVmYXVsdFNlbGVjdGlvblR5cGUpOiBSYW5nZVtdIHtcbiAgICBpZiAodGhpcy5zZWwuaGFzKHR5cGUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWwuZ2V0KHR5cGUpLnNsaWNlKCk7XG4gICAgfVxuICAgIHRoaXMuc2VsLnNldCh0eXBlLCBbXSk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcHJvZHVjdFNlbGVjdGlvbnModHlwZSA9IGRlZmF1bHRTZWxlY3Rpb25UeXBlIC8qLCB3aWxkY2FyZExvb2t1cDogKGlkdHlwZTogSURUeXBlKSA9PiBQcm9taXNlPG51bWJlcj4gKi8pOiBSYW5nZVtdIHtcbiAgICBjb25zdCBjZWxscyA9IHRoaXMuc2VsZWN0aW9ucyh0eXBlKTtcbiAgICBjb25zdCB1c2VkQ2VsbHMgPSB0aGlzLnRvUGVyRGltKGNlbGxzKTtcbiAgICB0aGlzLmVsZW1zLmZvckVhY2goKGUsIGkpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBlLnNlbGVjdGlvbnModHlwZSk7XG4gICAgICAvL3JlbW92ZSBhbGwgYWxyZWFkeSB1c2VkIHJvd3MgLyBjb2x1bW5zIGFzIHBhcnQgb2YgdGhlIGNlbGxzXG4gICAgICBjb25zdCB3aWxkY2FyZCA9IHMud2l0aG91dCh1c2VkQ2VsbHNbaV0pO1xuICAgICAgaWYgKCF3aWxkY2FyZC5pc05vbmUpIHtcbiAgICAgICAgLy9jcmVhdGUgd2lsZGNhcmQgY2VsbHMsIGUuZy4sIHRoZSByZW1haW5pbmcgb25lcyBhcmUgcm93L2NvbHVtbiBzZWxlY3Rpb25zXG4gICAgICAgIGNlbGxzLnB1c2gocmxpc3QodGhpcy5lbGVtcy5tYXAoKGUyKSA9PiBlID09PSBlMiA/IHdpbGRjYXJkLmRpbSgwKSA6IFJhbmdlMUQuYWxsKCkpKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2VsbHM7XG4gICAgLyogVE9ETyBubyBkdXBsaWNhdGVzXG4gICAgIGlmIChjZWxscy5ldmVyeSgoYykgPT4gIWMuaXNVbmJvdW5kKSkge1xuICAgICAvL2FsbCBjZWxscyBhcmUgYm91bmQsIGp1c3QgY2VsbHNcbiAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjZWxscyk7XG4gICAgIH1cbiAgICAgLy93ZSBuZWVkIHRvIHJlc29sdmUgc29tZSB3aWxkY2FyZHNcbiAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuZWxlbXMubWFwKChlbGVtLCBpKSA9PiB7XG4gICAgIGlmIChjZWxscy5zb21lKChjKSA9PiBjLmRpbShpKS5pc1VuYm91bmQpKSB7XG4gICAgIHJldHVybiB3aWxkY2FyZExvb2t1cChlbGVtKTtcbiAgICAgfSBlbHNlIHtcbiAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgwKTtcbiAgICAgfVxuICAgICB9KSkudGhlbigoc2l6ZTogbnVtYmVyW10pID0+IHtcbiAgICAgY29uc3QgZnVsbENlbGxzIDogYW55ID0ge307XG4gICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgY2VsbC5wcm9kdWN0KChpbmRpY2VzOiBudW1iZXJbXSkgPT4ge1xuICAgICBjb25zdCBpZCA9IGluZGljZXMuam9pbignXycpO1xuICAgICBmdWxsQ2VsbHNbaWRdID0gaW5kaWNlcztcbiAgICAgfSk7XG4gICAgIH0sIHNpemUpO1xuICAgICAvL2Z1bGxDZWxscyBjb250YWlucyBhbGwgY2VsbHMgdGhhdCB3ZSBoYXZlIHRvIHRha2UgY2FyZSBvZlxuICAgICBjb25zdCBwYWlycyA9IE9iamVjdC5rZXlzKGZ1bGxDZWxscykubWFwKChrKSA9PiBmdWxsQ2VsbHNba10pLnNvcnQoaW5kaWNlc0NvbXBhcmUpO1xuICAgICByZXR1cm4gY29tcHJlc3NQYWlycyhwYWlycyk7XG4gICAgIH0pO1xuICAgICAqL1xuICB9XG5cbiAgLyoqXG4gICAqIHNlbGVjdCB0aGUgZ2l2ZW4gcmFuZ2UgYXNcbiAgICogQHBhcmFtIHJhbmdlXG4gICAqL1xuICBzZWxlY3QocmFuZ2U6IFJhbmdlTGlrZVtdKTogUmFuZ2VbXTtcbiAgc2VsZWN0KHJhbmdlOiBSYW5nZUxpa2VbXSwgb3A6IFNlbGVjdE9wZXJhdGlvbik6IFJhbmdlW107XG4gIHNlbGVjdCh0eXBlOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2VbXSk6IFJhbmdlW107XG4gIHNlbGVjdCh0eXBlOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2VbXSwgb3A6IFNlbGVjdE9wZXJhdGlvbik6IFJhbmdlW107XG4gIHNlbGVjdCgpIHtcbiAgICBjb25zdCBhID0gQXJyYXkuZnJvbShhcmd1bWVudHMpO1xuICAgIGNvbnN0IHR5cGUgPSAodHlwZW9mIGFbMF0gPT09ICdzdHJpbmcnKSA/IGEuc2hpZnQoKSA6IGRlZmF1bHRTZWxlY3Rpb25UeXBlLFxuICAgICAgcmFuZ2UgPSBhWzBdLm1hcChwYXJzZSksXG4gICAgICBvcCA9IGFzU2VsZWN0T3BlcmF0aW9uKGFbMV0pO1xuICAgIHJldHVybiB0aGlzLnNlbGVjdEltcGwocmFuZ2UsIG9wLCB0eXBlKTtcbiAgfVxuXG4gIHByaXZhdGUgc2VsZWN0SW1wbChjZWxsczogUmFuZ2VbXSwgb3AgPSBTZWxlY3RPcGVyYXRpb24uU0VULCB0eXBlOiBzdHJpbmcgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSkge1xuICAgIGNvbnN0IHJjZWxscyA9IGNlbGxzLm1hcChwYXJzZSk7XG5cbiAgICBjb25zdCBiID0gdGhpcy5zZWxlY3Rpb25zKHR5cGUpO1xuXG4gICAgbGV0IG5ld1JhbmdlOiBSYW5nZVtdID0gW107XG5cbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIFNlbGVjdE9wZXJhdGlvbi5TRVQ6XG4gICAgICAgIG5ld1JhbmdlID0gcmNlbGxzO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2VsZWN0T3BlcmF0aW9uLkFERDpcbiAgICAgICAgbmV3UmFuZ2UgPSBiLmNvbmNhdChyY2VsbHMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2VsZWN0T3BlcmF0aW9uLlJFTU9WRTpcbiAgICAgICAgbmV3UmFuZ2UgPSByZW1vdmVDZWxscyhiLCByY2VsbHMsIHRoaXMuZWxlbXMubGVuZ3RoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vaWYgKGIuZXEobmV3XykpIHtcbiAgICAvLyAgcmV0dXJuIGI7XG4gICAgLy99XG4gICAgdGhpcy5zZWwuc2V0KHR5cGUsIG5ld1JhbmdlKTtcblxuICAgIC8vaW5kaXZpZHVhbCBzZWxlY3Rpb24gcGVyIGRpbWVuc2lvblxuICAgIGNvbnN0IHBlckRpbVNlbGVjdGlvbnMgPSB0aGlzLnRvUGVyRGltKG5ld1JhbmdlKTtcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB0aGlzLmVsZW1zLmZvckVhY2goKGUsIGkpID0+IGUuc2VsZWN0KHR5cGUsIHBlckRpbVNlbGVjdGlvbnNbaV0pKTtcbiAgICB0aGlzLmVuYWJsZSgpO1xuXG4gICAgY29uc3QgYWRkZWQgPSBvcCAhPT0gU2VsZWN0T3BlcmF0aW9uLlJFTU9WRSA/IHJjZWxscyA6IFtdO1xuICAgIGNvbnN0IHJlbW92ZWQgPSAob3AgPT09IFNlbGVjdE9wZXJhdGlvbi5BREQgPyBbXSA6IChvcCA9PT0gU2VsZWN0T3BlcmF0aW9uLlNFVCA/IGIgOiByY2VsbHMpKTtcbiAgICB0aGlzLmZpcmUoSURUeXBlLkVWRU5UX1NFTEVDVCwgdHlwZSwgbmV3UmFuZ2UsIGFkZGVkLCByZW1vdmVkLCBiKTtcbiAgICB0aGlzLmZpcmUoUHJvZHVjdElEVHlwZS5FVkVOVF9TRUxFQ1RfUFJPRFVDVCwgLTEsIHR5cGUsIG5ld1JhbmdlLCBhZGRlZCwgcmVtb3ZlZCwgYik7XG4gICAgdGhpcy5maXJlKGAke0lEVHlwZS5FVkVOVF9TRUxFQ1R9LSR7dHlwZX1gLCBuZXdSYW5nZSwgYWRkZWQsIHJlbW92ZWQsIGIpO1xuICAgIHRoaXMuZmlyZShgJHtQcm9kdWN0SURUeXBlLkVWRU5UX1NFTEVDVF9QUk9EVUNUfS0ke3R5cGV9YCwgLTEsIG5ld1JhbmdlLCBhZGRlZCwgcmVtb3ZlZCwgYik7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBwcml2YXRlIHRvUGVyRGltKHNlbDogUmFuZ2VbXSkge1xuICAgIHJldHVybiB0aGlzLmVsZW1zLm1hcCgoZWxlbSwgaSkgPT4ge1xuICAgICAgaWYgKHNlbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5vbmUoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpbXNlbGVjdGlvbnMgPSBzZWwubWFwKChyKSA9PiByLmRpbShpKSk7XG4gICAgICBjb25zdCBzZWxlY3Rpb24gPSBkaW1zZWxlY3Rpb25zLnJlZHVjZSgocCwgYSkgPT4gcCA/IHAudW5pb24oYSkgOiBhLCBudWxsKTtcbiAgICAgIHJldHVybiBybGlzdChzZWxlY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYXIodHlwZSA9IGRlZmF1bHRTZWxlY3Rpb25UeXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0SW1wbChbXSwgU2VsZWN0T3BlcmF0aW9uLlNFVCwgdHlwZSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pZHR5cGUvUHJvZHVjdElEVHlwZS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDI3LjEyLjIwMTYuXG4gKi9cbmltcG9ydCB7RXZlbnRIYW5kbGVyfSBmcm9tICcuLi9ldmVudCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlIYW5kbGVyIGV4dGVuZHMgRXZlbnRIYW5kbGVyIHtcbiAgc3RhdGljIHJlYWRvbmx5IEVWRU5UX0NIQU5HRUQgPSAnY2hhbmdlZCc7XG4gIHN0YXRpYyByZWFkb25seSBFVkVOVF9FTlRSWV9DSEFOR0VEID0gJ2VudHJ5Q2hhbmdlZCc7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5cbiAgY29uc3RydWN0b3IoY29kZT86IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKGNvZGUpIHtcbiAgICAgIHRoaXMucGFyc2UoY29kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIGNvbnRhaW5lZCBrZXlzIG9mIHRoaXMgcHJvcGVydHkgaGFuZGxlclxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAqL1xuICBrZXlzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSk7XG4gIH1cblxuICAvKipcbiAgICogaXRlcmF0ZSBvdmVyIGVhY2ggZW50cnkgaW4gdGhlIG1hcFxuICAgKiBAcGFyYW0gZlxuICAgKi9cbiAgZm9yRWFjaChmOiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHZvaWQpIHtcbiAgICB0aGlzLm1hcC5mb3JFYWNoKCh2LCBrKSA9PiBmKGssIHYpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB3aGV0aGVyIHRoZSBnaXZlbiBuYW1lIGlzIGRlZmluZWQgaS5lLiwgbm90IG51bGxcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGhhcyhuYW1lKVxuICAgKiBAcGFyYW0gbmFtZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKTtcbiAgfVxuXG4gIGhhcyhuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQcm9wKG5hbWUsIG51bGwpICE9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyB0aGUgZ2l2ZW4gdmFsdWUgd2l0aCBvcHRpb25hbCBkZWZhdWx0IHZhbHVlXG4gICAqIEBwYXJhbSBuYW1lXG4gICAqIEBwYXJhbSBkZWZhdWx0VmFsdWVcbiAgICogQHJldHVybnMge2FueX1cbiAgICovXG4gIGdldFByb3AobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZyA9IG51bGwpIHtcbiAgICBpZiAodGhpcy5tYXAuaGFzKG5hbWUpKSB7XG4gICAgICBjb25zdCB2ID0gdGhpcy5tYXAuZ2V0KG5hbWUpO1xuICAgICAgcmV0dXJuIHYgPT09IG51bGwgPyBudWxsIDogdi50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIGdpdmVuIGludGVnZXIgdmFsdWUgd2l0aCBvcHRpb25hbCBkZWZhdWx0LCB0aGUgdmFsdWUgaXRzZWxmIG1pZ2h0IGJlIGVuY29kZWQgdG8gc2FmZSBzcGFjZVxuICAgKiBAcGFyYW0gbmFtZVxuICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXRJbnQobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IG51bWJlciA9IE5hTikge1xuICAgIGNvbnN0IGw6IHN0cmluZyA9IHRoaXMuZ2V0UHJvcChuYW1lLCBudWxsKTtcbiAgICBpZiAobCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSW50KGwsIDEwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmVzIHRoZSBwcm9wZXJ0eSBmcm9tIHRoZSBtYXBcbiAgICogQHBhcmFtIG5hbWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICByZW1vdmVQcm9wKG5hbWU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLm1hcC5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMuZmlyZShQcm9wZXJ0eUhhbmRsZXIuRVZFTlRfRU5UUllfQ0hBTkdFRCArIFByb3BlcnR5SGFuZGxlci5NVUxUSV9FVkVOVF9TRVBBUkFUT1IgKyBQcm9wZXJ0eUhhbmRsZXIuRVZFTlRfQ0hBTkdFRCwgbmFtZSwgdGhpcy5tYXAuZ2V0KG5hbWUpLCBudWxsKTtcbiAgICAgIHRoaXMubWFwLmRlbGV0ZShuYW1lKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBjb25zdCByOiBzdHJpbmdbXSA9IFtdO1xuICAgIHRoaXMubWFwLmZvckVhY2goKHYsIGtleSkgPT4ge1xuICAgICAgci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHYpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gci5qb2luKCcmJyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcGFyc2UoY29kZTogc3RyaW5nID0gJycpIHtcbiAgICAvL2lmIGF2YWlsYWJsZSB1c2UgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1VSTFNlYXJjaFBhcmFtc1xuICAgIGNvbnN0IG9sZExlbmd0aCA9IHRoaXMubWFwLnNpemU7XG4gICAgdGhpcy5tYXAuY2xlYXIoKTtcbiAgICBpZiAoY29kZS5sZW5ndGggPD0gMSkgeyAvL2p1c3QgdGhlIHN0YXJ0aW5nIGNoYXJhY3RlciA/IG9yICNcbiAgICAgIGlmIChvbGRMZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhpcy5maXJlKFByb3BlcnR5SGFuZGxlci5FVkVOVF9DSEFOR0VEKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdC8yMTE1Mjc2MiMyMTE1Mjc2MlxuICAgIGNvZGUuc3Vic3RyKDEpLnNwbGl0KCcmJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgcyA9IGl0ZW0uc3BsaXQoJz0nKSxcbiAgICAgICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChzWzBdKSxcbiAgICAgICAgdiA9IHNbMV0gJiYgZGVjb2RlVVJJQ29tcG9uZW50KHNbMV0pO1xuICAgICAgaWYgKHRoaXMubWFwLmhhcyhrKSkge1xuICAgICAgICBjb25zdCBvbGQgPSB0aGlzLm1hcC5nZXQoayk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvbGQpKSB7XG4gICAgICAgICAgdGhpcy5tYXAuc2V0KGssIFtvbGQsIHZdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm1hcC5nZXQoaykucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tYXAuc2V0KGssIHYpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5maXJlKFByb3BlcnR5SGFuZGxlci5FVkVOVF9DSEFOR0VEKTtcbiAgfVxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW50ZXJuYWwvUHJvcGVydHlIYW5kbGVyLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge0lWaXNJbnN0YW5jZSwgSVZpc1BsdWdpbkRlc2N9IGZyb20gJy4uL3Zpcyc7XG5pbXBvcnQge2NyZWF0ZU5vZGV9IGZyb20gJy4vaW50ZXJuYWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElNdWx0aUZvcm0gZXh0ZW5kcyBJVmlzSW5zdGFuY2Uge1xuICByZWFkb25seSBhY3Q6IElWaXNQbHVnaW5EZXNjO1xuICByZWFkb25seSBhY3RMb2FkZXI6IFByb21pc2U8SVZpc0luc3RhbmNlPjtcbiAgcmVhZG9ubHkgdmlzc2VzOiBJVmlzUGx1Z2luRGVzY1tdO1xuICBzd2l0Y2hUbyhpZDogc3RyaW5nKTogUHJvbWlzZTxJVmlzSW5zdGFuY2V8SVZpc0luc3RhbmNlW10+O1xuICBzd2l0Y2hUbyhpbmRleDogbnVtYmVyKTogUHJvbWlzZTxJVmlzSW5zdGFuY2V8SVZpc0luc3RhbmNlW10+O1xuICBzd2l0Y2hUbyh2aXM6IElWaXNQbHVnaW5EZXNjKTogUHJvbWlzZTxJVmlzSW5zdGFuY2V8SVZpc0luc3RhbmNlW10+O1xuXG4gIGFkZEljb25WaXNDaG9vc2VyKHRvb2xiYXI6IEVsZW1lbnQpOiB2b2lkO1xuICBhZGRTZWxlY3RWaXNDaG9vc2VyKHRvb2xiYXI6IEVsZW1lbnQpOiB2b2lkO1xufVxuXG5cbi8qKlxuICogY29tcHV0ZXMgdGhlIHNlbGVjdGFibGUgdmlzIHRlY2huaXF1ZXMgZm9yIGEgZ2l2ZW4gc2V0IG9mIG11bHRpIGZvcm0gb2JqZWN0c1xuICogQHBhcmFtIGZvcm1zXG4gKiBAcmV0dXJuIHsqfVxuICovXG5mdW5jdGlvbiB0b0F2YWlsYWJsZVZpc3Nlcyhmb3JtczogSU11bHRpRm9ybVtdKSB7XG4gIGlmIChmb3Jtcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKGZvcm1zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmb3Jtc1swXS52aXNzZXM7XG4gIH1cbiAgLy9pbnRlcnNlY3Rpb24gb2YgYWxsXG4gIHJldHVybiBmb3Jtc1swXS52aXNzZXMuZmlsdGVyKCh2aXMpID0+IGZvcm1zLmV2ZXJ5KChmKSA9PiBmLnZpc3Nlcy5pbmRleE9mKHZpcykgPj0gMCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkSWNvblZpc0Nob29zZXIodG9vbGJhcjogSFRNTEVsZW1lbnQsIC4uLmZvcm1zOiBJTXVsdGlGb3JtW10pIHtcbiAgY29uc3QgcyA9IHRvb2xiYXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdG9vbGJhci5pbnNlcnRCZWZvcmUocywgdG9vbGJhci5maXJzdENoaWxkKTtcbiAgY29uc3Qgdmlzc2VzID0gdG9BdmFpbGFibGVWaXNzZXMoZm9ybXMpO1xuXG4gIHZpc3Nlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgY29uc3QgY2hpbGQgPSBjcmVhdGVOb2RlKHMsICdpJyk7XG4gICAgdi5pY29uaWZ5KGNoaWxkKTtcbiAgICBjaGlsZC5vbmNsaWNrID0gKCkgPT4gZm9ybXMuZm9yRWFjaCgoZikgPT4gZi5zd2l0Y2hUbyh2KSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkU2VsZWN0VmlzQ2hvb3Nlcih0b29sYmFyOiBIVE1MRWxlbWVudCwgLi4uZm9ybXM6IElNdWx0aUZvcm1bXSkge1xuICBjb25zdCBzID0gdG9vbGJhci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICB0b29sYmFyLmluc2VydEJlZm9yZShzLCB0b29sYmFyLmZpcnN0Q2hpbGQpO1xuICBjb25zdCB2aXNzZXMgPSB0b0F2YWlsYWJsZVZpc3Nlcyhmb3Jtcyk7XG5cbiAgdmlzc2VzLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICBjb25zdCBjaGlsZCA9IGNyZWF0ZU5vZGUocywgJ29wdGlvbicpO1xuICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBTdHJpbmcoaSkpO1xuICAgIGNoaWxkLnRleHRDb250ZW50ID0gdi5uYW1lO1xuICB9KTtcbiAgLy8gdXNlIG9ubHkgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG9mIHRoZSBmaXJzdCBmb3JtXG4gIGlmIChmb3Jtc1swXSkge1xuICAgIHMuc2VsZWN0ZWRJbmRleCA9IHZpc3Nlcy5pbmRleE9mKGZvcm1zWzBdLmFjdCk7XG4gIH1cbiAgcy5vbmNoYW5nZSA9ICgpID0+IGZvcm1zLmZvckVhY2goKGYpID0+IGYuc3dpdGNoVG8odmlzc2VzW3Muc2VsZWN0ZWRJbmRleF0pKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTXVsdGlGb3JtT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBpbml0aWFsIHZpc3VhbGl6YXRpb25cbiAgICovXG4gIGluaXRpYWxWaXM/OiBzdHJpbmd8bnVtYmVyfElWaXNQbHVnaW5EZXNjO1xuICAvKipcbiAgICogY29uZmlndXJhdGlvbiBmb3IgYWxsIHZpc3VhbGl6YXRpb25zXG4gICAqL1xuICBhbGw/OiBhbnk7XG4gIC8qKlxuICAgKiBjdXN0b20gY29uZmlnIGZvciBpbmRpdmlkdWFsIHZpc3VhbGl6YXRpb25zIGlkZW50aWZpZWQgYnkgdGhlaXIgaWRcbiAgICovXG4gIFt2aXNQbHVnaW5JZDogc3RyaW5nXTogYW55O1xuICAvKipcbiAgICogb3B0aW9uYWxseSBmaWx0ZXIgdGhlIGxpc3Qgb2YgdmlzdWFsaXphdGlvbnNcbiAgICogQHBhcmFtIHZpc1xuICAgKi9cbiAgZmlsdGVyPyh2aXM6IElWaXNQbHVnaW5EZXNjKTogYm9vbGVhbjtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tdWx0aWZvcm0vSU11bHRpRm9ybS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuaW1wb3J0IHtnZXQgYXMgZ2V0RGF0YX0gZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQge2lzRGF0YVR5cGUsIElEYXRhVHlwZX0gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtHcmFwaE5vZGUsIGlzVHlwZX0gZnJvbSAnLi4vZ3JhcGgvZ3JhcGgnO1xuaW1wb3J0IEFjdGlvbk5vZGUgZnJvbSAnLi9BY3Rpb25Ob2RlJztcbmltcG9ydCBTdGF0ZU5vZGUgZnJvbSAnLi9TdGF0ZU5vZGUnO1xuaW1wb3J0IHtyZXNvbHZlSW1tZWRpYXRlbHl9IGZyb20gJy4uL2ludGVybmFsL3Byb21pc2UnO1xuXG5cbi8qKlxuICogbGlzdCBvZiBjYXRlZ29yaWVzIGZvciBhY3Rpb25zIGFuZCBvYmplY3RzXG4gKi9cbmV4cG9ydCBjb25zdCBjYXQgPSB7XG4gIGRhdGE6ICdkYXRhJyxcbiAgc2VsZWN0aW9uOiAnc2VsZWN0aW9uJyxcbiAgdmlzdWFsOiAndmlzdWFsJyxcbiAgbGF5b3V0OiAnbGF5b3V0JyxcbiAgbG9naWM6ICdsb2dpYycsXG4gIGN1c3RvbTogJ2N1c3RvbScsXG4gIGFubm90YXRpb246ICdhbm5vdGF0aW9uJ1xufTtcblxuLyoqXG4gKiBsaXN0IG9mIG9wZXJhdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IG9wID0ge1xuICBjcmVhdGU6ICdjcmVhdGUnLFxuICB1cGRhdGU6ICd1cGRhdGUnLFxuICByZW1vdmU6ICdyZW1vdmUnXG59O1xuXG5cbi8qKlxuICogYW4gb2JqZWN0IHJlZmVyZW5jZSBpcyBhIGNvbW1vbiBkZXNjcmlwdGlvbiBvZiBhbiBvYmplY3Qgbm9kZSBpbiB0aGUgcHJvdmVuYW5jZSBncmFwaFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElPYmplY3RSZWY8VD4ge1xuICAvKipcbiAgICogbmFtZSBvZiB0aGUgb2JqZWN0XG4gICAqL1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBjYXRlZ29yeSBvbmUgb2YgY2F0ZWdvcmllc1xuICAgKi9cbiAgcmVhZG9ubHkgY2F0ZWdvcnk6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB2YWx1ZVxuICAgKi9cbiAgcmVhZG9ubHkgdjogUHJvbWlzZUxpa2U8VD47XG5cbiAgLyoqXG4gICAqIG1heWJlIG51bGwgaWYgbm90IGRlZmluZWRcbiAgICovXG4gIHJlYWRvbmx5IHZhbHVlOiBUO1xuXG4gIC8qKlxuICAgKiBhIGhhc2ggZm9yIGF2b2lkaW5nIGZhbHNlIGR1cGxpY2F0ZSBkZXRlY3Rpb25cbiAgICovXG4gIHJlYWRvbmx5IGhhc2g6IHN0cmluZztcbn1cblxuLyoqXG4gKiBjcmVhdGVzIGFuIG9iamVjdCByZWZlcmVuY2UgdG8gdGhlIGdpdmVuIG9iamVjdFxuICogQHBhcmFtIHZcbiAqIEBwYXJhbSBuYW1lXG4gKiBAcGFyYW0gY2F0ZWdvcnlcbiAqIEBwYXJhbSBoYXNoXG4gKiBAcmV0dXJucyB7e3Y6IFQsIG5hbWU6IHN0cmluZywgY2F0ZWdvcnk6IHN0cmluZ319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWY8VD4odjogVCwgbmFtZTogc3RyaW5nLCBjYXRlZ29yeSA9IGNhdC5kYXRhLCBoYXNoID0gbmFtZSArICdfJyArIGNhdGVnb3J5KTogSU9iamVjdFJlZjxUPiB7XG4gIHJldHVybiB7XG4gICAgdjogcmVzb2x2ZUltbWVkaWF0ZWx5KHYpLFxuICAgIHZhbHVlOiB2LFxuICAgIG5hbWUsXG4gICAgY2F0ZWdvcnksXG4gICAgaGFzaFxuICB9O1xufVxuXG4vKipcbiAqIHRyaWVzIHRvIHBlcnNpc3QgYW4gb2JqZWN0IHZhbHVlIHN1cHBvcnRpbmcgZGF0YXR5cGVzIGFuZCBET00gZWxlbWVudHMgaGF2aW5nIGFuIGlkXG4gKiBAcGFyYW0gdlxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gcGVyc2lzdERhdGEodjogYW55KTogYW55IHtcbiAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHYgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgY29uc3QgZSA9IDxFbGVtZW50PnYsXG4gICAgICBpZCA9IGUuZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgIHJldHVybiB7dHlwZTogJ2VsZW1lbnQnLCBpZH07XG4gIH1cbiAgaWYgKGlzRGF0YVR5cGUodikpIHtcbiAgICBjb25zdCBlID0gPElEYXRhVHlwZT52O1xuICAgIHJldHVybiB7dHlwZTogJ2RhdGFzZXQnLCBpZDogZS5kZXNjLmlkLCBwZXJzaXN0OiBlLnBlcnNpc3QoKX07XG4gIH1cbiAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4ge3R5cGU6ICdwcmltaXRpdmUnLCB2fTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZURhdGEodjogYW55KTogYW55IHtcbiAgaWYgKCF2KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3dpdGNoICh2LnR5cGUpIHtcbiAgICBjYXNlICdlbGVtZW50JzpcbiAgICAgIGlmICh2LmlkKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlSW1tZWRpYXRlbHkoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodi5pZCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAnZGF0YXNldCc6XG4gICAgICByZXR1cm4gZ2V0RGF0YSh2LnBlcnNpc3QpO1xuICAgIGNhc2UgJ3ByaW1pdGl2ZSc6XG4gICAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KHYudik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogYSBncmFwaCBub2RlIG9mIHR5cGUgb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdE5vZGU8VD4gZXh0ZW5kcyBHcmFwaE5vZGUgaW1wbGVtZW50cyBJT2JqZWN0UmVmPFQ+IHtcbiAgLyoqXG4gICAqIGEgcHJvbWlzZSBvZiB0aGUgdmFsdWUgYWNjZXNzaWJsZSB2aWEgLnZcbiAgICovXG4gIHByaXZhdGUgX3Byb21pc2U6IFByb21pc2VMaWtlPFQ+O1xuICBwcml2YXRlIF9wZXJzaXN0ZWQ6IGFueSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfdjogVCwgbmFtZTogc3RyaW5nLCBjYXRlZ29yeSA9IGNhdC5kYXRhLCBoYXNoID0gbmFtZSArICdfJyArIGNhdGVnb3J5LCBkZXNjcmlwdGlvbiA9ICcnKSB7XG4gICAgc3VwZXIoJ29iamVjdCcpO1xuICAgIGlmIChfdiAhPSBudWxsKSB7IC8vaWYgdGhlIHZhbHVlIGlzIGdpdmVuLCBhdXRvIGdlbmVyYXRlIGEgcHJvbWlzZSBmb3IgaXRcbiAgICAgIHRoaXMuX3Byb21pc2UgPSByZXNvbHZlSW1tZWRpYXRlbHkoX3YpO1xuICAgIH1cbiAgICBzdXBlci5zZXRBdHRyKCduYW1lJywgbmFtZSk7XG4gICAgc3VwZXIuc2V0QXR0cignY2F0ZWdvcnknLCBjYXRlZ29yeSk7XG4gICAgc3VwZXIuc2V0QXR0cignaGFzaCcsIGhhc2gpO1xuICAgIHN1cGVyLnNldEF0dHIoJ2Rlc2NyaXB0aW9uJywgZGVzY3JpcHRpb24pO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHRoaXMuY2hlY2tQZXJzaXN0ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fdjtcbiAgfVxuXG4gIHNldCB2YWx1ZSh2OiBUKSB7XG4gICAgdGhpcy5fdiA9IHY7XG4gICAgdGhpcy5fcHJvbWlzZSA9IHYgPT0gbnVsbCA/IG51bGwgOiByZXNvbHZlSW1tZWRpYXRlbHkodik7XG4gICAgdGhpcy5fcGVyc2lzdGVkID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBjaGVja3Mgd2hldGhlciB0aGUgcGVyc2lzdGVkIHZhbHVlIHdhcyBhbHJlYWR5IHJlc3RvcmVkXG4gICAqL1xuICBwcml2YXRlIGNoZWNrUGVyc2lzdGVkKCkge1xuICAgIGlmICh0aGlzLl9wZXJzaXN0ZWQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fcHJvbWlzZSA9IHJlc3RvcmVEYXRhKHRoaXMuX3BlcnNpc3RlZCk7XG4gICAgICBpZiAodGhpcy5fcHJvbWlzZSkge1xuICAgICAgICB0aGlzLl9wcm9taXNlLnRoZW4oKHYpID0+IHtcbiAgICAgICAgICB0aGlzLl92ID0gdjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9wZXJzaXN0ZWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldCB2KCkge1xuICAgIHRoaXMuY2hlY2tQZXJzaXN0ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLmdldEF0dHIoJ25hbWUnLCAnJyk7XG4gIH1cblxuICBnZXQgY2F0ZWdvcnkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3VwZXIuZ2V0QXR0cignY2F0ZWdvcnknLCAnJyk7XG4gIH1cblxuICBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdXBlci5nZXRBdHRyKCdoYXNoJywgJycpO1xuICB9XG5cbiAgZ2V0IGRlc2NyaXB0aW9uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLmdldEF0dHIoJ2Rlc2NyaXB0aW9uJywgJycpO1xuICB9XG5cblxuICBwZXJzaXN0KCkge1xuICAgIGNvbnN0IHIgPSBzdXBlci5wZXJzaXN0KCk7XG4gICAgaWYgKCFyLmF0dHJzKSB7XG4gICAgICByLmF0dHJzID0ge307XG4gICAgfVxuICAgIHIuYXR0cnMudiA9IHRoaXMuX3BlcnNpc3RlZCA/IHRoaXMuX3BlcnNpc3RlZCA6IHBlcnNpc3REYXRhKHRoaXMudmFsdWUpO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgcmVzdG9yZShwOiBhbnkpIHtcbiAgICB0aGlzLl9wZXJzaXN0ZWQgPSBwLmF0dHJzLnY7XG4gICAgZGVsZXRlIHAuYXR0cnMudjtcbiAgICBzdXBlci5yZXN0b3JlKHApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3RhdGljIHJlc3RvcmUocDogYW55KSB7XG4gICAgY29uc3QgciA9IG5ldyBPYmplY3ROb2RlPGFueT4obnVsbCwgcC5hdHRycy5uYW1lLCBwLmF0dHJzLmNhdGVnb3J5LCBwLmF0dHJzLmhhc2ggfHwgcC5hdHRycy5uYW1lICsgJ18nICsgcC5hdHRycy5jYXRlZ29yeSk7XG4gICAgcmV0dXJuIHIucmVzdG9yZShwKTtcbiAgfVxuXG4gIGdldCBjcmVhdGVkQnkoKSB7XG4gICAgY29uc3QgciA9IHRoaXMuaW5jb21pbmcuZmlsdGVyKGlzVHlwZSgnY3JlYXRlcycpKVswXTtcbiAgICByZXR1cm4gciA/IDxBY3Rpb25Ob2RlPnIuc291cmNlIDogbnVsbDtcbiAgfVxuXG4gIGdldCByZW1vdmVkQnkoKSB7XG4gICAgY29uc3QgciA9IHRoaXMuaW5jb21pbmcuZmlsdGVyKGlzVHlwZSgncmVtb3ZlcycpKVswXTtcbiAgICByZXR1cm4gciA/IDxBY3Rpb25Ob2RlPnIuc291cmNlIDogbnVsbDtcbiAgfVxuXG4gIGdldCByZXF1aXJlZEJ5KCkge1xuICAgIHJldHVybiB0aGlzLmluY29taW5nLmZpbHRlcihpc1R5cGUoJ3JlcXVpcmVzJykpLm1hcCgoZSkgPT4gPEFjdGlvbk5vZGU+ZS5zb3VyY2UpO1xuICB9XG5cbiAgZ2V0IHBhcnRPZigpIHtcbiAgICByZXR1cm4gdGhpcy5pbmNvbWluZy5maWx0ZXIoaXNUeXBlKCdjb25zaXN0c09mJykpLm1hcCgoZSkgPT4gPFN0YXRlTm9kZT5lLnNvdXJjZSk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcHJvdmVuYW5jZS9PYmplY3ROb2RlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQgUmFuZ2UxRCwge0lDb21wb3NpdGVSYW5nZTFEfSBmcm9tICcuL1JhbmdlMUQnO1xuaW1wb3J0IFJhbmdlMURHcm91cCBmcm9tICcuL1JhbmdlMURHcm91cCc7XG5cbmZ1bmN0aW9uIHRvQmFzZShncm91cHM6IFJhbmdlMURHcm91cFtdKSB7XG4gIGlmIChncm91cHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGdyb3Vwc1swXTtcbiAgfVxuICBjb25zdCByID0gZ3JvdXBzWzBdLml0ZXIoKS5hc0xpc3QoKTtcbiAgZ3JvdXBzLnNsaWNlKDEpLmZvckVhY2goKGcpID0+IHtcbiAgICBnLml0ZXIoKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgICBpZiAoci5pbmRleE9mKGkpIDwgMCkge1xuICAgICAgICByLnB1c2goaSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gUmFuZ2UxRC5mcm9tKHIpO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvc2l0ZVJhbmdlMUQgZXh0ZW5kcyBSYW5nZTFEIGltcGxlbWVudHMgSUNvbXBvc2l0ZVJhbmdlMUQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgZ3JvdXBzOiBSYW5nZTFER3JvdXBbXSwgYmFzZT86IFJhbmdlMUQpIHtcbiAgICBzdXBlcihiYXNlID8gYmFzZSA6IHRvQmFzZShncm91cHMpKTtcbiAgfVxuXG4gIHByZU11bHRpcGx5KHN1YjogUmFuZ2UxRCwgc2l6ZT86IG51bWJlcik6IElDb21wb3NpdGVSYW5nZTFEIHtcbiAgICBjb25zdCByID0gdGhpcy5ncm91cHMubGVuZ3RoID4gMSA/IHN1cGVyLnByZU11bHRpcGx5KHN1Yiwgc2l6ZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5ldyBDb21wb3NpdGVSYW5nZTFEKHRoaXMubmFtZSwgdGhpcy5ncm91cHMubWFwKChnKSA9PiA8UmFuZ2UxREdyb3VwPmcucHJlTXVsdGlwbHkoc3ViLCBzaXplKSksIHIpO1xuICB9XG5cbiAgdW5pb24ob3RoZXI6IFJhbmdlMUQsIHNpemU/OiBudW1iZXIpOiBJQ29tcG9zaXRlUmFuZ2UxRCB7XG4gICAgY29uc3QgciA9IHRoaXMuZ3JvdXBzLmxlbmd0aCA+IDEgPyBzdXBlci51bmlvbihvdGhlciwgc2l6ZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5ldyBDb21wb3NpdGVSYW5nZTFEKHRoaXMubmFtZSwgdGhpcy5ncm91cHMubWFwKChnKSA9PiA8UmFuZ2UxREdyb3VwPmcudW5pb24ob3RoZXIsIHNpemUpKSwgcik7XG4gIH1cblxuICBpbnRlcnNlY3Qob3RoZXI6IFJhbmdlMUQsIHNpemU/OiBudW1iZXIpOiBJQ29tcG9zaXRlUmFuZ2UxRCB7XG4gICAgY29uc3QgciA9IHRoaXMuZ3JvdXBzLmxlbmd0aCA+IDEgPyBzdXBlci5pbnRlcnNlY3Qob3RoZXIsIHNpemUpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZXcgQ29tcG9zaXRlUmFuZ2UxRCh0aGlzLm5hbWUsIHRoaXMuZ3JvdXBzLm1hcCgoZykgPT4gPFJhbmdlMURHcm91cD5nLmludGVyc2VjdChvdGhlciwgc2l6ZSkpLCByKTtcbiAgfVxuXG4gIHdpdGhvdXQod2l0aG91dDogUmFuZ2UxRCwgc2l6ZT86IG51bWJlcik6IElDb21wb3NpdGVSYW5nZTFEIHtcbiAgICBjb25zdCByID0gdGhpcy5ncm91cHMubGVuZ3RoID4gMSA/IHN1cGVyLndpdGhvdXQod2l0aG91dCwgc2l6ZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5ldyBDb21wb3NpdGVSYW5nZTFEKHRoaXMubmFtZSwgdGhpcy5ncm91cHMubWFwKChnKSA9PiA8UmFuZ2UxREdyb3VwPmcud2l0aG91dCh3aXRob3V0LCBzaXplKSksIHIpO1xuICB9XG5cbiAgY2xvbmUoKTogSUNvbXBvc2l0ZVJhbmdlMUQge1xuICAgIGNvbnN0IHIgPSB0aGlzLmdyb3Vwcy5sZW5ndGggPiAxID8gc3VwZXIuY2xvbmUoKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IENvbXBvc2l0ZVJhbmdlMUQobmFtZSwgdGhpcy5ncm91cHMubWFwKChnKSA9PiA8UmFuZ2UxREdyb3VwPmcuY2xvbmUoKSksIHIpO1xuICB9XG5cbiAgc29ydChjbXA/OiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IG51bWJlcik6IElDb21wb3NpdGVSYW5nZTFEIHtcbiAgICBjb25zdCByID0gdGhpcy5ncm91cHMubGVuZ3RoID4gMSA/IHN1cGVyLnNvcnQoY21wKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IENvbXBvc2l0ZVJhbmdlMUQodGhpcy5uYW1lLCB0aGlzLmdyb3Vwcy5tYXAoKGcpID0+IDxSYW5nZTFER3JvdXA+Zy5zb3J0KGNtcCkpLCByKTtcbiAgfVxuXG4gIHRvU2V0KHNpemU/OiBudW1iZXIpOiBJQ29tcG9zaXRlUmFuZ2UxRCB7XG4gICAgY29uc3QgciA9IHRoaXMuZ3JvdXBzLmxlbmd0aCA+IDEgPyBzdXBlci50b1NldChzaXplKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IENvbXBvc2l0ZVJhbmdlMUQodGhpcy5uYW1lLCB0aGlzLmdyb3Vwcy5tYXAoKGcpID0+IDxSYW5nZTFER3JvdXA+Zy50b1NldChzaXplKSksIHIpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ1wiJyArIHRoaXMubmFtZSArICdcInsnICsgdGhpcy5ncm91cHMuam9pbignLCcpICsgJ30nO1xuICB9XG5cbiAgZnJvbUxpa2VDb21wb3NpdGUoZ3JvdXBzOiBSYW5nZTFER3JvdXBbXSk6IElDb21wb3NpdGVSYW5nZTFEIHtcbiAgICByZXR1cm4gbmV3IENvbXBvc2l0ZVJhbmdlMUQodGhpcy5uYW1lLCBncm91cHMpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmFuZ2UvQ29tcG9zaXRlUmFuZ2UxRC50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IFJhbmdlMUQgZnJvbSAnLi9SYW5nZTFEJztcblxuLyoqXG4gKiBtdWx0aSBkaW1lbnNpb25hbCB2ZXJzaW9uIG9mIGEgUmFuZ2VEaW1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFuZ2Uge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGltczogUmFuZ2UxRFtdID0gW10pIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIGNoZWNrcyBpZiB0aGlzIHJhbmdlIGlzIGFsbFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0FsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1zLmV2ZXJ5KChkaW0pID0+IGRpbS5pc0FsbCk7XG4gIH1cblxuICBnZXQgaXNOb25lKCkge1xuICAgIHJldHVybiB0aGlzLmRpbXMuZXZlcnkoKGRpbSkgPT4gZGltLmlzTm9uZSk7XG4gIH1cblxuICAvKipcbiAgICogY2hlY2tzIHdoZXRoZXIgdGhlcmUgYXJlIGFueSB3aWxkY2FyZHNcbiAgICovXG4gIGdldCBpc1VuYm91bmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGltcy5zb21lKChkaW0pID0+IGRpbS5pc1VuYm91bmQpO1xuICB9XG5cbiAgZ2V0IGZpcnN0KCkge1xuICAgIHJldHVybiB0aGlzLmRpbSgwKS5maXJzdDtcbiAgfVxuXG4gIGdldCBsYXN0KCkge1xuICAgIHJldHVybiB0aGlzLmRpbSgwKS5sYXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIG51bWJlciBvZiBkZWZpbmVkIGRpbWVuc2lvbnNcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBuZGltKCkge1xuICAgIHJldHVybiB0aGlzLmRpbXMubGVuZ3RoO1xuICB9XG5cbiAgZXEob3RoZXI6IFJhbmdlKSB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyIHx8ICh0aGlzLmlzQWxsICYmIG90aGVyLmlzQWxsKSB8fCAodGhpcy5pc05vbmUgJiYgb3RoZXIuaXNOb25lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vVE9ETyBtb3JlIHBlcmZvcm1hbnQgY29tcGFyaXNvblxuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkgPT09IG90aGVyLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogY29tYmluZXMgdGhpcyByYW5nZSB3aXRoIGFub3RoZXIgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAqIHRoaXMgPSAoMSwzLDUsNyksIG90aGVyID0gKDEsMikgLT4gKDEsMikoMSwzLDUsNykgPSAoMyw1KVxuICAgKiBAcGFyYW0gb3RoZXJcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBwcmVNdWx0aXBseShvdGhlcjogUmFuZ2UsIHNpemU/OiBudW1iZXJbXSkge1xuICAgIGlmICh0aGlzLmlzQWxsKSB7XG4gICAgICByZXR1cm4gb3RoZXIuY2xvbmUoKTtcbiAgICB9XG4gICAgaWYgKG90aGVyLmlzQWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IFJhbmdlKCk7XG4gICAgdGhpcy5kaW1zLmZvckVhY2goKGQsIGkpID0+IHtcbiAgICAgIHIuZGltc1tpXSA9IGQucHJlTXVsdGlwbHkob3RoZXIuZGltKGkpLCBzaXplID8gc2l6ZVtpXSA6IHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICB1bmlvbihvdGhlcjogUmFuZ2UsIHNpemU/OiBudW1iZXJbXSkge1xuICAgIGlmICh0aGlzLmlzQWxsIHx8IG90aGVyLmlzTm9uZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgICB9XG4gICAgaWYgKG90aGVyLmlzQWxsIHx8IHRoaXMuaXNOb25lKSB7XG4gICAgICByZXR1cm4gb3RoZXIuY2xvbmUoKTtcbiAgICB9XG4gICAgY29uc3QgciA9IG5ldyBSYW5nZSgpO1xuICAgIHRoaXMuZGltcy5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgICByLmRpbXNbaV0gPSBkLnVuaW9uKG90aGVyLmRpbShpKSwgc2l6ZSA/IHNpemVbaV0gOiB1bmRlZmluZWQpO1xuICAgIH0pO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgLyoqXG4gICAqIGxvZ2ljYWwgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIHJhbmdlc1xuICAgKiBAcGFyYW0gb3RoZXJcbiAgICogQHJldHVybnMge1JhbmdlRGltfVxuICAgKi9cbiAgaW50ZXJzZWN0KG90aGVyOiBSYW5nZSwgc2l6ZT86IG51bWJlcltdKSB7XG4gICAgaWYgKHRoaXMuaXNOb25lIHx8IG90aGVyLmlzTm9uZSkge1xuICAgICAgcmV0dXJuIG5vbmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNBbGwpIHtcbiAgICAgIHJldHVybiBvdGhlci5jbG9uZSgpO1xuICAgIH1cbiAgICBpZiAob3RoZXIuaXNBbGwpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gICAgfVxuICAgIGNvbnN0IHIgPSBuZXcgUmFuZ2UoKTtcbiAgICB0aGlzLmRpbXMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgICAgci5kaW1zW2ldID0gZC5pbnRlcnNlY3Qob3RoZXIuZGltKGkpLCBzaXplID8gc2l6ZVtpXSA6IHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICB3aXRob3V0KHdpdGhvdXQ6IFJhbmdlLCBzaXplPzogbnVtYmVyW10pIHtcbiAgICBpZiAodGhpcy5pc05vbmUgfHwgd2l0aG91dC5pc05vbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gICAgfVxuICAgIGlmICh3aXRob3V0LmlzQWxsKSB7XG4gICAgICByZXR1cm4gbm9uZSgpO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IFJhbmdlKCk7XG4gICAgdGhpcy5kaW1zLmZvckVhY2goKGQsIGkpID0+IHtcbiAgICAgIHIuZGltc1tpXSA9IGQud2l0aG91dCh3aXRob3V0LmRpbShpKSwgc2l6ZSA/IHNpemVbaV0gOiB1bmRlZmluZWQpO1xuICAgIH0pO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgLyoqXG4gICAqIGNsb25lcyB0aGlzIHJhbmdlXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgciA9IG5ldyBSYW5nZSgpO1xuICAgIHRoaXMuZGltcy5mb3JFYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICByLmRpbXNbaV0gPSBkLmNsb25lKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICAvKipcbiAgICogY3JlYXRlIGEgbmV3IHJhbmdlIGFuZCByZXZlcnNlIHRoZSBkaW1lbnNpb25zXG4gICAqL1xuICBzd2FwKCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5kaW1zLm1hcCgoZCkgPT4gZC5jbG9uZSgpKS5yZXZlcnNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIGZpbHRlciB0aGUgZ2l2ZW4gbXVsdGkgZGltZW5zaW9uYWwgZGF0YSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcmFuZ2VcbiAgICogQHBhcmFtIGRhdGFcbiAgICogQHBhcmFtIHNpemUgdGhlIHVuZGVybHlpbmcgc2l6ZSBmb3IgbmVnYXRpdmUgaW5kaWNlc1xuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZpbHRlcihkYXRhOiBhbnlbXSwgc2l6ZT86IG51bWJlcltdKSB7XG4gICAgaWYgKHRoaXMuaXNBbGwpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBjb25zdCBuZGltID0gdGhpcy5uZGltO1xuICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgIC8vcmVjdXJzaXZlIHZhcmlhbnQgZm9yIGp1c3QgZmlsdGVyaW5nIHRoZSBuZWVkZWQgcm93c1xuICAgIGNvbnN0IGZpbHRlckRpbSA9IChpOiBudW1iZXIpOiAoZDphbnkpPT5hbnkgPT4ge1xuICAgICAgaWYgKGkgPj0gbmRpbSkgeyAvL291dCBvZiByYW5nZSBubyBmaWx0ZXJpbmcgYW55bW9yZVxuICAgICAgICByZXR1cm4gKGQ6IGFueSkgPT4gZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGQgPSB0aGF0LmRpbShpKTtcbiAgICAgIGNvbnN0IG5leHQgPSBmaWx0ZXJEaW0oaSArIDEpOyAvL2NvbXB1dGUgbmV4dCB0cmFuc2Zvcm1cbiAgICAgIGNvbnN0IHMgPSBzaXplID8gc2l6ZVtpXSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoZWxlbTogYW55W118YW55KSA9PiB7IC8vaWYgdGhlIHZhbHVlIGlzIGFuIGFycmF5LCBmaWx0ZXIgaXQgZWxzZSByZXR1cm4gdGhlIHZhbHVlXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGVsZW0pID8gZC5maWx0ZXIoZWxlbSwgcywgbmV4dCkgOiBlbGVtO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3QgZiA9IGZpbHRlckRpbSgwKTtcblxuICAgIHJldHVybiBmKGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiBhIHNwZWNpZmljIGRpbWVuc2lvblxuICAgKiBAcGFyYW0gZGltZW5zaW9uXG4gICAqIEByZXR1cm5zIHtyfVxuICAgKi9cbiAgZGltKGRpbWVuc2lvbjogbnVtYmVyKTogUmFuZ2UxRCB7XG4gICAgY29uc3QgciA9IHRoaXMuZGltc1tkaW1lbnNpb25dO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgLy9ub3QgeWV0IGV4aXN0aW5nIGNyZWF0ZSBvbmVcbiAgICB0aGlzLmRpbXNbZGltZW5zaW9uXSA9IFJhbmdlMUQuYWxsKCk7XG4gICAgcmV0dXJuIHRoaXMuZGltc1tkaW1lbnNpb25dO1xuICB9XG5cbiAgLyoqXG4gICAqIHRyYW5zZm9ybXMgdGhlIGdpdmVuIG11bHRpIGRpbWVuc2lvbmFsIGluZGljZXMgdG8gdGhlaXIgcGFyZW50IG5vdGF0aW9uXG4gICAqIEBwYXJhbSBpbmRpY2VzXG4gICAqIEBwYXJhbSBzaXplIHRoZSB1bmRlcmx5aW5nIHNpemUgZm9yIG5lZ2F0aXZlIGluZGljZXNcbiAgICovXG4gIGludmVydChpbmRpY2VzOiBudW1iZXJbXSwgc2l6ZT86IG51bWJlcltdKTogbnVtYmVyW10ge1xuICAgIGlmICh0aGlzLmlzQWxsKSB7XG4gICAgICByZXR1cm4gaW5kaWNlcztcbiAgICB9XG4gICAgcmV0dXJuIGluZGljZXMubWFwKChpbmRleCwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZGltKGkpLmludmVydChpbmRleCwgc2l6ZSA/IHNpemVbaV0gOiB1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5kZXhSYW5nZU9mKHI6IFJhbmdlLCBzaXplPzogbnVtYmVyW10pOiBSYW5nZSB7XG4gICAgaWYgKHIuaXNOb25lIHx8IHRoaXMuaXNOb25lKSB7XG4gICAgICByZXR1cm4gbm9uZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc05vbmUgfHwgci5pc0FsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLmRpbXMubWFwKChkLCBpKSA9PiBkLmluZGV4UmFuZ2VPZihyLmRpbShpKSwgc2l6ZSA/IHNpemVbaV0gOiB1bmRlZmluZWQpKSk7XG4gIH1cblxuICBpbmRleE9mKGluZGljZXM6IG51bWJlcltdKTogbnVtYmVyW107XG5cbiAgaW5kZXhPZihpbmRleDogbnVtYmVyKTogbnVtYmVyO1xuXG4gIGluZGV4T2YoLi4uaW5kZXg6IG51bWJlcltdKTogbnVtYmVyW107XG5cbiAgaW5kZXhPZihyOiBSYW5nZSwgc2l6ZT86IG51bWJlcltdKTogUmFuZ2U7XG5cbiAgaW5kZXhPZigpOiBhbnkge1xuICAgIGlmIChhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBSYW5nZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhSYW5nZU9mKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKTtcbiAgICB9XG4gICAgbGV0IGFycjogbnVtYmVyW107XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdGhpcy5kaW0oMCkuaW5kZXhPZig8bnVtYmVyPmFyZ3VtZW50c1swXSk7XG4gICAgICB9XG4gICAgICBhcnIgPSBhcmd1bWVudHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyciA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcbiAgICB9XG4gICAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGFyci5tYXAoKGluZGV4LCBpKSA9PiB0aGlzLmRpbShpKS5pbmRleE9mKGluZGV4KSk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyB0aGUgcmFuZ2Ugc2l6ZVxuICAgKiBAcGFyYW0gc2l6ZSB0aGUgdW5kZXJseWluZyBzaXplIGZvciBuZWdhdGl2ZSBpbmRpY2VzXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgc2l6ZShzaXplPzogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gICAgaWYgKHRoaXMuaXNBbGwpIHtcbiAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kaW1zLm1hcCgociwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHIuc2l6ZShzaXplID8gc2l6ZVtpXSA6IHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH1cblxuICBzcGxpdCgpOiBSYW5nZVtdIHtcbiAgICByZXR1cm4gdGhpcy5kaW1zLm1hcCgoZGltKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKFtkaW1dKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBpdGVyYXRlcyBvdmVyIHRoZSBwcm9kdWN0IG9mIHRoaXMgcmFuZ2UsIGUuZy4gKDAsMSwyKSwoMykgPT4gKDAsMyksKDEsMyksKDIsMylcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBzaXplXG4gICAqL1xuICBwcm9kdWN0KGNhbGxiYWNrOiAoaW5kaWNlczogbnVtYmVyW10pID0+IHZvaWQsIHNpemU/OiBudW1iZXJbXSkge1xuICAgIGNvbnN0IG5kaW0gPSB0aGlzLm5kaW07XG4gICAgY29uc3QgaXRlciA9IChpZHM6IG51bWJlcltdKSA9PiB7XG4gICAgICBjb25zdCBhY3QgPSBpZHMubGVuZ3RoO1xuICAgICAgaWYgKGFjdCA8IG5kaW0pIHtcbiAgICAgICAgY29uc3QgZGltID0gdGhpcy5kaW1zW2FjdF07XG4gICAgICAgIGRpbS5pdGVyKHNpemUgPyBzaXplW2FjdF0gOiBudWxsKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgIGlkcy5wdXNoKGlkKTtcbiAgICAgICAgICBpdGVyKGlkcyk7XG4gICAgICAgICAgaWRzLnBvcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGlkcy5zbGljZSgpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGl0ZXIoW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIGVuY29kZWQgdGhlIGdpdmVuIHJhbmdlIGluIGEgc3RyaW5nXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1zLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIGQudG9TdHJpbmcoKTtcbiAgICB9KS5qb2luKCcsJyk7XG4gIH1cbn1cblxuXG4vKipcbiAqIGNyZWF0ZXMgYSBuZXcgcmFuZ2UgaW5jbHVkaW5nIGV2ZXJ5dGhpbmdcbiAqIEByZXR1cm5zIHtSYW5nZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsbCgpIHtcbiAgcmV0dXJuIG5ldyBSYW5nZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoKSB7XG4gIC8vZW5zdXJlIHR3byBkaW1lbnNpb25zXG4gIHJldHVybiBuZXcgUmFuZ2UoW1JhbmdlMUQubm9uZSgpLCBSYW5nZTFELm5vbmUoKV0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JhbmdlL1JhbmdlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQgUmFuZ2UxRCBmcm9tICcuL1JhbmdlMUQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5nZTFER3JvdXAgZXh0ZW5kcyBSYW5nZTFEIHtcbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHVibGljIGNvbG9yOiBzdHJpbmcsIGJhc2U/OiBSYW5nZTFEKSB7XG4gICAgc3VwZXIoYmFzZSk7XG4gIH1cblxuICBwcmVNdWx0aXBseShzdWI6IFJhbmdlMUQsIHNpemU/OiBudW1iZXIpOiBSYW5nZTFER3JvdXAge1xuICAgIGNvbnN0IHIgPSBzdXBlci5wcmVNdWx0aXBseShzdWIsIHNpemUpO1xuICAgIHJldHVybiBuZXcgUmFuZ2UxREdyb3VwKHRoaXMubmFtZSwgdGhpcy5jb2xvciwgcik7XG4gIH1cblxuICB1bmlvbihvdGhlcjogUmFuZ2UxRCwgc2l6ZT86IG51bWJlcik6IFJhbmdlMURHcm91cCB7XG4gICAgY29uc3QgciA9IHN1cGVyLnVuaW9uKG90aGVyLCBzaXplKTtcbiAgICByZXR1cm4gbmV3IFJhbmdlMURHcm91cCh0aGlzLm5hbWUsIHRoaXMuY29sb3IsIHIpO1xuICB9XG5cbiAgaW50ZXJzZWN0KG90aGVyOiBSYW5nZTFELCBzaXplPzogbnVtYmVyKTogUmFuZ2UxREdyb3VwIHtcbiAgICBjb25zdCByID0gc3VwZXIuaW50ZXJzZWN0KG90aGVyLCBzaXplKTtcbiAgICByZXR1cm4gbmV3IFJhbmdlMURHcm91cCh0aGlzLm5hbWUsIHRoaXMuY29sb3IsIHIpO1xuICB9XG5cbiAgd2l0aG91dCh3aXRob3V0OiBSYW5nZTFELCBzaXplPzogbnVtYmVyKTogUmFuZ2UxREdyb3VwIHtcbiAgICBjb25zdCByID0gc3VwZXIud2l0aG91dCh3aXRob3V0LCBzaXplKTtcbiAgICByZXR1cm4gbmV3IFJhbmdlMURHcm91cCh0aGlzLm5hbWUsIHRoaXMuY29sb3IsIHIpO1xuICB9XG5cbiAgY2xvbmUoKTogUmFuZ2UxREdyb3VwIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlMURHcm91cCh0aGlzLm5hbWUsIHRoaXMuY29sb3IsIHN1cGVyLmNsb25lKCkpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdcIicgKyB0aGlzLm5hbWUgKyAnXCJcIicgKyB0aGlzLmNvbG9yICsgJ1wiJyArIHN1cGVyLnRvU3RyaW5nKCk7XG4gIH1cblxuICB0b1NldChzaXplPzogbnVtYmVyKTogUmFuZ2UxREdyb3VwIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlMURHcm91cCh0aGlzLm5hbWUsIHRoaXMuY29sb3IsIHN1cGVyLnRvU2V0KHNpemUpKTtcbiAgfVxuXG4gIGZyb21MaWtlKGluZGljZXM6IG51bWJlcltdKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZTFER3JvdXAodGhpcy5uYW1lLCB0aGlzLmNvbG9yLCBzdXBlci5mcm9tTGlrZShpbmRpY2VzKSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yYW5nZS9SYW5nZTFER3JvdXAudHMiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDE0LjAyLjIwMTcuXG4gKi9cblxuaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vJztcbmltcG9ydCB7SVZhbHVlVHlwZURlc2MsIGd1ZXNzVmFsdWVUeXBlRGVzY30gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IElBdG9tLCB7SUF0b21EYXRhRGVzY3JpcHRpb24sIElBdG9tVmFsdWUsIElJbmxpbmVkQXRvbURhdGFEZXNjcmlwdGlvbiwgY3JlYXRlRGVmYXVsdEF0b21EZXNjfSBmcm9tICcuL0lBdG9tJztcbmltcG9ydCB7Y3JlYXRlTG9jYWxBc3NpZ25lcn0gZnJvbSAnLi4vaWR0eXBlJztcbmltcG9ydCBBQXRvbSBmcm9tICcuL0FBdG9tJztcbmltcG9ydCB7bGlzdCBhcyBybGlzdCwgUmFuZ2V9IGZyb20gJy4uL3JhbmdlJztcblxuZXhwb3J0IGNsYXNzIEF0b208VCxEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgQUF0b208VCxEPiBpbXBsZW1lbnRzIElBdG9tPFQsRD4ge1xuXG4gIGNvbnN0cnVjdG9yKGRlc2M6IElBdG9tRGF0YURlc2NyaXB0aW9uPEQ+LCBwcml2YXRlIHJlYWRvbmx5IGxvYWRlZDogSUF0b21WYWx1ZTxUPikge1xuICAgIHN1cGVyKGRlc2MpO1xuICB9XG5cbiAgaWQoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShybGlzdCh0aGlzLmxvYWRlZC5pZCkpO1xuICB9XG5cbiAgbmFtZSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMubG9hZGVkLm5hbWUpO1xuICB9XG5cbiAgZGF0YSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMubG9hZGVkLnZhbHVlKTtcbiAgfVxufVxuXG5jb25zdCBub1ZhbHVlOiBJQXRvbVZhbHVlPGFueT4gPSB7XG4gIGlkOiAtMSxcbiAgbmFtZTogJycsXG4gIHZhbHVlOiBudWxsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlPFQsIEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oZGVzYzogSUF0b21EYXRhRGVzY3JpcHRpb248RD58SUlubGluZWRBdG9tRGF0YURlc2NyaXB0aW9uPFQsRD4pOiBJQXRvbTxULEQ+IHtcbiAgaWYgKHR5cGVvZigoPGFueT5kZXNjKS5kYXRhKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG5ldyBBdG9tKGRlc2MsIDxJQXRvbVZhbHVlPFQ+Pig8YW55PmRlc2MpLmRhdGEpO1xuICB9XG4gIHJldHVybiBuZXcgQXRvbShkZXNjLCBub1ZhbHVlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXNBdG9tT3B0aW9ucyB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGlkdHlwZT86IHN0cmluZztcbiAgcm93YXNzaWduZXI/KGlkczogc3RyaW5nW10pOiBSYW5nZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzQXRvbTxUPihuYW1lOiBzdHJpbmcsIHZhbHVlOiBULCBvcHRpb25zOiBJQXNBdG9tT3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGRlc2MgPSBtaXhpbihjcmVhdGVEZWZhdWx0QXRvbURlc2MoKSwge1xuICAgIHZhbHVlOiBndWVzc1ZhbHVlVHlwZURlc2MoW3ZhbHVlXSlcbiAgfSwgb3B0aW9ucyk7XG5cbiAgY29uc3Qgcm93QXNzaWduZXIgPSBvcHRpb25zLnJvd2Fzc2lnbmVyIHx8IGNyZWF0ZUxvY2FsQXNzaWduZXIoKTtcbiAgY29uc3QgYXRvbSA9IHtcbiAgICBuYW1lLFxuICAgIHZhbHVlLFxuICAgIGlkOiByb3dBc3NpZ25lcihbbmFtZV0pLmZpcnN0XG4gIH07XG4gIHJldHVybiBuZXcgQXRvbShkZXNjLCBhdG9tKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hdG9tL0F0b20udHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyNy4xMi4yMDE2LlxuICovXG5cbmltcG9ydCB7SUludGVyc2VjdGlvblBhcmFtLCBWZWN0b3IyRH0gZnJvbSAnLi4vMkQnO1xuaW1wb3J0IEFTaGFwZSBmcm9tICcuL0FTaGFwZSc7XG5pbXBvcnQgQ2lyY2xlIGZyb20gJy4vQ2lyY2xlJztcbmltcG9ydCBSZWN0IGZyb20gJy4vUmVjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsbGlwc2UgZXh0ZW5kcyBBU2hhcGUge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgeCA9IDAsIHB1YmxpYyB5ID0gMCwgcHVibGljIHJhZGl1c1ggPSAwLCBwdWJsaWMgcmFkaXVzWSA9IDApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgZ2V0IHh5KCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54LCB0aGlzLnkpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBFbGxpcHNlKHg9JHt0aGlzLnh9LHk9JHt0aGlzLnl9LHJhZGl1c1g9JHt0aGlzLnJhZGl1c1h9LHJhZGl1c1k9JHt0aGlzLnJhZGl1c1l9KWA7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2hpZnRJbXBsKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy54ICs9IHg7XG4gICAgdGhpcy55ICs9IHk7XG4gIH1cblxuICBhYWJiKCk6IFJlY3Qge1xuICAgIHJldHVybiBuZXcgUmVjdCh0aGlzLnggLSB0aGlzLnJhZGl1c1gsIHRoaXMueSAtIHRoaXMucmFkaXVzWSwgdGhpcy5yYWRpdXNYICogMiwgdGhpcy5yYWRpdXNZICogMik7XG4gIH1cblxuICBicygpOiBDaXJjbGUge1xuICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCBNYXRoLm1heCh0aGlzLnJhZGl1c1gsIHRoaXMucmFkaXVzWSkpO1xuICB9XG5cbiAgdHJhbnNmb3JtKHNjYWxlOiBudW1iZXJbXSwgcm90YXRlOiBudW1iZXIpIHtcbiAgICAvL1RPRE8gcm90YXRlXG4gICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCAqIHNjYWxlWzBdLCB0aGlzLnkgKiBzY2FsZVsxXSwgdGhpcy5yYWRpdXNYICogc2NhbGVbMF0sIHRoaXMucmFkaXVzWSAqIHNjYWxlWzFdKTtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCk6IElJbnRlcnNlY3Rpb25QYXJhbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICdFbGxpcHNlJyxcbiAgICAgIHBhcmFtczogW3RoaXMueHksIHRoaXMucmFkaXVzWCwgdGhpcy5yYWRpdXNZXVxuICAgIH07XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nZW9tL0VsbGlwc2UudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyNy4xMi4yMDE2LlxuICovXG5cbmltcG9ydCB7SUludGVyc2VjdGlvblBhcmFtLCBWZWN0b3IyRH0gZnJvbSAnLi4vMkQnO1xuaW1wb3J0IEFTaGFwZSBmcm9tICcuL0FTaGFwZSc7XG5pbXBvcnQgQ2lyY2xlIGZyb20gJy4vQ2lyY2xlJztcbmltcG9ydCBSZWN0IGZyb20gJy4vUmVjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmUgZXh0ZW5kcyBBU2hhcGUge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgeDEgPSAwLCBwdWJsaWMgeTEgPSAwLCBwdWJsaWMgeDIgPSAwLCBwdWJsaWMgeTIgPSAwKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIGdldCB4eSgpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueDEsIHRoaXMueTEpO1xuICB9XG5cbiAgZ2V0IHgxeTEoKSB7XG4gICAgcmV0dXJuIHRoaXMueHk7XG4gIH1cblxuICBnZXQgeDJ5MigpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueDIsIHRoaXMueTIpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBMaW5lKHgxPSR7dGhpcy54MX0seTE9JHt0aGlzLnkxfSx4Mj0ke3RoaXMueDJ9LHkyPSR7dGhpcy55Mn0pYDtcbiAgfVxuXG4gIHByb3RlY3RlZCBzaGlmdEltcGwoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLngxICs9IHg7XG4gICAgdGhpcy55MSArPSB5O1xuICAgIHRoaXMueDIgKz0geDtcbiAgICB0aGlzLnkyICs9IHk7XG4gIH1cblxuICBhYWJiKCk6IFJlY3Qge1xuICAgIHJldHVybiBuZXcgUmVjdChNYXRoLm1pbih0aGlzLngxLCB0aGlzLngyKSwgTWF0aC5taW4odGhpcy55MSwgdGhpcy55MiksIE1hdGguYWJzKHRoaXMueDEgLSB0aGlzLngyKSwgTWF0aC5hYnModGhpcy55MSAtIHRoaXMueTIpKTtcbiAgfVxuXG4gIGJzKCk6IENpcmNsZSB7XG4gICAgY29uc3QgeCA9IDAuNSAqICh0aGlzLngxICsgdGhpcy54Mik7XG4gICAgY29uc3QgeSA9IDAuNSAqICh0aGlzLnkxICsgdGhpcy55Mik7XG4gICAgY29uc3QgZHggPSAodGhpcy54MSAtIHRoaXMueDIpO1xuICAgIGNvbnN0IGR5ID0gKHRoaXMueTEgLSB0aGlzLnkyKTtcbiAgICByZXR1cm4gbmV3IENpcmNsZSh4LCB5LCBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpIC8gMik7XG4gIH1cblxuICB0cmFuc2Zvcm0oc2NhbGU6IG51bWJlcltdLCByb3RhdGU6IG51bWJlcikge1xuICAgIC8vVE9ETyByb3RhdGVcbiAgICByZXR1cm4gbmV3IExpbmUodGhpcy54MSAqIHNjYWxlWzBdLCB0aGlzLnkxICogc2NhbGVbMV0sIHRoaXMueDIgKiBzY2FsZVswXSwgdGhpcy55MiAqIHNjYWxlWzFdKTtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCk6IElJbnRlcnNlY3Rpb25QYXJhbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICdMaW5lJyxcbiAgICAgIHBhcmFtczogW3RoaXMueHksIHRoaXMueDJ5Ml1cbiAgICB9O1xuICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nZW9tL0xpbmUudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyNy4xMi4yMDE2LlxuICovXG5pbXBvcnQge0lJbnRlcnNlY3Rpb25QYXJhbSwgVmVjdG9yMkR9IGZyb20gJy4uLzJEJztcbmltcG9ydCBBU2hhcGUgZnJvbSAnLi9BU2hhcGUnO1xuaW1wb3J0IENpcmNsZSBmcm9tICcuL0NpcmNsZSc7XG5pbXBvcnQgUmVjdCBmcm9tICcuL1JlY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5Z29uIGV4dGVuZHMgQVNoYXBlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwb2ludHM6IFZlY3RvcjJEW10gPSBbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdXNoKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZDtcbiAgcHVzaCguLi5wb2ludHM6IFZlY3RvcjJEW10pOiB2b2lkO1xuICBwdXNoKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnBvaW50cy5wdXNoKG5ldyBWZWN0b3IyRChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvaW50cy5wdXNoKC4uLkFycmF5LmZyb20oYXJndW1lbnRzKSk7XG4gICAgfVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBQb2x5Z29uKCR7dGhpcy5wb2ludHMuam9pbignLCcpfSlgO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNoaWZ0SW1wbCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMucG9pbnRzLmZvckVhY2goKHApID0+IHtcbiAgICAgIHAueCArPSB4O1xuICAgICAgcC55ICs9IHk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLnBvaW50cy5sZW5ndGg7XG4gIH1cblxuICBhYWJiKCk6IFJlY3Qge1xuICAgIGxldCBtaW5YID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBtaW5ZID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBtYXhYID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBtYXhZID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgIHRoaXMucG9pbnRzLmZvckVhY2goKHApID0+IHtcbiAgICAgIGlmIChwLnggPCBtaW5YKSB7XG4gICAgICAgIG1pblggPSBwLng7XG4gICAgICB9XG4gICAgICBpZiAocC55IDwgbWluWSkge1xuICAgICAgICBtaW5ZID0gcC55O1xuICAgICAgfVxuICAgICAgaWYgKHAueCA+IG1heFgpIHtcbiAgICAgICAgbWF4WCA9IHAueDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnkgPiBtYXhZKSB7XG4gICAgICAgIG1heFkgPSBwLnk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBSZWN0KG1pblgsIG1pblksIG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gIH1cblxuICBicygpOiBDaXJjbGUge1xuICAgIGNvbnN0IGNlbnRyb2lkID0gdGhpcy5jZW50cm9pZDtcbiAgICBsZXQgcmFkaXVzMiA9IDA7XG4gICAgdGhpcy5wb2ludHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgY29uc3QgZHggPSBwLnggLSBjZW50cm9pZC54O1xuICAgICAgY29uc3QgZHkgPSBwLnkgLSBjZW50cm9pZC54O1xuICAgICAgY29uc3QgZCA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgaWYgKGQgPiByYWRpdXMyKSB7XG4gICAgICAgIHJhZGl1czIgPSBkO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQ2lyY2xlKGNlbnRyb2lkLngsIGNlbnRyb2lkLnksIE1hdGguc3FydChyYWRpdXMyKSk7XG4gIH1cblxuICB0cmFuc2Zvcm0oc2NhbGU6IG51bWJlcltdLCByb3RhdGU6IG51bWJlcikge1xuICAgIC8vVE9ETyByb3RhdGVcbiAgICByZXR1cm4gbmV3IFBvbHlnb24odGhpcy5wb2ludHMubWFwKChwKSA9PiBuZXcgVmVjdG9yMkQocC54ICogc2NhbGVbMF0sIHAueSAqIHNjYWxlWzFdKSkpO1xuICB9XG5cbiAgcG9pbnRJblBvbHlnb24ocG9pbnQ6IFZlY3RvcjJEKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgIGxldCBjb3VudGVyID0gMDtcbiAgICBsZXQgcDEgPSB0aGlzLnBvaW50c1swXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcDIgPSB0aGlzLnBvaW50c1tpICUgbGVuZ3RoXTtcbiAgICAgIGlmIChwb2ludC55ID4gTWF0aC5taW4ocDEueSwgcDIueSkgJiYgcG9pbnQueSA8PSBNYXRoLm1heChwMS55LCBwMi55KSAmJiBwb2ludC54IDw9IE1hdGgubWF4KHAxLngsIHAyLngpICYmIHAxLnkgIT09IHAyLnkpIHtcbiAgICAgICAgY29uc3QgeEludGVyID0gKHBvaW50LnkgLSBwMS55KSAqIChwMi54IC0gcDEueCkgLyAocDIueSAtIHAxLnkpICsgcDEueDtcbiAgICAgICAgaWYgKHAxLnggPT09IHAyLnggfHwgcG9pbnQueCA8PSB4SW50ZXIpIHtcbiAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHAxID0gcDI7XG4gICAgfVxuICAgIHJldHVybiAoY291bnRlciAlIDIgPT09IDEpO1xuICB9XG5cbiAgZ2V0IGFyZWEoKSB7XG4gICAgbGV0IGFyZWEgPSAwO1xuICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMucG9pbnRzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBoMSA9IHRoaXMucG9pbnRzW2ldO1xuICAgICAgY29uc3QgaDIgPSB0aGlzLnBvaW50c1soaSArIDEpICUgbGVuZ3RoXTtcbiAgICAgIGFyZWEgKz0gKGgxLnggKiBoMi55IC0gaDIueCAqIGgxLnkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJlYSAvIDI7XG4gIH1cblxuICBnZXQgY2VudHJvaWQoKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgIGNvbnN0IGFyZWE2eCA9IDYgKiB0aGlzLmFyZWE7XG4gICAgbGV0IHhTdW0gPSAwO1xuICAgIGxldCB5U3VtID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwMSA9IHRoaXMucG9pbnRzW2ldO1xuICAgICAgY29uc3QgcDIgPSB0aGlzLnBvaW50c1soaSArIDEpICUgbGVuZ3RoXTtcbiAgICAgIGNvbnN0IGNyb3NzID0gKHAxLnggKiBwMi55IC0gcDIueCAqIHAxLnkpO1xuICAgICAgeFN1bSArPSAocDEueCArIHAyLngpICogY3Jvc3M7XG4gICAgICB5U3VtICs9IChwMS55ICsgcDIueSkgKiBjcm9zcztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh4U3VtIC8gYXJlYTZ4LCB5U3VtIC8gYXJlYTZ4KTtcbiAgfVxuXG4gIGdldCBpc0Nsb2Nrd2lzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5hcmVhIDwgMDtcbiAgfVxuXG4gIGdldCBpc0NvdW50ZXJDbG9ja3dpc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJlYSA+IDA7XG4gIH1cblxuICBnZXQgaXNDb25jYXZlKCkge1xuICAgIGxldCBwb3NpdGl2ZSA9IDA7XG4gICAgbGV0IG5lZ2F0aXZlID0gMDtcbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcDAgPSB0aGlzLnBvaW50c1tpXTtcbiAgICAgIGNvbnN0IHAxID0gdGhpcy5wb2ludHNbKGkgKyAxKSAlIGxlbmd0aF07XG4gICAgICBjb25zdCBwMiA9IHRoaXMucG9pbnRzWyhpICsgMikgJSBsZW5ndGhdO1xuICAgICAgY29uc3QgdjAgPSBWZWN0b3IyRC5mcm9tUG9pbnRzKHAwLCBwMSk7XG4gICAgICBjb25zdCB2MSA9IFZlY3RvcjJELmZyb21Qb2ludHMocDEsIHAyKTtcbiAgICAgIGNvbnN0IGNyb3NzID0gdjAuY3Jvc3ModjEpO1xuICAgICAgaWYgKGNyb3NzIDwgMCkge1xuICAgICAgICBuZWdhdGl2ZSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9zaXRpdmUrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChuZWdhdGl2ZSAhPT0gMCAmJiBwb3NpdGl2ZSAhPT0gMCk7XG4gIH1cblxuICBnZXQgaXNDb252ZXgoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzQ29uY2F2ZTtcbiAgfVxuXG4gIGFzSW50ZXJzZWN0aW9uUGFyYW1zKCk6IElJbnRlcnNlY3Rpb25QYXJhbSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICdQb2x5Z29uJyxcbiAgICAgIHBhcmFtczogW3RoaXMucG9pbnRzLnNsaWNlKCldXG4gICAgfTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dlb20vUG9seWdvbi50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuaW1wb3J0IHtyZXNvbHZlIGFzIGlkdHlwZXNfcmVzb2x2ZX0gZnJvbSAnLi4vaWR0eXBlJztcbmltcG9ydCB7QURhdGFUeXBlfSBmcm9tICcuLi9kYXRhdHlwZSc7XG5pbXBvcnQge2FsbCwgbm9uZSwgUmFuZ2UsIFJhbmdlTGlrZX0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtBR3JhcGgsIElEVFlQRV9FREdFUywgSURUWVBFX05PREVTLCBESU1fRURHRVMsIERJTV9OT0RFU30gZnJvbSAnLi9ncmFwaCc7XG5pbXBvcnQge2RlZmF1bHRHcmFwaEZhY3RvcnksIElHcmFwaEZhY3RvcnksIElHcmFwaERhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi9HcmFwaEJhc2UnO1xuaW1wb3J0IFJlbW90ZVN0b3JlR3JhcGggZnJvbSAnLi9SZW1vdGVTdG9yYWdlR3JhcGgnO1xuaW1wb3J0IE1lbW9yeUdyYXBoIGZyb20gJy4vTWVtb3J5R3JhcGgnO1xuaW1wb3J0IExvY2FsU3RvcmFnZUdyYXBoIGZyb20gJy4vTG9jYWxTdG9yYWdlR3JhcGgnO1xuaW1wb3J0IHtyZXNvbHZlSW1tZWRpYXRlbHl9IGZyb20gJy4uL2ludGVybmFsL3Byb21pc2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaFByb3h5IGV4dGVuZHMgQURhdGFUeXBlPElHcmFwaERhdGFEZXNjcmlwdGlvbj4ge1xuICBwcml2YXRlIGNhY2hlOiBQcm9taXNlTGlrZTxBR3JhcGg+ID0gbnVsbDtcbiAgcHJpdmF0ZSBsb2FkZWQ6IEFHcmFwaCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZGVzYzogSUdyYXBoRGF0YURlc2NyaXB0aW9uKSB7XG4gICAgc3VwZXIoZGVzYyk7XG4gIH1cblxuICBnZXQgbm5vZGVzKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2FkZWQubm5vZGVzO1xuICAgIH1cbiAgICBjb25zdCBzaXplID0gdGhpcy5kZXNjLnNpemU7XG4gICAgcmV0dXJuIHNpemVbRElNX05PREVTXSB8fCAwO1xuICB9XG5cbiAgZ2V0IG5lZGdlcygpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmxvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9hZGVkLm5lZGdlcztcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZGVzYy5zaXplO1xuICAgIHJldHVybiBzaXplW0RJTV9FREdFU10gfHwgMDtcbiAgfVxuXG4gIGdldCBkaW0oKSB7XG4gICAgcmV0dXJuIFt0aGlzLm5ub2RlcywgdGhpcy5uZWRnZXNdO1xuICB9XG5cbiAgaW1wbChmYWN0b3J5OiBJR3JhcGhGYWN0b3J5ID0gZGVmYXVsdEdyYXBoRmFjdG9yeSk6IFByb21pc2VMaWtlPEFHcmFwaD4ge1xuICAgIGlmICh0aGlzLmNhY2hlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IHRoaXMuZGVzYy5zdG9yYWdlIHx8ICdyZW1vdGUnO1xuICAgIGlmICh0eXBlID09PSAnbWVtb3J5Jykge1xuICAgICAgLy9tZW1vcnkgb25seVxuICAgICAgdGhpcy5sb2FkZWQgPSBuZXcgTWVtb3J5R3JhcGgodGhpcy5kZXNjLCBbXSwgW10sIGZhY3RvcnkpO1xuICAgICAgdGhpcy5jYWNoZSA9IHJlc29sdmVJbW1lZGlhdGVseSh0aGlzLmxvYWRlZCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbG9jYWwnKSB7XG4gICAgICB0aGlzLmxvYWRlZCA9IExvY2FsU3RvcmFnZUdyYXBoLmxvYWQodGhpcy5kZXNjLCBmYWN0b3J5LCBsb2NhbFN0b3JhZ2UpO1xuICAgICAgdGhpcy5jYWNoZSA9IHJlc29sdmVJbW1lZGlhdGVseSh0aGlzLmxvYWRlZCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2Vzc2lvbicpIHtcbiAgICAgIHRoaXMubG9hZGVkID0gTG9jYWxTdG9yYWdlR3JhcGgubG9hZCh0aGlzLmRlc2MsIGZhY3RvcnksIHNlc3Npb25TdG9yYWdlKTtcbiAgICAgIHRoaXMuY2FjaGUgPSByZXNvbHZlSW1tZWRpYXRlbHkodGhpcy5sb2FkZWQpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2dpdmVuJyAmJiB0aGlzLmRlc2MuZ3JhcGggaW5zdGFuY2VvZiBBR3JhcGgpIHtcbiAgICAgIHRoaXMubG9hZGVkID0gdGhpcy5kZXNjLmdyYXBoO1xuICAgICAgdGhpcy5jYWNoZSA9IHJlc29sdmVJbW1lZGlhdGVseSh0aGlzLmxvYWRlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FjaGUgPSByZXNvbHZlSW1tZWRpYXRlbHkoUmVtb3RlU3RvcmVHcmFwaC5sb2FkKHRoaXMuZGVzYywgZmFjdG9yeSkpLnRoZW4oKGdyYXBoOiBBR3JhcGgpID0+IHRoaXMubG9hZGVkID0gZ3JhcGgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWNoZTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPFJhbmdlPiB7XG4gICAgaWYgKHRoaXMuY2FjaGUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoPGFueT50aGlzLmNhY2hlLnRoZW4oKGkpID0+IGkuaWRzKHJhbmdlKSkpOyAvLyBUT0RPIGF2b2lkIDxhbnk+IHR5cGUgY2FzdFxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vbmUoKSk7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW0lEVFlQRV9OT0RFUywgSURUWVBFX0VER0VTXS5tYXAoaWR0eXBlc19yZXNvbHZlKTtcbiAgfVxufVxuXG4vKipcbiAqIG1vZHVsZSBlbnRyeSBwb2ludCBmb3IgY3JlYXRpbmcgYSBkYXRhdHlwZVxuICogQHBhcmFtIGRlc2NcbiAqIEByZXR1cm5zIHtJTWF0cml4fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGRlc2M6IElHcmFwaERhdGFEZXNjcmlwdGlvbik6IEdyYXBoUHJveHkge1xuICByZXR1cm4gbmV3IEdyYXBoUHJveHkoZGVzYyk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ3JhcGgvR3JhcGhQcm94eS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDIyLjEwLjIwMTQuXG4gKi9cbmltcG9ydCB7c2VuZEFQSX0gZnJvbSAnLi4vYWpheCc7XG5pbXBvcnQge0lFdmVudH0gZnJvbSAnLi4vZXZlbnQnO1xuaW1wb3J0IEdyYXBoQmFzZSwge0lHcmFwaEZhY3RvcnksIElHcmFwaERhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi9HcmFwaEJhc2UnO1xuaW1wb3J0IHtHcmFwaEVkZ2UsIEdyYXBoTm9kZX0gZnJvbSAnLi9ncmFwaCc7XG5pbXBvcnQge3Jlc29sdmVJbW1lZGlhdGVseX0gZnJvbSAnLi4vaW50ZXJuYWwvcHJvbWlzZSc7XG5cbmludGVyZmFjZSBJU3luY0l0ZW0ge1xuICB0eXBlOiAnbm9kZSd8J2VkZ2UnO1xuICBvcDogJ2FkZCd8J3JlbW92ZSd8J3VwZGF0ZSc7XG4gIGlkPzogbnVtYmVyO1xuICBkZXNjPzogYW55O1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbW90ZVN0b3JlR3JhcGggZXh0ZW5kcyBHcmFwaEJhc2Uge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBERUZBVUxUX0JBVENIX1NJWkUgPSAxMDtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgREVGQVVMVF9XQUlUX1RJTUVfQkVGT1JFX0VBUkxZX0ZMVVNIID0gMTAwMDsgLy9tc1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBERUZBVUxUX1dBSVRfVElNRV9CRUZPUkVfRlVMTF9GTFVTSCA9IDEwMDsgLy9tc1xuXG4gIHByaXZhdGUgdXBkYXRlSGFuZGxlciA9IChldmVudDogSUV2ZW50KSA9PiB7XG4gICAgY29uc3QgcyA9IGV2ZW50LnRhcmdldDtcbiAgICBpZiAocyBpbnN0YW5jZW9mIEdyYXBoTm9kZSkge1xuICAgICAgdGhpcy51cGRhdGVOb2RlKDxHcmFwaE5vZGU+cyk7XG4gICAgfVxuICAgIGlmIChzIGluc3RhbmNlb2YgR3JhcGhFZGdlKSB7XG4gICAgICB0aGlzLnVwZGF0ZUVkZ2UoPEdyYXBoRWRnZT5zKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHdhaXRGb3JTeW5jZWQgPSAwO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYmF0Y2hTaXplOiBudW1iZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgcXVldWU6IElTeW5jSXRlbVtdID0gW107XG4gIHByaXZhdGUgZmx1c2hUaW1lb3V0OiBudW1iZXIgPSAtMTtcblxuICBjb25zdHJ1Y3RvcihkZXNjOiBJR3JhcGhEYXRhRGVzY3JpcHRpb24pIHtcbiAgICBzdXBlcihkZXNjKTtcbiAgICB0aGlzLmJhdGNoU2l6ZSA9IGRlc2MuYXR0cnMuYmF0Y2hTaXplIHx8IFJlbW90ZVN0b3JlR3JhcGguREVGQVVMVF9CQVRDSF9TSVpFO1xuICB9XG5cbiAgbWlncmF0ZSgpIHtcbiAgICB0aGlzLm5vZGVzLmZvckVhY2goKG4pID0+IG4ub2ZmKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKSk7XG4gICAgdGhpcy5lZGdlcy5mb3JFYWNoKChuKSA9PiBuLm9mZignc2V0QXR0cicsIHRoaXMudXBkYXRlSGFuZGxlcikpO1xuICAgIC8vVE9ETyBkZWxldGUgb2xkXG4gICAgcmV0dXJuIHN1cGVyLm1pZ3JhdGUoKTtcbiAgfVxuICBzdGF0aWMgbG9hZChkZXNjOiBJR3JhcGhEYXRhRGVzY3JpcHRpb24sIGZhY3Rvcnk6IElHcmFwaEZhY3RvcnkpIHtcbiAgICBjb25zdCByID0gbmV3IFJlbW90ZVN0b3JlR3JhcGgoZGVzYyk7XG4gICAgcmV0dXJuIHIubG9hZChmYWN0b3J5KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZChmYWN0b3J5OiBJR3JhcGhGYWN0b3J5KSB7XG4gICAgdGhpcy5maXJlKCdzeW5jX2xvYWRfc3RhcnQsc3luY19zdGFydCcsICsrdGhpcy53YWl0Rm9yU3luY2VkKTtcbiAgICBjb25zdCByOiB7bm9kZXM6IGFueVtdLCBlZGdlczogYW55W119ID0gYXdhaXQgc2VuZEFQSShgL2RhdGFzZXQvZ3JhcGgvJHt0aGlzLmRlc2MuaWR9L2RhdGFgKTtcbiAgICB0aGlzLmxvYWRJbXBsKHIubm9kZXMsIHIuZWRnZXMsIGZhY3RvcnkpO1xuICAgIHRoaXMuZmlyZSgnc3luY19sb2FkLHN5bmMnLCAtLXRoaXMud2FpdEZvclN5bmNlZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcml2YXRlIGxvYWRJbXBsKG5vZGVzOiBhbnlbXSwgZWRnZXM6IGFueVtdLCBmYWN0b3J5OiBJR3JhcGhGYWN0b3J5KSB7XG4gICAgY29uc3QgbG9va3VwID0gbmV3IE1hcDxudW1iZXIsIEdyYXBoTm9kZT4oKSxcbiAgICAgIGxvb2t1cEZ1biA9IGxvb2t1cC5nZXQuYmluZChsb29rdXApO1xuICAgIG5vZGVzLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGNvbnN0IG5uID0gZmFjdG9yeS5tYWtlTm9kZShuKTtcbiAgICAgIGxvb2t1cC5zZXQobm4uaWQsIG5uKTtcbiAgICAgIG5uLm9uKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKTtcbiAgICAgIHN1cGVyLmFkZE5vZGUobm4pO1xuICAgIH0pO1xuICAgIGVkZ2VzLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGNvbnN0IG5uID0gZmFjdG9yeS5tYWtlRWRnZShuLCBsb29rdXBGdW4pO1xuICAgICAgbm4ub24oJ3NldEF0dHInLCB0aGlzLnVwZGF0ZUhhbmRsZXIpO1xuICAgICAgc3VwZXIuYWRkRWRnZShubik7XG4gICAgfSk7XG4gICAgdGhpcy5maXJlKCdsb2FkZWQnKTtcbiAgfVxuXG4gIGdldCBhY3RpdmVTeW5jT3BlcmF0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy53YWl0Rm9yU3luY2VkO1xuICB9XG5cbiAgcHJpdmF0ZSBzZW5kKHR5cGU6ICdub2RlJ3wnZWRnZScsIG9wOiAnYWRkJ3wndXBkYXRlJ3wncmVtb3ZlJywgZWxlbTogR3JhcGhOb2RlfEdyYXBoRWRnZSkge1xuICAgIGlmICh0aGlzLmJhdGNoU2l6ZSA8PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZW5kTm93KHR5cGUsIG9wLCBlbGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXRlbTogSVN5bmNJdGVtID0ge3R5cGUsIG9wLCBpZDogZWxlbS5pZCwgZGVzYzogZWxlbS5wZXJzaXN0KCl9O1xuICAgICAgcmV0dXJuIHRoaXMuZW5xdWV1ZShpdGVtKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGVucXVldWUoaXRlbTogSVN5bmNJdGVtKSB7XG4gICAgaWYgKHRoaXMuZmx1c2hUaW1lb3V0ID49IDApIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZsdXNoVGltZW91dCk7XG4gICAgICB0aGlzLmZsdXNoVGltZW91dCA9IC0xO1xuICAgIH1cbiAgICB0aGlzLnF1ZXVlLnB1c2goaXRlbSk7XG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID49IHRoaXMuYmF0Y2hTaXplICogMikgeyAvL3JlYWxseSBmdWxsXG4gICAgICByZXR1cm4gdGhpcy5zZW5kUXVldWVkKCk7XG4gICAgfVxuICAgIGNvbnN0IHdhaXQgPSB0aGlzLnF1ZXVlLmxlbmd0aCA+PSB0aGlzLmJhdGNoU2l6ZSA/IFJlbW90ZVN0b3JlR3JhcGguREVGQVVMVF9XQUlUX1RJTUVfQkVGT1JFX0ZVTExfRkxVU0ggOiBSZW1vdGVTdG9yZUdyYXBoLkRFRkFVTFRfV0FJVF9USU1FX0JFRk9SRV9FQVJMWV9GTFVTSDtcbiAgICAvL3NlbmQgaXQgYXQgbW9zdCB0aW1lb3V0IG1zIGlmIHRoZXJlIGlzIG5vIHVwZGF0ZSBpbiBiZXR3ZWVuXG4gICAgdGhpcy5mbHVzaFRpbWVvdXQgPSA8YW55PnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zZW5kUXVldWVkKCk7XG4gICAgfSwgd2FpdCk7XG4gIH1cblxuICBwcml2YXRlIHNlbmROb3codHlwZTogJ25vZGUnfCdlZGdlJywgb3A6ICdhZGQnfCd1cGRhdGUnfCdyZW1vdmUnLCBlbGVtOiBHcmFwaE5vZGV8R3JhcGhFZGdlKSB7XG4gICAgdGhpcy5maXJlKGBzeW5jX3N0YXJ0XyR7dHlwZX0sc3luY19zdGFydGAsICsrdGhpcy53YWl0Rm9yU3luY2VkLCBgJHtvcH1fe3R5cGV9YCwgZWxlbSk7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgZGVzYzogSlNPTi5zdHJpbmdpZnkoZWxlbS5wZXJzaXN0KCkpXG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGUgPSAoKSA9PiB7XG4gICAgICBzd2l0Y2gob3ApIHtcbiAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICByZXR1cm4gc2VuZEFQSShgL2RhdGFzZXQvZ3JhcGgvJHt0aGlzLmRlc2MuaWR9LyR7dHlwZX1gLCBkYXRhLCAnUE9TVCcpO1xuICAgICAgICBjYXNlICd1cGRhdGUnOlxuICAgICAgICAgIHJldHVybiBzZW5kQVBJKGAvZGF0YXNldC9ncmFwaC8ke3RoaXMuZGVzYy5pZH0vJHt0eXBlfS8ke2VsZW0uaWR9YCwgZGF0YSwgJ1BVVCcpO1xuICAgICAgICBjYXNlICdyZW1vdmUnOlxuICAgICAgICAgIHJldHVybiBzZW5kQVBJKGAvZGF0YXNldC9ncmFwaC8ke3RoaXMuZGVzYy5pZH0vJHt0eXBlfS8ke2VsZW0uaWR9YCwge30sICdERUxFVEUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGUoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuZmlyZShgc3luY18ke3R5cGV9LHN5bmNgLCAtLXRoaXMud2FpdEZvclN5bmNlZCwgZWxlbSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNlbmRRdWV1ZWQoKTogUHJvbWlzZUxpa2U8YW55PiB7XG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbSA9IEpTT04uc3RyaW5naWZ5KHtvcGVyYXRpb246ICdiYXRjaCcsIGl0ZW1zOiB0aGlzLnF1ZXVlLnNsaWNlKCl9KTtcbiAgICAvLyBjbGVhclxuICAgIHRoaXMucXVldWUuc3BsaWNlKDAsIHRoaXMucXVldWUubGVuZ3RoKTtcblxuICAgIHRoaXMuZmlyZShgc3luY19zdGFydGAsICsrdGhpcy53YWl0Rm9yU3luY2VkLCAnYmF0Y2gnKTtcbiAgICByZXR1cm4gc2VuZEFQSShgL2RhdGFzZXQvJHt0aGlzLmRlc2MuaWR9YCwgeyBkZXNjOiBwYXJhbSB9LCAnUE9TVCcpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5maXJlKGBzeW5jYCwgLS10aGlzLndhaXRGb3JTeW5jZWQsICdiYXRjaCcpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGZsdXNoKCkge1xuICAgIGlmICh0aGlzLmJhdGNoU2l6ZSA8PSAxIHx8IHRoaXMucXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KCdub3RoaW5nIHF1ZXVlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZW5kUXVldWVkKCk7XG4gIH1cblxuICBhZGRBbGwobm9kZXM6IEdyYXBoTm9kZVtdLCBlZGdlczogR3JhcGhFZGdlW10pIHtcbiAgICAvL2FkZCBhbGwgYW5kIGFuZCB0byBxdWV1ZVxuICAgIG5vZGVzLmZvckVhY2goKG4pID0+IHtcbiAgICAgIHN1cGVyLmFkZE5vZGUobik7XG4gICAgICBuLm9uKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKTtcbiAgICAgIHRoaXMucXVldWUucHVzaCh7dHlwZTogJ25vZGUnLCBvcDogJ2FkZCcsIGlkOiBuLmlkLCBkZXNjOiBuLnBlcnNpc3QoKX0pO1xuICAgIH0pO1xuICAgIGVkZ2VzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHN1cGVyLmFkZEVkZ2UoZSk7XG4gICAgICBlLm9uKCdzZXRBdHRyJywgdGhpcy51cGRhdGVIYW5kbGVyKTtcbiAgICAgIHRoaXMucXVldWUucHVzaCh7dHlwZTogJ2VkZ2UnLCBvcDogJ2FkZCcsIGlkOiBlLmlkLCBkZXNjOiBlLnBlcnNpc3QoKX0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnNlbmRRdWV1ZWQoKTtcbiAgfVxuXG5cbiAgYXN5bmMgYWRkTm9kZShuOiBHcmFwaE5vZGUpOiBQcm9taXNlPHRoaXM+IHtcbiAgICBzdXBlci5hZGROb2RlKG4pO1xuICAgIG4ub24oJ3NldEF0dHInLCB0aGlzLnVwZGF0ZUhhbmRsZXIpO1xuXG4gICAgYXdhaXQgdGhpcy5zZW5kKCdub2RlJywnYWRkJywgbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhc3luYyB1cGRhdGVOb2RlKG46IEdyYXBoTm9kZSk6IFByb21pc2U8dGhpcz4ge1xuICAgIHN1cGVyLnVwZGF0ZU5vZGUobik7XG4gICAgYXdhaXQgdGhpcy5zZW5kKCdub2RlJywndXBkYXRlJywgbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhc3luYyByZW1vdmVOb2RlKG46IEdyYXBoTm9kZSk6IFByb21pc2U8dGhpcz4ge1xuICAgIGlmICghc3VwZXIucmVtb3ZlTm9kZShuKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdpbnZhbGlkIG5vZGUnKTtcbiAgICB9XG4gICAgbi5vZmYoJ3NldEF0dHInLCB0aGlzLnVwZGF0ZUhhbmRsZXIpO1xuXG4gICAgYXdhaXQgdGhpcy5zZW5kKCdub2RlJywncmVtb3ZlJywgbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhc3luYyBhZGRFZGdlKGVkZ2VPclNvdXJjZTogR3JhcGhFZGdlIHwgR3JhcGhOb2RlLCB0eXBlPzogc3RyaW5nLCB0PzogR3JhcGhOb2RlKTogUHJvbWlzZTx0aGlzPiB7XG4gICAgaWYgKGVkZ2VPclNvdXJjZSBpbnN0YW5jZW9mIEdyYXBoRWRnZSkge1xuICAgICAgc3VwZXIuYWRkRWRnZShlZGdlT3JTb3VyY2UpO1xuICAgICAgY29uc3QgZSA9IDxHcmFwaEVkZ2U+ZWRnZU9yU291cmNlO1xuICAgICAgZS5vbignc2V0QXR0cicsIHRoaXMudXBkYXRlSGFuZGxlcik7XG4gICAgICBhd2FpdCB0aGlzLnNlbmQoJ2VkZ2UnLCdhZGQnLCBlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuYWRkRWRnZSg8R3JhcGhOb2RlPmVkZ2VPclNvdXJjZSwgdHlwZSwgdCk7XG4gIH1cblxuICBhc3luYyByZW1vdmVFZGdlKGU6IEdyYXBoRWRnZSk6IFByb21pc2U8dGhpcz4ge1xuICAgIGlmICghc3VwZXIucmVtb3ZlRWRnZShlKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdpbnZhbGlkIGVkZ2UnKTtcbiAgICB9XG4gICAgZS5vZmYoJ3NldEF0dHInLCB0aGlzLnVwZGF0ZUhhbmRsZXIpO1xuXG4gICAgYXdhaXQgdGhpcy5zZW5kKCdlZGdlJywncmVtb3ZlJywgZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhc3luYyB1cGRhdGVFZGdlKGU6IEdyYXBoRWRnZSk6IFByb21pc2U8dGhpcz4ge1xuICAgIHN1cGVyLnVwZGF0ZUVkZ2UoZSk7XG5cbiAgICBhd2FpdCB0aGlzLnNlbmQoJ2VkZ2UnLCd1cGRhdGUnLCBlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGlmICh0aGlzLm5ub2RlcyA9PT0gMCAmJiB0aGlzLm5lZGdlcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5ub2Rlcy5mb3JFYWNoKChuKSA9PiBuLm9mZignc2V0QXR0cicsIHRoaXMudXBkYXRlSGFuZGxlcikpO1xuICAgIHRoaXMuZWRnZXMuZm9yRWFjaCgobikgPT4gbi5vZmYoJ3NldEF0dHInLCB0aGlzLnVwZGF0ZUhhbmRsZXIpKTtcbiAgICBzdXBlci5jbGVhcigpO1xuXG4gICAgdGhpcy5mbHVzaCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5maXJlKCdzeW5jX3N0YXJ0JywgKyt0aGlzLndhaXRGb3JTeW5jZWQsICdjbGVhcicpO1xuICAgICAgLy9jbGVhciBhbGwgbm9kZXNcbiAgICAgIHJldHVybiBzZW5kQVBJKGAvZGF0YXNldC9ncmFwaC8ke3RoaXMuZGVzYy5pZH0vbm9kZWAsIHt9LCAnREVMRVRFJyk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmZpcmUoJ3N5bmMnKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ3JhcGgvUmVtb3RlU3RvcmFnZUdyYXBoLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAxMi4wMi4yMDE1LlxuICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyMi4xMC4yMDE0LlxuICovXG5leHBvcnQge0F0dHJpYnV0ZUNvbnRhaW5lciwgR3JhcGhOb2RlLCBHcmFwaEVkZ2UsIGlzVHlwZSwgQUdyYXBofSBmcm9tICcuL2dyYXBoJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBHcmFwaFByb3h5LCBjcmVhdGV9IGZyb20gJy4vR3JhcGhQcm94eSc7XG5leHBvcnQge2RlZmF1bHQgYXMgR3JhcGhCYXNlLCBJR3JhcGhGYWN0b3J5fSBmcm9tICcuL0dyYXBoQmFzZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgTWVtb3J5R3JhcGh9IGZyb20gJy4vTWVtb3J5R3JhcGgnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFJlbW90ZVN0b3JlR3JhcGh9IGZyb20gJy4vUmVtb3RlU3RvcmFnZUdyYXBoJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBMb2NhbFN0b3JhZ2VHcmFwaH0gZnJvbSAnLi9Mb2NhbFN0b3JhZ2VHcmFwaCc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ3JhcGgvaW5kZXgudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7SUV2ZW50LCBJRXZlbnRMaXN0ZW5lcn0gZnJvbSAnLi4vZXZlbnQnO1xuaW1wb3J0IHtSYW5nZSwgUmFuZ2VMaWtlLCBwYXJzZX0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtTZWxlY3RPcGVyYXRpb24sIGRlZmF1bHRTZWxlY3Rpb25UeXBlLCBmaWxsV2l0aE5vbmUsIGFzU2VsZWN0T3BlcmF0aW9ufSBmcm9tICcuL0lJRFR5cGUnO1xuaW1wb3J0IEFTZWxlY3RBYmxlLCB7SVNlbGVjdEFibGV9IGZyb20gJy4vQVNlbGVjdEFibGUnO1xuaW1wb3J0IFByb2R1Y3RJRFR5cGUgZnJvbSAnLi9Qcm9kdWN0SURUeXBlJztcblxuZXhwb3J0IGludGVyZmFjZSBJUHJvZHVjdFNlbGVjdEFibGUgZXh0ZW5kcyBJU2VsZWN0QWJsZSB7XG4gIHByb2R1Y3R0eXBlOiBQcm9kdWN0SURUeXBlO1xuICBwcm9kdWN0U2VsZWN0aW9ucyh0eXBlPzogc3RyaW5nKTogUHJvbWlzZTxSYW5nZVtdPjtcblxuICBzZWxlY3RQcm9kdWN0KHJhbmdlOiBSYW5nZUxpa2VbXSwgb3A/OiBTZWxlY3RPcGVyYXRpb24pOiBQcm9taXNlPFJhbmdlW10+O1xuICBzZWxlY3RQcm9kdWN0KHR5cGU6IHN0cmluZywgcmFuZ2U6IFJhbmdlTGlrZVtdLCBvcD86IFNlbGVjdE9wZXJhdGlvbik6IFByb21pc2U8UmFuZ2VbXT47XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBUHJvZHVjdFNlbGVjdEFibGUgZXh0ZW5kcyBBU2VsZWN0QWJsZSB7XG4gIHByaXZhdGUgbnVtUHJvZHVjdFNlbGVjdExpc3RlbmVycyA9IDA7XG5cbiAgcHJpdmF0ZSBwcm9kdWN0U2VsZWN0aW9uTGlzdGVuZXIgPSAoZXZlbnQ6IElFdmVudCwgaW5kZXg6IG51bWJlciwgdHlwZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY2VsbHMgPSB0aGlzLnByb2R1Y3R0eXBlLnByb2R1Y3RTZWxlY3Rpb25zKHR5cGUpO1xuICAgIGlmIChjZWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZmlyZShQcm9kdWN0SURUeXBlLkVWRU5UX1NFTEVDVF9QUk9EVUNULCB0eXBlLCBbXSk7XG4gICAgICB0aGlzLmZpcmUoYCR7UHJvZHVjdElEVHlwZS5FVkVOVF9TRUxFQ1RfUFJPRFVDVH0tJHt0eXBlfWAsIFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlkcygpLnRoZW4oKGlkczogUmFuZ2UpID0+IHtcbiAgICAgIGNvbnN0IGFjdCA9IGNlbGxzLm1hcCgoYykgPT4gaWRzLmluZGV4T2YoYykpLmZpbHRlcigoYykgPT4gIWMuaXNOb25lKTtcbiAgICAgIGlmIChhY3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vZW5zdXJlIHRoZSByaWdodCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICAgICAgYWN0LmZvckVhY2goKGEpID0+IGZpbGxXaXRoTm9uZShhLCBpZHMubmRpbSkpO1xuXG4gICAgICB0aGlzLmZpcmUoUHJvZHVjdElEVHlwZS5FVkVOVF9TRUxFQ1RfUFJPRFVDVCwgdHlwZSwgYWN0KTtcbiAgICAgIHRoaXMuZmlyZShgJHtQcm9kdWN0SURUeXBlLkVWRU5UX1NFTEVDVF9QUk9EVUNUfS0ke3R5cGV9YCwgYWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFic3RyYWN0IGdldCBwcm9kdWN0dHlwZSgpOiBQcm9kdWN0SURUeXBlO1xuXG4gIG9uKGV2ZW50czogc3RyaW5nfHtba2V5OiBzdHJpbmddOiBJRXZlbnRMaXN0ZW5lcn0sIGhhbmRsZXI/OiBJRXZlbnRMaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgZXZlbnRzID09PSAnc3RyaW5nJyAmJiAoZXZlbnRzID09PSAnc2VsZWN0JyB8fCBldmVudHMgPT09ICdzZWxlY3RQcm9kdWN0JyB8fCBldmVudHMuc2xpY2UoMCwgJ3NlbGVjdC0nLmxlbmd0aCkgPT09ICdzZWxlY3QtJykpIHtcbiAgICAgIHRoaXMubnVtUHJvZHVjdFNlbGVjdExpc3RlbmVycysrO1xuICAgICAgaWYgKHRoaXMubnVtUHJvZHVjdFNlbGVjdExpc3RlbmVycyA9PT0gMSkge1xuICAgICAgICB0aGlzLnByb2R1Y3R0eXBlLm9uKCdzZWxlY3RQcm9kdWN0JywgdGhpcy5wcm9kdWN0U2VsZWN0aW9uTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXIub24oZXZlbnRzLCBoYW5kbGVyKTtcbiAgfVxuXG4gIG9mZihldmVudHM6IHN0cmluZ3x7W2tleTogc3RyaW5nXTogSUV2ZW50TGlzdGVuZXJ9LCBoYW5kbGVyPzogSUV2ZW50TGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGV2ZW50cyA9PT0gJ3N0cmluZycgJiYgKGV2ZW50cyA9PT0gJ3NlbGVjdCcgfHwgZXZlbnRzID09PSAnc2VsZWN0UHJvZHVjdCcgfHwgZXZlbnRzLnNsaWNlKDAsICdzZWxlY3QtJy5sZW5ndGgpID09PSAnc2VsZWN0LScpKSB7XG4gICAgICB0aGlzLm51bVByb2R1Y3RTZWxlY3RMaXN0ZW5lcnMtLTtcbiAgICAgIGlmICh0aGlzLm51bVByb2R1Y3RTZWxlY3RMaXN0ZW5lcnMgPT09IDApIHtcbiAgICAgICAgdGhpcy5wcm9kdWN0dHlwZS5vZmYoJ3NlbGVjdFByb2R1Y3QnLCB0aGlzLnByb2R1Y3RTZWxlY3Rpb25MaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5vZmYoZXZlbnRzLCBoYW5kbGVyKTtcbiAgfVxuXG4gIHByb2R1Y3RTZWxlY3Rpb25zKHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSk6IFByb21pc2U8UmFuZ2VbXT4ge1xuICAgIHJldHVybiB0aGlzLmlkcygpLnRoZW4oKGlkczogUmFuZ2UpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxzID0gdGhpcy5wcm9kdWN0dHlwZS5wcm9kdWN0U2VsZWN0aW9ucyh0eXBlKTtcbiAgICAgIGNvbnN0IGFjdCA9IGNlbGxzLm1hcCgoYykgPT4gaWRzLmluZGV4UmFuZ2VPZihjKSkuZmlsdGVyKChjKSA9PiAhYy5pc05vbmUpO1xuICAgICAgLy9lbnN1cmUgdGhlIHJpZ2h0IG51bWJlciBvZiBkaW1lbnNpb25zXG4gICAgICBhY3QuZm9yRWFjaCgoYSkgPT4gZmlsbFdpdGhOb25lKGEsIGlkcy5uZGltKSk7XG4gICAgICByZXR1cm4gYWN0O1xuICAgIH0pO1xuICB9XG5cbiAgc2VsZWN0UHJvZHVjdChyYW5nZTogUmFuZ2VMaWtlW10sIG9wPzogU2VsZWN0T3BlcmF0aW9uKTogUHJvbWlzZTxSYW5nZVtdPjtcbiAgc2VsZWN0UHJvZHVjdCh0eXBlOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2VbXSwgb3A/OiBTZWxlY3RPcGVyYXRpb24pOiBQcm9taXNlPFJhbmdlW10+O1xuICBzZWxlY3RQcm9kdWN0KCkge1xuICAgIGNvbnN0IGEgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgY29uc3QgdHlwZSA9ICh0eXBlb2YgYVswXSA9PT0gJ3N0cmluZycpID8gYS5zaGlmdCgpIDogZGVmYXVsdFNlbGVjdGlvblR5cGUsXG4gICAgICByYW5nZSA9IGFbMF0ubWFwKHBhcnNlKSxcbiAgICAgIG9wID0gYXNTZWxlY3RPcGVyYXRpb24oYVsxXSk7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0UHJvZHVjdEltcGwocmFuZ2UsIG9wLCB0eXBlKTtcbiAgfVxuXG4gIHByaXZhdGUgc2VsZWN0UHJvZHVjdEltcGwoY2VsbHM6IFJhbmdlW10sIG9wID0gU2VsZWN0T3BlcmF0aW9uLlNFVCwgdHlwZTogc3RyaW5nID0gZGVmYXVsdFNlbGVjdGlvblR5cGUpOiBQcm9taXNlPFJhbmdlW10+IHtcbiAgICByZXR1cm4gdGhpcy5pZHMoKS50aGVuKChpZHM6IFJhbmdlKSA9PiB7XG4gICAgICBjZWxscyA9IGNlbGxzLm1hcCgoYykgPT4gaWRzLnByZU11bHRpcGx5KGMpKTtcbiAgICAgIHJldHVybiB0aGlzLnByb2R1Y3R0eXBlLnNlbGVjdCh0eXBlLCBjZWxscywgb3ApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIGNsZWFyIHRoZSBzcGVjaWZpYyBzZWxlY3Rpb24gKHR5cGUpIGFuZCBkaW1lbnNpb25cbiAgICovXG4gIGNsZWFyKCk6IFByb21pc2U8UmFuZ2VbXT47XG4gIGNsZWFyKHR5cGU6IHN0cmluZyk6IFByb21pc2U8UmFuZ2VbXT47XG4gIGNsZWFyKGRpbTogbnVtYmVyKTogUHJvbWlzZTxSYW5nZVtdPjtcbiAgY2xlYXIoZGltOiBudW1iZXIsIHR5cGU6IHN0cmluZyk6IFByb21pc2U8UmFuZ2VbXT47XG4gIGNsZWFyKCkge1xuICAgIGNvbnN0IGEgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgaWYgKHR5cGVvZiBhWzBdID09PSAnbnVtYmVyJykge1xuICAgICAgYS5zaGlmdCgpO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gKHR5cGVvZiBhWzBdID09PSAnc3RyaW5nJykgPyBhWzBdIDogZGVmYXVsdFNlbGVjdGlvblR5cGU7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0UHJvZHVjdEltcGwoW10sIFNlbGVjdE9wZXJhdGlvbi5TRVQsIHR5cGUgfHwgZGVmYXVsdFNlbGVjdGlvblR5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFQcm9kdWN0U2VsZWN0QWJsZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pZHR5cGUvQVByb2R1Y3RTZWxlY3RBYmxlLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge0V2ZW50SGFuZGxlciwgSUV2ZW50SGFuZGxlciwgSUV2ZW50TGlzdGVuZXJ9IGZyb20gJy4uL2V2ZW50JztcbmltcG9ydCB7bm9uZSwgYWxsLCBSYW5nZSwgam9pbiwgUmFuZ2VMaWtlLCBwYXJzZX0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtTZWxlY3RPcGVyYXRpb24sIGRlZmF1bHRTZWxlY3Rpb25UeXBlLCBmaWxsV2l0aE5vbmUsIGFzU2VsZWN0T3BlcmF0aW9ufSBmcm9tICcuL0lJRFR5cGUnO1xuaW1wb3J0IElEVHlwZSBmcm9tICcuL0lEVHlwZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNlbGVjdEFibGUgZXh0ZW5kcyBJRXZlbnRIYW5kbGVyIHtcbiAgaWRzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxSYW5nZT47XG5cbiAgZnJvbUlkUmFuZ2UoaWRSYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8UmFuZ2U+O1xuXG4gIHJlYWRvbmx5IGlkdHlwZXM6IElEVHlwZVtdO1xuXG4gIHNlbGVjdGlvbnModHlwZT86IHN0cmluZyk6IFByb21pc2U8UmFuZ2U+O1xuXG4gIHNlbGVjdChyYW5nZTogUmFuZ2VMaWtlKTogUHJvbWlzZTxSYW5nZT47XG4gIHNlbGVjdChyYW5nZTogUmFuZ2VMaWtlLCBvcDogU2VsZWN0T3BlcmF0aW9uKTogUHJvbWlzZTxSYW5nZT47XG4gIHNlbGVjdCh0eXBlOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2UpOiBQcm9taXNlPFJhbmdlPjtcbiAgc2VsZWN0KHR5cGU6IHN0cmluZywgcmFuZ2U6IFJhbmdlTGlrZSwgb3A6IFNlbGVjdE9wZXJhdGlvbik6IFByb21pc2U8UmFuZ2U+O1xuICBzZWxlY3QoZGltOiBudW1iZXIsIHJhbmdlOiBSYW5nZUxpa2UpOiBQcm9taXNlPFJhbmdlPjtcbiAgc2VsZWN0KGRpbTogbnVtYmVyLCByYW5nZTogUmFuZ2VMaWtlLCBvcDogU2VsZWN0T3BlcmF0aW9uKTogUHJvbWlzZTxSYW5nZT47XG4gIHNlbGVjdChkaW06IG51bWJlciwgdHlwZTogc3RyaW5nLCByYW5nZTogUmFuZ2VMaWtlKTogUHJvbWlzZTxSYW5nZT47XG4gIHNlbGVjdChkaW06IG51bWJlciwgdHlwZTogc3RyaW5nLCByYW5nZTogUmFuZ2VMaWtlLCBvcDogU2VsZWN0T3BlcmF0aW9uKTogUHJvbWlzZTxSYW5nZT47XG5cbiAgLyoqXG4gICAqIGNsZWFyIHRoZSBzcGVjaWZpYyBzZWxlY3Rpb24gKHR5cGUpIGFuZCBkaW1lbnNpb25cbiAgICovXG4gIGNsZWFyKCk6IFByb21pc2U8YW55PjtcbiAgY2xlYXIodHlwZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+O1xuICBjbGVhcihkaW06IG51bWJlcik6IFByb21pc2U8YW55PjtcbiAgY2xlYXIoZGltOiBudW1iZXIsIHR5cGU6IHN0cmluZyk6IFByb21pc2U8YW55Pjtcbn1cblxuaW50ZXJmYWNlIElTaW5nbGVTZWxlY3Rpb25MaXN0ZW5lciB7XG4gIChldmVudDogYW55LCB0eXBlOiBzdHJpbmcsIGFjdDogUmFuZ2UsIGFkZGVkOiBSYW5nZSwgcmVtb3ZlZDogUmFuZ2UpOiB2b2lkO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQVNlbGVjdEFibGUgZXh0ZW5kcyBFdmVudEhhbmRsZXIgaW1wbGVtZW50cyBJU2VsZWN0QWJsZSB7XG4gIHN0YXRpYyByZWFkb25seSBFVkVOVF9TRUxFQ1QgPSBJRFR5cGUuRVZFTlRfU0VMRUNUO1xuXG4gIHByaXZhdGUgbnVtU2VsZWN0TGlzdGVuZXJzID0gMDtcbiAgcHJpdmF0ZSBzZWxlY3Rpb25MaXN0ZW5lcnM6IElTaW5nbGVTZWxlY3Rpb25MaXN0ZW5lcltdID0gW107XG4gIHByaXZhdGUgc2luZ2xlU2VsZWN0aW9uTGlzdGVuZXIgPSBhc3luYyAoZXZlbnQ6IGFueSwgdHlwZTogc3RyaW5nLCBhY3Q6IFJhbmdlLCBhZGRlZDogUmFuZ2UsIHJlbW92ZWQ6IFJhbmdlKSA9PiB7XG4gICAgY29uc3QgaWRzID0gYXdhaXQgdGhpcy5pZHMoKTtcbiAgICAvL2ZpbHRlciB0byB0aGUgcmlnaHQgaWRzIGFuZCBjb252ZXJ0IHRvIGluZGljZXMgZm9ybWF0XG4gICAgLy9naXZlbiBhbGwgaWRzIGNvbnZlcnQgdGhlIHNlbGVjdGVkIGlkcyB0byB0aGUgaW5kaWNlcyBpbiB0aGUgZGF0YSB0eXBlXG4gICAgYWN0ID0gaWRzLmluZGV4T2YoYWN0KTtcbiAgICBhZGRlZCA9IGlkcy5pbmRleE9mKGFkZGVkKTtcbiAgICByZW1vdmVkID0gaWRzLmluZGV4T2YocmVtb3ZlZCk7XG4gICAgaWYgKGFjdC5pc05vbmUgJiYgYWRkZWQuaXNOb25lICYmIHJlbW92ZWQuaXNOb25lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vZW5zdXJlIHRoZSByaWdodCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICAgIGZpbGxXaXRoTm9uZShhY3QsIGlkcy5uZGltKTtcbiAgICBmaWxsV2l0aE5vbmUoYWRkZWQsIGlkcy5uZGltKTtcbiAgICBmaWxsV2l0aE5vbmUocmVtb3ZlZCwgaWRzLm5kaW0pO1xuXG4gICAgdGhpcy5maXJlKEFTZWxlY3RBYmxlLkVWRU5UX1NFTEVDVCwgdHlwZSwgYWN0LCBhZGRlZCwgcmVtb3ZlZCk7XG4gICAgdGhpcy5maXJlKGAke0FTZWxlY3RBYmxlLkVWRU5UX1NFTEVDVH0tJHt0eXBlfWAsIGFjdCwgYWRkZWQsIHJlbW92ZWQpO1xuICB9XG4gIHByaXZhdGUgc2VsZWN0aW9uQ2FjaGU6IHthY3Q6IFJhbmdlLCBhZGRlZDogUmFuZ2UsIHJlbW92ZWQ6IFJhbmdlfVtdID0gW107XG4gIHByaXZhdGUgYWNjdW11bGF0ZUV2ZW50cyA9IC0xO1xuXG4gIGFic3RyYWN0IGlkcyhyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8UmFuZ2U+O1xuXG4gIGFzeW5jIGZyb21JZFJhbmdlKGlkUmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLmlkcygpKS5pbmRleE9mKHBhcnNlKGlkUmFuZ2UpKTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCk6IElEVHlwZVtdIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBwcml2YXRlIHNlbGVjdGlvbkxpc3RlbmVyKGlkdHlwZTogSURUeXBlLCBpbmRleDogbnVtYmVyLCB0b3RhbDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIChldmVudDogYW55LCB0eXBlOiBzdHJpbmcsIGFjdDogUmFuZ2UsIGFkZGVkOiBSYW5nZSwgcmVtb3ZlZDogUmFuZ2UpID0+IHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uQ2FjaGVbaW5kZXhdID0ge2FjdCwgYWRkZWQsIHJlbW92ZWR9O1xuICAgICAgaWYgKHRoaXMuYWNjdW11bGF0ZUV2ZW50cyA8IDAgfHwgKCsrdGhpcy5hY2N1bXVsYXRlRXZlbnRzKSA9PT0gdG90YWwpIHtcbiAgICAgICAgdGhpcy5maWxsQW5kU2VuZCh0eXBlLCBpbmRleCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZmlsbEFuZFNlbmQodHlwZTogc3RyaW5nLCB0cmlnZ2VyOiBudW1iZXIpIHtcbiAgICBjb25zdCBpZHMgPSB0aGlzLmlkdHlwZXM7XG4gICAgY29uc3QgZnVsbCA9IGlkcy5tYXAoKGlkLCBpKSA9PiB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuc2VsZWN0aW9uQ2FjaGVbaV07XG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0OiBpZC5zZWxlY3Rpb25zKHR5cGUpLFxuICAgICAgICBhZGRlZDogbm9uZSgpLFxuICAgICAgICByZW1vdmVkOiBub25lKClcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY3QgPSBqb2luKGZ1bGwubWFwKChlbnRyeSkgPT4gZW50cnkuYWN0KSk7XG4gICAgY29uc3QgYWRkZWQgPSBqb2luKGZ1bGwubWFwKChlbnRyeSkgPT4gZW50cnkuYWRkZWQpKTtcbiAgICBjb25zdCByZW1vdmVkID0gam9pbihmdWxsLm1hcCgoZW50cnkpID0+IGVudHJ5LnJlbW92ZWQpKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uQ2FjaGUgPSBbXTtcbiAgICB0aGlzLmFjY3VtdWxhdGVFdmVudHMgPSAtMTsgLy9yZXNldFxuICAgIHRoaXMuc2luZ2xlU2VsZWN0aW9uTGlzdGVuZXIobnVsbCwgdHlwZSwgYWN0LCBhZGRlZCwgcmVtb3ZlZCk7XG4gIH1cblxuICBvbihldmVudHM6IHN0cmluZ3x7W2tleTogc3RyaW5nXTogSUV2ZW50TGlzdGVuZXJ9LCBoYW5kbGVyPzogSUV2ZW50TGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGV2ZW50cyA9PT0gJ3N0cmluZycgJiYgKGV2ZW50cyA9PT0gQVNlbGVjdEFibGUuRVZFTlRfU0VMRUNUIHx8IGV2ZW50cy5zbGljZSgwLCAnc2VsZWN0LScubGVuZ3RoKSA9PT0gJ3NlbGVjdC0nKSkge1xuICAgICAgdGhpcy5udW1TZWxlY3RMaXN0ZW5lcnMrKztcbiAgICAgIGlmICh0aGlzLm51bVNlbGVjdExpc3RlbmVycyA9PT0gMSkge1xuICAgICAgICBjb25zdCBpZHQgPSB0aGlzLmlkdHlwZXM7XG4gICAgICAgIGlmIChpZHQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb25MaXN0ZW5lcnMucHVzaCh0aGlzLnNpbmdsZVNlbGVjdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgICBpZHRbMF0ub24oQVNlbGVjdEFibGUuRVZFTlRfU0VMRUNULCB0aGlzLnNpbmdsZVNlbGVjdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZHQuZm9yRWFjaCgoaWR0eXBlLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5zZWxlY3Rpb25MaXN0ZW5lcihpZHR5cGUsIGksIGlkdC5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25MaXN0ZW5lcnMucHVzaChzKTtcbiAgICAgICAgICAgIGlkdHlwZS5vbihBU2VsZWN0QWJsZS5FVkVOVF9TRUxFQ1QsIHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5vbihldmVudHMsIGhhbmRsZXIpO1xuICB9XG5cbiAgb2ZmKGV2ZW50czogc3RyaW5nfHtba2V5OiBzdHJpbmddOiBJRXZlbnRMaXN0ZW5lcn0sIGhhbmRsZXI/OiBJRXZlbnRMaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgZXZlbnRzID09PSAnc3RyaW5nJyAmJiAoZXZlbnRzID09PSBBU2VsZWN0QWJsZS5FVkVOVF9TRUxFQ1QgfHwgZXZlbnRzLnNsaWNlKDAsICdzZWxlY3QtJy5sZW5ndGgpID09PSAnc2VsZWN0LScpKSB7XG4gICAgICB0aGlzLm51bVNlbGVjdExpc3RlbmVycy0tO1xuICAgICAgaWYgKHRoaXMubnVtU2VsZWN0TGlzdGVuZXJzID09PSAwKSB7XG4gICAgICAgIHRoaXMuaWR0eXBlcy5mb3JFYWNoKChpZHR5cGUsIGkpID0+IGlkdHlwZS5vZmYoQVNlbGVjdEFibGUuRVZFTlRfU0VMRUNULCB0aGlzLnNlbGVjdGlvbkxpc3RlbmVyc1tpXSkpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkxpc3RlbmVycyA9IFtdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXIub2ZmKGV2ZW50cywgaGFuZGxlcik7XG4gIH1cblxuICBhc3luYyBzZWxlY3Rpb25zKHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSkge1xuICAgIGNvbnN0IGlkcyA9IGF3YWl0IHRoaXMuaWRzKCk7XG4gICAgY29uc3QgciA9IGpvaW4odGhpcy5pZHR5cGVzLm1hcCgoaWR0eXBlKSA9PiBpZHR5cGUuc2VsZWN0aW9ucyh0eXBlKSkpO1xuICAgIHJldHVybiBpZHMuaW5kZXhSYW5nZU9mKHIpO1xuICB9XG5cbiAgc2VsZWN0KHJhbmdlOiBSYW5nZUxpa2UpOiBQcm9taXNlPFJhbmdlPjtcbiAgc2VsZWN0KHJhbmdlOiBSYW5nZUxpa2UsIG9wOiBTZWxlY3RPcGVyYXRpb24pOiBQcm9taXNlPFJhbmdlPjtcbiAgc2VsZWN0KHR5cGU6IHN0cmluZywgcmFuZ2U6IFJhbmdlTGlrZSk6IFByb21pc2U8UmFuZ2U+O1xuICBzZWxlY3QodHlwZTogc3RyaW5nLCByYW5nZTogUmFuZ2VMaWtlLCBvcDogU2VsZWN0T3BlcmF0aW9uKTogUHJvbWlzZTxSYW5nZT47XG4gIHNlbGVjdChkaW06IG51bWJlciwgcmFuZ2U6IFJhbmdlTGlrZSk6IFByb21pc2U8UmFuZ2U+O1xuICBzZWxlY3QoZGltOiBudW1iZXIsIHJhbmdlOiBSYW5nZUxpa2UsIG9wOiBTZWxlY3RPcGVyYXRpb24pOiBQcm9taXNlPFJhbmdlPjtcbiAgc2VsZWN0KGRpbTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2UpOiBQcm9taXNlPFJhbmdlPjtcbiAgc2VsZWN0KGRpbTogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2UsIG9wOiBTZWxlY3RPcGVyYXRpb24pOiBQcm9taXNlPFJhbmdlPjtcbiAgc2VsZWN0KCkge1xuICAgIGNvbnN0IGEgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgY29uc3QgZGltID0gKHR5cGVvZiBhWzBdID09PSAnbnVtYmVyJykgPyArYS5zaGlmdCgpIDogLTEsXG4gICAgICB0eXBlID0gKHR5cGVvZiBhWzBdID09PSAnc3RyaW5nJykgPyBhLnNoaWZ0KCkgOiBkZWZhdWx0U2VsZWN0aW9uVHlwZSxcbiAgICAgIHJhbmdlID0gcGFyc2UoYVswXSksXG4gICAgICBvcCA9IGFzU2VsZWN0T3BlcmF0aW9uKGFbMV0pO1xuICAgIHJldHVybiB0aGlzLnNlbGVjdEltcGwocmFuZ2UsIG9wLCB0eXBlLCBkaW0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZWxlY3RJbXBsKHJhbmdlOiBSYW5nZSwgb3AgPSBTZWxlY3RPcGVyYXRpb24uU0VULCB0eXBlOiBzdHJpbmcgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSwgZGltID0gLTEpOiBQcm9taXNlPFJhbmdlPiB7XG4gICAgY29uc3QgdHlwZXMgPSB0aGlzLmlkdHlwZXM7XG4gICAgbGV0IGlkcyA9IGF3YWl0IHRoaXMuaWRzKCk7XG5cbiAgICBpZiAoZGltID09PSAtMSkge1xuICAgICAgcmFuZ2UgPSBpZHMucHJlTXVsdGlwbHkocmFuZ2UpO1xuICAgICAgdGhpcy5hY2N1bXVsYXRlRXZlbnRzID0gMDtcbiAgICAgIGNvbnN0IHIgPSBqb2luKHJhbmdlLnNwbGl0KCkubWFwKChyLCBpKSA9PiB0eXBlc1tpXS5zZWxlY3QodHlwZSwgciwgb3ApKSk7XG4gICAgICBpZiAodGhpcy5hY2N1bXVsYXRlRXZlbnRzID4gMCkgeyAvL29uZSBldmVudCBoYXMgbm90IGJlZW4gZmlyZXMsIHNvIGRvIGl0IG1hbnVhbGx5XG4gICAgICAgIHRoaXMuZmlsbEFuZFNlbmQodHlwZSwgLTEpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHIubmRpbSA8IHR5cGVzLmxlbmd0aCkge1xuICAgICAgICByLmRpbShyLm5kaW0pOyAvL2NyZWF0ZSBpbnRlcm1lZGlhdGUgb25lc1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlkcy5pbmRleFJhbmdlT2Yocik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vanVzdCBhIHNpbmdsZSBkaW1lbnNpb25cbiAgICAgIGlkcyA9IGlkcy5zcGxpdCgpW2RpbV07XG4gICAgICByYW5nZSA9IGlkcy5wcmVNdWx0aXBseShyYW5nZSk7XG4gICAgICB0eXBlc1tkaW1dLnNlbGVjdCh0eXBlLCByYW5nZSwgb3ApO1xuICAgICAgcmV0dXJuIGlkcy5pbmRleFJhbmdlT2YocmFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBjbGVhciB0aGUgc3BlY2lmaWMgc2VsZWN0aW9uICh0eXBlKSBhbmQgZGltZW5zaW9uXG4gICAqL1xuICBjbGVhcigpOiBQcm9taXNlPGFueT47XG4gIGNsZWFyKHR5cGU6IHN0cmluZyk6IFByb21pc2U8YW55PjtcbiAgY2xlYXIoZGltOiBudW1iZXIpOiBQcm9taXNlPGFueT47XG4gIGNsZWFyKGRpbTogbnVtYmVyLCB0eXBlOiBzdHJpbmcpOiBQcm9taXNlPGFueT47XG4gIGNsZWFyKCkge1xuICAgIGNvbnN0IGEgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgY29uc3QgZGltID0gKHR5cGVvZiBhWzBdID09PSAnbnVtYmVyJykgPyArYS5zaGlmdCgpIDogLTE7XG4gICAgY29uc3QgdHlwZSA9ICh0eXBlb2YgYVswXSA9PT0gJ3N0cmluZycpID8gYVswXSA6IGRlZmF1bHRTZWxlY3Rpb25UeXBlO1xuICAgIHJldHVybiB0aGlzLnNlbGVjdEltcGwobm9uZSgpLCBTZWxlY3RPcGVyYXRpb24uU0VULCB0eXBlLCBkaW0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFTZWxlY3RBYmxlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2lkdHlwZS9BU2VsZWN0QWJsZS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMjYuMTIuMjAxNi5cbiAqL1xuXG5cbmltcG9ydCB7Z2V0QVBJSlNPTn0gZnJvbSAnLi4vYWpheCc7XG5pbXBvcnQge2ZpcmUgYXMgZ2xvYmFsX2ZpcmV9IGZyb20gJy4uL2V2ZW50JztcbmltcG9ydCB7ZGVmYXVsdFNlbGVjdGlvblR5cGUsIElJRFR5cGV9IGZyb20gJy4vSUlEVHlwZSc7XG5pbXBvcnQgSURUeXBlIGZyb20gJy4vSURUeXBlJztcbmltcG9ydCBQcm9kdWN0SURUeXBlIGZyb20gJy4vUHJvZHVjdElEVHlwZSc7XG5pbXBvcnQge2xpc3QgYXMgbGlzdFBsdWdpbn0gZnJvbSAnLi4vcGx1Z2luJztcblxuY29uc3QgY2FjaGUgPSBuZXcgTWFwPHN0cmluZywgSURUeXBlfFByb2R1Y3RJRFR5cGU+KCk7XG5sZXQgZmlsbGVkVXAgPSBmYWxzZTtcblxuXG5leHBvcnQgY29uc3QgRVZFTlRfUkVHSVNURVJfSURUWVBFID0gJ3JlZ2lzdGVyLmlkdHlwZSc7XG5cbmZ1bmN0aW9uIGZpbGxVcERhdGEoZW50cmllczogSUlEVHlwZVtdKSB7XG4gIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgbGV0IGVudHJ5ID0gY2FjaGUuZ2V0KHJvdy5pZCk7XG4gICAgbGV0IG5ld09uZSA9IGZhbHNlO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgSURUeXBlKSB7XG4gICAgICAgICg8YW55PmVudHJ5KS5uYW1lID0gcm93Lm5hbWU7XG4gICAgICAgICg8YW55PmVudHJ5KS5uYW1lcyA9IHJvdy5uYW1lcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnkgPSBuZXcgSURUeXBlKHJvdy5pZCwgcm93Lm5hbWUsIHJvdy5uYW1lcyk7XG4gICAgICBuZXdPbmUgPSB0cnVlO1xuICAgIH1cbiAgICBjYWNoZS5zZXQocm93LmlkLCBlbnRyeSk7XG4gICAgaWYgKG5ld09uZSkge1xuICAgICAgZ2xvYmFsX2ZpcmUoRVZFTlRfUkVHSVNURVJfSURUWVBFLCBlbnRyeSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG5mdW5jdGlvbiB0b1BsdXJhbChuYW1lOiBzdHJpbmcpIHtcbiAgaWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJ3knKSB7XG4gICAgcmV0dXJuIG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSAxKSArICdpZXMnO1xuICB9XG4gIHJldHVybiBuYW1lICsgJ3MnO1xufVxuXG5leHBvcnQgZGVjbGFyZSB0eXBlIElEVHlwZUxpa2UgPSBzdHJpbmd8SURUeXBlO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZShpZDogSURUeXBlTGlrZSk6IElEVHlwZSB7XG4gIGlmIChpZCBpbnN0YW5jZW9mIElEVHlwZSkge1xuICAgIHJldHVybiBpZDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzaWQgPSA8c3RyaW5nPmlkO1xuICAgIHJldHVybiA8SURUeXBlPnJlZ2lzdGVyKHNpZCwgbmV3IElEVHlwZShzaWQsIHNpZCwgdG9QbHVyYWwoc2lkKSkpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVByb2R1Y3QoLi4uaWR0eXBlczogSURUeXBlW10pOiBQcm9kdWN0SURUeXBlIHtcbiAgY29uc3QgcCA9IG5ldyBQcm9kdWN0SURUeXBlKGlkdHlwZXMpO1xuICByZXR1cm4gPFByb2R1Y3RJRFR5cGU+cmVnaXN0ZXIocC5pZCwgcCk7XG59XG5cbi8qKlxuICogbGlzdCBjdXJyZW50bHkgcmVzb2x2ZWQgaWR0eXBlc1xuICogQHJldHVybnMge0FycmF5PElEVHlwZXxQcm9kdWN0SURUeXBlPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3QoKTogSUlEVHlwZVtdIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oY2FjaGUudmFsdWVzKCkpO1xufVxuXG5cbi8qKlxuICogR2V0IGEgbGlzdCBvZiBhbGwgSUlEVHlwZXMgYXZhaWxhYmxlIG9uIGJvdGggdGhlIHNlcnZlciBhbmQgdGhlIGNsaWVudC5cbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0QWxsKCk6IFByb21pc2U8SUlEVHlwZVtdPiB7XG4gIGlmIChmaWxsZWRVcCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlzdCgpKTtcbiAgfVxuICBjb25zdCBjID0gYXdhaXQgPFByb21pc2U8SUlEVHlwZVtdPj5nZXRBUElKU09OKCcvaWR0eXBlLycsIHt9LCBbXSk7XG4gIGZpbGxlZFVwID0gdHJ1ZTtcbiAgZmlsbFVwRGF0YShjKTtcbiAgcmV0dXJuIGxpc3QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKGlkOiBzdHJpbmcsIGlkdHlwZTogSURUeXBlfFByb2R1Y3RJRFR5cGUpOiBJRFR5cGV8UHJvZHVjdElEVHlwZSB7XG4gIGlmIChjYWNoZS5oYXMoaWQpKSB7XG4gICAgcmV0dXJuIGNhY2hlLmdldChpZCk7XG4gIH1cbiAgY2FjaGUuc2V0KGlkLCBpZHR5cGUpO1xuICBnbG9iYWxfZmlyZSgncmVnaXN0ZXIuaWR0eXBlJywgaWR0eXBlKTtcbiAgcmV0dXJuIGlkdHlwZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNpc3QoKSB7XG4gIGNvbnN0IHI6IGFueSA9IHt9O1xuXG4gIGNhY2hlLmZvckVhY2goKHYsIGlkKSA9PiB7XG4gICAgcltpZF0gPSB2LnBlcnNpc3QoKTtcbiAgfSk7XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICBPYmplY3Qua2V5cyhwZXJzaXN0ZWQpLmZvckVhY2goKGlkKSA9PiB7XG4gICAgcmVzb2x2ZShpZCkucmVzdG9yZShwZXJzaXN0ZWRbaWRdKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbih0eXBlID0gZGVmYXVsdFNlbGVjdGlvblR5cGUpIHtcbiAgY2FjaGUuZm9yRWFjaCgodikgPT4gdi5jbGVhcih0eXBlKSk7XG59XG5cblxuLyoqXG4gKiB3aGV0aGVyIHRoZSBnaXZlbiBpZHR5cGUgaXMgYW4gaW50ZXJuYWwgb25lIG9yIG5vdCwgaS5lLiB0aGUgaW50ZXJuYWwgZmxhZyBpcyBzZXQgb3IgaXQgc3RhcnRzIHdpdGggYW4gdW5kZXJzY29yZVxuICogQHBhcmFtIGlkdHlwZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJuYWxJRFR5cGUoaWR0eXBlOiBJSURUeXBlKSB7XG4gIHJldHVybiBpZHR5cGUuaW50ZXJuYWwgfHwgaWR0eXBlLmlkLnN0YXJ0c1dpdGgoJ18nKTtcbn1cblxuXG57XG4gIGNvbnN0IEVYVEVOU0lPTl9QT0lOVF9JRFRZUEUgPSAnaWRUeXBlJztcbiAgLy9yZWdpc3RlciBrbm93biBpZHR5cGVzIHZpYSByZWdpc3RyeVxuICBsaXN0UGx1Z2luKEVYVEVOU0lPTl9QT0lOVF9JRFRZUEUpLmZvckVhY2goKHBsdWdpbikgPT4ge1xuICAgIGNvbnN0IGlkID0gcGx1Z2luLmlkO1xuICAgIGNvbnN0IG5hbWUgPSBwbHVnaW4ubmFtZTtcbiAgICBjb25zdCBuYW1lcyA9IHBsdWdpbi5uYW1lcyB8fCB0b1BsdXJhbChuYW1lKTtcbiAgICBjb25zdCBpbnRlcm5hbCA9IEJvb2xlYW4ocGx1Z2luLmludGVybmFsKTtcbiAgICByZWdpc3RlcihpZCwgbmV3IElEVHlwZShpZCwgbmFtZSwgbmFtZXMsIGludGVybmFsKSk7XG4gIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2lkdHlwZS9tYW5hZ2VyLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQgUHJvcGVydHlIYW5kbGVyIGZyb20gJy4vUHJvcGVydHlIYW5kbGVyJztcbi8qKlxuICogbWFuYWdlcyB0aGUgaGFzaCBsb2NhdGlvbiBwcm9wZXJ0eSBoZWxwZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFzaFByb3BlcnRpZXMgZXh0ZW5kcyBQcm9wZXJ0eUhhbmRsZXIge1xuICBzdGF0aWMgcmVhZG9ubHkgRVZFTlRfU1RBVEVfUFVTSEVEID0gJ3B1c2hlZFN0YXRlJztcbiAgc3RhdGljIHJlYWRvbmx5IEVWRU5UX0hBU0hfQ0hBTkdFRCA9ICdoYXNoQ2hhbmdlZCc7XG5cbiAgcHJpdmF0ZSB1cGRhdGVkID0gKCkgPT4ge1xuICAgIHRoaXMucGFyc2UobG9jYXRpb24uaGFzaCk7XG4gICAgdGhpcy5maXJlKEhhc2hQcm9wZXJ0aWVzLkVWRU5UX0hBU0hfQ0hBTkdFRCk7XG4gIH1cblxuICBwcml2YXRlIGRlYm91bmNlVGltZXIgPSAtMTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IGJhayA9IGhpc3Rvcnkuc3RhdGU7XG4gICAgaWYgKGJhaykge1xuICAgICAgT2JqZWN0LmtleXMoYmFrKS5mb3JFYWNoKChrKSA9PiB0aGlzLm1hcC5zZXQoaywgYmFrW2tdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFyc2UobG9jYXRpb24uaGFzaCk7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy51cGRhdGVkLCBmYWxzZSk7XG4gIH1cblxuICBzZXRJbnQobmFtZTogc3RyaW5nLCB2YWx1ZTogbnVtYmVyLCB1cGRhdGU6IGJvb2xlYW58bnVtYmVyID0gdHJ1ZSkge1xuICAgIHRoaXMuc2V0UHJvcChuYW1lLCBTdHJpbmcodmFsdWUpLCB1cGRhdGUpO1xuICB9XG5cbiAgc2V0UHJvcChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHVwZGF0ZTogYm9vbGVhbnxudW1iZXIgPSB0cnVlKSB7XG4gICAgaWYgKHRoaXMubWFwLmdldChuYW1lKSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5tYXAuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICBpZiAodXBkYXRlICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy51cGRhdGUodHlwZW9mIHVwZGF0ZSA9PT0gJ251bWJlcicgPyB1cGRhdGUgOiAwKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVQcm9wKG5hbWU6IHN0cmluZywgdXBkYXRlOiBib29sZWFufG51bWJlciA9IHRydWUpIHtcbiAgICBpZiAodGhpcy5tYXAuaGFzKG5hbWUpKSB7XG4gICAgICB0aGlzLm1hcC5kZWxldGUobmFtZSk7XG4gICAgICBpZiAodXBkYXRlICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZSh0eXBlb2YgdXBkYXRlID09PSAnbnVtYmVyJyA/IHVwZGF0ZSA6IDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgdG9PYmplY3QoKSB7XG4gICAgY29uc3QgcjogYW55ID0ge307XG4gICAgdGhpcy5tYXAuZm9yRWFjaCgodiwgaykgPT4gcltrXSA9IHYpO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGUodXBkYXRlSW5NczogbnVtYmVyID0gMCkge1xuICAgIGlmICh1cGRhdGVJbk1zIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUltcGwoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZWJvdW5jZVRpbWVyID49IDApIHtcbiAgICAgIHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XG4gICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSAtMTtcbiAgICB9XG4gICAgdGhpcy5kZWJvdW5jZVRpbWVyID0gc2VsZi5zZXRUaW1lb3V0KCgpID0+IHRoaXMudXBkYXRlSW1wbCgpLCB1cGRhdGVJbk1zKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlSW1wbCgpIHtcbiAgICBpZiAodGhpcy5kZWJvdW5jZVRpbWVyID49IDApIHtcbiAgICAgIHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XG4gICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSAtMTtcbiAgICB9XG4gICAgLy8gY2hlY2sgaWYgc2FtZSBzdGF0ZVxuICAgIGlmIChoaXN0b3J5LnN0YXRlKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gaGlzdG9yeS5zdGF0ZTtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjdXJyZW50KTtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gdGhpcy5tYXAuc2l6ZSAmJiBrZXlzLmV2ZXJ5KChrKSA9PiB0aGlzLm1hcC5nZXQoaykgPT09IGN1cnJlbnRba10pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLnVwZGF0ZWQsIGZhbHNlKTtcbiAgICBoaXN0b3J5LnB1c2hTdGF0ZSh0aGlzLnRvT2JqZWN0KCksICdTdGF0ZSAnICsgRGF0ZS5ub3coKSwgJyMnICsgdGhpcy50b1N0cmluZygpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMudXBkYXRlZCwgZmFsc2UpO1xuICAgIHRoaXMuZmlyZShIYXNoUHJvcGVydGllcy5FVkVOVF9TVEFURV9QVVNIRUQsICdTdGF0ZSAnICsgRGF0ZS5ub3coKSwgJyMnICsgdGhpcy50b1N0cmluZygpKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2ludGVybmFsL0hhc2hQcm9wZXJ0aWVzLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5cbi8qKlxuICogdW5pcXVlIGlkIGNvbnRhaW5lclxuICogQHR5cGUge3t9fVxuICovXG5jb25zdCBpZENvdW50ZXIgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuLyoqXG4gKiByZXR1cm5zIGEgdW5pcXVlIGlkIGZvciB0aGUgZ2l2ZW4gZG9tYWluXG4gKiBAcGFyYW0gZG9tYWluXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmlxdWVJZChkb21haW46IHN0cmluZyA9ICdfZGVmYXVsdCcpIHtcbiAgaWYgKCFpZENvdW50ZXIuaGFzKGRvbWFpbikpIHtcbiAgICBpZENvdW50ZXIuc2V0KGRvbWFpbiwgMCk7XG4gIH1cbiAgY29uc3QgdiA9IGlkQ291bnRlci5nZXQoZG9tYWluKTtcbiAgaWRDb3VudGVyLnNldChkb21haW4sIHYgKyAxKTtcbiAgcmV0dXJuIHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGFnSWQoZG9tYWluOiBzdHJpbmcsIGlkOiBudW1iZXIpIHtcbiAgaWYgKGlzTmFOKGlkKSB8fCBpZCA8IDApIHtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgaWYgKCFpZENvdW50ZXIuaGFzKGRvbWFpbikpIHtcbiAgICBpZENvdW50ZXIuc2V0KGRvbWFpbiwgaWQgKyAxKTtcbiAgfSBlbHNlIHtcbiAgICBpZENvdW50ZXIuc2V0KGRvbWFpbiwgTWF0aC5tYXgoaWRDb3VudGVyLmdldChkb21haW4pLCBpZCArIDEpKTsgLy91c2UgdGhlIG5leHQgb25lIGFmdGVyd2FyZHNcbiAgfVxuICByZXR1cm4gaWQ7XG59XG5cbi8qKlxuICogcmV0dXJucyBhIHN0cmluZywgd2hpY2ggaXMgYSB1bmlxdWUgaWQgZm9yIHRoZSBnaXZlbiBkb21haW5cbiAqIEBwYXJhbSBkb21haW5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuaXF1ZVN0cmluZyhkb21haW46IHN0cmluZyA9ICdfZGVmYXVsdCcpIHtcbiAgcmV0dXJuIGRvbWFpbiArIHVuaXF1ZUlkKGRvbWFpbik7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW50ZXJuYWwvdW5pcXVlLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge0lQZXJzaXN0YWJsZX0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtSYW5nZUxpa2UsIGFsbCwgcmFuZ2UsIHBhcnNlfSBmcm9tICcuLi9yYW5nZSc7XG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vcmFuZ2UvUmFuZ2UnO1xuaW1wb3J0IHtyZXNvbHZlIGFzIHJlc29sdmVJRFR5cGV9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQgSURUeXBlIGZyb20gJy4uL2lkdHlwZS9JRFR5cGUnO1xuaW1wb3J0IEFQcm9kdWN0U2VsZWN0QWJsZSBmcm9tICcuLi9pZHR5cGUvQVByb2R1Y3RTZWxlY3RBYmxlJztcbmltcG9ydCB7XG4gIFZBTFVFX1RZUEVfQ0FURUdPUklDQUwsIFZBTFVFX1RZUEVfSU5ULCBWQUxVRV9UWVBFX1JFQUwsIElDYXRlZ29yaWNhbFZhbHVlVHlwZURlc2MsIElOdW1iZXJWYWx1ZVR5cGVEZXNjLFxuICBJVmFsdWVUeXBlRGVzY1xufSBmcm9tICcuLi9kYXRhdHlwZSc7XG5pbXBvcnQge0lWZWN0b3J9IGZyb20gJy4uL3ZlY3Rvcic7XG5pbXBvcnQge0lTdGF0aXN0aWNzLCBJSGlzdG9ncmFtLCBjb21wdXRlU3RhdHMsIGhpc3QsIGNhdGVnb3JpY2FsSGlzdCwgSUFkdmFuY2VkU3RhdGlzdGljcywgY29tcHV0ZUFkdmFuY2VkU3RhdHN9IGZyb20gJy4uL21hdGgnO1xuaW1wb3J0IHtJTWF0cml4LCBJSGVhdE1hcFVybE9wdGlvbnN9IGZyb20gJy4vSU1hdHJpeCc7XG5pbXBvcnQgU2xpY2VDb2xWZWN0b3IgZnJvbSAnLi9pbnRlcm5hbC9TbGljZUNvbFZlY3Rvcic7XG5pbXBvcnQgUHJvamVjdGVkVmVjdG9yIGZyb20gJy4vaW50ZXJuYWwvUHJvamVjdGVkVmVjdG9yJztcblxuZnVuY3Rpb24gZmxhdHRlbjxUPihhcnI6IFRbXVtdLCBpbmRpY2VzOiBSYW5nZSwgc2VsZWN0OiBudW1iZXIgPSAwKSB7XG4gIGxldCByOiBUW109IFtdO1xuICBjb25zdCBkaW0gPSBbYXJyLmxlbmd0aCwgYXJyWzBdLmxlbmd0aF07XG4gIGlmIChzZWxlY3QgPT09IDApIHtcbiAgICByID0gci5jb25jYXQuYXBwbHkociwgYXJyKTtcbiAgfSBlbHNlIHtcbiAgICAvL3N0dXBpZCBzbGljaW5nXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaW1bMV07ICsraSkge1xuICAgICAgYXJyLmZvckVhY2goKGFpKSA9PiB7XG4gICAgICAgIHIucHVzaChhaVtpXSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkYXRhOiByLFxuICAgIGluZGljZXM6IGluZGljZXMuZGltKHNlbGVjdCkucmVwZWF0KGRpbVsxIC0gc2VsZWN0XSlcbiAgfTtcbn1cblxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBkaWZmZXJlbnQgTWF0cml4IGltcGxlbWVudGF0aW9ucywgdmlld3MsIHRyYW5zcG9zZWQsLi4uXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBTWF0cml4PFQsIEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4gZXh0ZW5kcyBBUHJvZHVjdFNlbGVjdEFibGUge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgcm9vdDogSU1hdHJpeDxULCBEPikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBhYnN0cmFjdCBzaXplKCk6IG51bWJlcltdO1xuXG4gIGFic3RyYWN0IGRhdGEocmFuZ2U/OiBSYW5nZUxpa2UpOiBQcm9taXNlPFRbXVtdPjtcblxuICBhYnN0cmFjdCB0OiBJTWF0cml4PFQsIEQ+O1xuXG4gIGdldCBkaW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZSgpO1xuICB9XG5cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ucm93ICogdGhpcy5uY29sO1xuICB9XG5cbiAgZ2V0IG5yb3coKSB7XG4gICAgcmV0dXJuIHRoaXMuZGltWzBdO1xuICB9XG5cbiAgZ2V0IG5jb2woKSB7XG4gICAgcmV0dXJuIHRoaXMuZGltWzFdO1xuICB9XG5cbiAgZ2V0IGluZGljZXMoKTogUmFuZ2Uge1xuICAgIHJldHVybiByYW5nZShbMCwgdGhpcy5ucm93XSwgWzAsIHRoaXMubmNvbF0pO1xuICB9XG5cbiAgdmlldyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBJTWF0cml4PFQsIEQ+IHtcbiAgICBjb25zdCByID0gcGFyc2UocmFuZ2UpO1xuICAgIGlmIChyLmlzQWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290O1xuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby11c2UtYmVmb3JlLWRlY2xhcmVcbiAgICAvLyBEaXNhYmxlZCB0aGUgcnVsZSwgYmVjYXVzZSB0aGUgY2xhc3NlcyBiZWxvdyByZWZlcmVuY2UgZWFjaCBvdGhlciBpbiBhIHdheSB0aGF0IGl0IGlzIGltcG9zc2libGUgdG8gZmluZCBhIHN1Y2Nlc3NmdWwgb3JkZXIuXG4gICAgcmV0dXJuIG5ldyBNYXRyaXhWaWV3KHRoaXMucm9vdCwgcik7XG4gIH1cblxuICBzbGljZShjb2w6IG51bWJlcik6IElWZWN0b3I8VCwgRD4ge1xuICAgIHJldHVybiBuZXcgU2xpY2VDb2xWZWN0b3IodGhpcy5yb290LCBjb2wpO1xuICB9XG5cbiAgYXN5bmMgc3RhdHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxJU3RhdGlzdGljcz4ge1xuICAgIGNvbnN0IHYgPSB0aGlzLnJvb3QudmFsdWV0eXBlO1xuICAgIGlmICh2LnR5cGUgPT09IFZBTFVFX1RZUEVfSU5UIHx8IHYudHlwZSA9PT0gVkFMVUVfVFlQRV9SRUFMKSB7XG4gICAgICByZXR1cm4gY29tcHV0ZVN0YXRzKC4uLjxhbnk+YXdhaXQgdGhpcy5kYXRhKHJhbmdlKSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnaW52YWxpZCB2YWx1ZSB0eXBlOiAnICsgdi50eXBlKTtcbiAgfVxuXG4gIGFzeW5jIHN0YXRzQWR2YW5jZWQocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxJQWR2YW5jZWRTdGF0aXN0aWNzPiB7XG4gICAgY29uc3QgdiA9IHRoaXMucm9vdC52YWx1ZXR5cGU7XG4gICAgaWYgKHYudHlwZSA9PT0gVkFMVUVfVFlQRV9JTlQgfHwgdi50eXBlID09PSBWQUxVRV9UWVBFX1JFQUwpIHtcbiAgICAgIHJldHVybiBjb21wdXRlQWR2YW5jZWRTdGF0cyhbXS5jb25jYXQoLi4uPGFueT5hd2FpdCB0aGlzLmRhdGEocmFuZ2UpKSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnaW52YWxpZCB2YWx1ZSB0eXBlOiAnICsgdi50eXBlKTtcbiAgfVxuXG4gIGFzeW5jIGhpc3QoYmlucz86IG51bWJlciwgcmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpLCBjb250YWluZWRJZHMgPSAwKTogUHJvbWlzZTxJSGlzdG9ncmFtPiB7XG4gICAgY29uc3QgdiA9IHRoaXMucm9vdC52YWx1ZXR5cGU7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YShyYW5nZSk7XG4gICAgY29uc3QgZmxhdCA9IGZsYXR0ZW4oZCwgdGhpcy5pbmRpY2VzLCBjb250YWluZWRJZHMpO1xuICAgIHN3aXRjaCAodi50eXBlKSB7XG4gICAgICBjYXNlIFZBTFVFX1RZUEVfQ0FURUdPUklDQUw6XG4gICAgICAgIGNvbnN0IHZjID0gPElDYXRlZ29yaWNhbFZhbHVlVHlwZURlc2M+PGFueT52O1xuICAgICAgICByZXR1cm4gY2F0ZWdvcmljYWxIaXN0PHN0cmluZz4oPGFueVtdPmZsYXQuZGF0YSwgZmxhdC5pbmRpY2VzLCBmbGF0LmRhdGEubGVuZ3RoLCB2Yy5jYXRlZ29yaWVzLm1hcCgoZCkgPT4gdHlwZW9mIGQgPT09ICdzdHJpbmcnID8gZCA6IGQubmFtZSksXG4gICAgICAgICAgdmMuY2F0ZWdvcmllcy5tYXAoKGQpID0+IHR5cGVvZiBkID09PSAnc3RyaW5nJyA/IGQgOiBkLmxhYmVsIHx8IGQubmFtZSksXG4gICAgICAgICAgdmMuY2F0ZWdvcmllcy5tYXAoKGQpID0+IHR5cGVvZiBkID09PSAnc3RyaW5nJyA/ICdncmF5JyA6IGQuY29sb3IgfHwgJ2dyYXknKSk7XG4gICAgICBjYXNlIFZBTFVFX1RZUEVfSU5UOlxuICAgICAgY2FzZSBWQUxVRV9UWVBFX1JFQUw6XG4gICAgICAgIGNvbnN0IHZuID0gPElOdW1iZXJWYWx1ZVR5cGVEZXNjPjxhbnk+djtcbiAgICAgICAgcmV0dXJuIGhpc3QoPGFueVtdPmZsYXQuZGF0YSwgZmxhdC5pbmRpY2VzLCBmbGF0LmRhdGEubGVuZ3RoLCBiaW5zID8gYmlucyA6IE1hdGgucm91bmQoTWF0aC5zcXJ0KHRoaXMubGVuZ3RoKSksIHZuLnJhbmdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxJSGlzdG9ncmFtPignaW52YWxpZCB2YWx1ZSB0eXBlOiAnICsgdi50eXBlKTsgLy9jYW50IGNyZWF0ZSBoaXN0IGZvciB1bmlxdWUgb2JqZWN0cyBvciBvdGhlciBvbmVzXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaWRWaWV3KGlkUmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxJTWF0cml4PFQsIEQ+PiB7XG4gICAgY29uc3QgciA9IHBhcnNlKGlkUmFuZ2UpO1xuICAgIGlmIChyLmlzQWxsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMucm9vdCk7XG4gICAgfVxuICAgIGNvbnN0IGlkcyA9IGF3YWl0IHRoaXMuaWRzKCk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhpZHMuaW5kZXhPZihyKSk7XG4gIH1cblxuICByZWR1Y2U8VSwgVUQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oZjogKHJvdzogVFtdKSA9PiBVLCB0aGlzQXJndW1lbnQ/OiBhbnksIHZhbHVldHlwZT86IFVELCBpZHR5cGU/OiBJRFR5cGUpOiBJVmVjdG9yPFUsVUQ+IHtcbiAgICByZXR1cm4gbmV3IFByb2plY3RlZFZlY3Rvcih0aGlzLnJvb3QsIGYsIHRoaXNBcmd1bWVudCwgdmFsdWV0eXBlLCBpZHR5cGUpO1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSk6IElQZXJzaXN0YWJsZSB7XG4gICAgaWYgKHBlcnNpc3RlZCAmJiBwZXJzaXN0ZWQuZikge1xuICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tZXZhbCAqL1xuICAgICAgcmV0dXJuIHRoaXMucmVkdWNlKGV2YWwocGVyc2lzdGVkLmYpLCB0aGlzLCBwZXJzaXN0ZWQudmFsdWV0eXBlLCBwZXJzaXN0ZWQuaWR0eXBlID8gcmVzb2x2ZUlEVHlwZShwZXJzaXN0ZWQuaWR0eXBlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAvKiB0c2xpbnQ6ZW5hYmxlOm5vLWV2YWwgKi9cbiAgICB9IGVsc2UgaWYgKHBlcnNpc3RlZCAmJiBwZXJzaXN0ZWQucmFuZ2UpIHsgLy9zb21lIHZpZXcgb250byBpdFxuICAgICAgcmV0dXJuIHRoaXMudmlldyhwYXJzZShwZXJzaXN0ZWQucmFuZ2UpKTtcbiAgICB9IGVsc2UgaWYgKHBlcnNpc3RlZCAmJiBwZXJzaXN0ZWQudHJhbnNwb3NlZCkge1xuICAgICAgcmV0dXJuICg8SU1hdHJpeDxULCBEPj4oPGFueT50aGlzKSkudDtcbiAgICB9IGVsc2UgaWYgKHBlcnNpc3RlZCAmJiBwZXJzaXN0ZWQuY29sKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgrcGVyc2lzdGVkLmNvbCk7XG4gICAgfSBlbHNlIGlmIChwZXJzaXN0ZWQgJiYgcGVyc2lzdGVkLnJvdykge1xuICAgICAgcmV0dXJuIHRoaXMudC5zbGljZSgrcGVyc2lzdGVkLnJvdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8SVBlcnNpc3RhYmxlPig8YW55PnRoaXMpO1xuICAgIH1cbiAgfVxuXG59XG5leHBvcnQgZGVmYXVsdCBBTWF0cml4O1xuXG4vLyBjaXJjdWxhciBkZXBlbmRlbmN5IHRodXMgbm90IGV4dHJhY3RhYmxlXG4vKipcbiAqIHZpZXcgb24gdGhlIG1hdHJpeCByZXN0cmljdGVkIGJ5IGEgcmFuZ2VcbiAqIEBwYXJhbSByb290IHVuZGVybHlpbmcgbWF0cml4XG4gKiBAcGFyYW0gcmFuZ2UgcmFuZ2Ugc2VsZWN0aW9uXG4gKiBAcGFyYW0gdCBvcHRpb25hbCBpdHMgdHJhbnNwb3NlZCB2ZXJzaW9uXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIE1hdHJpeFZpZXc8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPiBleHRlbmRzIEFNYXRyaXg8VCwgRD4ge1xuICBjb25zdHJ1Y3Rvcihyb290OiBJTWF0cml4PFQsIEQ+LCBwcml2YXRlIHJhbmdlOiBSYW5nZSwgcHVibGljIHJlYWRvbmx5IHQ6IElNYXRyaXg8VCwgRD4gPSBudWxsKSB7XG4gICAgc3VwZXIocm9vdCk7XG4gICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIC8vZW5zdXJlIHRoYXQgdGhlcmUgYXJlIHR3byBkaW1lbnNpb25zXG4gICAgcmFuZ2UuZGltKDApO1xuICAgIHJhbmdlLmRpbSgxKTtcbiAgICBpZiAoIXQpIHtcbiAgICAgIHRoaXMudCA9IG5ldyBNYXRyaXhWaWV3KHJvb3QudCwgcmFuZ2Uuc3dhcCgpLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBnZXQgZGVzYygpIHtcbiAgICByZXR1cm4gdGhpcy5yb290LmRlc2M7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICByb290OiB0aGlzLnJvb3QucGVyc2lzdCgpLFxuICAgICAgcmFuZ2U6IHRoaXMucmFuZ2UudG9TdHJpbmcoKVxuICAgIH07XG4gIH1cblxuICBpZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5pZHModGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIGNvbHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5jb2xzKHRoaXMucmFuZ2UucHJlTXVsdGlwbHkocGFyc2UocmFuZ2UpLCB0aGlzLnJvb3QuZGltKSk7XG4gIH1cblxuICBjb2xJZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5jb2xJZHModGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIHJvd3MocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5yb3dzKHRoaXMucmFuZ2UucHJlTXVsdGlwbHkocGFyc2UocmFuZ2UpLCB0aGlzLnJvb3QuZGltKSk7XG4gIH1cblxuICByb3dJZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5yb3dJZHModGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2Uuc2l6ZSh0aGlzLnJvb3QuZGltKTtcbiAgfVxuXG4gIGF0KGk6IG51bWJlciwgajogbnVtYmVyKSB7XG4gICAgY29uc3QgaW52ZXJ0ZWQgPSB0aGlzLnJhbmdlLmludmVydChbaSwgal0sIHRoaXMucm9vdC5kaW0pO1xuICAgIHJldHVybiB0aGlzLnJvb3QuYXQoaW52ZXJ0ZWRbMF0sIGludmVydGVkWzFdKTtcbiAgfVxuXG4gIGRhdGEocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5kYXRhKHRoaXMucmFuZ2UucHJlTXVsdGlwbHkocGFyc2UocmFuZ2UpLCB0aGlzLnJvb3QuZGltKSk7XG4gIH1cblxuICBoaXN0KGJpbnM/OiBudW1iZXIsIHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSwgY29udGFpbmVkSWRzID0gMCk6IFByb21pc2U8SUhpc3RvZ3JhbT4ge1xuICAgIHJldHVybiB0aGlzLnJvb3QuaGlzdChiaW5zLCB0aGlzLnJhbmdlLnByZU11bHRpcGx5KHBhcnNlKHJhbmdlKSwgdGhpcy5yb290LmRpbSksIGNvbnRhaW5lZElkcyk7XG4gIH1cblxuICBzdGF0cyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPElTdGF0aXN0aWNzPiB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5zdGF0cyh0aGlzLnJhbmdlLnByZU11bHRpcGx5KHBhcnNlKHJhbmdlKSwgdGhpcy5yb290LmRpbSkpO1xuICB9XG5cbiAgc3RhdHNBZHZhbmNlZChyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPElBZHZhbmNlZFN0YXRpc3RpY3M+IHtcbiAgICByZXR1cm4gdGhpcy5yb290LnN0YXRzQWR2YW5jZWQodGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIGhlYXRtYXBVcmwocmFuZ2UgPSBhbGwoKSwgb3B0aW9uczogSUhlYXRNYXBVcmxPcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5yb290LmhlYXRtYXBVcmwodGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pLCBvcHRpb25zKTtcbiAgfVxuXG4gIHZpZXcocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgY29uc3QgciA9IHBhcnNlKHJhbmdlKTtcbiAgICBpZiAoci5pc0FsbCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTWF0cml4Vmlldyh0aGlzLnJvb3QsIHRoaXMucmFuZ2UucHJlTXVsdGlwbHkociwgdGhpcy5kaW0pKTtcbiAgfVxuXG4gIGdldCB2YWx1ZXR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC52YWx1ZXR5cGU7XG4gIH1cblxuICBnZXQgcm93dHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yb290LnJvd3R5cGU7XG4gIH1cblxuICBnZXQgY29sdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yb290LmNvbHR5cGU7XG4gIH1cblxuICBnZXQgcHJvZHVjdHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5wcm9kdWN0dHlwZTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QuaWR0eXBlcztcbiAgfVxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWF0cml4L0FNYXRyaXgudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7UmFuZ2VMaWtlfSBmcm9tICcuLi9yYW5nZSc7XG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vcmFuZ2UvUmFuZ2UnO1xuaW1wb3J0IHtJUHJvZHVjdFNlbGVjdEFibGV9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQgSURUeXBlIGZyb20gJy4uL2lkdHlwZS9JRFR5cGUnO1xuaW1wb3J0IHtcbiAgSUhpc3RBYmxlRGF0YVR5cGUsIElWYWx1ZVR5cGVEZXNjLCBJRGF0YURlc2NyaXB0aW9uLCBjcmVhdGVEZWZhdWx0RGF0YURlc2MgYXMgY3JlYXRlRGVmYXVsdEJhc2VEZXNjLFxuICBJTnVtYmVyVmFsdWVUeXBlRGVzYywgSUNhdGVnb3JpY2FsVmFsdWVUeXBlRGVzYywgSVN0YXRzQWJsZURhdGFUeXBlXG59IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7SVZlY3Rvcn0gZnJvbSAnLi4vdmVjdG9yJztcbmltcG9ydCB7SUhpc3RvZ3JhbSwgSVN0YXRpc3RpY3MsIElBZHZhbmNlZFN0YXRpc3RpY3N9IGZyb20gJy4uL21hdGgnO1xuaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vaW5kZXgnO1xuXG5leHBvcnQgY29uc3QgSURUWVBFX1JPVyA9IDA7XG5leHBvcnQgY29uc3QgSURUWVBFX0NPTFVNTiA9IDE7XG5leHBvcnQgY29uc3QgSURUWVBFX0NFTEwgPSAyO1xuXG5leHBvcnQgY29uc3QgRElNX1JPVyA9IDA7XG5leHBvcnQgY29uc3QgRElNX0NPTCA9IDE7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhlYXRNYXBVcmxPcHRpb25zIHtcbiAgZm9ybWF0Pzogc3RyaW5nO1xuICB0cmFuc3Bvc2U/OiBib29sZWFuO1xuICByYW5nZT86IFtudW1iZXIsIG51bWJlcl07XG4gIHBhbGV0dGU/OiBzdHJpbmc7XG4gIG1pc3Npbmc/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhlYXRNYXBVcmxQYXJhbWV0ZXIge1xuICBmb3JtYXQ6IHN0cmluZztcbiAgcmFuZ2U6IHN0cmluZztcbiAgZm9ybWF0X3RyYW5zcG9zZT86IGJvb2xlYW47XG4gIGZvcm1hdF9taW4/OiBudW1iZXI7XG4gIGZvcm1hdF9tYXg/OiBudW1iZXI7XG4gIGZvcm1hdF9wYWxldHRlPzogc3RyaW5nO1xuICBmb3JtYXRfbWlzc2luZz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTWF0cml4RGF0YURlc2NyaXB0aW9uPEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4gZXh0ZW5kcyBJRGF0YURlc2NyaXB0aW9uIHtcbiAgbG9hZEF0T25jZT86IGJvb2xlYW47XG4gIHZhbHVlOiBEO1xuICByb3d0eXBlOiBzdHJpbmc7XG4gIGNvbHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqIG5yb3csIG5jb2xcbiAgICovXG4gIHNpemU6IFtudW1iZXIsIG51bWJlcl07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1hdHJpeDxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgSUhpc3RBYmxlRGF0YVR5cGU8RD4sIElQcm9kdWN0U2VsZWN0QWJsZSwgSVN0YXRzQWJsZURhdGFUeXBlPEQ+IHtcbiAgcmVhZG9ubHkgZGVzYzogSU1hdHJpeERhdGFEZXNjcmlwdGlvbjxEPjtcbiAgLyoqXG4gICAqIG51bWJlciBvZiByb3dzXG4gICAqL1xuICByZWFkb25seSBucm93OiBudW1iZXI7XG4gIC8qKlxuICAgKiBudW1iZXIgb2YgY29sc1xuICAgKi9cbiAgcmVhZG9ubHkgbmNvbDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiByb3cgaWQgdHlwZVxuICAgKi9cbiAgcmVhZG9ubHkgcm93dHlwZTogSURUeXBlO1xuXG4gIC8qKlxuICAgKiBjb2x1bW4gaWQgdHlwZVxuICAgKi9cbiAgcmVhZG9ubHkgY29sdHlwZTogSURUeXBlO1xuXG4gIC8qKlxuICAgKiBjcmVhdGVzIGEgbmV3IHZpZXcgb24gdGhpcyBtYXRyaXggc3BlY2lmaWVkIGJ5IHRoZSBnaXZlbiByYW5nZVxuICAgKiBAcGFyYW0gcmFuZ2VcbiAgICovXG4gIHZpZXcocmFuZ2U/OiBSYW5nZUxpa2UpOiBJTWF0cml4PFQsRD47XG5cblxuICBpZFZpZXcoaWRSYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8SU1hdHJpeDxULEQ+PjtcblxuICBzbGljZShjb2w6IG51bWJlcik6IElWZWN0b3I8VCxEPjtcblxuICAvL3ZpZXcoZmlsdGVyOiBzdHJpbmcpOiBQcm9taXNlPElNYXRyaXg+O1xuXG4gIC8qKlxuICAgKiByZWR1Y2VzIHRoZSBjdXJyZW50IG1hdHJpeCB0byBhIHZlY3RvciB1c2luZyB0aGUgZ2l2ZW4gcmVkdWNlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSBmIHRoZSByZWR1Y2UgZnVuY3Rpb25cbiAgICogQHBhcmFtIHRoaXNBcmd1bWVudCB0aGUgdGhpcyBjb250ZXh0IGZvciB0aGUgZnVuY3Rpb24gZGVmYXVsdCB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSB2YWx1ZXR5cGUgdGhlIG5ldyB2YWx1ZSB0eXBlIGJ5IGRlZmF1bHQgdGhlIHNhbWUgYXMgbWF0cml4IHZhbHVldHlwZVxuICAgKiBAcGFyYW0gaWR0eXBlIHRoZSBuZXcgdmxhdWUgdHlwZSBieSBkZWZhdWx0IHRoZSBzYW1lIGFzIG1hdHJpeCByb3d0eXBlXG4gICAqL1xuICByZWR1Y2U8VSwgVUQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oZjogKHJvdzogVFtdKSA9PiBVLCB0aGlzQXJndW1lbnQ/OiBhbnksIHZhbHVldHlwZT86IFVELCBpZHR5cGU/OiBJRFR5cGUpOiBJVmVjdG9yPFUsIFVEPjtcbiAgLyoqXG4gICAqIHRyYW5zcG9zZWQgdmVyc2lvbiBvZiB0aGlzIG1hdHJpeFxuICAgKi9cbiAgcmVhZG9ubHkgdDogSU1hdHJpeDxULEQ+O1xuICAvKipcbiAgICogcmV0dXJucyBhIHByb21pc2UgZm9yIGdldHRpbmcgdGhlIGNvbCBuYW1lcyBvZiB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSByYW5nZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmdbXT59XG4gICAqL1xuICBjb2xzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxzdHJpbmdbXT47XG5cbiAgY29sSWRzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxSYW5nZT47XG4gIC8qKlxuICAgKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyB0aGUgcm93IG5hbWVzIG9mIHRoZSBtYXRyaXhcbiAgICogQHBhcmFtIHJhbmdlXG4gICAqL1xuICByb3dzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxzdHJpbmdbXT47XG5cbiAgcm93SWRzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxSYW5nZT47XG5cbiAgLyoqXG4gICAqIHJldHVybnMgYSBwcm9taXNlIGZvciBnZXR0aW5nIG9uZSBjZWxsXG4gICAqIEBwYXJhbSBpXG4gICAqIEBwYXJhbSBqXG4gICAqL1xuICBhdChpOiBudW1iZXIsIGo6IG51bWJlcik6IFByb21pc2U8VD47XG4gIC8qKlxuICAgKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyB0aGUgZGF0YSBhcyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHBhcmFtIHJhbmdlXG4gICAqL1xuICBkYXRhKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxUW11bXT47XG5cbiAgc3RhdHMocmFuZ2U/OiBSYW5nZUxpa2UpOiBQcm9taXNlPElTdGF0aXN0aWNzPjtcbiAgc3RhdHNBZHZhbmNlZChyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8SUFkdmFuY2VkU3RhdGlzdGljcz47XG5cbiAgaGlzdChiaW5zPzogbnVtYmVyLCByYW5nZT86IFJhbmdlTGlrZSwgY29udGFpbmVkSWRzPzogbnVtYmVyKTogUHJvbWlzZTxJSGlzdG9ncmFtPjtcblxuICAvKipcbiAgICogZ2VuZXJhdGVzIGEgc2VydmVyIHVybCBmb3IgY3JlYXRpbmcgYSBoZWF0bWFwIGltYWdlIG9mIHRoaXMgbWF0cml4XG4gICAqIEBwYXJhbSByYW5nZVxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB0aGUgdXJsIG9yIG51bGwgaWYgbm8gdXJsIGNhbiBiZSBnZW5lcmF0ZWRcbiAgICovXG4gIGhlYXRtYXBVcmwocmFuZ2U/OiBSYW5nZUxpa2UsIG9wdGlvbnM/OiBJSGVhdE1hcFVybE9wdGlvbnMpOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IElNYXRyaXg7XG5leHBvcnQgZGVjbGFyZSB0eXBlIElOdW1lcmljYWxNYXRyaXggPSBJTWF0cml4PG51bWJlciwgSU51bWJlclZhbHVlVHlwZURlc2M+O1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBJQ2F0ZWdvcmljYWxNYXRyaXggPSBJTWF0cml4PG51bWJlciwgSUNhdGVnb3JpY2FsVmFsdWVUeXBlRGVzYz47XG5leHBvcnQgZGVjbGFyZSB0eXBlIElBbnlNYXRyaXggPSBJTWF0cml4PGFueSwgSVZhbHVlVHlwZURlc2M+O1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0TWF0cml4RGVzYygpOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPElWYWx1ZVR5cGVEZXNjPiB7XG4gIHJldHVybiA8SU1hdHJpeERhdGFEZXNjcmlwdGlvbjxJVmFsdWVUeXBlRGVzYz4+bWl4aW4oY3JlYXRlRGVmYXVsdEJhc2VEZXNjKCksIHtcbiAgICB0eXBlOiAnbWF0cml4JyxcbiAgICByb3d0eXBlOiAnX3Jvd3MnLFxuICAgIGNvbHR5cGU6ICdfY29scycsXG4gICAgc2l6ZTogWzAsIDBdXG4gIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21hdHJpeC9JTWF0cml4LnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge1JhbmdlLCBSYW5nZUxpa2UsIGFsbCwgcGFyc2UsIGpvaW59IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7SVZhbHVlVHlwZURlc2MsIFZBTFVFX1RZUEVfUkVBTCwgVkFMVUVfVFlQRV9JTlQsIGd1ZXNzVmFsdWVUeXBlRGVzY30gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJSGlzdG9ncmFtLCBJQWR2YW5jZWRTdGF0aXN0aWNzLCBJU3RhdGlzdGljc30gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQge21peGlufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQge0lEVHlwZSwgUHJvZHVjdElEVHlwZSwgcmVzb2x2ZSBhcyByZXNvbHZlSURUeXBlLCByZXNvbHZlUHJvZHVjdCwgY3JlYXRlTG9jYWxBc3NpZ25lcn0gZnJvbSAnLi4vaWR0eXBlJztcbmltcG9ydCB7SU1hdHJpeCwgSU1hdHJpeERhdGFEZXNjcmlwdGlvbiwgSUhlYXRNYXBVcmxPcHRpb25zLCBjcmVhdGVEZWZhdWx0TWF0cml4RGVzY30gZnJvbSAnLi9JTWF0cml4JztcbmltcG9ydCBBTWF0cml4IGZyb20gJy4vQU1hdHJpeCc7XG5pbXBvcnQgVHJhbnNwb3NlZE1hdHJpeCBmcm9tICcuL2ludGVybmFsL1RyYW5zcG9zZWRNYXRyaXgnO1xuaW1wb3J0IHtJTWF0cml4TG9hZGVyLCBJTWF0cml4TG9hZGVyMiwgdmlhQVBJMkxvYWRlciwgYWRhcHRlck9uZTJUd299IGZyb20gJy4vbG9hZGVyJztcbi8qKlxuICogQmFzZSBtYXRyaXggaW1wbGVtZW50YXRpb24gaG9sZGluZyB0aGUgZGF0YVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRyaXg8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPiBleHRlbmRzIEFNYXRyaXg8VCwgRD4ge1xuICByZWFkb25seSB0OiBJTWF0cml4PFQsIEQ+O1xuICByZWFkb25seSB2YWx1ZXR5cGU6IEQ7XG4gIHJlYWRvbmx5IHJvd3R5cGU6IElEVHlwZTtcbiAgcmVhZG9ubHkgY29sdHlwZTogSURUeXBlO1xuICBwcml2YXRlIF9wcm9kdWN0dHlwZTogUHJvZHVjdElEVHlwZTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGVzYzogSU1hdHJpeERhdGFEZXNjcmlwdGlvbjxEPiwgcHJpdmF0ZSBsb2FkZXI6IElNYXRyaXhMb2FkZXIyPFQ+KSB7XG4gICAgc3VwZXIobnVsbCk7XG4gICAgdGhpcy5yb290ID0gdGhpcztcbiAgICB0aGlzLnZhbHVldHlwZSA9IGRlc2MudmFsdWU7XG4gICAgdGhpcy5yb3d0eXBlID0gcmVzb2x2ZUlEVHlwZShkZXNjLnJvd3R5cGUpO1xuICAgIHRoaXMuY29sdHlwZSA9IHJlc29sdmVJRFR5cGUoZGVzYy5jb2x0eXBlKTtcbiAgICB0aGlzLl9wcm9kdWN0dHlwZSA9IHJlc29sdmVQcm9kdWN0KHRoaXMucm93dHlwZSwgdGhpcy5jb2x0eXBlKTtcbiAgICB0aGlzLnQgPSBuZXcgVHJhbnNwb3NlZE1hdHJpeCh0aGlzKTtcbiAgfVxuXG4gIGdldCBwcm9kdWN0dHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvZHVjdHR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW3RoaXMucm93dHlwZSwgdGhpcy5jb2x0eXBlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBhY2Nlc3MgYXQgYSBzcGVjaWZpYyBwb3NpdGlvblxuICAgKiBAcGFyYW0gaVxuICAgKiBAcGFyYW0galxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGF0KGk6IG51bWJlciwgajogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyLmF0KHRoaXMuZGVzYywgaSwgaik7XG4gIH1cblxuICBkYXRhKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmxvYWRlci5kYXRhKHRoaXMuZGVzYywgcGFyc2UocmFuZ2UpKTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkZXIuaWRzKHRoaXMuZGVzYywgcGFyc2UocmFuZ2UpKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgY29sdW1uIGlkcyBvZiB0aGUgbWF0cml4XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgY29scyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyLmNvbHModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgY29sSWRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmxvYWRlci5jb2xJZHModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgcm93IGlkcyBvZiB0aGUgbWF0cml4XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcm93cyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyLnJvd3ModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgcm93SWRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmxvYWRlci5yb3dJZHModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgaGlzdChiaW5zPzogbnVtYmVyLCByYW5nZTogUmFuZ2VMaWtlID0gYWxsKCksIGNvbnRhaW5lZElkcyA9IDApOiBQcm9taXNlPElIaXN0b2dyYW0+IHtcbiAgICBpZiAodGhpcy5sb2FkZXIubnVtZXJpY2FsSGlzdCAmJiAodGhpcy52YWx1ZXR5cGUudHlwZSA9PT0gVkFMVUVfVFlQRV9SRUFMIHx8IHRoaXMudmFsdWV0eXBlLnR5cGUgPT09IFZBTFVFX1RZUEVfSU5UKSkgeyAvLyB1c2UgbG9hZGVyIGZvciBoaXN0XG4gICAgICByZXR1cm4gdGhpcy5sb2FkZXIubnVtZXJpY2FsSGlzdCh0aGlzLmRlc2MsIHBhcnNlKHJhbmdlKSwgYmlucyk7XG4gICAgfVxuICAgIC8vIGNvbXB1dGVcbiAgICByZXR1cm4gc3VwZXIuaGlzdChiaW5zLCByYW5nZSwgY29udGFpbmVkSWRzKTtcbiAgfVxuXG4gIHN0YXRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8SVN0YXRpc3RpY3M+IHtcbiAgICBpZiAodGhpcy5sb2FkZXIubnVtZXJpY2FsU3RhdHMgJiYgKHRoaXMudmFsdWV0eXBlLnR5cGUgPT09IFZBTFVFX1RZUEVfUkVBTCB8fCB0aGlzLnZhbHVldHlwZS50eXBlID09PSBWQUxVRV9UWVBFX0lOVCkpIHsgLy8gdXNlIGxvYWRlciBmb3IgaGlzdFxuICAgICAgcmV0dXJuIHRoaXMubG9hZGVyLm51bWVyaWNhbFN0YXRzKHRoaXMuZGVzYywgcGFyc2UocmFuZ2UpKTtcbiAgICB9XG4gICAgLy8gY29tcHV0ZVxuICAgIHJldHVybiBzdXBlci5zdGF0cyhyYW5nZSk7XG4gIH1cblxuICBzdGF0c0FkdmFuY2VkKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8SUFkdmFuY2VkU3RhdGlzdGljcz4ge1xuICAgIGlmICh0aGlzLmxvYWRlci5udW1lcmljYWxTdGF0cyAmJiAodGhpcy52YWx1ZXR5cGUudHlwZSA9PT0gVkFMVUVfVFlQRV9SRUFMIHx8IHRoaXMudmFsdWV0eXBlLnR5cGUgPT09IFZBTFVFX1RZUEVfSU5UKSkgeyAvLyB1c2UgbG9hZGVyIGZvciBoaXN0XG4gICAgICByZXR1cm4gdGhpcy5sb2FkZXIubnVtZXJpY2FsU3RhdHModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICAgIH1cbiAgICAvLyBjb21wdXRlXG4gICAgcmV0dXJuIHN1cGVyLnN0YXRzQWR2YW5jZWQocmFuZ2UpO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjLnNpemU7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIHJldHVybiB0aGlzLmRlc2MuaWQ7XG4gIH1cblxuICBoZWF0bWFwVXJsKHJhbmdlID0gYWxsKCksIG9wdGlvbnM6IElIZWF0TWFwVXJsT3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKHRoaXMubG9hZGVyLmhlYXRtYXBVcmwpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvYWRlci5oZWF0bWFwVXJsKHRoaXMuZGVzYywgcmFuZ2UsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIG1vZHVsZSBlbnRyeSBwb2ludCBmb3IgY3JlYXRpbmcgYSBkYXRhdHlwZVxuICogQHBhcmFtIGRlc2NcbiAqIEBwYXJhbSBsb2FkZXJcbiAqIEByZXR1cm5zIHtJTWF0cml4fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlPFQsIEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oZGVzYzogSU1hdHJpeERhdGFEZXNjcmlwdGlvbjxEPiwgbG9hZGVyPzogSU1hdHJpeExvYWRlcjI8VD58SU1hdHJpeExvYWRlcjxUPik6IElNYXRyaXg8VCxEPiB7XG4gIGlmICh0eXBlb2YgbG9hZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG5ldyBNYXRyaXgoZGVzYywgYWRhcHRlck9uZTJUd28oPElNYXRyaXhMb2FkZXI8VD4+bG9hZGVyKSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBNYXRyaXgoZGVzYywgbG9hZGVyID8gPElNYXRyaXhMb2FkZXIyPFQ+PmxvYWRlciA6IHZpYUFQSTJMb2FkZXIoKSk7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBJQXNNYXRyaXhPcHRpb25zIHtcbiAgbmFtZT86IHN0cmluZztcbiAgcm93dHlwZT86IHN0cmluZztcbiAgY29sdHlwZT86IHN0cmluZztcbiAgcm93YXNzaWduZXI/KGlkczogc3RyaW5nW10pOiBSYW5nZTtcbiAgY29sYXNzaWduZXI/KGlkczogc3RyaW5nW10pOiBSYW5nZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzTWF0cml4PFQ+KGRhdGE6IFRbXVtdLCBvcHRpb25zPzogSUFzTWF0cml4T3B0aW9ucyk6IElNYXRyaXg8VCxJVmFsdWVUeXBlRGVzYz47XG5leHBvcnQgZnVuY3Rpb24gYXNNYXRyaXg8VD4oZGF0YTogVFtdW10sIHJvd3M6IHN0cmluZ1tdLCBjb2xzOiBzdHJpbmdbXSk6IElNYXRyaXg8VCxJVmFsdWVUeXBlRGVzYz47XG5leHBvcnQgZnVuY3Rpb24gYXNNYXRyaXg8VD4oZGF0YTogVFtdW10sIHJvd3M6IHN0cmluZ1tdLCBjb2xzOiBzdHJpbmdbXSwgb3B0aW9ucz86IElBc01hdHJpeE9wdGlvbnMpOiBJTWF0cml4PFQsSVZhbHVlVHlwZURlc2M+O1xuXG4vKipcbiAqIHBhcnNlcyBhIGdpdmVuIGRhdGFzZXQgYW5kIGNvbnZlcnQgaXMgdG8gYSBtYXRyaXhcbiAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gcm93c0lkc09yT3B0aW9ucyBzZWUgb3B0aW9ucyBvciB0aGUgcm93IGlkcyBvZiB0aGlzIG1hdHJpeFxuICogQHBhcmFtIGNvbElkcyB0aGUgb3B0aW9uYWwgY29sdW1uIGlkc1xuICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBmb3IgZGVmaW5pbmcgdGhlIGRhdGFzZXQgZGVzY3JpcHRpb25cbiAqIEByZXR1cm5zIHtJTWF0cml4fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNNYXRyaXg8VD4oZGF0YTogVFtdW10sIHJvd3NJZHNPck9wdGlvbnM/OiBhbnksIGNvbElkcz86IHN0cmluZ1tdLCBvcHRpb25zOiBJQXNNYXRyaXhPcHRpb25zID0ge30pOiBJTWF0cml4PFQsSVZhbHVlVHlwZURlc2M+IHtcbiAgLy8gZmlyc3QgY29sdW1uIGlmIG5vdCBkZWZpbmVkLCBleGNsdWRpbmcgMCwwXG4gIGNvbnN0IHJvd3MgPSBBcnJheS5pc0FycmF5KHJvd3NJZHNPck9wdGlvbnMpID8gPHN0cmluZ1tdPnJvd3NJZHNPck9wdGlvbnMgOiBkYXRhLm1hcCgocikgPT4gclswXSkuc2xpY2UoMSk7XG4gIC8vIGZpcnN0IHJvdyBpZiBub3QgZGVmaW5lZCwgZXhjbHVkaW5nIDAsMFxuICBjb25zdCBjb2xzID0gY29sSWRzID8gY29sSWRzIDogZGF0YVswXS5zbGljZSgxKTtcbiAgaWYgKHR5cGVvZiByb3dzSWRzT3JPcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSByb3dzSWRzT3JPcHRpb25zO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGxldCByZWFsRGF0YTogYW55W10gPSBBcnJheS5pc0FycmF5KHJvd3NJZHNPck9wdGlvbnMpID8gZGF0YSA6IGRhdGEuc2xpY2UoMSkubWFwKChyKSA9PiByLnNsaWNlKDEpKTtcblxuICBjb25zdCB2YWx1ZVR5cGUgPSBndWVzc1ZhbHVlVHlwZURlc2MoW10uY29uY2F0LmFwcGx5KFtdLCByZWFsRGF0YSkpO1xuXG4gIGlmICh2YWx1ZVR5cGUudHlwZSA9PT0gVkFMVUVfVFlQRV9SRUFMKSB7XG4gICAgcmVhbERhdGEgPSByZWFsRGF0YS5tYXAoKHJvdykgPT4gcm93Lm1hcCg8YW55PnBhcnNlRmxvYXQpKTtcbiAgfSBlbHNlIGlmICh2YWx1ZVR5cGUudHlwZSA9PT0gVkFMVUVfVFlQRV9SRUFMKSB7XG4gICAgcmVhbERhdGEgPSByZWFsRGF0YS5tYXAoKHJvdykgPT4gcm93Lm1hcCg8YW55PnBhcnNlSW50KSk7XG4gIH1cblxuICBjb25zdCBkZXNjID0gbWl4aW4oY3JlYXRlRGVmYXVsdE1hdHJpeERlc2MoKSwge1xuICAgIHNpemU6IFtyb3dzLmxlbmd0aCwgY29scy5sZW5ndGhdLFxuICAgIHZhbHVlOiB2YWx1ZVR5cGVcbiAgfSwgb3B0aW9ucyk7XG5cbiAgY29uc3Qgcm93QXNzaWduZXIgPSBvcHRpb25zLnJvd2Fzc2lnbmVyIHx8IGNyZWF0ZUxvY2FsQXNzaWduZXIoKTtcbiAgY29uc3QgY29sQXNzaWduZXIgPSBvcHRpb25zLnJvd2Fzc2lnbmVyIHx8IGNyZWF0ZUxvY2FsQXNzaWduZXIoKTtcbiAgY29uc3QgbG9hZGVyOiBJTWF0cml4TG9hZGVyMjxhbnk+ID0ge1xuICAgIHJvd0lkczogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKSA9PiBQcm9taXNlLnJlc29sdmUocm93QXNzaWduZXIocmFuZ2UuZmlsdGVyKHJvd3MpKSksXG4gICAgY29sSWRzOiAoZGVzYzogSU1hdHJpeERhdGFEZXNjcmlwdGlvbjxhbnk+LCByYW5nZTogUmFuZ2UpID0+IFByb21pc2UucmVzb2x2ZShjb2xBc3NpZ25lcihyYW5nZS5maWx0ZXIoY29scykpKSxcbiAgICBpZHM6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4ge1xuICAgICAgY29uc3QgcmMgPSByb3dBc3NpZ25lcihyYW5nZS5kaW0oMCkuZmlsdGVyKHJvd3MpKTtcbiAgICAgIGNvbnN0IGNjID0gY29sQXNzaWduZXIocmFuZ2UuZGltKDEpLmZpbHRlcihjb2xzKSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGpvaW4ocmMsIGNjKSk7XG4gICAgfSxcbiAgICBhdDogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgaSwgaikgPT4gUHJvbWlzZS5yZXNvbHZlKHJlYWxEYXRhW2ldW2pdKSxcbiAgICByb3dzOiAoZGVzYzogSU1hdHJpeERhdGFEZXNjcmlwdGlvbjxhbnk+LCByYW5nZTogUmFuZ2UpID0+IFByb21pc2UucmVzb2x2ZShyYW5nZS5maWx0ZXIocm93cykpLFxuICAgIGNvbHM6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4gUHJvbWlzZS5yZXNvbHZlKHJhbmdlLmZpbHRlcihjb2xzKSksXG4gICAgZGF0YTogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKSA9PiBQcm9taXNlLnJlc29sdmUocmFuZ2UuZmlsdGVyKHJlYWxEYXRhKSlcbiAgfTtcbiAgcmV0dXJuIG5ldyBNYXRyaXgoZGVzYywgbG9hZGVyKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYXRyaXgvTWF0cml4LnRzIiwiaW1wb3J0IHtJUmVnaXN0cnksIGFzUmVzb3VyY2V9IGZyb20gJy4vcGx1Z2luJztcbmltcG9ydCB7RVBfUEhPVkVBX0NPUkVfTE9DQUxFLCBJTG9jYWxlRVBEZXNjfSBmcm9tICcuL2V4dGVuc2lvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocmVnaXN0cnk6IElSZWdpc3RyeSkge1xuICAvL3JlZ2lzdHJ5LnB1c2goJ2V4dGVuc2lvbi10eXBlJywgJ2V4dGVuc2lvbi1pZCcsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU3lzdGVtLmltcG9ydCgnLi9leHRlbnNpb25faW1wbCcpOyB9LCB7fSk7XG4gIC8vLyAjaWYgaW5jbHVkZSgnZGF0YXR5cGUnLCAnbWF0cml4JylcbiAgcmVnaXN0cnkucHVzaCgnZGF0YXR5cGUnLCAnbWF0cml4JywgZnVuY3Rpb24gKCkge3JldHVybiBTeXN0ZW0uaW1wb3J0KCcuL21hdHJpeC9NYXRyaXgnKTt9LCB7fSk7XG4gIC8vLyAjZW5kaWZcbiAgLy8vICNpZiBpbmNsdWRlKCdkYXRhdHlwZScsICd0YWJsZScpXG4gIHJlZ2lzdHJ5LnB1c2goJ2RhdGF0eXBlJywgJ3RhYmxlJywgZnVuY3Rpb24gKCkge3JldHVybiBTeXN0ZW0uaW1wb3J0KCcuL3RhYmxlL1RhYmxlJyk7fSwge30pO1xuICAvLy8gI2VuZGlmXG4gIC8vLyAjaWYgaW5jbHVkZSgnZGF0YXR5cGUnLCAndmVjdG9yJylcbiAgcmVnaXN0cnkucHVzaCgnZGF0YXR5cGUnLCAndmVjdG9yJywgZnVuY3Rpb24gKCkge3JldHVybiBTeXN0ZW0uaW1wb3J0KCcuL3ZlY3Rvci9WZWN0b3InKTt9LCB7fSk7XG4gIC8vLyAjZW5kaWZcbiAgLy8vICNpZiBpbmNsdWRlKCdkYXRhdHlwZScsICdzdHJhdGlmaWNhdGlvbicpXG4gIHJlZ2lzdHJ5LnB1c2goJ2RhdGF0eXBlJywgJ3N0cmF0aWZpY2F0aW9uJywgZnVuY3Rpb24gKCkge3JldHVybiBTeXN0ZW0uaW1wb3J0KCcuL3N0cmF0aWZpY2F0aW9uL1N0cmF0aWZpY2F0aW9uJyk7fSwge30pO1xuICAvLy8gI2VuZGlmXG4gIC8vLyAjaWYgaW5jbHVkZSgnZGF0YXR5cGUnLCAnZ3JhcGgnKVxuICByZWdpc3RyeS5wdXNoKCdkYXRhdHlwZScsICdncmFwaCcsIGZ1bmN0aW9uICgpIHtyZXR1cm4gU3lzdGVtLmltcG9ydCgnLi9ncmFwaC9HcmFwaFByb3h5Jyk7fSwge30pO1xuICAvLy8gI2VuZGlmXG4gIC8vLyAjaWYgaW5jbHVkZSgnZGF0YXR5cGUnLCAnYXRvbScpXG4gIHJlZ2lzdHJ5LnB1c2goJ2RhdGF0eXBlJywgJ2F0b20nLCBmdW5jdGlvbiAoKSB7cmV0dXJuIFN5c3RlbS5pbXBvcnQoJy4vYXRvbS9BdG9tJyk7fSwge30pO1xuICAvLy8gI2VuZGlmXG4gIC8vLyAjaWYgaW5jbHVkZSgndGFiU3luY2VyJywgJ3NlbGVjdGlvbicpXG4gIHJlZ2lzdHJ5LnB1c2goJ3RhYlN5bmNlcicsICdzZWxlY3Rpb24nLCBmdW5jdGlvbiAoKSB7cmV0dXJuIFN5c3RlbS5pbXBvcnQoJy4vc3luYy9TZWxlY3Rpb25TeW5jZXInKTt9LCB7fSk7XG4gIC8vLyAjZW5kaWZcblxuICByZWdpc3RyeS5wdXNoKEVQX1BIT1ZFQV9DT1JFX0xPQ0FMRSwgJ3Bob3ZlYUNvcmVMb2NhbGVFTicsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gU3lzdGVtLmltcG9ydCgnLi9hc3NldHMvbG9jYWxlcy9lbi9waG92ZWEuanNvbicpLnRoZW4oYXNSZXNvdXJjZSk7XG4gIH0sIDxJTG9jYWxlRVBEZXNjPntcbiAgICBuczogJ3Bob3ZlYScsXG4gIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Bob3ZlYS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuXG5pbXBvcnQge0dyYXBoTm9kZSwgQXR0cmlidXRlQ29udGFpbmVyLCBpc1R5cGV9IGZyb20gJy4uL2dyYXBoL2dyYXBoJztcbmltcG9ydCBPYmplY3ROb2RlLCB7b3AsIGNhdCwgSU9iamVjdFJlZn0gZnJvbSAnLi9PYmplY3ROb2RlJztcbmltcG9ydCBTdGF0ZU5vZGUgZnJvbSAnLi9TdGF0ZU5vZGUnO1xuaW1wb3J0IFByb3ZlbmFuY2VHcmFwaCwge0lDbWRGdW5jdGlvbiwgSUNtZFJlc3VsdCwgSUludmVyc2VBY3Rpb25DcmVhdG9yLCBJQ21kRnVuY3Rpb25GYWN0b3J5fSBmcm9tICcuL1Byb3ZlbmFuY2VHcmFwaCc7XG5pbXBvcnQge2N1cnJlbnRVc2VyTmFtZU9yQW5vbnltb3VzfSBmcm9tICcuLi9zZWN1cml0eSc7XG5pbXBvcnQge3Jlc29sdmVJbW1lZGlhdGVseX0gZnJvbSAnLi4vaW50ZXJuYWwvcHJvbWlzZSc7XG5cbi8qKlxuICogYWRkaXRpb25hbCBkYXRhIGFib3V0IGEgcGVyZm9ybWVkIGFjdGlvblxuICovXG5leHBvcnQgY2xhc3MgQWN0aW9uTWV0YURhdGEge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY2F0ZWdvcnk6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG9wZXJhdGlvbjogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgdGltZXN0YW1wOiBudW1iZXIgPSBEYXRlLm5vdygpLCBwdWJsaWMgcmVhZG9ubHkgdXNlcjogc3RyaW5nID0gY3VycmVudFVzZXJOYW1lT3JBbm9ueW1vdXMoKSkge1xuXG4gIH1cblxuICBzdGF0aWMgcmVzdG9yZShwOiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IEFjdGlvbk1ldGFEYXRhKHAuY2F0ZWdvcnksIHAub3BlcmF0aW9uLCBwLm5hbWUsIHAudGltZXN0YW1wLCBwLnVzZXIpO1xuICB9XG5cbiAgZXEodGhhdDogQWN0aW9uTWV0YURhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5jYXRlZ29yeSA9PT0gdGhhdC5jYXRlZ29yeSAmJiB0aGlzLm9wZXJhdGlvbiA9PT0gdGhhdC5vcGVyYXRpb24gJiYgdGhpcy5uYW1lID09PSB0aGF0Lm5hbWU7XG4gIH1cblxuICAvKipcbiAgICogY2hlY2tzIHdoZXRoZXIgdGhpcyBtZXRhZGF0YSBhcmUgdGhlIGludmVyc2Ugb2YgdGhlIGdpdmVuIG9uZSBpbiB0ZXJtcyBvZiBjYXRlZ29yeSBhbmQgb3BlcmF0aW9uXG4gICAqIEBwYXJhbSB0aGF0XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaW52KHRoYXQ6IEFjdGlvbk1ldGFEYXRhKSB7XG4gICAgaWYgKHRoaXMuY2F0ZWdvcnkgIT09IHRoYXQuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3BlcmF0aW9uID09PSBvcC51cGRhdGUpIHtcbiAgICAgIHJldHVybiB0aGF0Lm9wZXJhdGlvbiA9PT0gb3AudXBkYXRlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb24gPT09IG9wLmNyZWF0ZSA/IHRoYXQub3BlcmF0aW9uID09PSBvcC5yZW1vdmUgOiB0aGF0Lm9wZXJhdGlvbiA9PT0gb3AuY3JlYXRlO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuY2F0ZWdvcnl9OiR7dGhpcy5vcGVyYXRpb259ICR7dGhpcy5uYW1lfWA7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ldGEobmFtZTogc3RyaW5nLCBjYXRlZ29yeTogc3RyaW5nID0gY2F0LmRhdGEsIG9wZXJhdGlvbjogc3RyaW5nID0gb3AudXBkYXRlLCB0aW1lc3RhbXA6IG51bWJlciA9IERhdGUubm93KCksIHVzZXI6IHN0cmluZyA9IGN1cnJlbnRVc2VyTmFtZU9yQW5vbnltb3VzKCkpIHtcbiAgcmV0dXJuIG5ldyBBY3Rpb25NZXRhRGF0YShjYXRlZ29yeSwgb3BlcmF0aW9uLCBuYW1lLCB0aW1lc3RhbXAsIHVzZXIpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBY3Rpb24ge1xuICByZWFkb25seSBtZXRhOiBBY3Rpb25NZXRhRGF0YTtcbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgZjogSUNtZEZ1bmN0aW9uO1xuICByZWFkb25seSBpbnB1dHM/OiBJT2JqZWN0UmVmPGFueT5bXTtcbiAgcmVhZG9ubHkgcGFyYW1ldGVyPzogYW55O1xufVxuXG4vKipcbiAqIGNyZWF0ZXMgYW4gYWN0aW9uIGdpdmVuIHRoZSBkYXRhXG4gKiBAcGFyYW0gbWV0YVxuICogQHBhcmFtIGlkXG4gKiBAcGFyYW0gZlxuICogQHBhcmFtIGlucHV0c1xuICogQHBhcmFtIHBhcmFtZXRlclxuICogQHJldHVybnMge3ttZXRhOiBBY3Rpb25NZXRhRGF0YSwgaWQ6IHN0cmluZywgZjogKGZ1bmN0aW9uKElPYmplY3RSZWY8YW55PltdLCBhbnksIFByb3ZlbmFuY2VHcmFwaCk6IElDbWRSZXN1bHQpLCBpbnB1dHM6IElPYmplY3RSZWY8YW55PltdLCBwYXJhbWV0ZXI6IGFueX19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb24obWV0YTogQWN0aW9uTWV0YURhdGEsIGlkOiBzdHJpbmcsIGY6IElDbWRGdW5jdGlvbiwgaW5wdXRzOiBJT2JqZWN0UmVmPGFueT5bXSA9IFtdLCBwYXJhbWV0ZXI6IGFueSA9IHt9KTogSUFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgIG1ldGEsXG4gICAgaWQsXG4gICAgZixcbiAgICBpbnB1dHMsXG4gICAgcGFyYW1ldGVyXG4gIH07XG59XG5cbi8qKlxuICogY29tcGFyYXRvciBieSBpbmRleFxuICogQHBhcmFtIGFcbiAqIEBwYXJhbSBiXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBieUluZGV4KGE6IEF0dHJpYnV0ZUNvbnRhaW5lciwgYjogQXR0cmlidXRlQ29udGFpbmVyKSB7XG4gIGNvbnN0IGFpID0gK2EuZ2V0QXR0cignaW5kZXgnLCAwKTtcbiAgY29uc3QgYmkgPSArYi5nZXRBdHRyKCdpbmRleCcsIDApO1xuICByZXR1cm4gYWkgLSBiaTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3Rpb25Ob2RlIGV4dGVuZHMgR3JhcGhOb2RlIHtcbiAgcHJpdmF0ZSBpbnZlcnRlcjogSUludmVyc2VBY3Rpb25DcmVhdG9yO1xuXG4gIGNvbnN0cnVjdG9yKG1ldGE6IEFjdGlvbk1ldGFEYXRhLCBmdW5jdGlvbklkOiBzdHJpbmcsIHByaXZhdGUgZjogSUNtZEZ1bmN0aW9uLCBwYXJhbWV0ZXI6IGFueSA9IHt9KSB7XG4gICAgc3VwZXIoJ2FjdGlvbicpO1xuICAgIHN1cGVyLnNldEF0dHIoJ21ldGEnLCBtZXRhKTtcbiAgICBzdXBlci5zZXRBdHRyKCdmX2lkJywgZnVuY3Rpb25JZCk7XG4gICAgc3VwZXIuc2V0QXR0cigncGFyYW1ldGVyJywgcGFyYW1ldGVyKTtcbiAgfVxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgQWN0aW9uTm9kZSh0aGlzLm1ldGEsIHRoaXMuZl9pZCwgdGhpcy5mLCB0aGlzLnBhcmFtZXRlcik7XG4gIH1cblxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXRhLm5hbWU7XG4gIH1cblxuICBnZXQgbWV0YSgpOiBBY3Rpb25NZXRhRGF0YSB7XG4gICAgcmV0dXJuIHN1cGVyLmdldEF0dHIoJ21ldGEnKTtcbiAgfVxuXG4gIGdldCBmX2lkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLmdldEF0dHIoJ2ZfaWQnKTtcbiAgfVxuXG4gIGdldCBwYXJhbWV0ZXIoKTogYW55IHtcbiAgICByZXR1cm4gc3VwZXIuZ2V0QXR0cigncGFyYW1ldGVyJyk7XG4gIH1cblxuICBzZXQgcGFyYW1ldGVyKHZhbHVlOiBhbnkpIHtcbiAgICBzdXBlci5zZXRBdHRyKCdwYXJhbWV0ZXInLCB2YWx1ZSk7XG4gIH1cblxuICBnZXQgb25jZUV4ZWN1dGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdXBlci5nZXRBdHRyKCdvbmNlRXhlY3V0ZWQnLCBmYWxzZSk7XG4gIH1cblxuICBzZXQgb25jZUV4ZWN1dGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMub25jZUV4ZWN1dGVkICE9PSB2YWx1ZSkge1xuICAgICAgc3VwZXIuc2V0QXR0cignb25jZUV4ZWN1dGVkJywgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyByZXN0b3JlKHI6IGFueSwgZmFjdG9yeTogSUNtZEZ1bmN0aW9uRmFjdG9yeSkge1xuICAgIGNvbnN0IGEgPSBuZXcgQWN0aW9uTm9kZShBY3Rpb25NZXRhRGF0YS5yZXN0b3JlKHIuYXR0cnMubWV0YSksIHIuYXR0cnMuZl9pZCwgZmFjdG9yeShyLmF0dHJzLmZfaWQpLCByLmF0dHJzLnBhcmFtZXRlcik7XG4gICAgcmV0dXJuIGEucmVzdG9yZShyKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1ldGEubmFtZTtcbiAgfVxuXG4gIGdldCBpbnZlcnNlZEJ5KCkge1xuICAgIGNvbnN0IHIgPSB0aGlzLmluY29taW5nLmZpbHRlcihpc1R5cGUoJ2ludmVyc2VzJykpWzBdO1xuICAgIHJldHVybiByID8gPEFjdGlvbk5vZGU+ci5zb3VyY2UgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIGludmVyc2VzIGFub3RoZXIgYWN0aW9uXG4gICAqIEByZXR1cm5zIHtBY3Rpb25Ob2RlfVxuICAgKi9cbiAgZ2V0IGludmVyc2VzKCkge1xuICAgIGNvbnN0IHIgPSB0aGlzLm91dGdvaW5nLmZpbHRlcihpc1R5cGUoJ2ludmVyc2VzJykpWzBdO1xuICAgIHJldHVybiByID8gPEFjdGlvbk5vZGU+ci50YXJnZXQgOiBudWxsO1xuICB9XG5cbiAgZ2V0IGlzSW52ZXJzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRnb2luZy5maWx0ZXIoaXNUeXBlKCdpbnZlcnNlcycpKVswXSAhPSBudWxsO1xuICB9XG5cbiAgZ2V0T3JDcmVhdGVJbnZlcnNlKGdyYXBoOiBQcm92ZW5hbmNlR3JhcGgpIHtcbiAgICBjb25zdCBpID0gdGhpcy5pbnZlcnNlZEJ5O1xuICAgIGlmIChpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW52ZXJ0ZXIpIHtcbiAgICAgIHJldHVybiBncmFwaC5jcmVhdGVJbnZlcnNlKHRoaXMsIHRoaXMuaW52ZXJ0ZXIpO1xuICAgIH1cbiAgICB0aGlzLmludmVydGVyID0gbnVsbDsgLy9ub3QgbmVlZGVkIGFueW1vcmVcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHVwZGF0ZUludmVyc2UoZ3JhcGg6IFByb3ZlbmFuY2VHcmFwaCwgaW52ZXJ0ZXI6IElJbnZlcnNlQWN0aW9uQ3JlYXRvcikge1xuICAgIGNvbnN0IGkgPSB0aGlzLmludmVyc2VkQnk7XG4gICAgaWYgKGkpIHsgLy91cGRhdGUgd2l0aCB0aGUgYWN0dWFsIHZhbHVlcyAvIHBhcmFtZXRlciBvbmx5XG4gICAgICBjb25zdCBjID0gaW52ZXJ0ZXIuY2FsbCh0aGlzLCB0aGlzLnJlcXVpcmVzLCB0aGlzLmNyZWF0ZXMsIHRoaXMucmVtb3Zlcyk7XG4gICAgICBpLnBhcmFtZXRlciA9IGMucGFyYW1ldGVyO1xuICAgICAgdGhpcy5pbnZlcnRlciA9IG51bGw7XG4gICAgfSBlbHNlIGlmICghdGhpcy5pc0ludmVyc2UpIHtcbiAgICAgIC8vY3JlYXRlIGludmVyc2UgYWN0aW9uIGltbWVkaWF0ZWxseVxuICAgICAgZ3JhcGguY3JlYXRlSW52ZXJzZSh0aGlzLCBpbnZlcnRlcik7XG4gICAgICB0aGlzLmludmVydGVyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbnZlcnRlciA9IGludmVydGVyO1xuICAgIH1cbiAgfVxuXG4gIGV4ZWN1dGUoZ3JhcGg6IFByb3ZlbmFuY2VHcmFwaCwgd2l0aGluTWlsbGlzZWNvbmRzOiBudW1iZXIpOiBQcm9taXNlTGlrZTxJQ21kUmVzdWx0PiB7XG4gICAgY29uc3QgciA9IHRoaXMuZi5jYWxsKHRoaXMsIHRoaXMucmVxdWlyZXMsIHRoaXMucGFyYW1ldGVyLCBncmFwaCwgPG51bWJlcj53aXRoaW5NaWxsaXNlY29uZHMpO1xuICAgIHJldHVybiByZXNvbHZlSW1tZWRpYXRlbHkocik7XG4gIH1cblxuICBlcXVhbHModGhhdDogQWN0aW9uTm9kZSk6IGJvb2xlYW4ge1xuICAgIGlmICghKHRoaXMubWV0YS5jYXRlZ29yeSA9PT0gdGhhdC5tZXRhLmNhdGVnb3J5ICYmIHRoYXQubWV0YS5vcGVyYXRpb24gPT09IHRoYXQubWV0YS5vcGVyYXRpb24pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLmZfaWQgIT09IHRoYXQuZl9pZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvL1RPRE8gY2hlY2sgcGFyYW1ldGVycyBpZiB0aGV5IGFyZSB0aGUgc2FtZVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0IHVzZXMoKTogT2JqZWN0Tm9kZTxhbnk+W10ge1xuICAgIHJldHVybiB0aGlzLm91dGdvaW5nLmZpbHRlcihpc1R5cGUoLyhjcmVhdGVzfHJlbW92ZXN8cmVxdWlyZXMpLykpLm1hcCgoZSkgPT4gPE9iamVjdE5vZGU8YW55Pj5lLnRhcmdldCk7XG4gIH1cblxuICBnZXQgY3JlYXRlcygpOiBPYmplY3ROb2RlPGFueT5bXSB7XG4gICAgcmV0dXJuIHRoaXMub3V0Z29pbmcuZmlsdGVyKGlzVHlwZSgnY3JlYXRlcycpKS5tYXAoKGUpID0+IDxPYmplY3ROb2RlPGFueT4+ZS50YXJnZXQpO1xuICB9XG5cbiAgZ2V0IHJlbW92ZXMoKTogT2JqZWN0Tm9kZTxhbnk+W10ge1xuICAgIHJldHVybiB0aGlzLm91dGdvaW5nLmZpbHRlcihpc1R5cGUoJ3JlbW92ZXMnKSkuc29ydChieUluZGV4KS5tYXAoKGUpID0+IDxPYmplY3ROb2RlPGFueT4+ZS50YXJnZXQpO1xuICB9XG5cbiAgZ2V0IHJlcXVpcmVzKCk6IE9iamVjdE5vZGU8YW55PltdIHtcbiAgICByZXR1cm4gdGhpcy5vdXRnb2luZy5maWx0ZXIoaXNUeXBlKCdyZXF1aXJlcycpKS5zb3J0KGJ5SW5kZXgpLm1hcCgoZSkgPT4gPE9iamVjdE5vZGU8YW55Pj5lLnRhcmdldCk7XG4gIH1cblxuICBnZXQgcmVzdWx0c0luKCk6IFN0YXRlTm9kZSB7XG4gICAgY29uc3QgciA9IHRoaXMub3V0Z29pbmcuZmlsdGVyKGlzVHlwZSgncmVzdWx0c0luJykpWzBdO1xuICAgIHJldHVybiByID8gPFN0YXRlTm9kZT5yLnRhcmdldCA6IG51bGw7XG4gIH1cblxuICBnZXQgcHJldmlvdXMoKTogU3RhdGVOb2RlIHtcbiAgICBjb25zdCByID0gdGhpcy5pbmNvbWluZy5maWx0ZXIoaXNUeXBlKCduZXh0JykpWzBdO1xuICAgIHJldHVybiByID8gPFN0YXRlTm9kZT5yLnNvdXJjZSA6IG51bGw7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9wcm92ZW5hbmNlL0FjdGlvbk5vZGUudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgc2FtIG9uIDEyLjAyLjIwMTUuXG4gKi9cbmltcG9ydCB7bWl4aW59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCBQcm92ZW5hbmNlR3JhcGgsIHtcbiAgSVByb3ZlbmFuY2VHcmFwaE1hbmFnZXIsXG4gIHByb3ZlbmFuY2VHcmFwaEZhY3RvcnksXG4gIElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb25cbn0gZnJvbSAnLi9Qcm92ZW5hbmNlR3JhcGgnO1xuaW1wb3J0IEdyYXBoQmFzZSBmcm9tICcuLi9ncmFwaC9HcmFwaEJhc2UnO1xuaW1wb3J0IExvY2FsU3RvcmFnZUdyYXBoIGZyb20gJy4uL2dyYXBoL0xvY2FsU3RvcmFnZUdyYXBoJztcbmltcG9ydCB7QUxMX1JFQURfTk9ORSwgY3VycmVudFVzZXJOYW1lT3JBbm9ueW1vdXN9IGZyb20gJy4uL3NlY3VyaXR5JztcbmltcG9ydCBNZW1vcnlHcmFwaCBmcm9tICcuLi9ncmFwaC9NZW1vcnlHcmFwaCc7XG5pbXBvcnQge3Jlc29sdmVJbW1lZGlhdGVseX0gZnJvbSAnLi4vaW50ZXJuYWwvcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2FsU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXIgaW1wbGVtZW50cyBJUHJvdmVuYW5jZUdyYXBoTWFuYWdlciB7XG4gIHByaXZhdGUgb3B0aW9ucyA9IHtcbiAgICBzdG9yYWdlOiBsb2NhbFN0b3JhZ2UsXG4gICAgcHJlZml4OiAnY2x1ZScsXG4gICAgYXBwbGljYXRpb246ICd1bmtub3duJ1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIG1peGluKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIGxvYWRGcm9tTG9jYWxTdG9yYWdlPFQ+KHN1ZmZpeDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFQpOiBUIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMub3B0aW9ucy5zdG9yYWdlLmdldEl0ZW0odGhpcy5vcHRpb25zLnByZWZpeCArIHN1ZmZpeCk7XG4gICAgICBpZihpdGVtID09PSB1bmRlZmluZWQgfHwgaXRlbSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoaXRlbSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gIH1cblxuICBsaXN0U3luYygpOiBJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uW10ge1xuICAgIGNvbnN0IGxpc3RzIDogc3RyaW5nW10gPSB0aGlzLmxvYWRGcm9tTG9jYWxTdG9yYWdlKCdfcHJvdmVuYW5jZV9ncmFwaHMnLCBbXSk7XG4gICAgcmV0dXJuIGxpc3RzXG4gICAgICAubWFwKChpZCkgPT4gPGFueT50aGlzLmxvYWRGcm9tTG9jYWxTdG9yYWdlKCdfcHJvdmVuYW5jZV9ncmFwaC4nICsgaWQsIHt9KSlcbiAgICAgIC8vIGZpbHRlciB0byByaWdodCBhcHBsaWNhdGlvblxuICAgICAgLmZpbHRlcigoZDogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbikgPT4gZC5hdHRycyAmJiBkLmF0dHJzLm9mID09PSB0aGlzLm9wdGlvbnMuYXBwbGljYXRpb24pO1xuICB9XG5cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KHRoaXMubGlzdFN5bmMoKSk7XG4gIH1cblxuXG4gIGdldEdyYXBoKGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlTGlrZTxMb2NhbFN0b3JhZ2VHcmFwaD4ge1xuICAgIHJldHVybiByZXNvbHZlSW1tZWRpYXRlbHkoTG9jYWxTdG9yYWdlR3JhcGgubG9hZChkZXNjLCBwcm92ZW5hbmNlR3JhcGhGYWN0b3J5KCksIHRoaXMub3B0aW9ucy5zdG9yYWdlKSk7XG4gIH1cblxuICBhc3luYyBnZXQoZGVzYzogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbik6IFByb21pc2U8UHJvdmVuYW5jZUdyYXBoPiB7XG4gICAgcmV0dXJuIG5ldyBQcm92ZW5hbmNlR3JhcGgoZGVzYywgYXdhaXQgdGhpcy5nZXRHcmFwaChkZXNjKSk7XG4gIH1cblxuICBhc3luYyBjbG9uZShncmFwaDogR3JhcGhCYXNlLCBkZXNjOiBhbnkgPSB7fSk6IFByb21pc2U8UHJvdmVuYW5jZUdyYXBoPiB7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBgQ2xvbmVkIGZyb20gJHtncmFwaC5kZXNjLm5hbWV9IGNyZWF0ZWQgYnkgJHtncmFwaC5kZXNjLmNyZWF0b3J9XFxuJHsoZ3JhcGguZGVzYy5kZXNjcmlwdGlvbiB8fCAnJyl9YDtcbiAgICBjb25zdCBwZGVzYyA9IHRoaXMuY3JlYXRlRGVzYyhtaXhpbih7bmFtZTogZ3JhcGguZGVzYy5uYW1lLCBkZXNjcmlwdGlvbn0sIGRlc2MpKTtcbiAgICBjb25zdCBuZXdHcmFwaCA9IGF3YWl0IHRoaXMuZ2V0R3JhcGgocGRlc2MpO1xuICAgIG5ld0dyYXBoLnJlc3RvcmVEdW1wKGdyYXBoLnBlcnNpc3QoKSwgcHJvdmVuYW5jZUdyYXBoRmFjdG9yeSgpKTtcbiAgICByZXR1cm4gbmV3IFByb3ZlbmFuY2VHcmFwaChwZGVzYywgbmV3R3JhcGgpO1xuICB9XG5cbiAgYXN5bmMgaW1wb3J0KGpzb246IGFueSwgZGVzYzogYW55ID0ge30pOiBQcm9taXNlPFByb3ZlbmFuY2VHcmFwaD4ge1xuICAgIGNvbnN0IHBkZXNjID0gdGhpcy5jcmVhdGVEZXNjKGRlc2MpO1xuICAgIGNvbnN0IG5ld0dyYXBoID0gYXdhaXQgdGhpcy5nZXRHcmFwaChwZGVzYyk7XG4gICAgbmV3R3JhcGgucmVzdG9yZUR1bXAoanNvbiwgcHJvdmVuYW5jZUdyYXBoRmFjdG9yeSgpKTtcbiAgICByZXR1cm4gbmV3IFByb3ZlbmFuY2VHcmFwaChwZGVzYywgbmV3R3JhcGgpO1xuICB9XG5cbiAgZGVsZXRlKGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pIHtcbiAgICBjb25zdCBsaXN0cyA9IEpTT04ucGFyc2UodGhpcy5vcHRpb25zLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm9wdGlvbnMucHJlZml4ICsgJ19wcm92ZW5hbmNlX2dyYXBocycpIHx8ICdbXScpO1xuICAgIGxpc3RzLnNwbGljZShsaXN0cy5pbmRleE9mKGRlc2MuaWQpLCAxKTtcbiAgICBMb2NhbFN0b3JhZ2VHcmFwaC5kZWxldGUoZGVzYywgdGhpcy5vcHRpb25zLnN0b3JhZ2UpO1xuICAgIC8vanVzdCByZW1vdmUgZnJvbSB0aGUgbGlzdFxuICAgIHRoaXMub3B0aW9ucy5zdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5vcHRpb25zLnByZWZpeCArICdfcHJvdmVuYW5jZV9ncmFwaC4nICsgZGVzYy5pZCk7XG4gICAgdGhpcy5vcHRpb25zLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm9wdGlvbnMucHJlZml4ICsgJ19wcm92ZW5hbmNlX2dyYXBocycsIEpTT04uc3RyaW5naWZ5KGxpc3RzKSk7XG4gICAgcmV0dXJuIHJlc29sdmVJbW1lZGlhdGVseSh0cnVlKTtcbiAgfVxuXG4gIGVkaXQoZ3JhcGg6IFByb3ZlbmFuY2VHcmFwaHxJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uLCBkZXNjOiBhbnkgPSB7fSkge1xuICAgIGNvbnN0IGJhc2UgPSBncmFwaCBpbnN0YW5jZW9mIFByb3ZlbmFuY2VHcmFwaCA/IGdyYXBoLmRlc2MgOiBncmFwaDtcbiAgICBtaXhpbihiYXNlLCBkZXNjKTtcbiAgICB0aGlzLm9wdGlvbnMuc3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5wcmVmaXggKyAnX3Byb3ZlbmFuY2VfZ3JhcGguJyArIGJhc2UuaWQsIEpTT04uc3RyaW5naWZ5KGJhc2UpKTtcbiAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KGJhc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEZXNjKG92ZXJyaWRlczogYW55ID0ge30pIHtcbiAgICBjb25zdCBsaXN0czogc3RyaW5nW10gPSBKU09OLnBhcnNlKHRoaXMub3B0aW9ucy5zdG9yYWdlLmdldEl0ZW0odGhpcy5vcHRpb25zLnByZWZpeCArICdfcHJvdmVuYW5jZV9ncmFwaHMnKSB8fCAnW10nKTtcbiAgICBjb25zdCB1aWQgPSAobGlzdHMubGVuZ3RoID4gMCA/IFN0cmluZygxICsgTWF0aC5tYXgoLi4ubGlzdHMubWFwKChkKSA9PiBwYXJzZUludChkLnNsaWNlKHRoaXMub3B0aW9ucy5wcmVmaXgubGVuZ3RoKSwgMTApKSkpIDogJzAnKTtcbiAgICBjb25zdCBpZCA9IHRoaXMub3B0aW9ucy5wcmVmaXggKyB1aWQ7XG4gICAgY29uc3QgZGVzYzogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbiA9IG1peGluKHtcbiAgICAgIHR5cGU6ICdwcm92ZW5hbmNlX2dyYXBoJyxcbiAgICAgIG5hbWU6ICdUZW1wb3JhcnkgU2Vzc2lvbiAnICsgdWlkLFxuICAgICAgZnFuYW1lOiB0aGlzLm9wdGlvbnMucHJlZml4ICsgJ1RlbXBvcmFyeSBTZXNzaW9uICcgKyB1aWQsXG4gICAgICBpZCxcbiAgICAgIGxvY2FsOiB0cnVlLFxuICAgICAgc2l6ZTogPFtudW1iZXIsIG51bWJlcl0+WzAsIDBdLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgZ3JhcGh0eXBlOiAncHJvdmVuYW5jZV9ncmFwaCcsXG4gICAgICAgIG9mOiB0aGlzLm9wdGlvbnMuYXBwbGljYXRpb25cbiAgICAgIH0sXG4gICAgICBjcmVhdG9yOiBjdXJyZW50VXNlck5hbWVPckFub255bW91cygpLFxuICAgICAgcGVybWlzc2lvbnM6IEFMTF9SRUFEX05PTkUsXG4gICAgICB0czogRGF0ZS5ub3coKSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnJ1xuICAgIH0sIG92ZXJyaWRlcyk7XG4gICAgbGlzdHMucHVzaChpZCk7XG4gICAgdGhpcy5vcHRpb25zLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm9wdGlvbnMucHJlZml4ICsgJ19wcm92ZW5hbmNlX2dyYXBocycsIEpTT04uc3RyaW5naWZ5KGxpc3RzKSk7XG4gICAgdGhpcy5vcHRpb25zLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm9wdGlvbnMucHJlZml4ICsgJ19wcm92ZW5hbmNlX2dyYXBoLicgKyBpZCwgSlNPTi5zdHJpbmdpZnkoZGVzYykpO1xuICAgIHJldHVybiBkZXNjO1xuICB9XG5cbiAgY3JlYXRlKGRlc2M6IGFueSA9IHt9KSB7XG4gICAgY29uc3QgcGRlc2MgPSB0aGlzLmNyZWF0ZURlc2MoZGVzYyk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KHBkZXNjKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSW5NZW1vcnlEZXNjKGJhc2U/OiBJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uKTogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbiB7XG4gICAgcmV0dXJuIG1peGluKHtcbiAgICAgIHR5cGU6ICdwcm92ZW5hbmNlX2dyYXBoJyxcbiAgICAgIG5hbWU6ICdJbiBNZW1vcnkgU2Vzc2lvbicsXG4gICAgICBmcW5hbWU6ICdJbiBNZW1vcnkgU2Vzc2lvbicsXG4gICAgICBpZDogJ21lbW9yeScsXG4gICAgICBsb2NhbDogdHJ1ZSxcbiAgICAgIHNpemU6IDxbbnVtYmVyLCBudW1iZXJdPlswLCAwXSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGdyYXBodHlwZTogJ3Byb3ZlbmFuY2VfZ3JhcGgnLFxuICAgICAgICBvZjogdGhpcy5vcHRpb25zLmFwcGxpY2F0aW9uXG4gICAgICB9LFxuICAgICAgY3JlYXRvcjogY3VycmVudFVzZXJOYW1lT3JBbm9ueW1vdXMoKSxcbiAgICAgIHBlcm1pc3Npb25zOiBBTExfUkVBRF9OT05FLFxuICAgICAgdHM6IERhdGUubm93KCksXG4gICAgICBkZXNjcmlwdGlvbjogJydcbiAgICB9LCBiYXNlPyBiYXNlIDoge30sIHtcbiAgICAgIGlkOiAnbWVtb3J5JyxcbiAgICAgIGxvY2FsOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVJbk1lbW9yeSgpIHtcbiAgICBjb25zdCBkZXNjID0gdGhpcy5jcmVhdGVJbk1lbW9yeURlc2MoKTtcbiAgICByZXR1cm4gbmV3IFByb3ZlbmFuY2VHcmFwaChkZXNjLCBuZXcgTWVtb3J5R3JhcGgoZGVzYywgW10sIFtdLCBwcm92ZW5hbmNlR3JhcGhGYWN0b3J5KCkpKTtcbiAgfVxuXG4gIGNsb25lSW5NZW1vcnkoZ3JhcGg6IEdyYXBoQmFzZSkge1xuICAgIGNvbnN0IGRlc2MgPSB0aGlzLmNyZWF0ZUluTWVtb3J5RGVzYyg8SVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbj5ncmFwaC5kZXNjKTtcbiAgICBjb25zdCBtID0gbmV3IE1lbW9yeUdyYXBoKGRlc2MsIFtdLCBbXSwgcHJvdmVuYW5jZUdyYXBoRmFjdG9yeSgpKTtcbiAgICBtLnJlc3RvcmUoZ3JhcGgucGVyc2lzdCgpKTtcbiAgICByZXR1cm4gbmV3IFByb3ZlbmFuY2VHcmFwaChkZXNjLCBtKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Byb3ZlbmFuY2UvTG9jYWxTdG9yYWdlUHJvdmVuYW5jZUdyYXBoTWFuYWdlci50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0RGF0YSwgcmVtb3ZlIGFzIHJlbW92ZURhdGEsIHVwbG9hZCwgbGlzdCBhcyBsaXN0RGF0YSwgbW9kaWZ5fSBmcm9tICcuLi9kYXRhJztcbmltcG9ydCBQcm92ZW5hbmNlR3JhcGgsIHtcbiAgSVByb3ZlbmFuY2VHcmFwaE1hbmFnZXIsXG4gIHByb3ZlbmFuY2VHcmFwaEZhY3RvcnksXG4gIElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb25cbn0gZnJvbSAnLi9Qcm92ZW5hbmNlR3JhcGgnO1xuaW1wb3J0IEdyYXBoQmFzZSBmcm9tICcuLi9ncmFwaC9HcmFwaEJhc2UnO1xuaW1wb3J0IHtjdXJyZW50VXNlck5hbWVPckFub255bW91c30gZnJvbSAnLi4vc2VjdXJpdHknO1xuaW1wb3J0IEdyYXBoUHJveHkgZnJvbSAnLi4vZ3JhcGgvR3JhcGhQcm94eSc7XG5pbXBvcnQgUmVtb3RlU3RvcmVHcmFwaCBmcm9tICcuLi9ncmFwaC9SZW1vdGVTdG9yYWdlR3JhcGgnO1xuaW1wb3J0IHtyZXNvbHZlSW1tZWRpYXRlbHl9IGZyb20gJy4uL2ludGVybmFsL3Byb21pc2UnO1xuaW1wb3J0IHtJRGF0YVR5cGV9IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7QUdyYXBofSBmcm9tICcuLi9ncmFwaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbW90ZVN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyIGltcGxlbWVudHMgSVByb3ZlbmFuY2VHcmFwaE1hbmFnZXIge1xuICBwcml2YXRlIG9wdGlvbnMgPSB7XG4gICAgYXBwbGljYXRpb246ICd1bmtub3duJ1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIG1peGluKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gIH1cblxuICBhc3luYyBsaXN0KCk6IFByb21pc2U8SVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbltdPiB7XG4gICAgcmV0dXJuIChhd2FpdCBsaXN0RGF0YSgoZCkgPT4gZC5kZXNjLnR5cGUgPT09ICdncmFwaCcgJiYgKDxhbnk+ZC5kZXNjKS5hdHRycy5ncmFwaHR5cGUgPT09ICdwcm92ZW5hbmNlX2dyYXBoJyAmJiAoPGFueT5kLmRlc2MpLmF0dHJzLm9mID09PSB0aGlzLm9wdGlvbnMuYXBwbGljYXRpb24pKS5tYXAoKGRpKSA9PiA8YW55PmRpLmRlc2MpO1xuICB9XG5cbiAgYXN5bmMgZ2V0R3JhcGgoZGVzYzogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbik6IFByb21pc2U8R3JhcGhCYXNlPiB7XG4gICAgcmV0dXJuICg8YW55Pihhd2FpdCBnZXREYXRhKGRlc2MuaWQpKSkuaW1wbChwcm92ZW5hbmNlR3JhcGhGYWN0b3J5KCkpO1xuICB9XG5cbiAgYXN5bmMgZ2V0KGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlPFByb3ZlbmFuY2VHcmFwaD4ge1xuICAgIHJldHVybiBuZXcgUHJvdmVuYW5jZUdyYXBoKGRlc2MsIGF3YWl0IHRoaXMuZ2V0R3JhcGgoZGVzYykpO1xuICB9XG5cbiAgZGVsZXRlKGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gcmVtb3ZlRGF0YShkZXNjKTtcbiAgfVxuXG4gIGNsb25lKGdyYXBoOiBHcmFwaEJhc2UsIGRlc2M6IGFueSA9IHt9KTogUHJvbWlzZUxpa2U8UHJvdmVuYW5jZUdyYXBoPiB7XG4gICAgcmV0dXJuIHRoaXMuaW1wb3J0KGdyYXBoLnBlcnNpc3QoKSwgZGVzYyk7XG4gIH1cblxuICBwcml2YXRlIGltcG9ydEltcGwoanNvbjoge25vZGVzOiBhbnlbXSwgZWRnZXM6IGFueVtdfSwgZGVzYzogYW55ID0ge30pOiBQcm9taXNlTGlrZTxBR3JhcGg+IHtcbiAgICBjb25zdCBwZGVzYzogYW55ID0gbWl4aW4oe1xuICAgICAgdHlwZTogJ2dyYXBoJyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGdyYXBodHlwZTogJ3Byb3ZlbmFuY2VfZ3JhcGgnLFxuICAgICAgICBvZjogdGhpcy5vcHRpb25zLmFwcGxpY2F0aW9uXG4gICAgICB9LFxuICAgICAgbmFtZTogJ1BlcnNpc3RlbnQgV1MnLFxuICAgICAgY3JlYXRvcjogY3VycmVudFVzZXJOYW1lT3JBbm9ueW1vdXMoKSxcbiAgICAgIHRzOiBEYXRlLm5vdygpLFxuICAgICAgZGVzY3JpcHRpb246ICcnLFxuXG4gICAgICBub2RlczoganNvbi5ub2RlcyxcbiAgICAgIGVkZ2VzOiBqc29uLmVkZ2VzXG4gICAgfSwgZGVzYyk7XG4gICAgcmV0dXJuIHVwbG9hZChwZGVzYykudGhlbigoYmFzZTogSURhdGFUeXBlKSA9PiB7XG4gICAgICByZXR1cm4gKDxHcmFwaFByb3h5PmJhc2UpLmltcGwocHJvdmVuYW5jZUdyYXBoRmFjdG9yeSgpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGltcG9ydChqc29uOiBhbnksIGRlc2M6IGFueSA9IHt9KTogUHJvbWlzZUxpa2U8UHJvdmVuYW5jZUdyYXBoPiB7XG4gICAgcmV0dXJuIHRoaXMuaW1wb3J0SW1wbChqc29uLCBkZXNjKS50aGVuKChpbXBsOiBHcmFwaEJhc2UpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvdmVuYW5jZUdyYXBoKDxJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uPmltcGwuZGVzYywgaW1wbCk7XG4gICAgfSk7XG4gIH1cblxuICBtaWdyYXRlKGdyYXBoOiBQcm92ZW5hbmNlR3JhcGgsIGRlc2M6IGFueSA9IHt9KTogUHJvbWlzZUxpa2U8UHJvdmVuYW5jZUdyYXBoPiB7XG4gICAgcmV0dXJuIHRoaXMuaW1wb3J0SW1wbCh7bm9kZXM6IFtdLCBlZGdlczogW119LCBkZXNjKS50aGVuKChiYWNrZW5kOiBSZW1vdGVTdG9yZUdyYXBoKSA9PiB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUltbWVkaWF0ZWx5KGdyYXBoLmJhY2tlbmQubWlncmF0ZSgpKVxuICAgICAgICAudGhlbigoe25vZGVzLCBlZGdlc30pID0+IHtcbiAgICAgICAgICByZXR1cm4gYmFja2VuZC5hZGRBbGwobm9kZXMsIGVkZ2VzKTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgZ3JhcGgubWlncmF0ZUJhY2tlbmQoYmFja2VuZCk7XG4gICAgICAgICAgcmV0dXJuIGdyYXBoO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGVkaXQoZ3JhcGg6IFByb3ZlbmFuY2VHcmFwaHxJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uLCBkZXNjOiBhbnkgPSB7fSkge1xuICAgIGNvbnN0IGJhc2UgPSBncmFwaCBpbnN0YW5jZW9mIFByb3ZlbmFuY2VHcmFwaCA/IGdyYXBoLmRlc2MgOiBncmFwaDtcbiAgICBtaXhpbihiYXNlLCBkZXNjKTtcbiAgICBjb25zdCBncmFwaFByb3h5ID0gYXdhaXQgZ2V0RGF0YShiYXNlLmlkKTtcbiAgICBhd2FpdCBtb2RpZnkoZ3JhcGhQcm94eSwgZGVzYyk7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cblxuICBhc3luYyBjcmVhdGUoZGVzYzogYW55ID0ge30pIHtcbiAgICBjb25zdCBwZGVzYzogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbiA9IG1peGluKHtcbiAgICAgIGlkOiB1bmRlZmluZWQsXG4gICAgICB0eXBlOiAnZ3JhcGgnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgZ3JhcGh0eXBlOiAncHJvdmVuYW5jZV9ncmFwaCcsXG4gICAgICAgIG9mOiB0aGlzLm9wdGlvbnMuYXBwbGljYXRpb25cbiAgICAgIH0sXG4gICAgICBuYW1lOiBgUGVyc2lzdGVudCBXU2AsXG4gICAgICBmcW5hbWU6IGBwcm92ZW5hbmNlX2dyYXBocy9QZXJzaXN0ZW50IFdTYCxcbiAgICAgIGNyZWF0b3I6IGN1cnJlbnRVc2VyTmFtZU9yQW5vbnltb3VzKCksXG4gICAgICBzaXplOiA8W251bWJlciwgbnVtYmVyXT5bMCwgMF0sXG4gICAgICB0czogRGF0ZS5ub3coKSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnJ1xuICAgIH0sIGRlc2MpO1xuXG4gICAgY29uc3QgaW1wbDogUHJvbWlzZTxHcmFwaEJhc2U+ID0gKDxhbnk+KGF3YWl0IHVwbG9hZChwZGVzYykpKS5pbXBsKHByb3ZlbmFuY2VHcmFwaEZhY3RvcnkoKSk7XG4gICAgcmV0dXJuIGltcGwudGhlbigoaSkgPT4gbmV3IFByb3ZlbmFuY2VHcmFwaCg8SVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbj5pLmRlc2MsIGkpKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Byb3ZlbmFuY2UvUmVtb3RlU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXIudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgc2FtIG9uIDEyLjAyLjIwMTUuXG4gKi9cbmltcG9ydCB7R3JhcGhOb2RlLCBpc1R5cGV9IGZyb20gJy4uL2dyYXBoL2dyYXBoJztcbmltcG9ydCBTdGF0ZU5vZGUgZnJvbSAnLi9TdGF0ZU5vZGUnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9EVVJBVElPTiA9IDE1MDA7IC8vbXNcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RSQU5TSVRJT04gPSAwOyAvL21zXG5cblxuZXhwb3J0IGludGVyZmFjZSBJU3RhdGVBbm5vdGF0aW9uIHtcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICBwb3M6IFtudW1iZXIsIG51bWJlcl0gfCB7YW5jaG9yOiBzdHJpbmcsIG9mZnNldDogW251bWJlciwgbnVtYmVyXX0gO1xuICByZWFkb25seSBzdHlsZXM/OiB7W2tleTogc3RyaW5nXTogc3RyaW5nO307XG5cbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUZXh0U3RhdGVBbm5vdGF0aW9uIGV4dGVuZHMgSVN0YXRlQW5ub3RhdGlvbiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2l6ZT86IFtudW1iZXIsIG51bWJlcl07XG4gIHJvdGF0aW9uPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBcnJvd1N0YXRlQW5ub3RhdGlvbiBleHRlbmRzIElTdGF0ZUFubm90YXRpb24ge1xuICBhdDogW251bWJlciwgbnVtYmVyXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRnJhbWVTdGF0ZUFubm90YXRpb24gZXh0ZW5kcyBJU3RhdGVBbm5vdGF0aW9uIHtcbiAgc2l6ZT86IFtudW1iZXIsIG51bWJlcl07XG4gIHBvczI/OiBbbnVtYmVyLCBudW1iZXJdO1xuICByb3RhdGlvbj86IG51bWJlcjtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZU5vZGUgZXh0ZW5kcyBHcmFwaE5vZGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RvcnknKTtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLmdldEF0dHIoJ25hbWUnLCAnJyk7XG4gIH1cblxuICBzZXQgbmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgc3VwZXIuc2V0QXR0cignbmFtZScsIHZhbHVlKTtcbiAgfVxuXG4gIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdXBlci5nZXRBdHRyKCdkZXNjcmlwdGlvbicsICcnKTtcbiAgfVxuXG4gIHNldCBkZXNjcmlwdGlvbih2YWx1ZTogc3RyaW5nKSB7XG4gICAgc3VwZXIuc2V0QXR0cignZGVzY3JpcHRpb24nLCB2YWx1ZSk7XG4gIH1cblxuICBnZXQgaXNUZXh0T25seSgpIHtcbiAgICByZXR1cm4gIXRoaXMub3V0Z29pbmcuc29tZShpc1R5cGUoJ2p1bXBUbycpKTtcbiAgfVxuXG4gIGdldCBzdGF0ZSgpIHtcbiAgICBjb25zdCBlZGdlID0gdGhpcy5vdXRnb2luZy5maWx0ZXIoaXNUeXBlKCdqdW1wVG8nKSlbMF07XG4gICAgcmV0dXJuIGVkZ2UgPyA8U3RhdGVOb2RlPmVkZ2UudGFyZ2V0IDogbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyByZXN0b3JlKGR1bXA6IGFueSkge1xuICAgIHJldHVybiBuZXcgU2xpZGVOb2RlKCkucmVzdG9yZShkdW1wKTtcbiAgfVxuXG4gIGdldCBuZXh0KCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLm91dGdvaW5nLmZpbHRlcihpc1R5cGUoJ25leHQnKSlbMF07XG4gICAgcmV0dXJuIG4gPyA8U2xpZGVOb2RlPm4udGFyZ2V0IDogbnVsbDtcbiAgfVxuXG4gIGdldCBuZXh0cygpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRnb2luZy5maWx0ZXIoaXNUeXBlKCduZXh0JykpLm1hcCgobikgPT4gPFNsaWRlTm9kZT5uLnRhcmdldCk7XG4gIH1cblxuICBnZXQgcHJldmlvdXMoKSB7XG4gICAgY29uc3QgbiA9IHRoaXMuaW5jb21pbmcuZmlsdGVyKGlzVHlwZSgnbmV4dCcpKVswXTtcbiAgICByZXR1cm4gbiA/IDxTbGlkZU5vZGU+bi5zb3VyY2UgOiBudWxsO1xuICB9XG5cbiAgZ2V0IHNsaWRlSW5kZXgoKTogbnVtYmVyIHtcbiAgICBjb25zdCBwID0gdGhpcy5wcmV2aW91cztcbiAgICByZXR1cm4gMSArIChwID8gcC5zbGlkZUluZGV4IDogMCk7XG4gIH1cblxuICBnZXQgZHVyYXRpb24oKSB7XG4gICAgcmV0dXJuIDxudW1iZXI+dGhpcy5nZXRBdHRyKCdkdXJhdGlvbicsIERFRkFVTFRfRFVSQVRJT04pO1xuICB9XG5cbiAgc2V0IGR1cmF0aW9uKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLnNldEF0dHIoJ2R1cmF0aW9uJywgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbnNcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCB0cmFuc2l0aW9uKCkge1xuICAgIHJldHVybiA8bnVtYmVyPnRoaXMuZ2V0QXR0cigndHJhbnNpdGlvbicsIERFRkFVTFRfVFJBTlNJVElPTik7XG4gIH1cblxuICBzZXQgdHJhbnNpdGlvbih2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRBdHRyKCd0cmFuc2l0aW9uJywgdmFsdWUpO1xuICB9XG5cbiAgZ2V0IGFubm90YXRpb25zKCkge1xuICAgIHJldHVybiA8SVN0YXRlQW5ub3RhdGlvbltdPnRoaXMuZ2V0QXR0cignYW5ub3RhdGlvbnMnLCBbXSk7XG4gIH1cblxuICBzZXRBbm5vdGF0aW9uKGluZGV4OiBudW1iZXIsIGFubjogSVN0YXRlQW5ub3RhdGlvbikge1xuICAgIGNvbnN0IG9sZCA9IHRoaXMuYW5ub3RhdGlvbnM7XG4gICAgb2xkW2luZGV4XSA9IGFubjtcbiAgICB0aGlzLnNldEF0dHIoJ2Fubm90YXRpb25zJywgb2xkKTtcbiAgfVxuXG4gIHVwZGF0ZUFubm90YXRpb24oYW5uOiBJU3RhdGVBbm5vdGF0aW9uKSB7XG4gICAgLy9zaW5jZSBpdCBpcyBhIHJlZmVyZW5jZSBqdXN0IHVwZGF0ZWRcbiAgICB0aGlzLnNldEF0dHIoJ2Fubm90YXRpb25zJywgdGhpcy5hbm5vdGF0aW9ucyk7XG4gIH1cblxuICByZW1vdmVBbm5vdGF0aW9uKGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBvbGQgPSB0aGlzLmFubm90YXRpb25zO1xuICAgIG9sZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMuc2V0QXR0cignYW5ub3RhdGlvbnMnLCBvbGQpO1xuICB9XG5cbiAgcmVtb3ZlQW5ub3RhdGlvbkVsZW0oZWxlbTogSVN0YXRlQW5ub3RhdGlvbikge1xuICAgIGNvbnN0IG9sZCA9IHRoaXMuYW5ub3RhdGlvbnM7XG4gICAgb2xkLnNwbGljZShvbGQuaW5kZXhPZihlbGVtKSwgMSk7XG4gICAgdGhpcy5zZXRBdHRyKCdhbm5vdGF0aW9ucycsIG9sZCk7XG4gIH1cblxuICBwdXNoQW5ub3RhdGlvbihhbm46IElTdGF0ZUFubm90YXRpb24pIHtcbiAgICBjb25zdCBvbGQgPSB0aGlzLmFubm90YXRpb25zO1xuICAgIG9sZC5wdXNoKGFubik7XG4gICAgdGhpcy5zZXRBdHRyKCdhbm5vdGF0aW9ucycsIG9sZCk7XG4gICAgdGhpcy5maXJlKCdwdXNoLWFubm90YXRpb25zJywgYW5uLCBvbGQpO1xuICB9XG5cbiAgZ2V0IGlzU3RhcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJldmlvdXMgPT0gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBtYWtlVGV4dCh0aXRsZT86IHN0cmluZykge1xuICAgIGNvbnN0IHMgPSBuZXcgU2xpZGVOb2RlKCk7XG4gICAgaWYgKHRpdGxlKSB7XG4gICAgICBzLnB1c2hBbm5vdGF0aW9uKHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBwb3M6IFsyNSwgMjVdLFxuICAgICAgICB0ZXh0OiAnIyAke25hbWV9J1xuICAgICAgfSk7XG4gICAgICBzLm5hbWUgPSB0aXRsZTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9wcm92ZW5hbmNlL1NsaWRlTm9kZS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuaW1wb3J0IHtHcmFwaE5vZGUsIGlzVHlwZX0gZnJvbSAnLi4vZ3JhcGgvZ3JhcGgnO1xuaW1wb3J0IEFjdGlvbk5vZGUgZnJvbSAnLi9BY3Rpb25Ob2RlJztcbmltcG9ydCBPYmplY3ROb2RlIGZyb20gJy4vT2JqZWN0Tm9kZSc7XG5cbi8qKlxuICogYSBzdGF0ZSBub2RlIGlzIG9uZSBzdGF0ZSBpbiB0aGUgdmlzdWFsIGV4cGxvcmF0aW9uIGNvbnNpc3Rpbmcgb2YgYW4gYWN0aW9uIGNyZWF0aW5nIGl0IGFuZCBvbmUgb3IgbW9yZSBmb2xsb3dpbmcgb25lcy5cbiAqIEluIGFkZGl0aW9uLCBhIHN0YXRlIGlzIGNoYXJhY3Rlcml6ZWQgYnkgdGhlIHNldCBvZiBhY3RpdmUgb2JqZWN0IG5vZGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlTm9kZSBleHRlbmRzIEdyYXBoTm9kZSB7XG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgZGVzY3JpcHRpb24gPSAnJykge1xuICAgIHN1cGVyKCdzdGF0ZScpO1xuICAgIHN1cGVyLnNldEF0dHIoJ25hbWUnLCBuYW1lKTtcbiAgICBzdXBlci5zZXRBdHRyKCdkZXNjcmlwdGlvbicsIGRlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLmdldEF0dHIoJ25hbWUnKTtcbiAgfVxuXG4gIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcbiAgICBzdXBlci5zZXRBdHRyKCduYW1lJywgdmFsdWUpO1xuICB9XG5cbiAgZ2V0IGRlc2NyaXB0aW9uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLmdldEF0dHIoJ2Rlc2NyaXB0aW9uJywgJycpO1xuICB9XG5cbiAgc2V0IGRlc2NyaXB0aW9uKHZhbHVlOiBzdHJpbmcpIHtcbiAgICBzdXBlci5zZXRBdHRyKCdkZXNjcmlwdGlvbicsIHZhbHVlKTtcbiAgfVxuXG4gIHN0YXRpYyByZXN0b3JlKHA6IGFueSkge1xuICAgIGNvbnN0IHIgPSBuZXcgU3RhdGVOb2RlKHAuYXR0cnMubmFtZSk7XG4gICAgcmV0dXJuIHIucmVzdG9yZShwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0aGlzIHN0YXRlIGNvbnNpc3RzIG9mIHRoZSBmb2xsb3dpbmcgb2JqZWN0c1xuICAgKiBAcmV0dXJucyB7T2JqZWN0Tm9kZTxhbnk+W119XG4gICAqL1xuICBnZXQgY29uc2lzdHNPZigpOiBPYmplY3ROb2RlPGFueT5bXSB7XG4gICAgcmV0dXJuIHRoaXMub3V0Z29pbmcuZmlsdGVyKGlzVHlwZSgnY29uc2lzdHNPZicpKS5tYXAoKGUpID0+IDxPYmplY3ROb2RlPGFueT4+ZS50YXJnZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIGFjdGlvbnMgbGVhZGluZyB0byB0aGlzIHN0YXRlXG4gICAqIEByZXR1cm5zIHtBY3Rpb25Ob2RlW119XG4gICAqL1xuICBnZXQgcmVzdWx0c0Zyb20oKTogQWN0aW9uTm9kZVtdIHtcbiAgICByZXR1cm4gdGhpcy5pbmNvbWluZy5maWx0ZXIoaXNUeXBlKCdyZXN1bHRzSW4nKSkubWFwKChlKSA9PiA8QWN0aW9uTm9kZT5lLnNvdXJjZSk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHJldHVybnMge2FueX1cbiAgICovXG4gIGdldCBjcmVhdG9yKCkge1xuICAgIC8vcmVzdWx0cyBhbmQgbm90IGEgaW52ZXJzZWQgYWN0aW9uc1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmluY29taW5nLmZpbHRlcihpc1R5cGUoJ3Jlc3VsdHNJbicpKS5tYXAoKGUpID0+IDxBY3Rpb25Ob2RlPmUuc291cmNlKS5maWx0ZXIoKHMpID0+ICFzLmlzSW52ZXJzZSk7XG4gICAgaWYgKGZyb20ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21bMF07XG4gIH1cblxuICBnZXQgbmV4dCgpOiBBY3Rpb25Ob2RlW10ge1xuICAgIHJldHVybiB0aGlzLm91dGdvaW5nLmZpbHRlcihpc1R5cGUoJ25leHQnKSkubWFwKChlKSA9PiA8QWN0aW9uTm9kZT5lLnRhcmdldCkuZmlsdGVyKChzKSA9PiAhcy5pc0ludmVyc2UpO1xuICB9XG5cbiAgZ2V0IHByZXZpb3VzU3RhdGUoKTogU3RhdGVOb2RlIHtcbiAgICBjb25zdCBhID0gdGhpcy5jcmVhdG9yO1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS5wcmV2aW91cztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXQgcHJldmlvdXNTdGF0ZXMoKTogU3RhdGVOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLnJlc3VsdHNGcm9tLm1hcCgobikgPT4gbi5wcmV2aW91cyk7XG4gIH1cblxuICBnZXQgbmV4dFN0YXRlcygpOiBTdGF0ZU5vZGVbXSB7XG4gICAgcmV0dXJuIHRoaXMubmV4dC5tYXAoKG4pID0+IG4ucmVzdWx0c0luKTtcbiAgfVxuXG4gIGdldCBuZXh0U3RhdGUoKTogU3RhdGVOb2RlIHtcbiAgICBjb25zdCByID0gdGhpcy5uZXh0WzBdO1xuICAgIHJldHVybiByID8gci5yZXN1bHRzSW4gOiBudWxsO1xuICB9XG5cbiAgZ2V0IHBhdGgoKTogU3RhdGVOb2RlW10ge1xuICAgIGNvbnN0IHAgPSB0aGlzLnByZXZpb3VzU3RhdGUsXG4gICAgICByOiBTdGF0ZU5vZGVbXSA9IFtdO1xuICAgIHIudW5zaGlmdCh0aGlzKTtcbiAgICBpZiAocCkge1xuICAgICAgcC5wYXRoSW1wbChyKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBwcml2YXRlIHBhdGhJbXBsKHI6IFN0YXRlTm9kZVtdKSB7XG4gICAgY29uc3QgcCA9IHRoaXMucHJldmlvdXNTdGF0ZTtcbiAgICByLnVuc2hpZnQodGhpcyk7XG4gICAgaWYgKHAgJiYgci5pbmRleE9mKHApIDwgMCkgeyAvL25vIGxvb3BcbiAgICAgIC8vY29uc29sZS5sb2cocC50b1N0cmluZygpICsgJyBwYXRoICcrIHIuam9pbignLCcpKTtcbiAgICAgIHAucGF0aEltcGwocik7XG4gICAgfVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Byb3ZlbmFuY2UvU3RhdGVOb2RlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge0lSYW5nZUVsZW0sIGZpeH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQge3JhbmdlIGFzIGlSYW5nZSwgSUl0ZXJhdG9yfSBmcm9tICcuLi8uLi9pdGVyYXRvcic7XG5pbXBvcnQgU2luZ2xlUmFuZ2VFbGVtIGZyb20gJy4vU2luZ2xlUmFuZ2VFbGVtJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFuZ2VFbGVtIGltcGxlbWVudHMgSVJhbmdlRWxlbSB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBmcm9tOiBudW1iZXIsIHB1YmxpYyByZWFkb25seSB0bzogbnVtYmVyID0gLTEsIHB1YmxpYyByZWFkb25seSBzdGVwOiBudW1iZXIgPSAxKSB7XG4gICAgaWYgKHN0ZXAgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzdGVwIHNpemU6ICcgKyBzdGVwKTtcbiAgICB9XG4gIH1cblxuICBnZXQgaXNBbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbSA9PT0gMCAmJiB0aGlzLnRvID09PSAtMSAmJiB0aGlzLnN0ZXAgPT09IDE7XG4gIH1cblxuICBnZXQgaXNTaW5nbGUoKSB7XG4gICAgcmV0dXJuICh0aGlzLmZyb20gKyB0aGlzLnN0ZXApID09PSB0aGlzLnRvO1xuICB9XG5cbiAgZ2V0IGlzVW5ib3VuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5mcm9tIDwgMCB8fCB0aGlzLnRvIDwgMDtcbiAgfVxuXG4gIHN0YXRpYyBhbGwoKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZUVsZW0oMCwgLTEsIDEpO1xuICB9XG5cbiAgc3RhdGljIG5vbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZUVsZW0oMCwgMCwgMSk7XG4gIH1cblxuICBzdGF0aWMgc2luZ2xlKHZhbDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVSYW5nZUVsZW0odmFsKTtcbiAgfVxuXG4gIHN0YXRpYyByYW5nZShmcm9tOiBudW1iZXIsIHRvID0gLTEsIHN0ZXAgPSAxKSB7XG4gICAgaWYgKChmcm9tICsgc3RlcCkgPT09IHRvKSB7XG4gICAgICByZXR1cm4gUmFuZ2VFbGVtLnNpbmdsZShmcm9tKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSYW5nZUVsZW0oZnJvbSwgdG8sIHN0ZXApO1xuICB9XG5cbiAgc2l6ZShzaXplPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB0ID0gZml4KHRoaXMudG8sIHNpemUpLCBmID0gZml4KHRoaXMuZnJvbSwgc2l6ZSk7XG4gICAgaWYgKHRoaXMuc3RlcCA9PT0gMSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHQgLSBmLCAwKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RlcCA9PT0gLTEpIHtcbiAgICAgIGlmKHRoaXMudG8gPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChmIC0gLTEsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1hdGgubWF4KGYgLSB0LCAwKTtcbiAgICB9XG4gICAgY29uc3QgZCA9IHRoaXMuc3RlcCA+IDAgPyAodCAtIGYgKyAxKSA6IChmIC0gdCArIDEpO1xuICAgIGNvbnN0IHMgPSBNYXRoLmFicyh0aGlzLnN0ZXApO1xuICAgIGlmIChkIDw9IDApIHsgLy9ubyByYW5nZVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmZsb29yKGQgLyBzKTtcbiAgfVxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2VFbGVtKHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy5zdGVwKTtcbiAgfVxuXG4gIHJldmVyc2UoKSB7XG4gICAgaWYgKHRoaXMuc3RlcCA+IDApIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmZyb20gLSAxO1xuICAgICAgY29uc3QgZiA9IHRoaXMudG8gLSAxO1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZUVsZW0oZiwgdCwgLXRoaXMuc3RlcCk7XG4gICAgfSBlbHNlIHsgLy9zdGVwIDwwXG4gICAgICBjb25zdCB0ID0gdGhpcy5mcm9tIC0gMTtcbiAgICAgIGNvbnN0IGYgPSB0aGlzLnRvIC0gMTtcbiAgICAgIHJldHVybiBuZXcgUmFuZ2VFbGVtKGYsIHQsIC10aGlzLnN0ZXApO1xuICAgIH1cbiAgfVxuXG4gIGludmVydChpbmRleDogbnVtYmVyLCBzaXplPzogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuaXNBbGwpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGZpeCh0aGlzLmZyb20sIHNpemUpICsgaW5kZXggKiB0aGlzLnN0ZXA7XG4gIH1cblxuICAvKipcbiAgICogY3JlYXRlcyBhbiBpdGVyYXRvciBvZiB0aGlzIHJhbmdlXG4gICAqIEBwYXJhbSBzaXplIHRoZSB1bmRlcmx5aW5nIHNpemUgZm9yIG5lZ2F0aXZlIGluZGljZXNcbiAgICovXG4gIGl0ZXIoc2l6ZT86IG51bWJlcik6IElJdGVyYXRvcjxudW1iZXI+IHtcbiAgICBpZiAodGhpcy5zdGVwIDwgMCAmJiB0aGlzLnRvID09PSAtMSkge1xuICAgICAgLy8ga2VlcCBuZWdhdGl2ZSB0byBoYXZlIDAgaW5jbHVkZWRcbiAgICAgIHJldHVybiBpUmFuZ2UoZml4KHRoaXMuZnJvbSwgc2l6ZSksIC0xLCB0aGlzLnN0ZXApO1xuICAgIH1cbiAgICByZXR1cm4gaVJhbmdlKGZpeCh0aGlzLmZyb20sIHNpemUpLCBmaXgodGhpcy50bywgc2l6ZSksIHRoaXMuc3RlcCk7XG4gIH1cblxuICBnZXQgX19pdGVyYXRvcl9fKCkge1xuICAgIHJldHVybiB0aGlzLml0ZXIoKTtcbiAgfVxuXG4gIGNvbnRhaW5zKHZhbHVlOiBudW1iZXIsIHNpemU/OiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5pc0FsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGYgPSBmaXgodGhpcy5mcm9tLCBzaXplKTtcbiAgICBjb25zdCB0ID0gZml4KHRoaXMudG8sIHNpemUpO1xuICAgIGlmICh0aGlzLnN0ZXAgPT09IC0xKSB7XG4gICAgICBpZiAodGhpcy50byA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSA8PSBmICYmIHZhbHVlID49IDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh2YWx1ZSA8PSBmKSAmJiAodmFsdWUgPiB0KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RlcCA9PT0gKzEpIHsgLy8rMVxuICAgICAgcmV0dXJuICh2YWx1ZSA+PSBmKSAmJiAodmFsdWUgPCB0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaXRlcihzaXplKS5hc0xpc3QoKS5pbmRleE9mKHZhbHVlKSA+PSAwO1xuICAgIH1cbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGlmICh0aGlzLmlzQWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzU2luZ2xlKSB7XG4gICAgICByZXR1cm4gdGhpcy5mcm9tLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGxldCByID0gdGhpcy5mcm9tICsgJzonICsgdGhpcy50bztcbiAgICBpZiAodGhpcy5zdGVwICE9PSAxKSB7XG4gICAgICByICs9ICc6JyArIHRoaXMuc3RlcDtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBzdGF0aWMgcGFyc2UoY29kZTogc3RyaW5nKSB7XG4gICAgaWYgKGNvZGUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gUmFuZ2VFbGVtLmFsbCgpO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZUVsZW0gPSAodjogc3RyaW5nLCBkZWZhdWx0VmFsdWU9IE5hTikgPT4ge1xuICAgICAgdiA9IHYudHJpbSgpO1xuICAgICAgaWYgKHYgPT09ICcnICYmICFpc05hTihkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBjb25zdCBuID0gcGFyc2VJbnQodiwgMTApO1xuICAgICAgaWYgKGlzTmFOKG4pKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBwYXJzZSBlcnJvcjogXCIke3Z9XCIgaXMgbm90IGEgdmFsaWQgaW50ZWdlcmApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfTtcbiAgICBjb25zdCBwYXJ0cyA9IGNvZGUuc3BsaXQoJzonKTtcbiAgICBzd2l0Y2gocGFydHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBSYW5nZUVsZW0uc2luZ2xlKHBhcnNlRWxlbShwYXJ0c1swXSkpO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlRWxlbShwYXJzZUVsZW0ocGFydHNbMF0sIDApLCBwYXJzZUVsZW0ocGFydHNbMV0sIC0xKSk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VFbGVtKHBhcnNlRWxlbShwYXJ0c1swXSwgMCksIHBhcnNlRWxlbShwYXJ0c1sxXSwgLTEpLCBwYXJzZUVsZW0ocGFydHNbMl0sIDEpKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgcGFyc2UgZXJyb3I6IFwiJHtjb2RlfVwiIGlzIG5vdCBhIHZhbGlkIHJhbmdlIHNwZWNpZmllcmApO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmFuZ2UvaW50ZXJuYWwvUmFuZ2VFbGVtLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5cbmltcG9ydCB7SUl0ZXJhdG9yfSBmcm9tICcuLi8uLi9pdGVyYXRvcic7XG4vKipcbiAqIGZpeCBuZWdhdGl2ZSBpbmRpY2VzIGdpdmVuIHRoZSB0b3RhbCBzaXplXG4gKiBAcGFyYW0gdlxuICogQHBhcmFtIHNpemVcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVJhbmdlRWxlbSB7XG4gIHJlYWRvbmx5IGlzQWxsOiBib29sZWFuO1xuICByZWFkb25seSBpc1VuYm91bmQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGlzU2luZ2xlOiBib29sZWFuO1xuICBzaXplKHNpemU/OiBudW1iZXIpOiBudW1iZXI7XG4gIGNsb25lKCk6IElSYW5nZUVsZW07XG4gIGludmVydChpbmRleDogbnVtYmVyLCBzaXplPzogbnVtYmVyKTogbnVtYmVyO1xuICByZWFkb25seSBfX2l0ZXJhdG9yX186IElJdGVyYXRvcjxudW1iZXI+O1xuICBpdGVyKHNpemU/OiBudW1iZXIpOiBJSXRlcmF0b3I8bnVtYmVyPjtcbiAgdG9TdHJpbmcoKTogc3RyaW5nO1xuICByZWFkb25seSBmcm9tOiBudW1iZXI7XG4gIHJlYWRvbmx5IHN0ZXA6IG51bWJlcjtcbiAgcmVhZG9ubHkgdG86IG51bWJlcjtcbiAgcmV2ZXJzZSgpOiBJUmFuZ2VFbGVtO1xuICBjb250YWlucyh2YWx1ZTogbnVtYmVyLCBzaXplPzogbnVtYmVyKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpeCh2OiBudW1iZXIsIHNpemU6IG51bWJlcikge1xuICByZXR1cm4gdiA8IDAgPyAoc2l6ZSArIDEgKyB2KSA6IHY7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmFuZ2UvaW50ZXJuYWwvaW5kZXgudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgc2FtIG9uIDEwLjAyLjIwMTUuXG4gKi9cblxuLyoqXG4gKiBVc2UgdGhlIGJyb3dzZXIncyBzZXNzaW9uU3RvcmFnZVxuICogQHR5cGUge1N0b3JhZ2V9XG4gKi9cbmNvbnN0IGNvbnRleHQ6IFN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZTtcblxuLyoqXG4gKiBTdG9yZSBhbnkgdmFsdWUgZm9yIGEgZ2l2ZW4ga2V5IGFuZCByZXR1cm5zIHRoZSBwcmV2aW91cyBzdG9yZWQgdmFsdWUuXG4gKiBSZXR1cm5zIGBudWxsYCBpZiBubyBwcmV2aW91cyB2YWx1ZSB3YXMgZm91bmQuXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gdmFsdWVcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9yZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICBjb25zdCBiYWsgPSBjb250ZXh0LmdldEl0ZW0oa2V5KTtcbiAgY29udGV4dC5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgcmV0dXJuIGJhaztcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBrZXktdmFsdWUgcGFpciBmcm9tIHRoZSBzZXNzaW9uXG4gKiBAcGFyYW0ga2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoa2V5OiBzdHJpbmcpIHtcbiAgY29udGV4dC5yZW1vdmVJdGVtKGtleSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBrZXkgZXhpc3RzIGluIHRoZSBzZXNzaW9uLiBPdGhlcndpc2UgcmV0dXJucyBmYWxzZS5cbiAqIEBwYXJhbSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzKGtleTogc3RyaW5nKSB7XG4gIHJldHVybiAoY29udGV4dC5nZXRJdGVtKGtleSkgIT09IG51bGwpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIGZvciB0aGUgZ2l2ZW4ga2V5IGlmIGl0IGV4aXN0cyBpbiB0aGUgc2Vzc2lvbi5cbiAqIE90aGVyd2lzZSByZXR1cm5zIHRoZSBgZGVmYXVsdF9gIHBhcmFtZXRlciwgd2hpY2ggaXMgYnkgZGVmYXVsdCBgbnVsbGAuXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gZGVmYXVsdFZhbHVlXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlPFQ+KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFQgPSBudWxsKTogVCB7XG4gIHJldHVybiBoYXMoa2V5KSA/IEpTT04ucGFyc2UoY29udGV4dC5nZXRJdGVtKGtleSkpIDogZGVmYXVsdFZhbHVlO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Nlc3Npb24udHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7bWl4aW59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7UmFuZ2UsIFJhbmdlTGlrZSwgQ29tcG9zaXRlUmFuZ2UxRH0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtJRGF0YVR5cGUsIElEYXRhRGVzY3JpcHRpb24sIGNyZWF0ZURlZmF1bHREYXRhRGVzY30gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJRFR5cGV9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQge0lIaXN0b2dyYW19IGZyb20gJy4uL21hdGgnO1xuaW1wb3J0IHtJQ2F0ZWdvcmljYWxWZWN0b3J9IGZyb20gJy4uL3ZlY3Rvci9JVmVjdG9yJztcblxuZXhwb3J0IGludGVyZmFjZSBJR3JvdXAge1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHNpemU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGd1ZXNzQ29sb3Ioc3RyYXRpZmljYXRpb246IHN0cmluZywgZ3JvdXA6IHN0cmluZykge1xuICBzd2l0Y2ggKGdyb3VwLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdtYWxlJzpcbiAgICAgIHJldHVybiAnYmx1ZSc7XG4gICAgY2FzZSAnZmVtYWxlJzpcbiAgICAgIHJldHVybiAncmVkJztcbiAgICBjYXNlICdkZWNlYXNlZCc6XG4gICAgICByZXR1cm4gJyNlNDFhMWInO1xuICAgIGNhc2UgJ2xpdmluZyc6XG4gICAgICByZXR1cm4gJyMzNzdlYjgnO1xuICB9XG4gIHJldHVybiAnZ3JheSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9uIGV4dGVuZHMgSURhdGFEZXNjcmlwdGlvbiB7XG4gIHJlYWRvbmx5IGlkdHlwZTogc3RyaW5nO1xuICByZWFkb25seSBzaXplOiBudW1iZXI7XG4gIHJlYWRvbmx5IGdyb3VwczogSUdyb3VwW107XG4gIHJlYWRvbmx5IG5ncm91cHM6IG51bWJlcjtcbiAgLyoqXG4gICAqIGZxbmFtZSBvZiB0aGUgb3JpZ2luIGRhdGFzZXQsIGUuZy4gdmVjdG9yLCB0YWJsZVxuICAgKi9cbiAgcmVhZG9ubHkgb3JpZ2luPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdHJhdGlmaWNhdGlvbiBleHRlbmRzIElEYXRhVHlwZSB7XG4gIHJlYWRvbmx5IGRlc2M6IElTdHJhdGlmaWNhdGlvbkRhdGFEZXNjcmlwdGlvbjtcbiAgcmFuZ2UoKTogUHJvbWlzZTxDb21wb3NpdGVSYW5nZTFEPjtcbiAgaWRSYW5nZSgpOiBQcm9taXNlPENvbXBvc2l0ZVJhbmdlMUQ+O1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGFzVmVjdG9yIGluc3RlYWRcbiAgICovXG4gIHZlY3RvcigpOiBQcm9taXNlPElDYXRlZ29yaWNhbFZlY3Rvcj47XG4gIGFzVmVjdG9yKCk6IFByb21pc2U8SUNhdGVnb3JpY2FsVmVjdG9yPjtcblxuICBuYW1lcygpOiBQcm9taXNlPHN0cmluZ1tdPjtcbiAgbmFtZXMocmFuZ2U6IFJhbmdlTGlrZSk6IFByb21pc2U8c3RyaW5nW10+O1xuXG4gIGlkcygpOiBQcm9taXNlPFJhbmdlPjtcbiAgaWRzKHJhbmdlOiBSYW5nZUxpa2UpOiBQcm9taXNlPFJhbmdlPjtcblxuICBoaXN0KGJpbnM/OiBudW1iZXIsIHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxJSGlzdG9ncmFtPjtcblxuICByZWFkb25seSBsZW5ndGg6IG51bWJlcjtcbiAgcmVhZG9ubHkgbmdyb3VwczogbnVtYmVyO1xuXG4gIHJlYWRvbmx5IGdyb3VwczogSUdyb3VwW107XG5cbiAgcmVhZG9ubHkgaWR0eXBlOiBJRFR5cGU7XG5cbiAgZ3JvdXAoZ3JvdXA6IG51bWJlcik6IElTdHJhdGlmaWNhdGlvbjtcblxuICBvcmlnaW4oKTogUHJvbWlzZTxJRGF0YVR5cGU+O1xufVxuZXhwb3J0IGRlZmF1bHQgSVN0cmF0aWZpY2F0aW9uO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0U3RyYXRpZmljYXRpb25EZXNjKCk6IElTdHJhdGlmaWNhdGlvbkRhdGFEZXNjcmlwdGlvbiB7XG4gIHJldHVybiA8SVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9uPm1peGluKGNyZWF0ZURlZmF1bHREYXRhRGVzYygpLCB7XG4gICAgdHlwZTogJ3N0cmF0aWZpY2F0aW9uJyxcbiAgICBpZHR5cGU6ICdfcm93cycsXG4gICAgc2l6ZTogMCxcbiAgICBncm91cHM6IFtdLFxuICAgIG5ncm91cHM6IDBcbiAgfSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RyYXRpZmljYXRpb24vSVN0cmF0aWZpY2F0aW9uLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge21peGlufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQge3BhcnNlLCBSYW5nZUxpa2UsIFJhbmdlLCBDb21wb3NpdGVSYW5nZTFELCBhbGx9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7cmVzb2x2ZSBhcyByZXNvbHZlSURUeXBlLCBjcmVhdGVMb2NhbEFzc2lnbmVyfSBmcm9tICcuLi9pZHR5cGUnO1xuaW1wb3J0IHtBRGF0YVR5cGUsIElEYXRhVHlwZSwgVkFMVUVfVFlQRV9DQVRFR09SSUNBTCwgSUNhdGVnb3J5fSBmcm9tICcuLi9kYXRhdHlwZSc7XG5pbXBvcnQge2dldEZpcnN0QnlGUU5hbWV9IGZyb20gJy4uL2RhdGEnO1xuaW1wb3J0IHtJQ2F0ZWdvcmljYWxWZWN0b3J9IGZyb20gJy4uL3ZlY3Rvcic7XG5pbXBvcnQge3JhbmdlSGlzdCwgSUhpc3RvZ3JhbX0gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQge0lTdHJhdGlmaWNhdGlvbiwgSVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9uLCBjcmVhdGVEZWZhdWx0U3RyYXRpZmljYXRpb25EZXNjfSBmcm9tICcuL0lTdHJhdGlmaWNhdGlvbic7XG5pbXBvcnQgU3RyYXRpZmljYXRpb25Hcm91cCBmcm9tICcuL1N0cmF0aWZpY2F0aW9uR3JvdXAnO1xuaW1wb3J0IHtJU3RyYXRpZmljYXRpb25Mb2FkZXIsIHZpYUFQSUxvYWRlciwgdmlhRGF0YUxvYWRlcn0gZnJvbSAnLi9sb2FkZXInO1xuaW1wb3J0IFN0cmF0aWZpY2F0aW9uVmVjdG9yIGZyb20gJy4vU3RyYXRpZmljYXRpb25WZWN0b3InO1xuLyoqXG4gKiByb290IG1hdHJpeCBpbXBsZW1lbnRhdGlvbiBob2xkaW5nIHRoZSBkYXRhXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyYXRpZmljYXRpb24gZXh0ZW5kcyBBRGF0YVR5cGU8SVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9uPiBpbXBsZW1lbnRzIElTdHJhdGlmaWNhdGlvbiB7XG4gIHByaXZhdGUgX3Y6IFByb21pc2U8SUNhdGVnb3JpY2FsVmVjdG9yPjtcblxuICBjb25zdHJ1Y3RvcihkZXNjOiBJU3RyYXRpZmljYXRpb25EYXRhRGVzY3JpcHRpb24sIHByaXZhdGUgbG9hZGVyOiBJU3RyYXRpZmljYXRpb25Mb2FkZXIpIHtcbiAgICBzdXBlcihkZXNjKTtcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHJlc29sdmVJRFR5cGUodGhpcy5kZXNjLmlkdHlwZSk7XG4gIH1cblxuICBnZXQgZ3JvdXBzKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2MuZ3JvdXBzO1xuICB9XG5cbiAgZ3JvdXAoZ3JvdXA6IG51bWJlcik6IElTdHJhdGlmaWNhdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBTdHJhdGlmaWNhdGlvbkdyb3VwKHRoaXMsIGdyb3VwLCB0aGlzLmdyb3Vwc1tncm91cF0pO1xuICB9XG5cbiAgYXN5bmMgaGlzdChiaW5zPzogbnVtYmVyLCByYW5nZT86IFJhbmdlKTogUHJvbWlzZTxJSGlzdG9ncmFtPiB7XG4gICAgLy9UT0RPXG4gICAgcmV0dXJuIHJhbmdlSGlzdChhd2FpdCB0aGlzLnJhbmdlKCkpO1xuICB9XG5cbiAgdmVjdG9yKCkge1xuICAgIHJldHVybiB0aGlzLmFzVmVjdG9yKCk7XG4gIH1cblxuICBhc1ZlY3RvcigpOiBQcm9taXNlPElDYXRlZ29yaWNhbFZlY3Rvcj4ge1xuICAgIGlmICghdGhpcy5fdikge1xuICAgICAgdGhpcy5fdiA9IHRoaXMubG9hZGVyKHRoaXMuZGVzYykudGhlbigoZGF0YSkgPT4gbmV3IFN0cmF0aWZpY2F0aW9uVmVjdG9yKHRoaXMsIGRhdGEucmFuZ2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Y7XG4gIH1cblxuICBvcmlnaW4oKTogUHJvbWlzZTxJRGF0YVR5cGU+IHtcbiAgICBpZiAoJ29yaWdpbicgaW4gdGhpcy5kZXNjKSB7XG4gICAgICByZXR1cm4gZ2V0Rmlyc3RCeUZRTmFtZSh0aGlzLmRlc2Mub3JpZ2luKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdubyBvcmlnaW4gc3BlY2lmaWVkJyk7XG4gIH1cblxuICBhc3luYyByYW5nZSgpOiBQcm9taXNlPENvbXBvc2l0ZVJhbmdlMUQ+IHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMubG9hZGVyKHRoaXMuZGVzYykpLnJhbmdlO1xuICB9XG5cbiAgYXN5bmMgaWRSYW5nZSgpOiBQcm9taXNlPENvbXBvc2l0ZVJhbmdlMUQ+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5sb2FkZXIodGhpcy5kZXNjKTtcbiAgICBjb25zdCBpZHMgPSBkYXRhLnJvd0lkcy5kaW0oMCk7XG4gICAgY29uc3QgcmFuZ2UgPSBkYXRhLnJhbmdlO1xuICAgIHJldHVybiA8Q29tcG9zaXRlUmFuZ2UxRD5pZHMucHJlTXVsdGlwbHkocmFuZ2UsIHRoaXMuZGltWzBdKTtcbiAgfVxuXG4gIGFzeW5jIG5hbWVzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiBwYXJzZShyYW5nZSkuZmlsdGVyKChhd2FpdCB0aGlzLmxvYWRlcih0aGlzLmRlc2MpKS5yb3dzLCB0aGlzLmRpbSk7XG4gIH1cblxuICBhc3luYyBpZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxSYW5nZT4ge1xuICAgIHJldHVybiAoYXdhaXQgdGhpcy5sb2FkZXIodGhpcy5kZXNjKSkucm93SWRzLnByZU11bHRpcGx5KHBhcnNlKHJhbmdlKSwgdGhpcy5kaW0pO1xuICB9XG5cbiAgZ2V0IGlkdHlwZXMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmlkdHlwZV07XG4gIH1cblxuICBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2Muc2l6ZTtcbiAgfVxuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGltWzBdO1xuICB9XG5cbiAgZ2V0IG5ncm91cHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzYy5uZ3JvdXBzO1xuICB9XG5cbiAgZ2V0IGRpbSgpIHtcbiAgICByZXR1cm4gW3RoaXMuc2l6ZSgpXTtcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzYy5pZDtcbiAgfVxufVxuXG4vKipcbiAqIG1vZHVsZSBlbnRyeSBwb2ludCBmb3IgY3JlYXRpbmcgYSBkYXRhdHlwZVxuICogQHBhcmFtIGRlc2NcbiAqIEByZXR1cm5zIHtJVmVjdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGRlc2M6IElTdHJhdGlmaWNhdGlvbkRhdGFEZXNjcmlwdGlvbik6IFN0cmF0aWZpY2F0aW9uIHtcbiAgcmV0dXJuIG5ldyBTdHJhdGlmaWNhdGlvbihkZXNjLCB2aWFBUElMb2FkZXIoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwKGRlc2M6IElTdHJhdGlmaWNhdGlvbkRhdGFEZXNjcmlwdGlvbiwgcm93czogc3RyaW5nW10sIHJvd0lkczogbnVtYmVyW10sIHJhbmdlOiBDb21wb3NpdGVSYW5nZTFEKSB7XG4gIHJldHVybiBuZXcgU3RyYXRpZmljYXRpb24oZGVzYywgdmlhRGF0YUxvYWRlcihyb3dzLCByb3dJZHMsIHJhbmdlKSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFzU3RyYXRpZmNhdGlvbk9wdGlvbnMge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZHR5cGU/OiBzdHJpbmc7XG4gIHJvd2Fzc2lnbmVyPyhpZHM6IHN0cmluZ1tdKTogUmFuZ2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc1N0cmF0aWZpY2F0aW9uKHJvd3M6IHN0cmluZ1tdLCByYW5nZTogQ29tcG9zaXRlUmFuZ2UxRCwgb3B0aW9uczogSUFzU3RyYXRpZmNhdGlvbk9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBkZXNjID0gbWl4aW4oY3JlYXRlRGVmYXVsdFN0cmF0aWZpY2F0aW9uRGVzYygpLCB7XG4gICAgc2l6ZTogMCxcbiAgICBncm91cHM6IHJhbmdlLmdyb3Vwcy5tYXAoKHIpID0+ICh7bmFtZTogci5uYW1lLCBjb2xvcjogci5jb2xvciwgc2l6ZTogci5sZW5ndGh9KSksXG4gICAgbmdyb3VwczogcmFuZ2UuZ3JvdXBzLmxlbmd0aFxuICB9LCBvcHRpb25zKTtcblxuICBjb25zdCByb3dBc3NpZ25lciA9IG9wdGlvbnMucm93YXNzaWduZXIgfHwgY3JlYXRlTG9jYWxBc3NpZ25lcigpO1xuICByZXR1cm4gbmV3IFN0cmF0aWZpY2F0aW9uKGRlc2MsIHZpYURhdGFMb2FkZXIocm93cywgcm93QXNzaWduZXIocm93cyksIHJhbmdlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwQ2F0ZWdvcmljYWxWZWN0b3IodjogSUNhdGVnb3JpY2FsVmVjdG9yKSB7XG4gIGlmICh2LnZhbHVldHlwZS50eXBlICE9PSBWQUxVRV9UWVBFX0NBVEVHT1JJQ0FMKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHZlY3RvciB2YWx1ZSB0eXBlOiAnICsgdi52YWx1ZXR5cGUudHlwZSk7XG4gIH1cbiAgY29uc3QgdG9Hcm91cCA9IChnOiBzdHJpbmd8SUNhdGVnb3J5KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHtuYW1lOiA8c3RyaW5nPmcsIGNvbG9yOiAnZ3JheScsIHNpemU6IE5hTn07XG4gICAgfVxuICAgIGNvbnN0IGNhdCA9IDxJQ2F0ZWdvcnk+ZztcbiAgICByZXR1cm4ge25hbWU6IGNhdC5uYW1lLCBjb2xvcjogY2F0LmNvbG9yIHx8ICdncmF5Jywgc2l6ZTogTmFOfTtcbiAgfTtcbiAgY29uc3QgY2F0cyA9IHYuZGVzYy52YWx1ZS5jYXRlZ29yaWVzLm1hcCh0b0dyb3VwKTtcbiAgY29uc3QgZGVzYzogSVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9uID0ge1xuICAgIGlkOiB2LmRlc2MuaWQgKyAnLXMnLFxuICAgIHR5cGU6ICdzdHJhdGlmaWNhdGlvbicsXG4gICAgbmFtZTogdi5kZXNjLm5hbWUgKyAnLXMnLFxuICAgIGZxbmFtZTogdi5kZXNjLmZxbmFtZSArICctcycsXG4gICAgZGVzY3JpcHRpb246IHYuZGVzYy5kZXNjcmlwdGlvbixcbiAgICBpZHR5cGU6IHYuaWR0eXBlLmlkLFxuICAgIG5ncm91cHM6IGNhdHMubGVuZ3RoLFxuICAgIGdyb3VwczogY2F0cyxcbiAgICBzaXplOiB2Lmxlbmd0aCxcbiAgICBjcmVhdG9yOiB2LmRlc2MuY3JlYXRvcixcbiAgICB0czogdi5kZXNjLnRzXG4gIH07XG5cbiAgZnVuY3Rpb24gbG9hZGVyKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbDxhbnk+KFt2Lmdyb3VwcygpLCB2LmlkcygpLCB2Lm5hbWVzKCldKS50aGVuKChhcmdzKSA9PiB7XG4gICAgICBjb25zdCByYW5nZSA9IDxDb21wb3NpdGVSYW5nZTFEPmFyZ3NbMF07XG4gICAgICByYW5nZS5ncm91cHMuZm9yRWFjaCgoZywgaSkgPT4gY2F0c1tpXS5zaXplID0gZy5sZW5ndGgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmFuZ2U6IGFyZ3NbMF0sXG4gICAgICAgIHJvd0lkczogYXJnc1sxXSxcbiAgICAgICAgcm93czogYXJnc1syXVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3RyYXRpZmljYXRpb24oZGVzYywgbG9hZGVyKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdHJhdGlmaWNhdGlvbi9TdHJhdGlmaWNhdGlvbi50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMjYuMTIuMjAxNi5cbiAqL1xuXG5cbmltcG9ydCB7UmFuZ2UsIFJhbmdlTGlrZSwgQ29tcG9zaXRlUmFuZ2UxRCwgYWxsLCBsaXN0LCBSYW5nZTFER3JvdXAsIHBhcnNlfSBmcm9tICcuLi9yYW5nZSc7XG5pbXBvcnQge0lEYXRhVHlwZX0gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtTZWxlY3RBYmxlfSBmcm9tICcuLi9pZHR5cGUnO1xuaW1wb3J0IHtJQ2F0ZWdvcmljYWxWZWN0b3J9IGZyb20gJy4uL3ZlY3Rvcic7XG5pbXBvcnQge0lIaXN0b2dyYW0sIHJhbmdlSGlzdH0gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQge0lTdHJhdGlmaWNhdGlvbiwgSUdyb3VwfSBmcm9tICcuL0lTdHJhdGlmaWNhdGlvbic7XG5cbi8qKlxuICogcm9vdCBtYXRyaXggaW1wbGVtZW50YXRpb24gaG9sZGluZyB0aGUgZGF0YVxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmF0aWZpY2F0aW9uR3JvdXAgZXh0ZW5kcyBTZWxlY3RBYmxlIGltcGxlbWVudHMgSVN0cmF0aWZpY2F0aW9uIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByb290OiBJU3RyYXRpZmljYXRpb24sIHByaXZhdGUgZ3JvdXBJbmRleDogbnVtYmVyLCBwcml2YXRlIGdyb3VwRGVzYzogSUdyb3VwKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIGdldCBkZXNjKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QuZGVzYztcbiAgfVxuXG4gIGdldCBncm91cHMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmdyb3VwRGVzY107XG4gIH1cblxuICBnZXQgbmdyb3VwcygpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIGdyb3VwKGdyb3VwSW5kZXg6IG51bWJlcik6IElTdHJhdGlmaWNhdGlvbiB7XG4gICAgaWYgKGdyb3VwSW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDsgLy9jYW4ndCBzdWIgYSBzaW5nbGUgZ3JvdXBcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5pZHR5cGU7XG4gIH1cblxuICBhc3luYyBoaXN0KGJpbnM/OiBudW1iZXIsIHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8SUhpc3RvZ3JhbT4ge1xuICAgIC8vRklYTUVcbiAgICByZXR1cm4gcmFuZ2VIaXN0KGF3YWl0IHRoaXMucmFuZ2UoKSk7XG4gIH1cblxuICB2ZWN0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNWZWN0b3IoKTtcbiAgfVxuXG4gIGFzVmVjdG9yKCk6IFByb21pc2U8SUNhdGVnb3JpY2FsVmVjdG9yPiB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsPGFueT4oW3RoaXMucm9vdC5hc1ZlY3RvcigpLCB0aGlzLnJhbmdlR3JvdXAoKV0pLnRoZW4oKGFycjogW0lDYXRlZ29yaWNhbFZlY3RvciwgUmFuZ2UxREdyb3VwXSkgPT4gYXJyWzBdLnZpZXcobGlzdChhcnJbMV0pKSk7XG4gIH1cblxuICBvcmlnaW4oKTogUHJvbWlzZTxJRGF0YVR5cGU+IHtcbiAgICByZXR1cm4gdGhpcy5yb290Lm9yaWdpbigpO1xuICB9XG5cbiAgYXN5bmMgcmFuZ2UoKSB7XG4gICAgY29uc3QgZyA9IGF3YWl0IHRoaXMucmFuZ2VHcm91cCgpO1xuICAgIHJldHVybiBuZXcgQ29tcG9zaXRlUmFuZ2UxRChnLm5hbWUsIFtnXSk7XG4gIH1cblxuICBhc3luYyBpZFJhbmdlKCkge1xuICAgIGNvbnN0IHIgPSBhd2FpdCB0aGlzLnJvb3QuaWRSYW5nZSgpO1xuICAgIGNvbnN0IGcgPSByLmdyb3Vwc1t0aGlzLmdyb3VwSW5kZXhdO1xuICAgIHJldHVybiBuZXcgQ29tcG9zaXRlUmFuZ2UxRChnLm5hbWUsIFtnXSk7XG4gIH1cblxuICBhc3luYyByYW5nZUdyb3VwKCkge1xuICAgIGNvbnN0IHIgPSBhd2FpdCB0aGlzLnJvb3QucmFuZ2UoKTtcbiAgICByZXR1cm4gci5ncm91cHNbdGhpcy5ncm91cEluZGV4XTtcbiAgfVxuXG4gIGFzeW5jIG5hbWVzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIGNvbnN0IGcgPSBhd2FpdCB0aGlzLnJhbmdlR3JvdXAoKTtcbiAgICBjb25zdCByID0gbGlzdChnKS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSkpO1xuICAgIHJldHVybiB0aGlzLnJvb3QubmFtZXMocik7XG4gIH1cblxuICBhc3luYyBpZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxSYW5nZT4ge1xuICAgIGNvbnN0IGcgPSBhd2FpdCB0aGlzLnJhbmdlR3JvdXAoKTtcbiAgICBjb25zdCByID0gbGlzdChnKS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSkpO1xuICAgIHJldHVybiB0aGlzLnJvb3QuaWRzKHIpO1xuICB9XG5cbiAgaWRWaWV3KGlkUmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMucGVyc2lzdCgpO1xuICB9XG5cbiAgZ2V0IGlkdHlwZXMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmlkdHlwZV07XG4gIH1cblxuICBzaXplKCkge1xuICAgIHJldHVybiBbdGhpcy5sZW5ndGhdO1xuICB9XG5cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cERlc2Muc2l6ZTtcbiAgfVxuXG4gIGdldCBkaW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZSgpO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogdGhpcy5yb290LnBlcnNpc3QoKSxcbiAgICAgIGdyb3VwOiB0aGlzLmdyb3VwSW5kZXhcbiAgICB9O1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RyYXRpZmljYXRpb24vU3RyYXRpZmljYXRpb25Hcm91cC50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDAxLjEyLjIwMTYuXG4gKi9cblxuaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vJztcbmltcG9ydCBTdG9yZSBmcm9tICcuL1N0b3JlJztcbmltcG9ydCB7bGlzdCBhcyBsaXN0UGx1Z2lucywgbG9hZCBhcyBsb2FkUGx1Z2luc30gZnJvbSAnLi4vcGx1Z2luJztcblxuZXhwb3J0IGludGVyZmFjZSBJVGFiU3luY2VyT3B0aW9ucyB7XG4gIGtleVByZWZpeD86IHN0cmluZztcbiAgc3RvcmFnZT86IFN0b3JhZ2U7XG59XG5cbmV4cG9ydCBjb25zdCBTWU5DRVJfRVhURU5TSU9OX1BPSU5UID0gJ3RhYlN5bmNlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN5bmNlckV4dGVuc2lvbiB7XG4gIChzdG9yZTogU3RvcmUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJTeW5jZXIge1xuICBwcml2YXRlIHN0YXRpYyBUQUJfTElTVCA9ICd0YWJMaXN0JztcblxuICBwcml2YXRlIG9wdGlvbnM6IElUYWJTeW5jZXJPcHRpb25zID0ge1xuICAgIGtleVByZWZpeDogJ3RhYi1zeW5jLScsXG4gICAgc3RvcmFnZTogbG9jYWxTdG9yYWdlXG4gIH07XG5cbiAgcHJpdmF0ZSBzdG9yZTogU3RvcmU7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucz86IElUYWJTeW5jZXJPcHRpb25zKSB7XG4gICAgbWl4aW4odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgIHRoaXMuc3RvcmUgPSBuZXcgU3RvcmUodGhpcy5vcHRpb25zLnN0b3JhZ2UsIHRoaXMub3B0aW9ucy5rZXlQcmVmaXgpO1xuICAgIHRoaXMuc3RvcmUub24oU3RvcmUuRVZFTlRfQ0hBTkdFRCwgVGFiU3luY2VyLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGluc3RhbnRpYXRlIHBsdWdpbnNcbiAgICBsb2FkUGx1Z2lucyhsaXN0UGx1Z2lucyhTWU5DRVJfRVhURU5TSU9OX1BPSU5UKSkudGhlbigoaW5zdGFuY2VzKSA9PiB7XG4gICAgICBpbnN0YW5jZXMuZm9yRWFjaCgoaSkgPT4gdGhpcy5wdXNoKGkuZmFjdG9yeSkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZWdpc3RlclRhYihkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLnVucmVnaXN0ZXJUYWIoZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XG4gICAgfSk7XG4gIH1cblxuICBwdXNoKHN5bmNlcjogSVN5bmNlckV4dGVuc2lvbikge1xuICAgIHN5bmNlcih0aGlzLnN0b3JlKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJUYWIodXJsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBsaXN0ID0gdGhpcy5nZXRUYWJMaXN0KCk7XG4gICAgbGlzdC5wdXNoKHVybCk7XG4gICAgdGhpcy5zdG9yZS5zZXRWYWx1ZShUYWJTeW5jZXIuVEFCX0xJU1QsIGxpc3QpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaGFuZGxlQ2hhbmdlKGV2ZW50OiBhbnksIGtleTogc3RyaW5nLCBuZXdWYWx1ZTogYW55LCBvbGRWYWx1ZTogYW55LCB1cmw6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCdjaGFuZ2UgaW4gbG9jYWwgc3RvcmFnZScsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCB1cmwpO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyVGFiKHVybDogc3RyaW5nKSB7XG4gICAgY29uc3QgbGlzdCA9IHRoaXMuZ2V0VGFiTGlzdCgpO1xuICAgIGNvbnN0IGkgPSBsaXN0LmluZGV4T2YodXJsKTtcbiAgICBpZiAoaSA+PSAwKSB7XG4gICAgICBsaXN0LnNwbGljZShpLDEpO1xuICAgICAgdGhpcy5zdG9yZS5zZXRWYWx1ZShUYWJTeW5jZXIuVEFCX0xJU1QsIGxpc3QpO1xuICAgIH1cbiAgfVxuXG4gIGdldFRhYkxpc3QoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFZhbHVlKFRhYlN5bmNlci5UQUJfTElTVCwgPHN0cmluZ1tdPltdKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmMvVGFiU3luY2VyLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge0lQZXJzaXN0YWJsZX0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtSYW5nZSwgYWxsLCBwYXJzZSwgUmFuZ2VMaWtlLCBsaXN0IGFzIHJsaXN0fSBmcm9tICcuLi9yYW5nZSc7XG5pbXBvcnQge1NlbGVjdEFibGUsIHJlc29sdmUgYXMgaWR0eXBlc19yZXNvbHZlLCBJRFR5cGV9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQge0lWZWN0b3J9IGZyb20gJy4uL3ZlY3Rvcic7XG5pbXBvcnQge0lUYWJsZSwgSVF1ZXJ5QXJnc30gZnJvbSAnLi9JVGFibGUnO1xuaW1wb3J0IE11bHRpVGFibGVWZWN0b3IgZnJvbSAnLi9pbnRlcm5hbC9NdWx0aVRhYmxlVmVjdG9yJztcbmltcG9ydCB7SVZhbHVlVHlwZSwgSVZhbHVlVHlwZURlc2N9IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7SUludGVybmFsQWNjZXNzfSBmcm9tICcuL2ludGVybmFsJztcblxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBkaWZmZXJlbnQgVGFibGUgaW1wbGVtZW50YXRpb25zLCB2aWV3cywgdHJhbnNwb3NlZCwuLi5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQVRhYmxlIGV4dGVuZHMgU2VsZWN0QWJsZSBpbXBsZW1lbnRzIElJbnRlcm5hbEFjY2VzcyB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCByb290OiBJVGFibGUgJiBJSW50ZXJuYWxBY2Nlc3MpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgZ2V0IGRpbSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplKCk7XG4gIH1cblxuICBnZXQgbnJvdygpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1bMF07XG4gIH1cblxuICBnZXQgbmNvbCgpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1bMV07XG4gIH1cblxuICBhYnN0cmFjdCBzaXplKCk6IG51bWJlcltdO1xuXG4gIHZpZXcocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogSVRhYmxlIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby11c2UtYmVmb3JlLWRlY2xhcmVcbiAgICAvLyBEaXNhYmxlZCB0aGUgcnVsZSwgYmVjYXVzZSB0aGUgY2xhc3NlcyBiZWxvdyByZWZlcmVuY2UgZWFjaCBvdGhlciBpbiBhIHdheSB0aGF0IGl0IGlzIGltcG9zc2libGUgdG8gZmluZCBhIHN1Y2Nlc3NmdWwgb3JkZXIuXG4gICAgcmV0dXJuIG5ldyBUYWJsZVZpZXcodGhpcy5yb290LCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgYWJzdHJhY3QgZGF0YU9mQ29sdW1uPFQ+KGNvbHVtbjogc3RyaW5nLCByYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8VFtdPjtcblxuICBhYnN0cmFjdCBxdWVyeVZpZXcobmFtZTogc3RyaW5nLCBhcmdzOiBJUXVlcnlBcmdzKTogSVRhYmxlO1xuXG4gIGFzeW5jIGlkVmlldyhpZFJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8SVRhYmxlPiB7XG4gICAgcmV0dXJuIHRoaXMudmlldygoYXdhaXQgdGhpcy5pZHMoKSkuaW5kZXhPZihwYXJzZShpZFJhbmdlKSkpO1xuICB9XG5cbiAgcmVkdWNlPFQsIEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oZjogKHJvdzogSVZhbHVlVHlwZVtdKSA9PiBULCB0aGlzQXJndW1lbnQ/OiBhbnksIHZhbHVldHlwZT86IEQsIGlkdHlwZT86IElEVHlwZSk6IElWZWN0b3I8VCxEPiB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aVRhYmxlVmVjdG9yKHRoaXMucm9vdCwgZiwgdGhpc0FyZ3VtZW50LCB2YWx1ZXR5cGUsIGlkdHlwZSk7XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KTogSVBlcnNpc3RhYmxlIHtcbiAgICBpZiAocGVyc2lzdGVkICYmIHBlcnNpc3RlZC5mKSB7XG4gICAgICAvKiB0c2xpbnQ6ZGlzYWJsZTpuby1ldmFsICovXG4gICAgICByZXR1cm4gdGhpcy5yZWR1Y2UoZXZhbChwZXJzaXN0ZWQuZiksIHRoaXMsIHBlcnNpc3RlZC52YWx1ZXR5cGUsIHBlcnNpc3RlZC5pZHR5cGUgPyBpZHR5cGVzX3Jlc29sdmUocGVyc2lzdGVkLmlkdHlwZSkgOiB1bmRlZmluZWQpO1xuICAgICAgLyogdHNsaW50OmVuYWJsZTpuby1ldmFsICovXG4gICAgfSBlbHNlIGlmIChwZXJzaXN0ZWQgJiYgcGVyc2lzdGVkLnJhbmdlKSB7IC8vc29tZSB2aWV3IG9udG8gaXRcbiAgICAgIHJldHVybiB0aGlzLnZpZXcocGFyc2UocGVyc2lzdGVkLnJhbmdlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8SVBlcnNpc3RhYmxlPig8YW55PnRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBVGFibGU7XG5cbi8vIGNpcmN1bGFyIGRlcGVuZGVuY3kgdGh1cyBub3QgZXh0cmFjdGFibGVcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFRhYmxlVmlldyBleHRlbmRzIEFUYWJsZSBpbXBsZW1lbnRzIElUYWJsZSB7XG4gIHByaXZhdGUgdmVjdG9yczogSVZlY3RvcjxhbnksIElWYWx1ZVR5cGVEZXNjPltdO1xuXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IElUYWJsZSAmIElJbnRlcm5hbEFjY2VzcywgcHJpdmF0ZSByYW5nZTogUmFuZ2UpIHtcbiAgICBzdXBlcihyb290KTtcbiAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgdGhpcy52ZWN0b3JzID0gdGhpcy5yb290LmNvbHMocmxpc3QocmFuZ2UuZGltKDEpKSkubWFwKCh2KSA9PiB2LnZpZXcocmxpc3QocmFuZ2UuZGltKDApKSkpO1xuICB9XG5cbiAgZ2V0IGRlc2MoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5kZXNjO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogdGhpcy5yb290LnBlcnNpc3QoKSxcbiAgICAgIHJhbmdlOiB0aGlzLnJhbmdlLnRvU3RyaW5nKClcbiAgICB9O1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICAgIGxldCByOiBJVGFibGUgPSB0aGlzO1xuICAgIGlmIChwZXJzaXN0ZWQgJiYgcGVyc2lzdGVkLnJhbmdlKSB7IC8vc29tZSB2aWV3IG9udG8gaXRcbiAgICAgIHIgPSByLnZpZXcocGFyc2UocGVyc2lzdGVkLnJhbmdlKSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yYW5nZS5zaXplKHRoaXMucm9vdC5kaW0pO1xuICB9XG5cbiAgYXQocm93OiBudW1iZXIsIGNvbDogbnVtYmVyKSB7XG4gICAgY29uc3QgaW52ZXJ0ZWQgPSB0aGlzLnJhbmdlLmludmVydChbcm93LCBjb2xdLCB0aGlzLnJvb3QuZGltKTtcbiAgICByZXR1cm4gdGhpcy5yb290LmF0KGludmVydGVkWzBdLCBpbnZlcnRlZFsxXSk7XG4gIH1cblxuICBjb2w8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPihpOiBudW1iZXIpOiBJVmVjdG9yPFQsIEQ+IHtcbiAgICByZXR1cm4gPGFueT50aGlzLnZlY3RvcnNbaV07IC8vIFRPRE8gcHJldmVudCBgPGFueT5gIGJ5IHVzaW5nIGA8SVZlY3RvcjxhbnksIElWYWx1ZVR5cGVEZXNjPj5gIGxlYWRzIHRvIFRTIGNvbXBpbGUgZXJyb3JzXG4gIH1cblxuICBjb2xzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiBwYXJzZShyYW5nZSkuZmlsdGVyKHRoaXMudmVjdG9ycywgW3RoaXMubmNvbF0pO1xuICB9XG5cbiAgZGF0YShyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5yb290LmRhdGEodGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIGNvbERhdGE8VD4oY29sdW1uOiBzdHJpbmcsIHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxUW10+IHtcbiAgICByZXR1cm4gdGhpcy5kYXRhT2ZDb2x1bW4oY29sdW1uLCByYW5nZSk7XG4gIH1cblxuICBkYXRhT2ZDb2x1bW48VD4oY29sdW1uOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIC8vIHNpbmNlIHdlIGRpcmVjdGx5IGFjY2Vzc2luZyB0aGUgY29sdW1uIGJ5IG5hbWUgdGhlcmUgaXMgbm8gbmVlZCBmb3IgdGhlIGNvbHVtbiBwYXJ0IG9mIHRoZSByYW5nZVxuICAgIGNvbnN0IHJvd1JhbmdlID0gdGhpcy5yYW5nZS5kaW0oMCkucHJlTXVsdGlwbHkocGFyc2UocmFuZ2UpLmRpbSgwKSwgdGhpcy5yb290LmRpbVswXSk7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5kYXRhT2ZDb2x1bW48VD4oY29sdW1uLCBuZXcgUmFuZ2UoW3Jvd1JhbmdlXSkpO1xuICB9XG5cbiAgb2JqZWN0cyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5yb290Lm9iamVjdHModGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIHJvd3MocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5yb3dzKHRoaXMucmFuZ2UucHJlTXVsdGlwbHkocGFyc2UocmFuZ2UpLCB0aGlzLnJvb3QuZGltKSk7XG4gIH1cblxuICByb3dJZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5yb3dJZHModGhpcy5yYW5nZS5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMucm9vdC5kaW0pKTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5yb3dJZHMocmFuZ2UpO1xuICB9XG5cbiAgdmlldyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICBjb25zdCByID0gcGFyc2UocmFuZ2UpO1xuICAgIGlmIChyLmlzQWxsKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBUYWJsZVZpZXcodGhpcy5yb290LCB0aGlzLnJhbmdlLnByZU11bHRpcGx5KHIsIHRoaXMuZGltKSk7XG4gIH1cblxuICBnZXQgaWR0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QuaWR0eXBlO1xuICB9XG5cbiAgZ2V0IGlkdHlwZXMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmlkdHlwZV07XG4gIH1cblxuICBxdWVyeVZpZXcobmFtZTogc3RyaW5nLCBhcmdzOiBhbnkpOiBJVGFibGUge1xuICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3RhYmxlL0FUYWJsZS50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHtJUGVyc2lzdGFibGUsIG1peGlufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQge1JhbmdlLCBhbGwsIGxpc3QgYXMgcmxpc3QsIHBhcnNlLCBSYW5nZUxpa2V9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7cmVzb2x2ZSBhcyBpZHR5cGVzX3Jlc29sdmUsIGNyZWF0ZUxvY2FsQXNzaWduZXJ9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQge0lWYWx1ZVR5cGUsIFZBTFVFX1RZUEVfSU5ULCBWQUxVRV9UWVBFX1JFQUwsIGd1ZXNzVmFsdWVUeXBlRGVzYywgSVZhbHVlVHlwZURlc2N9IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7SVRhYmxlLCBJVGFibGVDb2x1bW4sIElUYWJsZURhdGFEZXNjcmlwdGlvbiwgY3JlYXRlRGVmYXVsdFRhYmxlRGVzY30gZnJvbSAnLi9JVGFibGUnO1xuaW1wb3J0IEFUYWJsZSBmcm9tICcuL0FUYWJsZSc7XG5pbXBvcnQgVGFibGVWZWN0b3IgZnJvbSAnLi9pbnRlcm5hbC9UYWJsZVZlY3Rvcic7XG5pbXBvcnQge0lUYWJsZUxvYWRlciwgSVRhYmxlTG9hZGVyMiwgYWRhcHRlck9uZTJUd28sIHZpYUFQSTJMb2FkZXIsIHZpYURhdGFMb2FkZXJ9IGZyb20gJy4vbG9hZGVyJztcbmltcG9ydCB7SVZlY3Rvcn0gZnJvbSAnLi4vdmVjdG9yJztcbmltcG9ydCB7SUFueVZlY3Rvcn0gZnJvbSAnLi4vdmVjdG9yL0lWZWN0b3InO1xuXG4vKipcbiAqIHJvb3QgbWF0cml4IGltcGxlbWVudGF0aW9uIGhvbGRpbmcgdGhlIGRhdGFcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSBleHRlbmRzIEFUYWJsZSBpbXBsZW1lbnRzIElUYWJsZSB7XG4gIHByaXZhdGUgdmVjdG9yczogVGFibGVWZWN0b3I8YW55LCBJVmFsdWVUeXBlRGVzYz5bXTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uLCBwcml2YXRlIGxvYWRlcjogSVRhYmxlTG9hZGVyMikge1xuICAgIHN1cGVyKG51bGwpO1xuICAgIC8vIHNldCBkZWZhdWx0IGNvbHVtblxuICAgIGRlc2MuY29sdW1ucy5mb3JFYWNoKChjb2wpID0+IGNvbC5jb2x1bW4gPSBjb2wuY29sdW1uIHx8IGNvbC5uYW1lKTtcbiAgICB0aGlzLnJvb3QgPSB0aGlzO1xuICAgIHRoaXMudmVjdG9ycyA9IGRlc2MuY29sdW1ucy5tYXAoKGNkZXNjLCBpKSA9PiBuZXcgVGFibGVWZWN0b3IodGhpcywgaSwgY2Rlc2MpKTtcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIGlkdHlwZXNfcmVzb2x2ZSh0aGlzLmRlc2MuaWR0eXBlIHx8ICg8YW55PnRoaXMuZGVzYykucm93dHlwZSk7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW3RoaXMuaWR0eXBlXTtcbiAgfVxuXG4gIGNvbDxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+KGk6IG51bWJlcik6IElWZWN0b3I8VCwgRD4ge1xuICAgIHJldHVybiA8YW55PnRoaXMudmVjdG9yc1tpXTsgLy8gVE9ETyBwcmV2ZW50IGA8YW55PmAgYnkgdXNpbmcgYDxUYWJsZVZlY3RvcjxhbnksIElWYWx1ZVR5cGVEZXNjPj5gIGxlYWRzIHRvIFRTIGNvbXBpbGUgZXJyb3JzXG4gIH1cblxuICBjb2xzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IElBbnlWZWN0b3JbXSB7XG4gICAgcmV0dXJuIHBhcnNlKHJhbmdlKS5maWx0ZXIodGhpcy52ZWN0b3JzLCBbdGhpcy5uY29sXSk7XG4gIH1cblxuICBhc3luYyBhdChyb3c6IG51bWJlciwgY29sOiBudW1iZXIpOiBQcm9taXNlPElWYWx1ZVR5cGU+IHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuY29sRGF0YSgoPFRhYmxlVmVjdG9yPGFueSwgSVZhbHVlVHlwZURlc2M+PnRoaXMuY29sKGNvbCkpLmNvbHVtbiwgcmxpc3Qocm93KSkpWzBdO1xuICB9XG5cbiAgcXVlcnlWaWV3KG5hbWU6IHN0cmluZywgYXJnczogYW55KTogSVRhYmxlIHtcbiAgICByZXR1cm4gbmV3IFRhYmxlKHRoaXMuZGVzYywgYWRhcHRlck9uZTJUd28odGhpcy5sb2FkZXIudmlldyh0aGlzLmRlc2MsIG5hbWUsIGFyZ3MpKSk7XG4gIH1cblxuICBkYXRhKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmxvYWRlci5kYXRhKHRoaXMuZGVzYywgcGFyc2UocmFuZ2UpKTtcbiAgfVxuXG4gIGNvbERhdGEoY29sdW1uOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmRhdGFPZkNvbHVtbihjb2x1bW4sIHJhbmdlKTtcbiAgfVxuXG4gIGRhdGFPZkNvbHVtbihjb2x1bW46IHN0cmluZywgcmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyLmNvbCh0aGlzLmRlc2MsIGNvbHVtbiwgcGFyc2UocmFuZ2UpKTtcbiAgfVxuXG4gIG9iamVjdHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyLm9ianModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgcm93cyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyLnJvd3ModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgcm93SWRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmxvYWRlci5yb3dJZHModGhpcy5kZXNjLCBwYXJzZShyYW5nZSkpO1xuICB9XG5cbiAgaWRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLnJvd0lkcyhyYW5nZSk7XG4gIH1cblxuICBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2Muc2l6ZTtcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzYy5pZDtcbiAgfVxuXG4gIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpOiBJUGVyc2lzdGFibGUge1xuICAgIGlmIChwZXJzaXN0ZWQgJiYgdHlwZW9mIHBlcnNpc3RlZC5jb2wgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2wocGVyc2lzdGVkLmNvbCk7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5yZXN0b3JlKHBlcnNpc3RlZCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIG1vZHVsZSBlbnRyeSBwb2ludCBmb3IgY3JlYXRpbmcgYSBkYXRhdHlwZVxuICogQHBhcmFtIGRlc2NcbiAqIEBwYXJhbSBsb2FkZXJcbiAqIEByZXR1cm5zIHtJVGFibGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uLCBsb2FkZXI/OiBJVGFibGVMb2FkZXIpOiBJVGFibGUge1xuICBpZiAobG9hZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBUYWJsZShkZXNjLCBhZGFwdGVyT25lMlR3byhsb2FkZXIpKTtcbiAgfVxuICByZXR1cm4gbmV3IFRhYmxlKGRlc2MsIHZpYUFQSTJMb2FkZXIoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwT2JqZWN0cyhkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24sIGRhdGE6IGFueVtdLCBuYW1lUHJvcGVydHk6IHN0cmluZ3woKG9iajogYW55KSA9PiBzdHJpbmcpKSB7XG4gIHJldHVybiBuZXcgVGFibGUoZGVzYywgYWRhcHRlck9uZTJUd28odmlhRGF0YUxvYWRlcihkYXRhLCBuYW1lUHJvcGVydHkpKSk7XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0cyhkYXRhOiBhbnlbXVtdLCBjb2xzOiBzdHJpbmdbXSkge1xuICByZXR1cm4gZGF0YS5tYXAoKHJvdykgPT4ge1xuICAgIGNvbnN0IHI6IGFueSA9IHt9O1xuICAgIGNvbHMuZm9yRWFjaCgoY29sLCBpKSA9PiByW2NvbF0gPSByb3dbaV0pO1xuICAgIHJldHVybiByO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHRvTGlzdChvYmpzOiBhbnlbXSwgY29sczogc3RyaW5nW10pIHtcbiAgcmV0dXJuIG9ianMubWFwKChvYmopID0+IGNvbHMubWFwKChjKSA9PiBvYmpbY10pKTtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBwYXJzaW5nIG9wdGlvbnMgZm9yIGEgdGFibGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQXNUYWJsZU9wdGlvbnMge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZHR5cGU/OiBzdHJpbmc7XG4gIHJvd2Fzc2lnbmVyPyhpZHM6IHN0cmluZ1tdKTogUmFuZ2U7XG4gIGtleVByb3BlcnR5Pzogc3RyaW5nO1xufVxuXG5cbmZ1bmN0aW9uIGFzVGFibGVJbXBsKGNvbHVtbnM6IElUYWJsZUNvbHVtbjxhbnk+W10sIHJvd3M6IHN0cmluZ1tdLCBvYmpzOiBhbnlbXSwgZGF0YTogSVZhbHVlVHlwZVtdW10sIG9wdGlvbnM6IElBc1RhYmxlT3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGRlc2MgPSBtaXhpbihjcmVhdGVEZWZhdWx0VGFibGVEZXNjKCksIHtcbiAgICBjb2x1bW5zLFxuICAgIHNpemU6IFtyb3dzLmxlbmd0aCwgY29sdW1ucy5sZW5ndGhdXG4gIH0sIG9wdGlvbnMpO1xuXG4gIGNvbnN0IHJvd0Fzc2lnbmVyID0gb3B0aW9ucy5yb3dhc3NpZ25lciB8fCBjcmVhdGVMb2NhbEFzc2lnbmVyKCk7XG4gIGNvbnN0IGxvYWRlcjogSVRhYmxlTG9hZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHIgPSB7XG4gICAgICByb3dJZHM6IHJvd0Fzc2lnbmVyKHJvd3MpLFxuICAgICAgcm93cyxcbiAgICAgIG9ianMsXG4gICAgICBkYXRhXG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICB9O1xuICByZXR1cm4gbmV3IFRhYmxlKGRlc2MsIGFkYXB0ZXJPbmUyVHdvKGxvYWRlcikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNUYWJsZUZyb21BcnJheShkYXRhOiBhbnlbXVtdLCBvcHRpb25zOiBJQXNUYWJsZU9wdGlvbnMgPSB7fSk6IElUYWJsZSB7XG4gIGNvbnN0IHJvd3MgPSBkYXRhLm1hcCgocikgPT4gclswXSk7XG4gIGNvbnN0IGNvbHMgPSBkYXRhWzBdLnNsaWNlKDEpO1xuICBjb25zdCB0YWJsZURhdGEgPSBkYXRhLnNsaWNlKDEpLm1hcCgocikgPT4gci5zbGljZSgxKSk7XG5cbiAgY29uc3QgY29sdW1ucyA9IGNvbHMubWFwKChjb2wsIGkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogY29sLFxuICAgICAgY29sdW1uOiBjb2wsXG4gICAgICB2YWx1ZTogZ3Vlc3NWYWx1ZVR5cGVEZXNjKHRhYmxlRGF0YS5tYXAoKHJvdykgPT4gcm93W2ldKSlcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCByZWFsRGF0YSA9IHRhYmxlRGF0YS5tYXAoKHJvdykgPT4gY29sdW1ucy5tYXAoKGNvbCwgaSkgPT4gKGNvbC52YWx1ZS50eXBlID09PSBWQUxVRV9UWVBFX1JFQUwgfHwgY29sLnZhbHVlLnR5cGUgPT09IFZBTFVFX1RZUEVfSU5UKSA/IHBhcnNlRmxvYXQocm93W2ldKSA6IHJvd1tpXSkpO1xuICBjb25zdCBvYmpzID0gdG9PYmplY3RzKHJlYWxEYXRhLCBjb2xzKTtcblxuICByZXR1cm4gYXNUYWJsZUltcGwoY29sdW1ucywgcm93cywgb2JqcywgcmVhbERhdGEsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFibGUgZnJvbSBhbiBhcnJheSBvZiBhcnJheXMgb2YgZGF0YSBhbmQgYW4gb3B0aW9uYWwgb3B0aW9ucyBkYXRhIHN0cnVjdHVyZS5cbiAqIFRPRE86IGV4cGxhaW4gdGhlIHJlbGF0aW9uc2hpcCBvZiB0aGlzIGZ1bmN0aW9uIGFuZCB0aGUgXCJtYWdpY1wiIEpTT04gZmlsZS5cbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gb3B0aW9ucyBUT0RPIC0gZXhwbGFpbiB3aGF0IHRoZXNlIG9wdGlvbnMgYXJlXG4gKiBAcmV0dXJucyB7VGFibGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc1RhYmxlKGRhdGE6IGFueVtdLCBvcHRpb25zOiBJQXNUYWJsZU9wdGlvbnMgPSB7fSk6IElUYWJsZSB7XG4gIGNvbnN0IGtleVByb3BlcnR5ID0gb3B0aW9ucy5rZXlQcm9wZXJ0eSB8fCAnX2lkJztcblxuICBjb25zdCByb3dzID0gZGF0YS5tYXAoKHIsIGkpID0+IFN0cmluZyhyW2tleVByb3BlcnR5XSB8fCBpKSk7XG4gIGNvbnN0IGNvbHMgPSBPYmplY3Qua2V5cyhkYXRhWzBdKTtcbiAgY29uc3Qgb2JqcyA9IGRhdGE7XG4gIGNvbnN0IHJlYWxEYXRhID0gdG9MaXN0KG9ianMsIGNvbHMpO1xuXG4gIGNvbnN0IGNvbHVtbnMgPSBjb2xzLm1hcCgoY29sLCBpKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGNvbCxcbiAgICAgIGNvbHVtbjogY29sLFxuICAgICAgdmFsdWU6IGd1ZXNzVmFsdWVUeXBlRGVzYyhyZWFsRGF0YS5tYXAoKHJvdykgPT4gcm93W2ldKSlcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIGFzVGFibGVJbXBsKGNvbHVtbnMsIHJvd3MsIG9ianMsIHJlYWxEYXRhLCBvcHRpb25zKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90YWJsZS9UYWJsZS50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuXG5pbXBvcnQge21peGlufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQge2FyZ1NvcnQsIGFyZ0ZpbHRlcn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHthbGwsIFJhbmdlTGlrZSwgbGlzdCBhcyBybGlzdCwgcGFyc2V9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCBSYW5nZSBmcm9tICcuLi9yYW5nZS9SYW5nZSc7XG5pbXBvcnQge3Jlc29sdmUsIGNyZWF0ZUxvY2FsQXNzaWduZXJ9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQge1xuICBtYXNrLFxuICBJTnVtYmVyVmFsdWVUeXBlRGVzYyxcbiAgVkFMVUVfVFlQRV9JTlQsXG4gIFZBTFVFX1RZUEVfUkVBTCxcbiAgZ3Vlc3NWYWx1ZVR5cGVEZXNjLFxuICBJVmFsdWVUeXBlRGVzY1xufSBmcm9tICcuLi9kYXRhdHlwZSc7XG5pbXBvcnQge0lWZWN0b3IsIElWZWN0b3JEYXRhRGVzY3JpcHRpb24sIGNyZWF0ZURlZmF1bHRWZWN0b3JEZXNjfSBmcm9tICcuL0lWZWN0b3InO1xuaW1wb3J0IEFWZWN0b3IgZnJvbSAnLi9BVmVjdG9yJztcbmltcG9ydCB7SVZlY3RvckxvYWRlciwgdmlhQVBJTG9hZGVyLCB2aWFEYXRhTG9hZGVyLCBJVmVjdG9yTG9hZGVyUmVzdWx0fSBmcm9tICcuL2xvYWRlcic7XG4vKipcbiAqIEJhc2UgdmVjdG9yIGltcGxlbWVudGF0aW9uIGhvbGRpbmcgdGhlIGRhdGEuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yPFQsRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPiBleHRlbmRzIEFWZWN0b3I8VCxEPiB7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGRlc2M6IElWZWN0b3JEYXRhRGVzY3JpcHRpb248RD4sIHByaXZhdGUgbG9hZGVyOiBJVmVjdG9yTG9hZGVyPFQ+KSB7XG4gICAgc3VwZXIobnVsbCk7XG4gICAgdGhpcy5yb290ID0gdGhpcztcbiAgfVxuXG4gIGdldCB2YWx1ZXR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzYy52YWx1ZTtcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHJlc29sdmUodGhpcy5kZXNjLmlkdHlwZSk7XG4gIH1cblxuICAvKipcbiAgICogbG9hZHMgYWxsIHRoZSB1bmRlcmx5aW5nIGRhdGEgaW4ganNvbiBmb3JtYXRcbiAgICogVE9ETzogbG9hZCBqdXN0IG5lZWRlZCBkYXRhIGFuZCBub3QgZXZlcnl0aGluZyBnaXZlbiBieSB0aGUgcmVxdWVzdGVkIHJhbmdlXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcHJpdmF0ZSBsb2FkKCk6IFByb21pc2U8SVZlY3RvckxvYWRlclJlc3VsdDxUPj4ge1xuICAgIHJldHVybiB0aGlzLmxvYWRlcih0aGlzLmRlc2MpO1xuICB9XG5cbiAgLyoqXG4gICAqIGFjY2VzcyBhdCBhIHNwZWNpZmljIHBvc2l0aW9uXG4gICAqIEBwYXJhbSBpXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgYXN5bmMgYXQoaTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLmxvYWQoKSkuZGF0YVtpXTtcbiAgfVxuXG4gIGFzeW5jIGRhdGEocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubG9hZCgpO1xuICAgIGNvbnN0IGQgPSBwYXJzZShyYW5nZSkuZmlsdGVyKGRhdGEuZGF0YSwgdGhpcy5kaW0pO1xuICAgIGlmICgodGhpcy52YWx1ZXR5cGUudHlwZSA9PT0gVkFMVUVfVFlQRV9SRUFMIHx8IHRoaXMudmFsdWV0eXBlLnR5cGUgPT09IFZBTFVFX1RZUEVfSU5UKSkge1xuICAgICAgcmV0dXJuIG1hc2soZCwgPElOdW1iZXJWYWx1ZVR5cGVEZXNjPjxhbnk+dGhpcy52YWx1ZXR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gZDtcbiAgfVxuXG4gIGFzeW5jIG5hbWVzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmxvYWQoKTtcbiAgICByZXR1cm4gcGFyc2UocmFuZ2UpLmZpbHRlcihkYXRhLnJvd3MsIHRoaXMuZGltKTtcbiAgfVxuXG4gIGFzeW5jIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPFJhbmdlPiB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubG9hZCgpO1xuICAgIHJldHVybiBkYXRhLnJvd0lkcy5wcmVNdWx0aXBseShwYXJzZShyYW5nZSksIHRoaXMuZGltKTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCkge1xuICAgIHJldHVybiBbdGhpcy5pZHR5cGVdO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjLnNpemU7XG4gIH1cblxuICBhc3luYyBzb3J0KGNvbXBhcmVGbj86IChhOiBULCBiOiBUKSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElWZWN0b3I8VCxEPj4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICBjb25zdCBpbmRpY2VzID0gYXJnU29ydChkLCBjb21wYXJlRm4sIHRoaXNBcmcpO1xuICAgIHJldHVybiB0aGlzLnZpZXcocmxpc3QoaW5kaWNlcykpO1xuICB9XG5cbiAgYXN5bmMgZmlsdGVyKGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8SVZlY3RvcjxULEQ+PiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdGaWx0ZXIoZCwgY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIHJldHVybiB0aGlzLmRlc2MuaWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBtb2R1bGUgZW50cnkgcG9pbnQgZm9yIGNyZWF0aW5nIGEgZGF0YXR5cGVcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIGRlc2NcbiAqIEByZXR1cm5zIHtJVmVjdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlPFQsIEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oZGVzYzogSVZlY3RvckRhdGFEZXNjcmlwdGlvbjxEPik6IElWZWN0b3I8VCxEPiB7XG4gIGlmICh0eXBlb2YoKDxhbnk+ZGVzYykubG9hZGVyKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBuZXcgVmVjdG9yKGRlc2MsIDxJVmVjdG9yTG9hZGVyPFQ+Pig8YW55PmRlc2MpLmxvYWRlcik7XG4gIH1cbiAgcmV0dXJuIG5ldyBWZWN0b3IoZGVzYywgdmlhQVBJTG9hZGVyKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcDxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+KGRlc2M6IElWZWN0b3JEYXRhRGVzY3JpcHRpb248RD4sIHJvd3M6IHN0cmluZ1tdLCByb3dJZHM6IG51bWJlcltdLCBkYXRhOiBUW10pIHtcbiAgcmV0dXJuIG5ldyBWZWN0b3IoZGVzYywgdmlhRGF0YUxvYWRlcihyb3dzLCByb3dJZHMsIGRhdGEpKTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIElBc1ZlY3Rvck9wdGlvbnMge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZHR5cGU/OiBzdHJpbmc7XG4gIHJvd2Fzc2lnbmVyPyhpZHM6IHN0cmluZ1tdKTogUmFuZ2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc1ZlY3RvcjxUPihyb3dzOiBzdHJpbmdbXSwgZGF0YTogVFtdLCBvcHRpb25zOiBJQXNWZWN0b3JPcHRpb25zID0ge30pIHtcbiAgY29uc3QgZGVzYyA9IG1peGluKGNyZWF0ZURlZmF1bHRWZWN0b3JEZXNjKCksIHtcbiAgICBzaXplOiBkYXRhLmxlbmd0aCxcbiAgICB2YWx1ZTogZ3Vlc3NWYWx1ZVR5cGVEZXNjKGRhdGEpXG4gIH0sIG9wdGlvbnMpO1xuXG4gIGNvbnN0IHJvd0Fzc2lnbmVyID0gb3B0aW9ucy5yb3dhc3NpZ25lciB8fCBjcmVhdGVMb2NhbEFzc2lnbmVyKCk7XG4gIHJldHVybiBuZXcgVmVjdG9yKGRlc2MsIHZpYURhdGFMb2FkZXIocm93cywgcm93QXNzaWduZXIocm93cyksIGRhdGEpKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92ZWN0b3IvVmVjdG9yLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG4vKipcbiAqIGdlbmVyYXRlcyBhbmQgb2JqZWN0IHRoYXQgY29udGFpbiBhbGwgbW9kdWxlcyBpbiB0aGUgc3JjIGZvbGRlciBhY2Nlc3NpYmxlIGFzIHByb3BlcnRpZXNcbiAqL1xuXG4vKipcbiAqIG1hZ2ljIGZpbGUgbmFtZSBmb3IgdGhlIHBzZXVkbyByb290IGZpbGVcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBJTkRFWF9GSUxFID0gJy4vaW5kZXgudHMnO1xuLyoqXG4gKiBzb3J0cyB0aGUgZ2l2ZW4gZmlsZW5hbWUgYnkgbmFtZSBlbnN1cmluZyBJTkRFWCBpcyB0aGUgZmlyc3Qgb25lXG4gKiBAcGFyYW0gYVxuICogQHBhcmFtIGJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGJ5TmFtZShhLCBiKSB7XG4gIGlmIChhID09PSBJTkRFWF9GSUxFKSB7XG4gICAgcmV0dXJuIGEgPT09IGIgPyAwIDogLTE7XG4gIH1cbiAgaWYgKGIgPT09IElOREVYX0ZJTEUpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gYS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUoYi50b0xvd2VyQ2FzZSgpKTtcbn1cbi8vIGxpc3QgYWxsIG1vZHVsZXMgaW4gdGhlIHNyYyBmb2xkZXIgZXhjbHVkaW5nIHRoZSBvbmUgc3RhcnRpbmcgd2l0aCBfXG52YXIgcmVxID0gcmVxdWlyZS5jb250ZXh0KCcuL3NyYycsIHRydWUsIC9eXFwuXFwvKD8haW50ZXJuYWwpKChbXl9dW1xcd10rKXwoXFx3K1xcL2luZGV4KSlcXC50c3g/JC8pO1xuXG52YXIgZmlsZXMgPSByZXEua2V5cygpLnNvcnQoYnlOYW1lKTtcblxuLy8gcm9vdCBmaWxlIGV4aXN0cz8gZWxzZSB1c2UgYW5vbnltb3VzIHJvb3Qgb2JqZWN0XG5pZiAoZmlsZXNbMF0gPT09IElOREVYX0ZJTEUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXEoZmlsZXMuc2hpZnQoKSk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHt9O1xufVxuXG4vLyBnZW5lcmF0ZSBnZXR0ZXIgZm9yIGFsbCBtb2R1bGVzXG5maWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUuZXhwb3J0cywgZi5zdWJzdHJpbmcoMiwgZi5sYXN0SW5kZXhPZignL2luZGV4LicpID4gMCA/IGYubGFzdEluZGV4T2YoJy9pbmRleC4nKSA6IGYubGFzdEluZGV4T2YoJy4nKSksIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXEoZik7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlXG4gIH0pO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJidWlsZEluZm8uanNvblwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9maWxlLWxvYWRlcj9uYW1lPWJ1aWxkSW5mby5qc29uIS90bXAvYnVpbGRJbmZvYXM1cDJmN2sudHh0XG4vLyBtb2R1bGUgaWQgPSA3MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJwaG92ZWFNZXRhRGF0YS5qc29uXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ZpbGUtbG9hZGVyP25hbWU9cGhvdmVhTWV0YURhdGEuanNvbiEvdG1wL21ldGFEYXRhZ3ozYWV4NGIudHh0XG4vLyBtb2R1bGUgaWQgPSA3M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbmltcG9ydCB7cmVnaXN0ZXJ9IGZyb20gJy4vc3JjL3BsdWdpbic7XG5pbXBvcnQgcmVnIGZyb20gJy4vc3JjL3Bob3ZlYSc7XG4vKipcbiAqIGJ1aWxkIGEgcmVnaXN0cnkgYnkgcmVnaXN0ZXJpbmcgYWxsIHBob3ZlYSBtb2R1bGVzXG4gKi9cbi8vb3RoZXIgbW9kdWxlc1xuXG4vL3NlbGZcbnJlZ2lzdGVyKCdwaG92ZWFfY29yZScscmVnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcGhvdmVhX3JlZ2lzdHJ5LmpzXG4vLyBtb2R1bGUgaWQgPSA3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qc1xuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanNcbi8vIG1vZHVsZSBpZCA9IDc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanNcbi8vIG1vZHVsZSBpZCA9IDc4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZi5qc1xuLy8gbW9kdWxlIGlkID0gODBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gXCIuL3NldFByb3RvdHlwZU9mXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIGlmICghKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcbiAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXG4vLyBtb2R1bGUgaWQgPSA4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanNcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBkZWZpbmVQcm9wZXJ0eSBmcm9tIFwiLi9kZWZpbmVQcm9wZXJ0eVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBPYmplY3QoYXJndW1lbnRzW2ldKSA6IHt9O1xuICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZC5qc1xuLy8gbW9kdWxlIGlkID0gODZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IF90eXBlb2YgZnJvbSBcIi4uLy4uL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xuaW1wb3J0IGFzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiLi9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICByZXR1cm4gY2FsbDtcbiAgfVxuXG4gIHJldHVybiBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcbi8vIG1vZHVsZSBpZCA9IDg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zZXRQcm90b3R5cGVPZi5qc1xuLy8gbW9kdWxlIGlkID0gODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXRcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0XCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheVwiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7YWxsLCBsaXN0IGFzIHJsaXN0LCBSYW5nZSwgUmFuZ2VMaWtlLCBub25lLCBwYXJzZX0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtTZWxlY3RBYmxlLCByZXNvbHZlfSBmcm9tICcuLi9pZHR5cGUnO1xuaW1wb3J0IHtJVmFsdWVUeXBlRGVzY30gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IElBdG9tLCB7SUF0b21EYXRhRGVzY3JpcHRpb259IGZyb20gJy4vSUF0b20nO1xuXG4vKipcbiAqIGJhc2UgY2xhc3MgZm9yIGRpZmZlcmVudCBBdG9tIGltcGxlbWVudGF0aW9uc1xuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBQXRvbTxULEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4gZXh0ZW5kcyBTZWxlY3RBYmxlIHtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGVzYzogSUF0b21EYXRhRGVzY3JpcHRpb248RD4pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgZ2V0IGRpbSgpIHtcbiAgICByZXR1cm4gWzFdO1xuICB9XG5cbiAgZ2V0IHZhbHVldHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjLnZhbHVlO1xuICB9XG5cbiAgZ2V0IGlkdHlwZSgpIHtcbiAgICByZXR1cm4gcmVzb2x2ZSh0aGlzLmRlc2MuaWR0eXBlKTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCkge1xuICAgIHJldHVybiBbdGhpcy5pZHR5cGVdO1xuICB9XG5cbiAgaWRzKHJhbmdlID0gYWxsKCkpOiBQcm9taXNlPFJhbmdlPiB7XG4gICAgcmFuZ2UgPSBwYXJzZShyYW5nZSk7XG4gICAgaWYgKHJhbmdlLmlzTm9uZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub25lKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pZCgpO1xuICB9XG5cbiAgaWRWaWV3KGlkUmFuZ2U/OiBSYW5nZUxpa2UpOiBQcm9taXNlPElBdG9tPFQsRD4+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDxJQXRvbTxULEQ+Pjxhbnk+dGhpcyk7XG4gIH1cblxuICBhYnN0cmFjdCBpZCgpOiBQcm9taXNlPFJhbmdlPjtcblxuICBwZXJzaXN0KCkge1xuICAgIHJldHVybiB0aGlzLmRlc2MuaWQ7XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQUF0b207XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXRvbS9BQXRvbS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDE0LjAyLjIwMTcuXG4gKi9cblxuaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtSYW5nZX0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtJRFR5cGUsIElEVHlwZUxpa2V9IGZyb20gJy4uL2lkdHlwZSc7XG5pbXBvcnQge1xuICBJRGF0YVR5cGUsIElWYWx1ZVR5cGVEZXNjLCBJRGF0YURlc2NyaXB0aW9uLCBjcmVhdGVEZWZhdWx0RGF0YURlc2MsXG4gIElOdW1iZXJWYWx1ZVR5cGVEZXNjLCBJQ2F0ZWdvcmljYWxWYWx1ZVR5cGVEZXNjLCBJU3RyaW5nVmFsdWVUeXBlRGVzY1xufSBmcm9tICcuLi9kYXRhdHlwZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUF0b21WYWx1ZTxUPiB7XG4gIG5hbWU6IHN0cmluZztcbiAgaWQ6IG51bWJlcjtcbiAgdmFsdWU6IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUF0b21EYXRhRGVzY3JpcHRpb248RCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPiBleHRlbmRzIElEYXRhRGVzY3JpcHRpb24ge1xuICByZWFkb25seSB2YWx1ZTogRDtcbiAgcmVhZG9ubHkgaWR0eXBlOiBJRFR5cGVMaWtlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElJbmxpbmVkQXRvbURhdGFEZXNjcmlwdGlvbjxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgSUF0b21EYXRhRGVzY3JpcHRpb248RD4ge1xuICByZWFkb25seSBkYXRhOiBJQXRvbVZhbHVlPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBdG9tPFQsIEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4gZXh0ZW5kcyBJRGF0YVR5cGUge1xuICByZWFkb25seSBkZXNjOiBJQXRvbURhdGFEZXNjcmlwdGlvbjxEPjtcbiAgLyoqXG4gICAqIGlkIHR5cGVcbiAgICovXG4gIHJlYWRvbmx5IGlkdHlwZTogSURUeXBlO1xuICByZWFkb25seSB2YWx1ZXR5cGU6IEQ7XG5cbiAgbmFtZSgpOiBQcm9taXNlPHN0cmluZz47XG5cbiAgaWQoKTogUHJvbWlzZTxSYW5nZT47XG5cbiAgZGF0YSgpOiBQcm9taXNlPFQ+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBJQXRvbTtcblxuXG5leHBvcnQgZGVjbGFyZSB0eXBlIElOdW1lcmljYWxBdG9tID0gSUF0b208bnVtYmVyLCBJTnVtYmVyVmFsdWVUeXBlRGVzYz47XG5leHBvcnQgZGVjbGFyZSB0eXBlIElDYXRlZ29yaWNhbEF0b20gPSBJQXRvbTxzdHJpbmcsIElDYXRlZ29yaWNhbFZhbHVlVHlwZURlc2M+O1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBJU3RyaW5nQXRvbSA9IElBdG9tPHN0cmluZywgSVN0cmluZ1ZhbHVlVHlwZURlc2M+O1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBJQW55QXRvbSA9IElBdG9tPGFueSwgSVZhbHVlVHlwZURlc2M+O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEF0b21EZXNjKCk6IElBdG9tRGF0YURlc2NyaXB0aW9uPElWYWx1ZVR5cGVEZXNjPiB7XG4gIHJldHVybiA8SUF0b21EYXRhRGVzY3JpcHRpb248SVZhbHVlVHlwZURlc2M+Pm1peGluKGNyZWF0ZURlZmF1bHREYXRhRGVzYygpLCB7XG4gICAgdHlwZTogJ2F0b20nLFxuICAgIGlkdHlwZTogJ19yb3dzJyxcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9XG4gIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2F0b20vSUF0b20udHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAxNC4wMi4yMDE3LlxuICovXG5cbmV4cG9ydCB7SUF0b20sIElBdG9tRGF0YURlc2NyaXB0aW9uLCBJQ2F0ZWdvcmljYWxBdG9tLCBJTnVtZXJpY2FsQXRvbSwgSUFueUF0b219IGZyb20gJy4vSUF0b20nO1xuZXhwb3J0IHthc0F0b20sIElBc0F0b21PcHRpb25zfSBmcm9tICcuL0F0b20nO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2F0b20vaW5kZXgudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAxNi4xMi4yMDE0LlxuICovXG5cbmltcG9ydCB7SVZpc0luc3RhbmNlLCBJVmlzTWV0YURhdGF9IGZyb20gJy4vdmlzJztcbmltcG9ydCB7RXZlbnRIYW5kbGVyfSBmcm9tICcuL2V2ZW50JztcblxuLyoqXG4gKiB1dGlsaXR5IGxvZ2ljIGZvciB6b29taW5nIGEgdmlzIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBab29tTG9naWMgZXh0ZW5kcyBFdmVudEhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgdjogSVZpc0luc3RhbmNlLCBwdWJsaWMgcmVhZG9ubHkgbWV0YTogSVZpc01ldGFEYXRhKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHpvb21JbigpIHtcbiAgICByZXR1cm4gdGhpcy56b29tKDEsIDEpO1xuICB9XG5cbiAgem9vbU91dCgpIHtcbiAgICByZXR1cm4gdGhpcy56b29tKC0xLCAtMSk7XG4gIH1cblxuICAvKipcbiAgICogem9vbXMgaW4vb3V0LCAtMSA9IHpvb20gb3V0LCArMSB6b29tIGluLCAwIG5vIHpvb20gb3BlcmF0aW9uXG4gICAqIEBwYXJhbSB6b29tWFxuICAgKiBAcGFyYW0gem9vbVlcbiAgICogQHJldHVybnMge2FueX1cbiAgICovXG4gIHpvb20oem9vbVg6IG51bWJlciwgem9vbVk6IG51bWJlcikge1xuICAgIGlmICghdGhpcy52KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9EZWx0YSh4OiBudW1iZXIpIHtcbiAgICAgIHJldHVybiB4ID4gMCA/IDAuMiA6ICh4IDwgMCA/IC0wLjIgOiAwKTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGQgPSB0aGlzLnYudHJhbnNmb3JtKCk7XG4gICAgY29uc3QgZGVsdGFYID0gdG9EZWx0YSh6b29tWCk7XG4gICAgY29uc3QgZGVsdGFZID0gdG9EZWx0YSh6b29tWSk7XG4gICAgcmV0dXJuIHRoaXMuem9vbVNldChvbGQuc2NhbGVbMF0gKyBkZWx0YVgsIG9sZC5zY2FsZVsxXSArIGRlbHRhWSk7XG4gIH1cblxuICBnZXQgaXNXaWR0aEZpeGVkKCkge1xuICAgIHJldHVybiAodGhpcy5tZXRhICYmIHRoaXMubWV0YS5zY2FsaW5nID09PSAnaGVpZ2h0LW9ubHknKTtcbiAgfVxuXG4gIGdldCBpc0hlaWdodEZpeGVkKCkge1xuICAgIHJldHVybiAodGhpcy5tZXRhICYmIHRoaXMubWV0YS5zY2FsaW5nID09PSAnd2lkdGgtb25seScpO1xuICB9XG5cbiAgZ2V0IGlzRml4ZWRBc3BlY3RSYXRpbygpIHtcbiAgICByZXR1cm4gKHRoaXMubWV0YSAmJiB0aGlzLm1ldGEuc2NhbGluZyA9PT0gJ2FzcGVjdCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIHNldCBzcGVjaWZpYyB6b29tIGZhY3RvcnNcbiAgICogQHBhcmFtIHpvb21YXG4gICAqIEBwYXJhbSB6b29tWVxuICAgKiBAcmV0dXJucyB7YW55fVxuICAgKi9cbiAgem9vbVNldCh6b29tWDogbnVtYmVyLCB6b29tWTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLnYpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBvbGQgPSB0aGlzLnYudHJhbnNmb3JtKCk7XG4gICAgY29uc3QgczogW251bWJlciwgbnVtYmVyXSA9IFt6b29tWCwgem9vbVldO1xuICAgIHN3aXRjaCAoKHRoaXMubWV0YSA/IHRoaXMubWV0YS5zY2FsaW5nIDogJ2ZyZWUnKSkge1xuICAgICAgY2FzZSAnd2lkdGgtb25seSc6XG4gICAgICAgIHNbMV0gPSBvbGQuc2NhbGVbMV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGVpZ2h0LW9ubHknOlxuICAgICAgICBzWzBdID0gb2xkLnNjYWxlWzBdO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHNbMF0gPD0gMCkge1xuICAgICAgc1swXSA9IDAuMDAxO1xuICAgIH1cbiAgICBpZiAoc1sxXSA8PSAwKSB7XG4gICAgICBzWzFdID0gMC4wMDE7XG4gICAgfVxuICAgIGlmICgodGhpcy5tZXRhICYmIHRoaXMubWV0YS5zY2FsaW5nID09PSAnYXNwZWN0JykpIHsgLy9zYW1lIGFzcGVjdCByYXRpbyB1c2UgbWluIHNjYWxlXG4gICAgICBzWzBdID0gc1sxXSA9IE1hdGgubWluKC4uLnMpO1xuICAgIH1cbiAgICB0aGlzLmZpcmUoJ3pvb20nLCB7XG4gICAgICBzY2FsZTogcyxcbiAgICAgIHJvdGF0ZTogb2xkLnJvdGF0ZVxuICAgIH0sIG9sZCk7XG4gICAgcmV0dXJuIHRoaXMudi50cmFuc2Zvcm0ocywgb2xkLnJvdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogem9vbXMgdG8gYSBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0IGJhc2VkIG9uIHRoZSByYXdTaXplIG9mIHRoZSB2aXN1YWxpemF0aW9uXG4gICAqIEBwYXJhbSB3XG4gICAqIEBwYXJhbSBoXG4gICAqIEByZXR1cm5zIHthbnl9XG4gICAqL1xuICB6b29tVG8odzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICBpZiAoIXRoaXMudikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG9yaSA9IHRoaXMudi5yYXdTaXplO1xuICAgIHJldHVybiB0aGlzLnpvb21TZXQodyAvIG9yaVswXSwgaCAvIG9yaVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBhZGRpdGlvbiB0byBab29tTG9naWMgdGFraW5nIGNhcmUgb2YgbW91c2Ugd2hlZWwgb3BlcmF0aW9ucyBvbiB0aGUgdmlzIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBab29tQmVoYXZpb3IgZXh0ZW5kcyBab29tTG9naWMge1xuICBjb25zdHJ1Y3Rvcihub2RlOiBFbGVtZW50LCB2OiBJVmlzSW5zdGFuY2UsIG1ldGE6IElWaXNNZXRhRGF0YSkge1xuICAgIHN1cGVyKHYsIG1ldGEpO1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIChldmVudDogYW55KSA9PiB7XG4gICAgICBpZiAoIXRoaXMudikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjdHJsS2V5ID0gZXZlbnQuY3RybEtleTsgLy9ib3RoXG4gICAgICBjb25zdCBzaGlmdEtleSA9IGV2ZW50LnNoaWZ0S2V5OyAvL3lcbiAgICAgIGNvbnN0IGFsdEtleSA9IGV2ZW50LmFsdEtleTsgLy94XG4gICAgICBjb25zdCBtID0gZXZlbnQud2hlZWxEZWx0YTtcbiAgICAgIHRoaXMuem9vbShtICogKGN0cmxLZXkgfHwgYWx0S2V5ID8gMSA6IDApLCBtICogKGN0cmxLZXkgfHwgc2hpZnRLZXkgPyAxIDogMCkpO1xuICAgICAgaWYgKGN0cmxLZXkgfHwgc2hpZnRLZXkgfHwgYWx0S2V5KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iZWhhdmlvci50cyIsImltcG9ydCBpMThuZXh0IGZyb20gJ2kxOG5leHQnO1xuaW1wb3J0IHtsaXN0fSBmcm9tICcuLi9wbHVnaW4nO1xuaW1wb3J0IHtFUF9QSE9WRUFfQ09SRV9MT0NBTEUsIElMb2NhbGVFUERlc2N9IGZyb20gJy4uL2V4dGVuc2lvbnMnO1xuXG5jb25zdCBERUZBVUxUX0xBTkdVQUdFID0gJ2VuJztcbmNvbnN0IERFRkFVTFRfTkFNRVNQQUNFID0gJ2RlZmF1bHRfbmFtZXNwYWNlJztcblxuLyoqXG4gKiBDcmVhdGUgYSB1bmlxdWUgaTE4bmV4dCBpbnN0YW5jZVxuICogVGh1cyBhbGxvd2luZyB0aGUgZXhpc3RlbmNlIG9mIG11bHRpcGxlIGkxOG5leHQgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbmZpZ3VyYXRpb25zXG4gKiB3aXRob3V0IG9uZSBvdmVyd3JpdGluZyB0aGUgb3RoZXJcbiAqL1xuY29uc3QgaTE4biA9IGkxOG5leHQuY3JlYXRlSW5zdGFuY2UoKTtcblxuLyoqXG4gKiAgQXdhaXRzIHRoZSB0cmFuc2xhdGlvbiBmaWxlcyByZWdpc3RlcmVkIGF0IHRoZSBFUF9QSE9WRUFfQ09SRV9MT0NBTEUgZXh0ZW5zaW9uIHBvaW50XG4gKiAgSW5pdGlhbGl6ZSBJMThuZXh0IHdpdGggdGhlIHRyYW5zbGF0aW9uIGZpbGVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0STE4bigpIHtcbiAgY29uc3QgcGx1Z2lucyA9IGF3YWl0IFByb21pc2UuYWxsKGxpc3QoRVBfUEhPVkVBX0NPUkVfTE9DQUxFKS5tYXAoKHBsdWdpbkRlc2M6IElMb2NhbGVFUERlc2MpID0+IHtcbiAgICByZXR1cm4gcGx1Z2luRGVzYy5sb2FkKCkudGhlbigobG9jYWxlKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsbmc6IHBsdWdpbkRlc2MubG5nIHx8IERFRkFVTFRfTEFOR1VBR0UsXG4gICAgICAgIG5zOiBwbHVnaW5EZXNjLm5zIHx8IERFRkFVTFRfTkFNRVNQQUNFLFxuICAgICAgICByZXNvdXJjZXM6IGxvY2FsZS5mYWN0b3J5KCksXG4gICAgICAgIG9yZGVyOiBwbHVnaW5EZXNjLm9yZGVyIHx8IDBcbiAgICAgIH07XG4gICAgfSk7XG4gIH0pKTtcblxuICByZXR1cm4gaTE4blxuICAgIC51c2Uoe1xuICAgICAgdHlwZTogJ3Bvc3RQcm9jZXNzb3InLFxuICAgICAgbmFtZTogJ3Nob3dLZXlEZWJ1Z2dlcicsXG4gICAgICBwcm9jZXNzOiAodmFsdWUsIGtleSwgb3B0aW9uLCB0cmFuc2xhdG9yKSA9PiB0cmFuc2xhdG9yLm9wdGlvbnMuZGVidWcgPyBrZXkgOiB2YWx1ZVxuICAgIH0pXG4gICAgLmluaXQoe1xuICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU6IHRydWUsXG4gICAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICAgIGVzY2FwZVZhbHVlOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICh2YWx1ZSwgZm9ybWF0KSA9PiB7XG4gICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ3VwcGVyY2FzZScpIHtyZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTt9XG4gICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2xvd2VyY2FzZScpIHtyZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKTt9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbnM6IERFRkFVTFRfTkFNRVNQQUNFLFxuICAgICAgZGVmYXVsdE5TOiBERUZBVUxUX05BTUVTUEFDRSxcbiAgICAgIGxuZzogREVGQVVMVF9MQU5HVUFHRSxcbiAgICAgIGZhbGxiYWNrTG5nOiBERUZBVUxUX0xBTkdVQUdFLFxuICAgICAgcG9zdFByb2Nlc3M6IFsnc2hvd0tleURlYnVnZ2VyJ11cbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIC8qIEZvciBlYWNoIHBsdWdpbiBhZGQgdGhlIHJlc291cmNlcyB0byB0aGUgaTE4bmV4dCBjb25maWd1cmF0aW9uXG4gICAgICAgICBJZiBwbHVnaW5zIGhhdmUgc2FtZSBsYW5ndWFnZSBhbmQgbmFtZXNwYWNlIHRoZSAgb25lIHdpdGggZ3JlYXRlciBvcmRlclxuICAgICAgICAgb3ZlcndyaXRlcyB0aGUgb3RoZXJzXG4gICAgICAqL1xuICAgICAgcGx1Z2lucy5zb3J0KChwbHVnaW5BLCBwbHVnaW5CKSA9PiBwbHVnaW5BLm9yZGVyIC0gcGx1Z2luQi5vcmRlcikuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICAgIGkxOG4uYWRkUmVzb3VyY2VCdW5kbGUocGx1Z2luLmxuZywgcGx1Z2luLm5zLCBwbHVnaW4ucmVzb3VyY2VzLCB0cnVlLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgaTE4bjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pMThuL2luZGV4LnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge0lkUG9vbH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtSYW5nZSwgbGlzdCBhcyBybGlzdH0gZnJvbSAnLi4vcmFuZ2UnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2FsSURBc3NpZ25lciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcG9vbCA9IG5ldyBJZFBvb2woKTtcbiAgcHJpdmF0ZSByZWFkb25seSBsb29rdXAgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuXG4gIHVubWFwT25lKGlkOiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy51bm1hcChbaWRdKVswXTtcbiAgfVxuXG4gIHVubWFwKGlkczogbnVtYmVyW10pIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5sb29rdXApO1xuICAgIHJldHVybiBpZHMubWFwKChpZCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBrIGluIGtleXMpIHtcbiAgICAgICAgaWYgKHRoaXMubG9va3VwLmdldChrKSA9PT0gaWQpIHtcbiAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gIH1cblxuICBtYXBPbmUoaWQ6IHN0cmluZyk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubG9va3VwLmhhcyhpZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvb2t1cC5nZXQoaWQpO1xuICAgIH1cbiAgICB0aGlzLmxvb2t1cC5zZXQoaWQsIHRoaXMucG9vbC5jaGVja091dCgpKTtcbiAgICByZXR1cm4gdGhpcy5sb29rdXAuZ2V0KGlkKTtcbiAgfVxuXG4gIG1hcChpZHM6IHN0cmluZ1tdKTogUmFuZ2Uge1xuICAgIGNvbnN0IG51bWJlcnM6IG51bWJlcltdID0gaWRzLm1hcCgoZCkgPT4gdGhpcy5tYXBPbmUoZCkpO1xuICAgIHJldHVybiBybGlzdCguLi5udW1iZXJzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9jYWxBc3NpZ25lcigpIHtcbiAgY29uc3QgciA9IG5ldyBMb2NhbElEQXNzaWduZXIoKTtcbiAgcmV0dXJuIHIubWFwLmJpbmQocik7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaWR0eXBlL0xvY2FsSURBc3NpZ25lci50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHtJZFBvb2x9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7U2VsZWN0T3BlcmF0aW9uLCBkZWZhdWx0U2VsZWN0aW9uVHlwZX0gZnJvbSAnLi9JSURUeXBlJztcbmltcG9ydCBJRFR5cGUgZnJvbSAnLi9JRFR5cGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElIYXNVbmlxdWVJZCB7XG4gIGlkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0lkKGVsZW06IElIYXNVbmlxdWVJZCkge1xuICByZXR1cm4gZWxlbS5pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSWQoaWQ6IG51bWJlcikge1xuICByZXR1cm4gKGVsZW06IElIYXNVbmlxdWVJZCkgPT4gZWxlbSAmJiBlbGVtLmlkID09PSBpZDtcbn1cblxuLyoqXG4gKiBJRFR5cGUgd2l0aCBhbiBhY3R1YWwgY29sbGVjdGlvbiBvZiBlbnRpdGllcy5cbiAqIFN1cHBvcnRzIHNlbGVjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdE1hbmFnZXI8VCBleHRlbmRzIElIYXNVbmlxdWVJZD4gZXh0ZW5kcyBJRFR5cGUge1xuICBwcml2YXRlIHJlYWRvbmx5IGluc3RhbmNlczogVFtdID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgcG9vbCA9IG5ldyBJZFBvb2woKTtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcihpZCwgbmFtZSwgbmFtZSArICdzJywgdHJ1ZSk7XG4gIH1cblxuICBuZXh0SWQoaXRlbT86IFQpIHtcbiAgICBjb25zdCBuID0gdGhpcy5wb29sLmNoZWNrT3V0KCk7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGl0ZW0uaWQgPSBuO1xuICAgICAgdGhpcy5pbnN0YW5jZXNbbl0gPSBpdGVtO1xuICAgICAgdGhpcy5maXJlKCdhZGQnLCBuLCBpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG4gIH1cblxuICBwdXNoKC4uLml0ZW1zOiBUW10pIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLmluc3RhbmNlc1tpdGVtLmlkXSA9IGl0ZW07XG4gICAgICB0aGlzLmZpcmUoJ2FkZCcsIGl0ZW0uaWQsIGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYnlJZChpZDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzW2lkXTtcbiAgfVxuXG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBUKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZCB7XG4gICAgdGhpcy5pbnN0YW5jZXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4gdGhpcy5wb29sLmlzQ2hlY2tlZE91dChpKSA/IGNhbGxiYWNrZm4uY2FsbCh0aGlzQXJnLCBpdGVtKSA6IG51bGwpO1xuICB9XG5cbiAgZ2V0IGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmZpbHRlcigoaXRlbSwgaSkgPT4gdGhpcy5wb29sLmlzQ2hlY2tlZE91dChpKSk7XG4gIH1cblxuICByZW1vdmUoaWQ6IG51bWJlcik6IFQ7XG4gIHJlbW92ZShpdGVtOiBUKTogVDtcbiAgcmVtb3ZlKGl0ZW06IGFueSk6IFQge1xuICAgIGxldCBvbGQgPSBudWxsO1xuICAgIGlmICh0eXBlb2YgaXRlbS5pZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGl0ZW0gPSBpdGVtLmlkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICBvbGQgPSB0aGlzLmluc3RhbmNlc1tpdGVtXTtcbiAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlc1tpdGVtXTtcbiAgICAgIHRoaXMuZmlyZSgncmVtb3ZlJywgaXRlbSwgb2xkKTtcbiAgICB9XG4gICAgLy9jbGVhciBmcm9tIHNlbGVjdGlvbnNcbiAgICB0aGlzLnNlbGVjdGlvblR5cGVzKCkuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgdGhpcy5zZWxlY3QodHlwZSwgW2l0ZW1dLCBTZWxlY3RPcGVyYXRpb24uUkVNT1ZFKTtcbiAgICB9KTtcbiAgICB0aGlzLnBvb2wuY2hlY2tJbihpdGVtKTtcbiAgICByZXR1cm4gb2xkO1xuICB9XG5cbiAgc2VsZWN0ZWRPYmplY3RzKHR5cGUgPSBkZWZhdWx0U2VsZWN0aW9uVHlwZSkge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNlbGVjdGlvbnModHlwZSk7XG4gICAgcmV0dXJuIHMuZmlsdGVyKHRoaXMuaW5zdGFuY2VzKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2lkdHlwZS9PYmplY3RNYW5hZ2VyLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG4vKipcbiAqIHV0aWxpdHkgY2xhc3MgZm9yIGhhbmRsaW5nIGEgYnVuY2ggb2YgcmV1c2VhYmxlIGlkc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJZFBvb2wge1xuICBwcml2YXRlIGNvdW50ZXIgPSAwO1xuICBwcml2YXRlIGZyZWU6IG51bWJlcltdID0gW107XG5cbiAgLyoqXG4gICAqIGNoZWNrIG91dCBhIG5ldyBpZFxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgY2hlY2tPdXQoKSB7XG4gICAgaWYgKHRoaXMuZnJlZS5sZW5ndGggPT09IDApIHsgLy9ubyBtb3JlIGNhY2hlZFxuICAgICAgcmV0dXJuIHRoaXMuY291bnRlcisrO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5mcmVlLnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgYW4gaWQgYWdhaW5cbiAgICogQHBhcmFtIGlkXG4gICAqL1xuICBjaGVja0luKGlkOiBudW1iZXIpIHtcbiAgICAvL3JldHVybmVkIHRoZSBsYXN0IG9uZSwgY2FuIGRlY3JlYXNlIHRoZSBjb3VudGVyXG4gICAgaWYgKGlkID09PSB0aGlzLmNvdW50ZXIgLSAxKSB7XG4gICAgICB0aGlzLmNvdW50ZXItLTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcmVlLnB1c2goaWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiB3aGV0aGVyIHRoZSBnaXZlbiBpZCBpcyB1c2VkXG4gICAqIEBwYXJhbSBpZFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNDaGVja2VkT3V0KGlkOiBudW1iZXIpIHtcbiAgICAvL3NtYWxsZXIgdGhhbiBjb3VudGVyIGFuZCBub3QgYSBmcmVlIG9uZVxuICAgIHJldHVybiBpZCA8IHRoaXMuY291bnRlciAmJiB0aGlzLmZyZWUuaW5kZXhPZihpZCkgPCAwO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgbnVtYmVyIG9mIGNoZWNrZWQgb3V0IGlkc1xuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudGVyIC0gdGhpcy5mcmVlLmxlbmd0aDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2ludGVybmFsL0lkUG9vbC50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDIwLjA2LjIwMTcuXG4gKi9cblxuY2xhc3MgUmVtb3ZlUGFyZW50T2JzZXJ2ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGV2ZW50cykgPT4gdGhpcy5vbkNoYW5nZShldmVudHMpKTtcblxuICBwcml2YXRlIG9ic2VydmVkID0gbmV3IE1hcDxOb2RlLCAobm9kZTogTm9kZSk9PnZvaWQ+KCk7XG4gIHByaXZhdGUgZW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcGFyZW50OiBIVE1MRWxlbWVudCkge1xuICB9XG5cbiAgcHJpdmF0ZSBlbmFibGUoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5wYXJlbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7XG4gIH1cblxuICBwcml2YXRlIGRpc2FibGUoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH1cblxuICBwcml2YXRlIG9uQ2hhbmdlKG11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXSkge1xuICAgIC8vanVzdCByZW1vdmUgZXZlbnRzXG4gICAgY29uc3QgZXZlbnRzID0gbXV0YXRpb25zLmZpbHRlcigobXV0YXRpb24pID0+IG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnICYmIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5sZW5ndGggPiAwKTtcblxuICAgIGlmIChldmVudHMubGVuZ3RoID09PSAwIHx8IHRoaXMub2JzZXJ2ZWQuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vYnVpbGQgY2FjaGUgLSBjcmVhdGUgdGhlIGxpc3Qgb2YgcGFyZW50cyBhbGwgdGhlIHRpbWUgbmV3IHRvIGNvbnNpZGVyIG1vdmluZyBub2Rlcz9cbiAgICBjb25zdCB0b0NoZWNrID0gQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVkLmVudHJpZXMoKSkubWFwKChbbm9kZSwgY2FsbGJhY2tdKSA9PiB7XG4gICAgICByZXR1cm4ge25vZGUsIGNhbGxiYWNrLCBwYXJlbnRzOiBwYXJlbnRMaXN0KG5vZGUpfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsZWFuVXAgPSAoZm91bmQ6IG51bWJlcltdKSA9PiB7XG4gICAgICBpZiAodG9DaGVjay5sZW5ndGggPT09IGZvdW5kLmxlbmd0aCkge1xuICAgICAgICAvL2RpZCB3ZSBkaXNhYmxlIGFsbD8gdGhlbiB3ZSBjYW4gc3RvcCBlYXJseVxuICAgICAgICB0aGlzLm9ic2VydmVkLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZGVsZXRlIGZvdW5kIG9uZXMgYW5kIHJlbW92ZSBmcm9tIHRvQ2hlY2sgbGlzdCBmb3IgdGhlIHJlbWFpbmluZyBldmVudHNcbiAgICAgIGZvdW5kLmZvckVhY2goKGZpKSA9PiB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdG9DaGVjay5zcGxpY2UoZmksIDEpWzBdO1xuICAgICAgICB0aGlzLm9ic2VydmVkLmRlbGV0ZShlbnRyeS5ub2RlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvL29wdGltaXphdGlvbiBpZiB0aGUgcGFyZW50cyBvZiBhbnkgY2hpbGQgZG9lc24ndCBjb250YWluIHRoZSBwYXJlbnQgYW55bW9yZSBpdCB3YXMgYWxyZWFkeSByZW1vdmVkXG4gICAge1xuICAgICAgLy9tYXJrIGFscmVhZHkgZm91bmQgZW50cmllc1xuICAgICAgY29uc3QgZm91bmQgPSA8bnVtYmVyW10+W107XG5cbiAgICAgIHRvQ2hlY2suZm9yRWFjaCgoe25vZGUsIHBhcmVudHMsIGNhbGxiYWNrfSwgaSkgPT4ge1xuICAgICAgICBpZiAocGFyZW50cy5pbmRleE9mKHRoaXMucGFyZW50KSA8IDApIHtcbiAgICAgICAgICAvL2RvZXNuJ3QgY29udGFpbiBteSBwYXJlbnQgYW55bW9yZSAtPiB3aWxsIG5ldmVyIGJlIGZvdW5kIC0+IGRlbGV0ZWRcbiAgICAgICAgICBjYWxsYmFjayhub2RlKTtcbiAgICAgICAgICBmb3VuZC51bnNoaWZ0KGkpOyAvL21hcmsgZm9yIHJlbW92YWwgLSByZXZlcnNlIG9yZGVyIGZvciBzaW1wbGVyIHNwbGljaW5nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNsZWFuVXAoZm91bmQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgZXZlbnRzKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBtdXRhdGlvbi50YXJnZXQ7XG4gICAgICBjb25zdCByZW1vdmVkID0gbmV3IFNldChBcnJheS5mcm9tKG11dGF0aW9uLnJlbW92ZWROb2RlcykpO1xuXG4gICAgICAvL21hcmsgYWxyZWFkeSBmb3VuZCBlbnRyaWVzXG4gICAgICBjb25zdCBmb3VuZCA9IDxudW1iZXJbXT5bXTtcblxuICAgICAgdG9DaGVjay5mb3JFYWNoKCh7bm9kZSwgY2FsbGJhY2ssIHBhcmVudHN9LCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50cy5pbmRleE9mKHRhcmdldCk7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHsgLy9ub25lIG9mIG15IHBhcmVudHMgd2VyZSBjaGFuZ2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoaWxkIHRvIHdhdGNoIGZvciByZW1vdmluZ1xuICAgICAgICBjb25zdCBjaGlsZCA9IHBhcmVudHNbaW5kZXggKyAxXTtcbiAgICAgICAgaWYgKHJlbW92ZWQuaGFzKGNoaWxkKSkge1xuICAgICAgICAgIC8vbWUgb3Igb25lIG9mIG15IHBhcmVudHMgd2VyZSByZW1vdmVkXG4gICAgICAgICAgY2FsbGJhY2sobm9kZSk7XG4gICAgICAgICAgZm91bmQudW5zaGlmdChpKTsgLy9tYXJrIGZvciByZW1vdmFsIC0gcmV2ZXJzZSBvcmRlciBmb3Igc2ltcGxlciBzcGxpY2luZ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChjbGVhblVwKGZvdW5kKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb2JzZXJ2ZShub2RlOiBOb2RlLCBjYWxsYmFjazogKG5vZGU6IE5vZGUpPT52b2lkLCB0aGlzQXJnPzogYW55KSB7XG4gICAgdGhpcy5vYnNlcnZlZC5zZXQobm9kZSwgY2FsbGJhY2suYmluZCh0aGlzQXJnKSk7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogdGhlIHBhcmVudHMgb2YgdGhlIGdpdmVuIG5vZGUgKGluY2x1ZGluZyBpdHNlbGYpIGZyb20gcm9vdCB0byBsZWFmXG4gKiBAcGFyYW0gbm9kZVxuICogQHJldHVybiB7Tm9kZVtdfVxuICovXG5mdW5jdGlvbiBwYXJlbnRMaXN0KG5vZGU6IE5vZGUpIHtcbiAgY29uc3QgcmVzdWx0ID0gPE5vZGVbXT5bXTtcbiAgbGV0IHBhcmVudCA9IG5vZGU7XG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICByZXN1bHQucHVzaChwYXJlbnQpO1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICB9XG4gIC8vIGZyb20gdG9wIHRvIGJvdHRvbVxuICByZXR1cm4gcmVzdWx0LnJldmVyc2UoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVtb3ZlTm9kZU9ic2VydmVyIHtcbiAgLy93ZWFrIHNpbmNlIGlmIHRoZSByb290IGlzIGdvbmUgYW55aG93LCB3ZSBkb24ndCBjYXJlIGFib3V0IGl0cyBsaXN0ZW5lclxuICBwcml2YXRlIHJlYWRvbmx5IGRvY3VtZW50cyA9IG5ldyBXZWFrTWFwPEhUTUxFbGVtZW50LCBSZW1vdmVQYXJlbnRPYnNlcnZlcj4oKTtcblxuICBvYnNlcnZlKG5vZGU6IE5vZGUsIGNhbGxiYWNrOiAobm9kZTogTm9kZSk9PnZvaWQsIHRoaXNBcmc/OiBhbnkpIHtcbiAgICAvL3VzZSBib2R5IGFzIHJvb3QgZWxlbWVudFxuICAgIGNvbnN0IGRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50LmJvZHk7XG5cbiAgICBsZXQgb2JzZXJ2ZXIgPSB0aGlzLmRvY3VtZW50cy5nZXQoZG9jdW1lbnQpO1xuICAgIGlmICghb2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyID0gbmV3IFJlbW92ZVBhcmVudE9ic2VydmVyKGRvY3VtZW50KTtcbiAgICAgIHRoaXMuZG9jdW1lbnRzLnNldChkb2N1bWVudCwgb2JzZXJ2ZXIpO1xuICAgIH1cbiAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIGNhbGxiYWNrLCB0aGlzQXJnKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2ludGVybmFsL1JlbW92ZU5vZGVPYnNlcnZlci50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDI3LjEyLjIwMTYuXG4gKi9cblxuLyoqXG4gKiBzZWFyY2ggaXRlbSBpbiBhcnJheSBieSBmdW5jdGlvblxuICogQHBhcmFtIGFyclxuICogQHBhcmFtIGZcbiAqIEBkZXByZWNhdGVkIHVzZSBBcnJheS5wcm90b3R5cGUuZmluZFxuICogQHJldHVybiB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaDxUPihhcnI6IFRbXSwgZjogKHY6IFQpID0+IGJvb2xlYW4pOiBUIHtcbiAgbGV0IHI6IFQgPSB1bmRlZmluZWQ7XG4gIGFyci5zb21lKCh2KSA9PiB7XG4gICAgaWYgKGYodikpIHtcbiAgICAgIHIgPSB2O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqXG4gKiBAZGVwcmVjYXRlZCB1c2UgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleFxuICogQHBhcmFtIGFyclxuICogQHBhcmFtIGZcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2Y8VD4oYXJyOiBUW10sIGY6ICh2OiBUKSA9PiBib29sZWFuKTogbnVtYmVyIHtcbiAgbGV0IHIgPSAtMTtcbiAgYXJyLnNvbWUoKHYsIGkpID0+IHtcbiAgICBpZiAoZih2KSkge1xuICAgICAgciA9IGk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogY29udmVydHMgdGhlIGdpdmVuIGFyZ3VtZW50cyBvYmplY3QgaW50byBhbiBhcnJheVxuICogQHBhcmFtIGFyZ3NcbiAqIEBkZXByZWNhdGVkIHVzZSBBcnJheS5mcm9tKGFyZ3VtZW50cykgaW5zdGVhZFxuICogQGludGVybmFsXG4gKiBAcmV0dXJucyB7KnxBcnJheX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ0xpc3QoYXJnczogSUFyZ3VtZW50cykge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7XG4gIH1cbn1cblxuLyoqXG4gKiBhcnJheSB3aXRoIGluZGljZXMgb2YgMC4uLm4tMVxuICogQHBhcmFtIG5cbiAqIEByZXR1cm5zIHthbnlbXX1cbiAqL1xuZnVuY3Rpb24gaW5kZXhSYW5nZShuOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzQ2NzI1L2NyZWF0ZS1hLWphdmFzY3JpcHQtYXJyYXktY29udGFpbmluZy0xLW5cbiAgcmV0dXJuIEFycmF5LmFwcGx5KG51bGwsIHtsZW5ndGg6IG59KS5tYXAoTnVtYmVyLmNhbGwsIE51bWJlcik7XG59XG5cbi8qKlxuICogcmV0dXJucyB0aGUgc29ydGVkIGluZGljZXMgb2YgdGhpcyBhcnJheSwgd2hlbiBzb3J0aW5nIGJ5IHRoZSBnaXZlbiBmdW5jdGlvblxuICogQHBhcmFtIGFyclxuICogQHBhcmFtIGNvbXBhcmVGblxuICogQHBhcmFtIHRoaXNBcmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ1NvcnQ8VD4oYXJyOiBUW10sIGNvbXBhcmVGbj86IChhOiBULCBiOiBUKSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBudW1iZXJbXSB7XG4gIGNvbnN0IGluZGljZXMgPSBpbmRleFJhbmdlKGFyci5sZW5ndGgpO1xuICByZXR1cm4gaW5kaWNlcy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuICAgIHJldHVybiBjb21wYXJlRm4uY2FsbCh0aGlzQXJnLCBhcnJbYV0sIGFycltiXSk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogcmV0dXJucyB0aGUgaW5kaWNlcywgd2hpY2ggcmVtYWluIHdoZW4gZmlsdGVyaW5nIHRoZSBnaXZlbiBhcnJheVxuICogQHBhcmFtIGFyclxuICogQHBhcmFtIGNhbGxiYWNrZm5cbiAqIEBwYXJhbSB0aGlzQXJnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmdGaWx0ZXI8VD4oYXJyOiBUW10sIGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IG51bWJlcltdIHtcbiAgY29uc3QgaW5kaWNlcyA9IGluZGV4UmFuZ2UoYXJyLmxlbmd0aCk7XG4gIHJldHVybiBpbmRpY2VzLmZpbHRlcigodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIHJldHVybiBjYWxsYmFja2ZuLmNhbGwodGhpc0FyZywgYXJyW3ZhbHVlXSwgaW5kZXgpO1xuICB9KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbnRlcm5hbC9hcnJheS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDI3LjEyLjIwMTYuXG4gKi9cblxuXG5pbXBvcnQge3VuaXF1ZUlkfSBmcm9tICcuL3VuaXF1ZSc7XG5cbi8qKlxuICogdXRpbGl0eSBmb3IgZHJhZy1uLWRyb3Agc3VwcG9ydFxuICogQHBhcmFtIGVcbiAqIEBwYXJhbSB0eXBlc1RvQ2hlY2tcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNEbkRUeXBlKGU6IERyYWdFdmVudCwgLi4udHlwZXNUb0NoZWNrOiBzdHJpbmdbXSkge1xuICBjb25zdCBhdmFpbGFibGU6IGFueSA9IGUuZGF0YVRyYW5zZmVyLnR5cGVzO1xuXG4gIC8qXG4gICAqIEluIENocm9tZSBkYXRhdHJhbnNmZXIudHlwZXMgaXMgYW4gQXJyYXksXG4gICAqIHdoaWxlIGluIEZpcmVmb3ggaXQgaXMgYSBET01TdHJpbmdMaXN0XG4gICAqIHRoYXQgb25seSBpbXBsZW1lbnRzIGEgY29udGFpbnMtbWV0aG9kIVxuICAgKi9cbiAgaWYgKHR5cGVvZiBhdmFpbGFibGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0eXBlc1RvQ2hlY2suc29tZSgodHlwZSkgPT4gYXZhaWxhYmxlLmluZGV4T2YodHlwZSkgPj0gMCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhdmFpbGFibGUuaW5jbHVkZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZXNUb0NoZWNrLnNvbWUoKHR5cGUpID0+IGF2YWlsYWJsZS5pbmNsdWRlcyh0eXBlKSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhdmFpbGFibGUuY29udGFpbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZXNUb0NoZWNrLnNvbWUoKHR5cGUpID0+IGF2YWlsYWJsZS5jb250YWlucyh0eXBlKSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogaGVscGVyIHN0b3JhZ2UgZm9yIGRuZCBpbiBlZGdlIHNpbmNlIGVkZ2UgZG9lc24ndCBzdXBwb3J0IGN1c3RvbSBtaW1lLXR5cGVzXG4gKiBAdHlwZSB7TWFwPG51bWJlciwge1twOiBzdHJpbmddOiBzdHJpbmd9Pn1cbiAqL1xuY29uc3QgZG5kVHJhbnNmZXJTdG9yYWdlID0gbmV3IE1hcDxudW1iZXIsIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0+KCk7XG5cbmZ1bmN0aW9uIGlzRWRnZURuRChlOiBEcmFnRXZlbnQpIHtcbiAgcmV0dXJuIGRuZFRyYW5zZmVyU3RvcmFnZS5zaXplID4gMCAmJiBoYXNEbkRUeXBlKGUsICd0ZXh0L3BsYWluJyk7XG59XG5cbi8qKlxuICogY2hlY2tzIHdoZXRoZXIgaXQgaXMgYSBjb3B5IG9wZXJhdGlvblxuICogQHBhcmFtIGVcbiAqIEByZXR1cm5zIHtib29sZWFufFJlZ0V4cE1hdGNoQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5RG5EKGU6IERyYWdFdmVudCkge1xuICBjb25zdCBkVCA9IGUuZGF0YVRyYW5zZmVyO1xuICByZXR1cm4gQm9vbGVhbigoZS5jdHJsS2V5ICYmIGRULmVmZmVjdEFsbG93ZWQubWF0Y2goL2NvcHkvZ2kpKSB8fCAoIWRULmVmZmVjdEFsbG93ZWQubWF0Y2goL21vdmUvZ2kpKSk7XG59XG5cbi8qKlxuICogdXBkYXRlcyB0aGUgZHJvcCBlZmZlY3QgYWNjb3JpZGluZyB0byB0aGUgY3VycmVudCBjb3B5RG5EIHN0YXRlXG4gKiBAcGFyYW0gZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRHJvcEVmZmVjdChlOiBEcmFnRXZlbnQpIHtcbiAgY29uc3QgZFQgPSBlLmRhdGFUcmFuc2ZlcjtcbiAgaWYgKGNvcHlEbkQoZSkpIHtcbiAgICBkVC5kcm9wRWZmZWN0ID0gJ2NvcHknO1xuICB9IGVsc2Uge1xuICAgIGRULmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgSURyYWdFZmZlY3QgPSAnbm9uZScgfCAnY29weScgfCAnY29weUxpbmsnIHwgJ2NvcHlNb3ZlJyB8ICdsaW5rJyB8ICdsaW5rTW92ZScgfCAnbW92ZScgfCAnYWxsJztcblxuZXhwb3J0IGludGVyZmFjZSBJRHJhZ1N0YXJ0UmVzdWx0IHtcbiAgZWZmZWN0QWxsb3dlZDogSURyYWdFZmZlY3Q7XG4gIGRhdGE6IHsgW21pbWVUeXBlOiBzdHJpbmddOiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRHJvcFJlc3VsdCB7XG4gIGVmZmVjdDogSURyYWdFZmZlY3Q7XG4gIGRhdGE6IHsgW21pbWVUeXBlOiBzdHJpbmddOiBzdHJpbmcgfTtcbn1cblxuLyoqXG4gKiBhZGQgZHJhZyBzdXBwb3J0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiBJRHJhZ1N0YXJ0UmVzdWx0fSBvbkRyYWdTdGFydCBjYWxsYmFjayB0byBjb21wdXRlIHRoZSBwYXlsb2FkIGFuIG9iamVjdCBvZiBtaW1lIHR5cGVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN0b3BQcm9wYWdhdGlvbiB3aGV0aGVyIHRvIHN0b3AgcHJvcGFnYXRpb24gaW4gY2FzZSBvZiBzdWNjZXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmFnQWJsZShub2RlOiBIVE1MRWxlbWVudCwgb25EcmFnU3RhcnQ6ICgpID0+IElEcmFnU3RhcnRSZXN1bHQsIHN0b3BQcm9wYWdhdGlvbjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGlkID0gdW5pcXVlSWQoJ2VkZ2VEcmFnSGVscGVyJyk7XG4gIG5vZGUuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncGhvdmVhLWRyYWdnaW5nJyk7XG4gICAgY29uc3QgcGF5bG9hZCA9IG9uRHJhZ1N0YXJ0KCk7XG4gICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IHBheWxvYWQuZWZmZWN0QWxsb3dlZDtcblxuICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHBheWxvYWQuZGF0YSk7XG4gICAgY29uc3QgYWxsU3VjY2VkZWQgPSBrZXlzLmV2ZXJ5KChrKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKGssIHBheWxvYWQuZGF0YVtrXSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGFsbFN1Y2NlZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vY29tcGF0aWJpbGl0eSBtb2RlIGZvciBlZGdlXG4gICAgY29uc3QgdGV4dCA9IHBheWxvYWQuZGF0YVsndGV4dC9wbGFpbiddIHx8ICcnO1xuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBgJHtpZH0ke3RleHQgPyBgOiAke3RleHR9YCA6ICcnfWApO1xuICAgIGRuZFRyYW5zZmVyU3RvcmFnZS5zZXQoaWQsIHBheWxvYWQuZGF0YSk7XG4gIH0pO1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoZSkgPT4ge1xuICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncGhvdmVhLWRyYWdnaW5nJyk7XG4gICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgaWYgKGRuZFRyYW5zZmVyU3RvcmFnZS5zaXplID4gMCkge1xuICAgICAgLy9jbGVhciB0aGUgaWRcbiAgICAgIGRuZFRyYW5zZmVyU3RvcmFnZS5kZWxldGUoaWQpO1xuICAgIH1cbiAgfSk7XG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2V4aXQnLCAoZSkgPT4ge1xuICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncGhvdmVhLWRyYWdnaW5nJyk7XG4gICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIGFkZCBkcm9wYWJsZSBzdXBwb3J0IGZvciB0aGUgZ2l2ZW4gbm9kZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gbWltZVR5cGVzIG1pbWVUeXBlcyB0byBsb29rIGZvclxuICogQHBhcmFtIHsocmVzdWx0OiBJRHJvcFJlc3VsdCwgZTogRHJhZ0V2ZW50KSA9PiBib29sZWFufSBvbkRyb3AgY2FsbGJhY2sgd2hlbiBkcm9wcGVkLCByZXR1cm5zIHRydWUgaWYgdGhlIGRyb3Agd2FzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB7KGU6IERyYWdFdmVudCkgPT4gdm9pZH0gb25EcmFnT3ZlciBvcHRpb25hbCBkcmFnIG92ZXIgaGFuZGxlciwgZS5nLiBmb3Igc3BlY2lhbCBlZmZlY3RzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN0b3BQcm9wYWdhdGlvbiBmbGFnIGlmIHRoZSBldmVudCBwcm9wYWdhdGlvbiBzaG91bGQgYmUgc3RvcHBlZCBpbiBjYXNlIG9mIHN1Y2Nlc3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyb3BBYmxlKG5vZGU6IEhUTUxFbGVtZW50LCBtaW1lVHlwZXM6IHN0cmluZ1tdLCBvbkRyb3A6IChyZXN1bHQ6IElEcm9wUmVzdWx0LCBlOiBEcmFnRXZlbnQpID0+IGJvb2xlYW4sIG9uRHJhZ092ZXI6IG51bGx8KChlOiBEcmFnRXZlbnQpPT4gdm9pZCkgPSBudWxsLCBzdG9wUHJvcGFnYXRpb246IGJvb2xlYW4gPSBmYWxzZSkge1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIChlKSA9PiB7XG4gICAgLy92YXIgeHkgPSBtb3VzZSgkbm9kZS5ub2RlKCkpO1xuICAgIGlmIChoYXNEbkRUeXBlKGUsIC4uLm1pbWVUeXBlcykgfHwgaXNFZGdlRG5EKGUpKSB7XG4gICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3Bob3ZlYS1kcmFnb3ZlcicpO1xuICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgICAgLy9zb3VuZHMgZ29vZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvL25vdCBhIHZhbGlkIG1pbWUgdHlwZVxuICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncGhvdmVhLWRyYWdvdmVyJyk7XG4gICAgcmV0dXJuO1xuICB9KTtcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgaWYgKGhhc0RuRFR5cGUoZSwgLi4ubWltZVR5cGVzKSB8fCBpc0VkZ2VEbkQoZSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHVwZGF0ZURyb3BFZmZlY3QoZSk7XG4gICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3Bob3ZlYS1kcmFnb3ZlcicpO1xuXG4gICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICBpZiAob25EcmFnT3Zlcikge1xuICAgICAgICBvbkRyYWdPdmVyKGUpO1xuICAgICAgfVxuICAgICAgLy9zb3VuZCBnb29kXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfSk7XG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGV2dCkgPT4ge1xuICAgICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuY2xhc3NMaXN0LnJlbW92ZSgncGhvdmVhLWRyYWdvdmVyJyk7XG4gIH0pO1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICBjb25zdCBlZmZlY3QgPSA8SURyYWdFZmZlY3Q+ZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZDtcblxuICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncGhvdmVhLWRyYWdvdmVyJyk7XG4gICAge1xuICAgICAgY29uc3QgY2xlYW51cCA9IDxIVE1MRWxlbWVudD5ub2RlLm93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBob3ZlYS1kcmFnZ2luZycpO1xuICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgY2xlYW51cC5jbGFzc0xpc3QucmVtb3ZlKCdwaG92ZWEtZHJhZ2dpbmcnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRWRnZURuRChlKSkge1xuICAgICAgY29uc3QgYmFzZSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQoYmFzZS5pbmRleE9mKCc6JykgPj0gMCA/IGJhc2Uuc3Vic3RyaW5nKDAsIGJhc2UuaW5kZXhPZignOicpKSA6IGJhc2UsIDEwKTtcbiAgICAgIGlmIChkbmRUcmFuc2ZlclN0b3JhZ2UuaGFzKGlkKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gZG5kVHJhbnNmZXJTdG9yYWdlLmdldChpZCk7XG4gICAgICAgIGRuZFRyYW5zZmVyU3RvcmFnZS5kZWxldGUoaWQpO1xuICAgICAgICByZXR1cm4gIW9uRHJvcCh7ZWZmZWN0LCBkYXRhfSwgZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChoYXNEbkRUeXBlKGUsIC4uLm1pbWVUeXBlcykpIHtcbiAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHt9O1xuICAgICAgLy9zZWxlY3RzIHRoZSBkYXRhIGNvbnRhaW5lZCBpbiB0aGUgZGF0YSB0cmFuc2ZlclxuICAgICAgbWltZVR5cGVzLmZvckVhY2goKG1pbWUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKG1pbWUpO1xuICAgICAgICBpZiAodmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgZGF0YVttaW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhb25Ecm9wKHtlZmZlY3QsIGRhdGF9LCBlKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbnRlcm5hbC9kbmQudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAxNS4xMi4yMDE0LlxuICovXG5pbXBvcnQge1JlY3QsIHJlY3R9IGZyb20gJy4vZ2VvbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxheW91dEVsZW0ge1xuICBzZXRCb3VuZHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPnxudWxsO1xuXG4gIGdldEJvdW5kcygpOiBSZWN0O1xuXG4gIGxheW91dE9wdGlvbjxUPihuYW1lOiBzdHJpbmcpOiBUO1xuICBsYXlvdXRPcHRpb248VD4obmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFQpOiBUO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMYXlvdXRPcHRpb25zIHtcbiAgLyoqXG4gICAqIHByZWZlcnJlZCB4IHBvc2l0aW9uXG4gICAqIGRlZmF1bHQgTmFOXG4gICAqL1xuICBwcmVmWD86IG51bWJlcjtcbiAgLyoqXG4gICAqIHByZWZlcnJlZCB5IHBvc2l0aW9uXG4gICAqIGRlZmF1bHQgTmFOXG4gICAqL1xuICBwcmVmWT86IG51bWJlcjtcbiAgLyoqXG4gICAqIHByZWZlcnJlZCB3aWR0aFxuICAgKiBkZWZhdWx0IE5hTlxuICAgKi9cbiAgcHJlZldpZHRoPzogbnVtYmVyO1xuICAvKipcbiAgICogcHJlZmVycmVkIGhlaWdodFxuICAgKiBkZWZhdWx0IE5hTlxuICAgKi9cbiAgcHJlZkhlaWdodD86IG51bWJlcjtcbiAgLyoqXG4gICAqIGJvcmRlciBhdHRhY2htZW50IGZvciBCb3JkZXJMYXlvdXQsIHBvc3NpYmxlIHZhbHVlczogY2VudGVyLCB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b21cbiAgICogZGVmYXVsdDogY2VudGVyXG4gICAqL1xuICBib3JkZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBBTGF5b3V0RWxlbSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0aW9uczogSUxheW91dE9wdGlvbnMgPSB7fSkge1xuXG4gIH1cblxuICBnZXRCb3VuZHMoKTogUmVjdCB7XG4gICAgcmV0dXJuIHJlY3QoMCwgMCwgMCwgMCk7XG4gIH1cblxuICBnZXRMb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRCb3VuZHMoKS54eTtcbiAgfVxuXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Qm91bmRzKCkuc2l6ZTtcbiAgfVxuXG4gIGxheW91dE9wdGlvbjxUPihuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogVCA9IG51bGwpOiBUIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICByZXR1cm4gKDxhbnk+dGhpcy5vcHRpb25zKVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElIVE1MTGF5b3V0T3B0aW9ucyBleHRlbmRzIElMYXlvdXRPcHRpb25zIHtcbiAgLy8gcHhcbiAgdW5pdD86IHN0cmluZztcbn1cblxuY2xhc3MgSFRNTExheW91dEVsZW0gZXh0ZW5kcyBBTGF5b3V0RWxlbSBpbXBsZW1lbnRzIElMYXlvdXRFbGVtIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBub2RlOiBIVE1MRWxlbWVudCwgb3B0aW9uczogSUhUTUxMYXlvdXRPcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHNldEJvdW5kcyh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+fG51bGwge1xuICAgIGNvbnN0IHVuaXQgPSB0aGlzLmxheW91dE9wdGlvbigndW5pdCcsICdweCcpLFxuICAgICAgc3R5bGUgPSB0aGlzLm5vZGUuc3R5bGU7XG4gICAgc3R5bGUubGVmdCA9IHggKyB1bml0O1xuICAgIHN0eWxlLnRvcCA9IHkgKyB1bml0O1xuICAgIHN0eWxlLndpZHRoID0gdyArIHVuaXQ7XG4gICAgc3R5bGUuaGVpZ2h0ID0gaCArIHVuaXQ7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRCb3VuZHMoKSB7XG4gICAgY29uc3QgdW5pdCA9IHRoaXMubGF5b3V0T3B0aW9uKCd1bml0JywgJ3B4JyksXG4gICAgICBzdHlsZSA9IHRoaXMubm9kZS5zdHlsZTtcblxuICAgIGZ1bmN0aW9uIHYoZjogc3RyaW5nKSB7XG4gICAgICBpZiAoZi5sZW5ndGggPj0gdW5pdC5sZW5ndGggJiYgZi5zdWJzdHJpbmcoZi5sZW5ndGggLSB1bml0Lmxlbmd0aCkgPT09IHVuaXQpIHtcbiAgICAgICAgZiA9IGYuc3Vic3RyaW5nKDAsIGYubGVuZ3RoIC0gdW5pdC5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChmKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiByZWN0KHYoc3R5bGUubGVmdCksIHYoc3R5bGUudG9wKSwgdihzdHlsZS53aWR0aCksIHYoc3R5bGUuaGVpZ2h0KSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBET00obm9kZTogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IGFueSA9IHt9KSB7XG4gIHJldHVybiBuZXcgSFRNTExheW91dEVsZW0obm9kZSwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhZGRpbmcge1xuICByZWFkb25seSB0b3A6IG51bWJlcjtcbiAgcmVhZG9ubHkgbGVmdDogbnVtYmVyO1xuICByZWFkb25seSByaWdodDogbnVtYmVyO1xuICByZWFkb25seSBib3R0b206IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhZGRpbmcodjogbnVtYmVyKTogSVBhZGRpbmcge1xuICByZXR1cm4ge3RvcDogdiwgbGVmdDogdiwgcmlnaHQ6IHYsIGJvdHRvbTogdn07XG59XG5cbmV4cG9ydCBjb25zdCBub1BhZGRpbmcgPSBwYWRkaW5nKDApO1xuXG5leHBvcnQgaW50ZXJmYWNlIElMYXlvdXQge1xuICAoZWxlbXM6IElMYXlvdXRFbGVtW10sIHc6IG51bWJlciwgaDogbnVtYmVyLCBwYXJlbnQ6IElMYXlvdXRFbGVtKTogUHJvbWlzZTxib29sZWFuPjtcbn1cblxuZnVuY3Rpb24gaXNEZWZhdWx0KHY6IG51bWJlcikge1xuICByZXR1cm4gdiA8IDAgfHwgaXNOYU4odik7XG59XG5cbmZ1bmN0aW9uIGdyYWIoZGVmaW5pdGlvbjogbnVtYmVyLCB2OiBudW1iZXIpIHtcbiAgcmV0dXJuIGlzRGVmYXVsdChkZWZpbml0aW9uKSA/IHYgOiBkZWZpbml0aW9uO1xufVxuXG5mdW5jdGlvbiB3YWl0Rm9yKHByb21pc2VzOiBQcm9taXNlPGFueT5bXSwgcmVkbzogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHByb21pc2VzID0gcHJvbWlzZXMuZmlsdGVyKChwKSA9PiBwICE9IG51bGwpO1xuICBpZiAocHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWRvKTtcbiAgfSBlbHNlIGlmIChwcm9taXNlcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gcHJvbWlzZXNbMF0udGhlbigoKSA9PiByZWRvKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gcmVkbyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXllcnMoZWxlbXM6IElMYXlvdXRFbGVtW10sIHc6IG51bWJlciwgaDogbnVtYmVyLCBwYXJlbnQ6IElMYXlvdXRFbGVtKSB7XG4gIHJldHVybiB3YWl0Rm9yKGVsZW1zLm1hcCgoZWxlbSkgPT4ge1xuICAgIGNvbnN0IHggPSBncmFiKGVsZW0ubGF5b3V0T3B0aW9uKCdwcmVmWCcsIE51bWJlci5OYU4pLCAwKTtcbiAgICBjb25zdCB5ID0gZ3JhYihlbGVtLmxheW91dE9wdGlvbigncHJlZlknLCBOdW1iZXIuTmFOKSwgMCk7XG4gICAgcmV0dXJuIGVsZW0uc2V0Qm91bmRzKHgsIHksIHcgLSB4LCBoIC0geSk7XG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb3dMYXlvdXQoaG9yaXpvbnRhbDogYm9vbGVhbiwgZ2FwOiBudW1iZXIsIHBhZGRpbmcgPSB7dG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwfSkge1xuICBmdW5jdGlvbiBnZXRTaXplKHc6IG51bWJlciwgaDogbnVtYmVyLCBjaGlsZDogSUxheW91dEVsZW0sIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAoaG9yaXpvbnRhbCkge1xuICAgICAgcmV0dXJuIFt2YWx1ZSwgZ3JhYihjaGlsZC5sYXlvdXRPcHRpb24oJ3ByZWZIZWlnaHQnLCBOdW1iZXIuTmFOKSwgaCldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2dyYWIoY2hpbGQubGF5b3V0T3B0aW9uKCdwcmVmV2lkdGgnLCBOdW1iZXIuTmFOKSwgdyksIHZhbHVlXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBGbG93TGF5b3V0KGVsZW1zOiBJTGF5b3V0RWxlbVtdLCB3OiBudW1iZXIsIGg6IG51bWJlciwgcGFyZW50OiBJTGF5b3V0RWxlbSkge1xuICAgIHcgLT0gcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodDtcbiAgICBoIC09IHBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b207XG4gICAgY29uc3QgZnJlZVNwYWNlID0gKGhvcml6b250YWwgPyB3IDogaCkgLSBnYXAgKiAoZWxlbXMubGVuZ3RoIC0gMSk7XG4gICAgbGV0IHVuYm91bmQgPSAwLCBmaXhVc2VkID0gMCwgcmF0aW9TdW0gPSAwO1xuXG4gICAgLy8gY291bnQgc3RhdGlzdGljc1xuICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGNvbnN0IGZpeCA9IGVsZW0ubGF5b3V0T3B0aW9uKGhvcml6b250YWwgPyAncHJlZldpZHRoJyA6ICdwcmVmSGVpZ2h0JywgTnVtYmVyLk5hTik7XG4gICAgICBjb25zdCByYXRpbyA9IGVsZW0ubGF5b3V0T3B0aW9uKCdyYXRpbycsIE51bWJlci5OYU4pO1xuICAgICAgaWYgKGlzRGVmYXVsdChmaXgpICYmIGlzRGVmYXVsdChyYXRpbykpIHtcbiAgICAgICAgdW5ib3VuZCsrO1xuICAgICAgfSBlbHNlIGlmIChmaXggPj0gMCkge1xuICAgICAgICBmaXhVc2VkICs9IGZpeDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhdGlvU3VtICs9IHJhdGlvO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgcmF0aW9NYXggPSAocmF0aW9TdW0gPCAxKSA/IDEgOiByYXRpb1N1bTtcbiAgICBjb25zdCB1bmJvdW5kZWRTcGFjZSA9IChmcmVlU3BhY2UgLSBmaXhVc2VkIC0gZnJlZVNwYWNlICogcmF0aW9TdW0gLyByYXRpb01heCkgLyB1bmJvdW5kO1xuXG4gICAgLy8gc2V0IGFsbCBzaXplc1xuICAgIGNvbnN0IHNpemVzID0gZWxlbXMubWFwKChlbGVtKSA9PiB7XG4gICAgICBjb25zdCBmaXggPSBlbGVtLmxheW91dE9wdGlvbihob3Jpem9udGFsID8gJ3ByZWZXaWR0aCcgOiAncHJlZkhlaWdodCcsIE51bWJlci5OYU4pO1xuICAgICAgY29uc3QgcmF0aW8gPSBlbGVtLmxheW91dE9wdGlvbigncmF0aW8nLCBOdW1iZXIuTmFOKTtcbiAgICAgIGlmIChpc0RlZmF1bHQoZml4KSAmJiBpc0RlZmF1bHQocmF0aW8pKSB7XG4gICAgICAgIHJldHVybiBnZXRTaXplKHcsIGgsIGVsZW0sIHVuYm91bmRlZFNwYWNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZml4ID49IDApIHtcbiAgICAgICAgcmV0dXJuIGdldFNpemUodywgaCwgZWxlbSwgZml4KTtcbiAgICAgIH0gZWxzZSB7IC8vIChyYXRpbyA+IDApXG4gICAgICAgIGNvbnN0IHZhbHVlID0gKHJhdGlvIC8gcmF0aW9NYXgpICogZnJlZVNwYWNlO1xuICAgICAgICByZXR1cm4gZ2V0U2l6ZSh3LCBoLCBlbGVtLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gc2V0IGFsbCBsb2NhdGlvbnNcbiAgICBsZXQgeEFjY3VtdWxhdG9yID0gcGFkZGluZy5sZWZ0O1xuICAgIGxldCB5QWNjdW11bGF0b3IgPSBwYWRkaW5nLnRvcDtcbiAgICBjb25zdCBwcm9taXNlcyA6IFByb21pc2U8dm9pZD5bXSA9IFtdO1xuICAgIGVsZW1zLmZvckVhY2goKGVsZW0sIGkpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBzaXplc1tpXTtcbiAgICAgIHByb21pc2VzLnB1c2goZWxlbS5zZXRCb3VuZHMoeEFjY3VtdWxhdG9yLCB5QWNjdW11bGF0b3IsIHNbMF0sIHNbMV0pKTtcbiAgICAgIGlmIChob3Jpem9udGFsKSB7XG4gICAgICAgIHhBY2N1bXVsYXRvciArPSBzWzBdICsgZ2FwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeUFjY3VtdWxhdG9yICs9IHNbMV0gKyBnYXA7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHdhaXRGb3IocHJvbWlzZXMpO1xuICB9XG5cbiAgcmV0dXJuIEZsb3dMYXlvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0cmlidXRlTGF5b3V0KGhvcml6b250YWw6IGJvb2xlYW4sIGRlZmF1bHRWYWx1ZTogbnVtYmVyLCBwYWRkaW5nID0gbm9QYWRkaW5nKSB7XG4gIGZ1bmN0aW9uIHNldEJvdW5kcyh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIsIGNoaWxkOiBJTGF5b3V0RWxlbSwgdmFsdWU6IG51bWJlcikge1xuICAgIGlmIChob3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gY2hpbGQuc2V0Qm91bmRzKHgsIHksIHZhbHVlLCBncmFiKGNoaWxkLmxheW91dE9wdGlvbigncHJlZkhlaWdodCcsIE51bWJlci5OYU4pLCBoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjaGlsZC5zZXRCb3VuZHMoeCwgeSwgZ3JhYihjaGlsZC5sYXlvdXRPcHRpb24oJ3ByZWZXaWR0aCcsIE51bWJlci5OYU4pLCB3KSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIERpc3RyaWJ1dGVMYXlvdXQoZWxlbXM6IElMYXlvdXRFbGVtW10sIHc6IG51bWJlciwgaDogbnVtYmVyLCBwYXJlbnQ6IElMYXlvdXRFbGVtKSB7XG4gICAgdyAtPSBwYWRkaW5nLmxlZnQgKyBwYWRkaW5nLnJpZ2h0O1xuICAgIGggLT0gcGFkZGluZy50b3AgKyBwYWRkaW5nLmJvdHRvbTtcbiAgICBjb25zdCBmcmVlU3BhY2UgPSAoaG9yaXpvbnRhbCA/IHcgOiBoKTtcbiAgICBsZXQgZml4VXNlZCA9IDA7XG5cbiAgICAvLyBjb3VudCBzdGF0aXN0aWNzXG4gICAgZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgbGV0IGZpeCA9IGVsZW0ubGF5b3V0T3B0aW9uKGhvcml6b250YWwgPyAncHJlZldpZHRoJyA6ICdwcmVmSGVpZ2h0JywgTnVtYmVyLk5hTik7XG4gICAgICBpZiAoaXNEZWZhdWx0KGZpeCkpIHtcbiAgICAgICAgZml4ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgZml4VXNlZCArPSBmaXg7XG4gICAgfSk7XG5cbiAgICBjb25zdCBnYXAgPSAoZnJlZVNwYWNlIC0gZml4VXNlZCkgLyAoZWxlbXMubGVuZ3RoIC0gMSk7XG5cbiAgICBsZXQgeEFjY3VtdWxhdG9yID0gcGFkZGluZy5sZWZ0O1xuICAgIGxldCB5QWNjdW11bGF0b3IgPSBwYWRkaW5nLnRvcDtcblxuICAgIGlmIChlbGVtcy5sZW5ndGggPT09IDEpIHsgLy9jZW50ZXIgdGhlIHNpbmdsZSBvbmVcbiAgICAgIGlmIChob3Jpem9udGFsKSB7XG4gICAgICAgIHhBY2N1bXVsYXRvciArPSAoZnJlZVNwYWNlIC0gZml4VXNlZCkgLyAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeUFjY3VtdWxhdG9yICs9IChmcmVlU3BhY2UgLSBmaXhVc2VkKSAvIDI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbWlzZXM6IFByb21pc2U8YW55PltdID0gW107XG4gICAgZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgbGV0IGZpeCA9IGVsZW0ubGF5b3V0T3B0aW9uKGhvcml6b250YWwgPyAncHJlZldpZHRoJyA6ICdwcmVmSGVpZ2h0JywgTnVtYmVyLk5hTik7XG4gICAgICBpZiAoaXNEZWZhdWx0KGZpeCkpIHtcbiAgICAgICAgZml4ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgcHJvbWlzZXMucHVzaChzZXRCb3VuZHMoeEFjY3VtdWxhdG9yLCB5QWNjdW11bGF0b3IsIHcsIGgsIGVsZW0sIGZpeCkpO1xuICAgICAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgICAgeEFjY3VtdWxhdG9yICs9IGZpeCArIGdhcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHlBY2N1bXVsYXRvciArPSBmaXggKyBnYXA7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHdhaXRGb3IocHJvbWlzZXMpO1xuICB9XG5cbiAgcmV0dXJuIERpc3RyaWJ1dGVMYXlvdXQ7XG59XG5cbi8vICAgICB0b3Bcbi8vLS0tLS0tLS0tLS0tXG4vLyBsIHwgICAgICB8IHJcbi8vIGUgfCAgICAgIHwgaVxuLy8gZiB8Y2VudGVyfCBnXG4vLyB0IHwgICAgICB8IGhcbi8vICAgfCAgICAgIHwgdFxuLy8tLS0tLS0tLS0tLS0tXG4vLyAgIGJvdHRvbVxuXG5leHBvcnQgZnVuY3Rpb24gYm9yZGVyTGF5b3V0KGhvcml6b250YWw6IGJvb2xlYW4sIGdhcDogbnVtYmVyLCBwZXJjZW50YWdlczogSVBhZGRpbmcgPSB7XG4gIHRvcDogMC4yLFxuICBsZWZ0OiAwLjIsXG4gIHJpZ2h0OiAwLjIsXG4gIGJvdHRvbTogMC4yXG59LCBwYWRkaW5nOiBJUGFkZGluZyA9IG5vUGFkZGluZykge1xuICBmdW5jdGlvbiBCb3JkZXJMYXlvdXQoZWxlbXM6IElMYXlvdXRFbGVtW10sIHc6IG51bWJlciwgaDogbnVtYmVyLCBwYXJlbnQ6IElMYXlvdXRFbGVtKSB7XG4gICAgdyAtPSBwYWRkaW5nLmxlZnQgKyBwYWRkaW5nLnJpZ2h0O1xuICAgIGggLT0gcGFkZGluZy50b3AgKyBwYWRkaW5nLmJvdHRvbTtcbiAgICBsZXQgeCA9IHBhZGRpbmcudG9wLCB5ID0gcGFkZGluZy5sZWZ0LCB3YyA9IHcsIGhjID0gaDtcbiAgICBjb25zdCBwb3MgPSBuZXcgTWFwPHN0cmluZywgSUxheW91dEVsZW1bXT4oKTtcbiAgICBwb3Muc2V0KCd0b3AnLCBbXSk7XG4gICAgcG9zLnNldCgnY2VudGVyJywgW10pO1xuICAgIHBvcy5zZXQoJ2xlZnQnLCBbXSk7XG4gICAgcG9zLnNldCgncmlnaHQnLCBbXSk7XG4gICAgcG9zLnNldCgnYm90dG9tJywgW10pO1xuICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGxldCBib3JkZXIgPSBlbGVtLmxheW91dE9wdGlvbignYm9yZGVyJywgJ2NlbnRlcicpO1xuICAgICAgaWYgKCFwb3MuaGFzKGJvcmRlcikpIHtcbiAgICAgICAgYm9yZGVyID0gJ2NlbnRlcic7IC8vaW52YWxpZCBvbmVcbiAgICAgIH1cbiAgICAgIHBvcy5nZXQoYm9yZGVyKS5wdXNoKGVsZW0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBpZiAocG9zLmdldCgndG9wJykubGVuZ3RoID4gMCkge1xuICAgICAgeSArPSBoICogcGVyY2VudGFnZXMudG9wO1xuICAgICAgaGMgLT0gaCAqIHBlcmNlbnRhZ2VzLnRvcDtcbiAgICAgIHByb21pc2VzLnB1c2goZmxvd0xheW91dCh0cnVlLCBnYXApKHBvcy5nZXQoJ3RvcCcpLCB3LCBoICogcGVyY2VudGFnZXMudG9wLCBwYXJlbnQpKTtcbiAgICB9XG4gICAgaWYgKHBvcy5nZXQoJ2JvdHRvbScpLmxlbmd0aCA+IDApIHtcbiAgICAgIGhjIC09IGggKiBwZXJjZW50YWdlcy5ib3R0b207XG4gICAgICBwcm9taXNlcy5wdXNoKGZsb3dMYXlvdXQodHJ1ZSwgZ2FwKShwb3MuZ2V0KCdib3R0b20nKSwgdywgaCAqIHBlcmNlbnRhZ2VzLmJvdHRvbSwgcGFyZW50KSk7XG4gICAgfVxuICAgIGlmIChwb3MuZ2V0KCdsZWZ0JykubGVuZ3RoID4gMCkge1xuICAgICAgeCArPSB3ICogcGVyY2VudGFnZXMubGVmdDtcbiAgICAgIHdjIC09IHcgKiBwZXJjZW50YWdlcy5sZWZ0O1xuICAgICAgcHJvbWlzZXMucHVzaChmbG93TGF5b3V0KGZhbHNlLCBnYXApKHBvcy5nZXQoJ2xlZnQnKSwgdyAqIHBlcmNlbnRhZ2VzLmxlZnQsIGhjLCBwYXJlbnQpKTtcbiAgICB9XG4gICAgaWYgKHBvcy5nZXQoJ3JpZ2h0JykubGVuZ3RoID4gMCkge1xuICAgICAgd2MgLT0gdyAqIHBlcmNlbnRhZ2VzLnJpZ2h0O1xuICAgICAgcHJvbWlzZXMucHVzaChmbG93TGF5b3V0KGZhbHNlLCBnYXApKHBvcy5nZXQoJ3JpZ2h0JyksIHcgKiBwZXJjZW50YWdlcy5yaWdodCwgaGMsIHBhcmVudCkpO1xuICAgIH1cbiAgICBpZiAocG9zLmdldCgnY2VudGVyJykubGVuZ3RoID4gMCkge1xuICAgICAgcHJvbWlzZXMucHVzaChmbG93TGF5b3V0KHRydWUsIGdhcCkocG9zLmdldCgnY2VudGVyJyksIHdjLCBoYywgcGFyZW50KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdhaXRGb3IocHJvbWlzZXMpO1xuICB9XG5cbiAgcmV0dXJuIEJvcmRlckxheW91dDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9sYXlvdXQudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgc2FtIG9uIDI1LjAyLjIwMTUuXG4gKi9cblxuaW1wb3J0IHtJTGF5b3V0RWxlbX0gZnJvbSAnLi9sYXlvdXQnO1xuaW1wb3J0IHtsaXN0IGFzIGxpc3RQbHVnaW5zLCBJUGx1Z2luRGVzY30gZnJvbSAnLi9wbHVnaW4nO1xuaW1wb3J0IHtJRGF0YVR5cGV9IGZyb20gJy4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJRFR5cGV9IGZyb20gJy4vaWR0eXBlJztcbmltcG9ydCB7RXZlbnRIYW5kbGVyLCBJRXZlbnRIYW5kbGVyfSBmcm9tICcuL2V2ZW50JztcbmltcG9ydCB7UmVjdH0gZnJvbSAnLi9nZW9tJztcblxuXG5leHBvcnQgaW50ZXJmYWNlIElWaWV3RGVzYyBleHRlbmRzIElQbHVnaW5EZXNjIHtcbiAgLyoqXG4gICAqIHZpZXcgdHlwZS4gc3VwcG9ydCwgbWFpblxuICAgKiBkZWZhdWx0OiBtYWluXG4gICAqL1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7IC8vc3VwcG9ydCwgbWFpblxuICAvKipcbiAgICogdmlldyBsb2NhdGlvbjogbGVmdCwgdG9wLCBib3R0b20sIHJpZ2h0LCBjZW50ZXJcbiAgICogZGVmYXVsdDogY2VudGVyXG4gICAqL1xuICByZWFkb25seSBsb2NhdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElWaWV3IGV4dGVuZHMgSUxheW91dEVsZW0sIElFdmVudEhhbmRsZXIge1xuICByZWFkb25seSBkYXRhOiBJRGF0YVR5cGVbXTtcbiAgcmVhZG9ubHkgaWR0eXBlczogSURUeXBlW107XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBVmlldyBleHRlbmRzIEV2ZW50SGFuZGxlciBpbXBsZW1lbnRzIElWaWV3IHtcbiAgcHJpdmF0ZSBfbGF5b3V0T3B0aW9uczogYW55ID0ge307XG5cbiAgYWJzdHJhY3Qgc2V0Qm91bmRzKHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlcik6IFByb21pc2U8dm9pZD58YW55O1xuXG4gIGFic3RyYWN0IGdldEJvdW5kcygpOiBSZWN0O1xuXG4gIGdldCBkYXRhKCk6IElEYXRhVHlwZVtdIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBnZXQgaWR0eXBlcygpOiBJRFR5cGVbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgc2V0TGF5b3V0T3B0aW9uKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIHRoaXMuX2xheW91dE9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcbiAgfVxuXG4gIGxheW91dE9wdGlvbjxUPihuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogVCA9IG51bGwpOiBUIHtcbiAgICBpZiAodGhpcy5fbGF5b3V0T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xheW91dE9wdGlvbnNbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydERlc2MoZGVzYzogSVBsdWdpbkRlc2MpOiBJVmlld0Rlc2Mge1xuICBjb25zdCBkID0gPGFueT5kZXNjO1xuICBkLnR5cGUgPSBkLnR5cGUgfHwgJ21haW4nO1xuICBkLmxvY2F0aW9uID0gZC5sb2NhdGlvbiB8fCAnY2VudGVyJztcbiAgcmV0dXJuIGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0KCkge1xuICByZXR1cm4gbGlzdFBsdWdpbnMoJ3ZpZXcnKS5tYXAoY29udmVydERlc2MpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2xheW91dF92aWV3LnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAyNi4xMi4yMDE2LlxuICovXG5cbmV4cG9ydCB7XG4gIElNYXRyaXgsXG4gIElEVFlQRV9DRUxMLFxuICBJRFRZUEVfQ09MVU1OLFxuICBJRFRZUEVfUk9XLFxuICBJSGVhdE1hcFVybE9wdGlvbnMsXG4gIElNYXRyaXhEYXRhRGVzY3JpcHRpb24sXG4gIElOdW1lcmljYWxNYXRyaXgsXG4gIElBbnlNYXRyaXgsXG4gIElDYXRlZ29yaWNhbE1hdHJpeFxufSBmcm9tICcuL0lNYXRyaXgnO1xuXG5leHBvcnQge2FzTWF0cml4LCBJQXNNYXRyaXhPcHRpb25zfSBmcm9tICcuL01hdHJpeCc7XG5leHBvcnQge2FzTmFtZVZlY3RvciBhcyBhc0NvbHVtbk5hbWVWZWN0b3J9IGZyb20gJy4vaW50ZXJuYWwvTWF0cml4Q29sdW1uTmFtZVZlY3Rvcic7XG5leHBvcnQge2FzTmFtZVZlY3RvciBhcyBhc1Jvd05hbWVWZWN0b3J9IGZyb20gJy4vaW50ZXJuYWwvTWF0cml4Um93TmFtZVZlY3Rvcic7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWF0cml4L2luZGV4LnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMTYuMDMuMjAxNy5cbiAqL1xuaW1wb3J0IHtJQW55TWF0cml4fSBmcm9tICcuLi8nO1xuaW1wb3J0IHtSYW5nZUxpa2UsIGFsbH0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IEFOYW1lVmVjdG9yLCB7SVN0cmluZ1ZlY3Rvcn0gZnJvbSAnLi4vLi4vdmVjdG9yL2ludGVybmFsL0FOYW1lVmVjdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0cml4Q29sdW1uTmFtZVZlY3RvciBleHRlbmRzIEFOYW1lVmVjdG9yPElBbnlNYXRyaXg+IGltcGxlbWVudHMgSVN0cmluZ1ZlY3RvciB7XG5cbiAgY29uc3RydWN0b3IobWF0cml4OiBJQW55TWF0cml4KSB7XG4gICAgc3VwZXIobWF0cml4KTtcbiAgICB0aGlzLnJvb3QgPSB0aGlzO1xuICB9XG5cbiAgZ2V0IGlkdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLmNvbHR5cGU7XG4gIH1cblxuICBuYW1lcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLmNvbHMocmFuZ2UpO1xuICB9XG5cbiAgaWRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmJhc2UuY29sSWRzKHJhbmdlKTtcbiAgfVxuXG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZS5uY29sO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogdGhpcy5iYXNlLnBlcnNpc3QoKSxcbiAgICAgIG5hbWVzOiAnY29sdW1uJ1xuICAgIH07XG4gIH1cbn1cblxuXG4vKipcbiAqIGNvbnZlcnRzIHRoZSBjb2xzIG9mIHRoZSBnaXZlbiBtYXRyaXggYXMgYSBzdHJpbmcgdmVjdG9yXG4gKiBAcGFyYW0gbWF0cml4XG4gKiBAcmV0dXJuIHtJU3RyaW5nVmVjdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNOYW1lVmVjdG9yKG1hdHJpeDogSUFueU1hdHJpeCk6IElTdHJpbmdWZWN0b3Ige1xuICByZXR1cm4gbmV3IE1hdHJpeENvbHVtbk5hbWVWZWN0b3IobWF0cml4KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYXRyaXgvaW50ZXJuYWwvTWF0cml4Q29sdW1uTmFtZVZlY3Rvci50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDE2LjAzLjIwMTcuXG4gKi9cbmltcG9ydCB7SUFueU1hdHJpeH0gZnJvbSAnLi4vJztcbmltcG9ydCB7UmFuZ2VMaWtlLCBhbGx9IGZyb20gJy4uLy4uL3JhbmdlJztcbmltcG9ydCBBTmFtZVZlY3Rvciwge0lTdHJpbmdWZWN0b3J9IGZyb20gJy4uLy4uL3ZlY3Rvci9pbnRlcm5hbC9BTmFtZVZlY3Rvcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdHJpeFJvd05hbWVWZWN0b3IgZXh0ZW5kcyBBTmFtZVZlY3RvcjxJQW55TWF0cml4PiBpbXBsZW1lbnRzIElTdHJpbmdWZWN0b3Ige1xuXG4gIGNvbnN0cnVjdG9yKG1hdHJpeDogSUFueU1hdHJpeCkge1xuICAgIHN1cGVyKG1hdHJpeCk7XG4gICAgdGhpcy5yb290ID0gdGhpcztcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZS5yb3d0eXBlO1xuICB9XG5cbiAgbmFtZXMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZS5yb3dzKHJhbmdlKTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLnJvd0lkcyhyYW5nZSk7XG4gIH1cblxuICBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2UubnJvdztcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb3Q6IHRoaXMuYmFzZS5wZXJzaXN0KCksXG4gICAgICBuYW1lczogJ3JvdydcbiAgICB9O1xuICB9XG59XG5cblxuLyoqXG4gKiBjb252ZXJ0cyB0aGUgcm93cyBvZiB0aGUgZ2l2ZW4gbWF0cml4IGFzIGEgc3RyaW5nIHZlY3RvclxuICogQHBhcmFtIG1hdHJpeFxuICogQHJldHVybiB7SVN0cmluZ1ZlY3Rvcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzTmFtZVZlY3RvcihtYXRyaXg6IElBbnlNYXRyaXgpOiBJU3RyaW5nVmVjdG9yIHtcbiAgcmV0dXJuIG5ldyBNYXRyaXhSb3dOYW1lVmVjdG9yKG1hdHJpeCk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWF0cml4L2ludGVybmFsL01hdHJpeFJvd05hbWVWZWN0b3IudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7YXJnU29ydCwgYXJnRmlsdGVyfSBmcm9tICcuLi8uLi9pbmRleCc7XG5pbXBvcnQge2xpc3QgYXMgcmxpc3QsIFJhbmdlTGlrZSwgcGFyc2V9IGZyb20gJy4uLy4uL3JhbmdlJztcbmltcG9ydCB7SVZhbHVlVHlwZURlc2N9IGZyb20gJy4uLy4uL2RhdGF0eXBlJztcbmltcG9ydCB7SVZlY3RvciwgSVZlY3RvckRhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi4vLi4vdmVjdG9yJztcbmltcG9ydCBBVmVjdG9yIGZyb20gJy4uLy4uL3ZlY3Rvci9BVmVjdG9yJztcbmltcG9ydCB7SU1hdHJpeH0gZnJvbSAnLi4vSU1hdHJpeCc7XG5cbi8qKlxuICogYSBzaW1wbGUgcHJvamVjdGlvbiBvZiBhIG1hdHJpeCBjb2x1bW5zIHRvIGEgdmVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3RlZFZlY3RvcjxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2MsIE0sIE1EIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgQVZlY3RvcjxULEQ+IGltcGxlbWVudHMgSVZlY3RvcjxULEQ+IHtcbiAgcmVhZG9ubHkgZGVzYzogSVZlY3RvckRhdGFEZXNjcmlwdGlvbjxEPjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG06IElNYXRyaXg8TSwgTUQ+LCBwcml2YXRlIGY6IChyb3c6IE1bXSkgPT4gVCwgcHJpdmF0ZSB0aGlzQXJndW1lbnQgPSBtLCBwdWJsaWMgcmVhZG9ubHkgdmFsdWV0eXBlOiBEID0gPGFueT5tLnZhbHVldHlwZSwgcHJpdmF0ZSBfaWR0eXBlID0gbS5yb3d0eXBlKSB7XG4gICAgc3VwZXIobnVsbCk7XG4gICAgdGhpcy5kZXNjID0ge1xuICAgICAgbmFtZTogbS5kZXNjLm5hbWUgKyAnLXAnLFxuICAgICAgZnFuYW1lOiBtLmRlc2MuZnFuYW1lICsgJy1wJyxcbiAgICAgIHR5cGU6ICd2ZWN0b3InLFxuICAgICAgaWQ6IG0uZGVzYy5pZCArICctcCcsXG4gICAgICBzaXplOiB0aGlzLmRpbVswXSxcbiAgICAgIGlkdHlwZTogbS5yb3d0eXBlLFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWV0eXBlLFxuICAgICAgZGVzY3JpcHRpb246IG0uZGVzYy5kZXNjcmlwdGlvbixcbiAgICAgIGNyZWF0b3I6IG0uZGVzYy5jcmVhdG9yLFxuICAgICAgdHM6IG0uZGVzYy50c1xuICAgIH07XG4gICAgdGhpcy5yb290ID0gdGhpcztcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb3Q6IHRoaXMubS5wZXJzaXN0KCksXG4gICAgICBmOiB0aGlzLmYudG9TdHJpbmcoKSxcbiAgICAgIHZhbHVldHlwZTogdGhpcy52YWx1ZXR5cGUgPT09IDxhbnk+dGhpcy5tLnZhbHVldHlwZSA/IHVuZGVmaW5lZCA6IHRoaXMudmFsdWV0eXBlLFxuICAgICAgaWR0eXBlOiB0aGlzLmlkdHlwZSA9PT0gdGhpcy5tLnJvd3R5cGUgPyB1bmRlZmluZWQgOiB0aGlzLmlkdHlwZS5uYW1lXG4gICAgfTtcbiAgfVxuXG4gIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpIHtcbiAgICBsZXQgcjogSVZlY3RvcjxULEQ+ID0gdGhpcztcbiAgICBpZiAocGVyc2lzdGVkICYmIHBlcnNpc3RlZC5yYW5nZSkgeyAvL3NvbWUgdmlldyBvbnRvIGl0XG4gICAgICByID0gci52aWV3KHBhcnNlKHBlcnNpc3RlZC5yYW5nZSkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkdHlwZTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCkge1xuICAgIHJldHVybiBbdGhpcy5faWR0eXBlXTtcbiAgfVxuXG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMubS5ucm93O1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgYXNzb2NpYXRlZCBpZHMgb2YgdGhpcyB2ZWN0b3JcbiAgICovXG4gIG5hbWVzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybiB0aGlzLm0ucm93cyhyYW5nZSk7XG4gIH1cblxuICBpZHMocmFuZ2U/OiBSYW5nZUxpa2UpIHtcbiAgICByZXR1cm4gdGhpcy5tLnJvd0lkcyhyYW5nZSk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyBhIHByb21pc2UgZm9yIGdldHRpbmcgb25lIGNlbGxcbiAgICogQHBhcmFtIGlcbiAgICovXG4gIGFzeW5jIGF0KGk6IG51bWJlcik6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLm0uZGF0YShybGlzdChpKSk7XG4gICAgcmV0dXJuIHRoaXMuZi5jYWxsKHRoaXMudGhpc0FyZ3VtZW50LCBkWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyB0aGUgZGF0YSBhcyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHBhcmFtIHJhbmdlXG4gICAqL1xuICBhc3luYyBkYXRhKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxUW10+IHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMubS5kYXRhKHJhbmdlKSkubWFwKHRoaXMuZiwgdGhpcy50aGlzQXJndW1lbnQpO1xuICB9XG5cbiAgYXN5bmMgc29ydChjb21wYXJlRm4/OiAoYTogVCwgYjogVCkgPT4gbnVtYmVyLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxJVmVjdG9yPFQsRD4+IHtcbiAgICBjb25zdCBkID0gYXdhaXQgdGhpcy5kYXRhKCk7XG4gICAgY29uc3QgaW5kaWNlcyA9IGFyZ1NvcnQoZCwgY29tcGFyZUZuLCB0aGlzQXJnKTtcbiAgICByZXR1cm4gdGhpcy52aWV3KHJsaXN0KGluZGljZXMpKTtcbiAgfVxuXG4gIGFzeW5jIGZpbHRlcihjYWxsYmFja2ZuOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElWZWN0b3I8VCxEPj4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICBjb25zdCBpbmRpY2VzID0gYXJnRmlsdGVyKGQsIGNhbGxiYWNrZm4sIHRoaXNBcmcpO1xuICAgIHJldHVybiB0aGlzLnZpZXcocmxpc3QoaW5kaWNlcykpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWF0cml4L2ludGVybmFsL1Byb2plY3RlZFZlY3Rvci50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHthcmdTb3J0LCBhcmdGaWx0ZXJ9IGZyb20gJy4uLy4uL2luZGV4JztcbmltcG9ydCB7bGlzdCBhcyBybGlzdCwgUmFuZ2VMaWtlLCBSYW5nZSwgYWxsLCBwYXJzZSwgUmFuZ2UxRH0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IHtJVmFsdWVUeXBlRGVzY30gZnJvbSAnLi4vLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJVmVjdG9yLCBJVmVjdG9yRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuLi8uLi92ZWN0b3InO1xuaW1wb3J0IEFWZWN0b3IgZnJvbSAnLi4vLi4vdmVjdG9yL0FWZWN0b3InO1xuaW1wb3J0IHtJTWF0cml4fSBmcm9tICcuLi9JTWF0cml4JztcblxuLyoqXG4gKiBhIHNpbXBsZSBwcm9qZWN0aW9uIG9mIGEgbWF0cml4IGNvbHVtbnMgdG8gYSB2ZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpY2VDb2xWZWN0b3I8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPiBleHRlbmRzIEFWZWN0b3I8VCwgRD4gaW1wbGVtZW50cyBJVmVjdG9yPFQsIEQ+IHtcbiAgcmVhZG9ubHkgZGVzYzogSVZlY3RvckRhdGFEZXNjcmlwdGlvbjxEPjtcbiAgcHJpdmF0ZSBjb2xSYW5nZTogUmFuZ2UxRDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG06IElNYXRyaXg8VCwgRD4sIHByaXZhdGUgY29sOiBudW1iZXIpIHtcbiAgICBzdXBlcihudWxsKTtcbiAgICB0aGlzLmNvbFJhbmdlID0gUmFuZ2UxRC5mcm9tKFt0aGlzLmNvbF0pO1xuICAgIHRoaXMuZGVzYyA9IHtcbiAgICAgIG5hbWU6IG0uZGVzYy5uYW1lICsgJy1jJyArIGNvbCxcbiAgICAgIGZxbmFtZTogbS5kZXNjLmZxbmFtZSArICctYycgKyBjb2wsXG4gICAgICBpZDogbS5kZXNjLmlkICsgJy1jJyArIGNvbCxcbiAgICAgIHR5cGU6ICd2ZWN0b3InLFxuICAgICAgaWR0eXBlOiBtLnJvd3R5cGUsXG4gICAgICBzaXplOiBtLm5yb3csXG4gICAgICB2YWx1ZTogbS52YWx1ZXR5cGUsXG4gICAgICBkZXNjcmlwdGlvbjogbS5kZXNjLmRlc2NyaXB0aW9uLFxuICAgICAgY3JlYXRvcjogbS5kZXNjLmNyZWF0b3IsXG4gICAgICB0czogbS5kZXNjLnRzXG4gICAgfTtcbiAgICB0aGlzLnJvb3QgPSB0aGlzO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogdGhpcy5tLnBlcnNpc3QoKSxcbiAgICAgIGNvbDogdGhpcy5jb2xcbiAgICB9O1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICAgIGxldCByOiBJVmVjdG9yPFQsIEQ+ID0gdGhpcztcbiAgICBpZiAocGVyc2lzdGVkICYmIHBlcnNpc3RlZC5yYW5nZSkgeyAvL3NvbWUgdmlldyBvbnRvIGl0XG4gICAgICByID0gci52aWV3KHBhcnNlKHBlcnNpc3RlZC5yYW5nZSkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGdldCB2YWx1ZXR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubS52YWx1ZXR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLm0ucm93dHlwZTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCkge1xuICAgIHJldHVybiBbdGhpcy5pZHR5cGVdO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tLm5yb3c7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJuIHRoZSBhc3NvY2lhdGVkIGlkcyBvZiB0aGlzIHZlY3RvclxuICAgKi9cbiAgbmFtZXMocmFuZ2U/OiBSYW5nZSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICByZXR1cm4gdGhpcy5tLnJvd3MocmFuZ2UpO1xuICB9XG5cbiAgaWRzKHJhbmdlPzogUmFuZ2VMaWtlKSB7XG4gICAgcmV0dXJuIHRoaXMubS5yb3dJZHMocmFuZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgYSBwcm9taXNlIGZvciBnZXR0aW5nIG9uZSBjZWxsXG4gICAqIEBwYXJhbSBpXG4gICAqL1xuICBhdChpOiBudW1iZXIpOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5tLmF0KGksIHRoaXMuY29sKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyB0aGUgZGF0YSBhcyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHBhcmFtIHJhbmdlXG4gICAqL1xuICBhc3luYyBkYXRhKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8VFtdPiB7XG4gICAgY29uc3QgcnIgPSBwYXJzZShyYW5nZSk7XG4gICAgY29uc3QgciA9IHJsaXN0KHJyLmRpbSgwKSwgdGhpcy5jb2xSYW5nZSk7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMubS5kYXRhKHIpO1xuICAgIGlmIChkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkWzBdKSkge1xuICAgICAgcmV0dXJuIGQubWFwKChkaSkgPT4gZGlbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gPGFueT5kO1xuICB9XG5cbiAgYXN5bmMgc29ydChjb21wYXJlRm4/OiAoYTogVCwgYjogVCkgPT4gbnVtYmVyLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxJVmVjdG9yPFQsIEQ+PiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdTb3J0KGQsIGNvbXBhcmVGbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cblxuICBhc3luYyBmaWx0ZXIoY2FsbGJhY2tmbjogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxJVmVjdG9yPFQsIEQ+PiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdGaWx0ZXIoZCwgY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYXRyaXgvaW50ZXJuYWwvU2xpY2VDb2xWZWN0b3IudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7YXJnU29ydCwgYXJnRmlsdGVyfSBmcm9tICcuLi8uLi9pbmRleCc7XG5pbXBvcnQge2xpc3QgYXMgcmxpc3QsIFJhbmdlTGlrZSwgYWxsLCBwYXJzZSwgUmFuZ2UxRH0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IHtJVmFsdWVUeXBlRGVzY30gZnJvbSAnLi4vLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJVmVjdG9yLCBJVmVjdG9yRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuLi8uLi92ZWN0b3InO1xuaW1wb3J0IEFWZWN0b3IgZnJvbSAnLi4vLi4vdmVjdG9yL0FWZWN0b3InO1xuaW1wb3J0IHtJTWF0cml4fSBmcm9tICcuLi9JTWF0cml4JztcblxuLyoqXG4gKiBhIHNpbXBsZSBwcm9qZWN0aW9uIG9mIGEgbWF0cml4IGNvbHVtbnMgdG8gYSB2ZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpY2VSb3dWZWN0b3I8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPiBleHRlbmRzIEFWZWN0b3I8VCwgRD4gaW1wbGVtZW50cyBJVmVjdG9yPFQsRD4ge1xuICByZWFkb25seSBkZXNjOiBJVmVjdG9yRGF0YURlc2NyaXB0aW9uPEQ+O1xuICBwcml2YXRlIHJvd1JhbmdlOiBSYW5nZTFEO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbTogSU1hdHJpeDxULCBEPiwgcHJpdmF0ZSByb3c6IG51bWJlcikge1xuICAgIHN1cGVyKG51bGwpO1xuICAgIHRoaXMucm93UmFuZ2UgPSBSYW5nZTFELmZyb20oW3RoaXMucm93XSk7XG4gICAgdGhpcy5kZXNjID0ge1xuICAgICAgbmFtZTogbS5kZXNjLm5hbWUgKyAnLXInICsgcm93LFxuICAgICAgZnFuYW1lOiBtLmRlc2MuZnFuYW1lICsgJy1yJyArIHJvdyxcbiAgICAgIGlkOiBtLmRlc2MuaWQgKyAnLXInICsgcm93LFxuICAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICBpZHR5cGU6IG0uY29sdHlwZSxcbiAgICAgIHNpemU6IG0ubmNvbCxcbiAgICAgIHZhbHVlOiBtLnZhbHVldHlwZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBtLmRlc2MuZGVzY3JpcHRpb24sXG4gICAgICBjcmVhdG9yOiBtLmRlc2MuY3JlYXRvcixcbiAgICAgIHRzOiBtLmRlc2MudHNcbiAgICB9O1xuICAgIHRoaXMucm9vdCA9IHRoaXM7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICByb290OiB0aGlzLm0ucGVyc2lzdCgpLFxuICAgICAgcm93OiB0aGlzLnJvd1xuICAgIH07XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgbGV0IHI6IElWZWN0b3I8VCxEPiA9IHRoaXM7XG4gICAgaWYgKHBlcnNpc3RlZCAmJiBwZXJzaXN0ZWQucmFuZ2UpIHsgLy9zb21lIHZpZXcgb250byBpdFxuICAgICAgciA9IHIudmlldyhwYXJzZShwZXJzaXN0ZWQucmFuZ2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBnZXQgdmFsdWV0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLm0udmFsdWV0eXBlO1xuICB9XG5cbiAgZ2V0IGlkdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tLmNvbHR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW3RoaXMuaWR0eXBlXTtcbiAgfVxuXG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMubS5uY29sO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgYXNzb2NpYXRlZCBpZHMgb2YgdGhpcyB2ZWN0b3JcbiAgICovXG4gIG5hbWVzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybiB0aGlzLm0uY29scyhyYW5nZSk7XG4gIH1cblxuICBpZHMocmFuZ2U/OiBSYW5nZUxpa2UpIHtcbiAgICByZXR1cm4gdGhpcy5tLmNvbElkcyhyYW5nZSk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyBhIHByb21pc2UgZm9yIGdldHRpbmcgb25lIGNlbGxcbiAgICogQHBhcmFtIGlcbiAgICovXG4gIGF0KGk6IG51bWJlcik6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiB0aGlzLm0uYXQodGhpcy5yb3csIGkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgYSBwcm9taXNlIGZvciBnZXR0aW5nIHRoZSBkYXRhIGFzIHR3byBkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAcGFyYW0gcmFuZ2VcbiAgICovXG4gIGFzeW5jIGRhdGEocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxUW10+IHtcbiAgICBjb25zdCByciA9IHBhcnNlKHJhbmdlKTtcbiAgICBjb25zdCByID0gcmxpc3QodGhpcy5yb3dSYW5nZSwgcnIuZGltKDApKTtcbiAgICBjb25zdCBkID0gYXdhaXQgdGhpcy5tLmRhdGEocik7XG4gICAgcmV0dXJuIGRbMF07XG4gIH1cblxuICBhc3luYyBzb3J0KGNvbXBhcmVGbj86IChhOiBULCBiOiBUKSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElWZWN0b3I8VCxEPj4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICBjb25zdCBpbmRpY2VzID0gYXJnU29ydChkLCBjb21wYXJlRm4sIHRoaXNBcmcpO1xuICAgIHJldHVybiB0aGlzLnZpZXcocmxpc3QoaW5kaWNlcykpO1xuICB9XG5cbiAgYXN5bmMgZmlsdGVyKGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8SVZlY3RvcjxULEQ+PiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdGaWx0ZXIoZCwgY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYXRyaXgvaW50ZXJuYWwvU2xpY2VSb3dWZWN0b3IudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7UmFuZ2VMaWtlLCBhbGwsIHBhcnNlfSBmcm9tICcuLi8uLi9yYW5nZSc7XG5pbXBvcnQge0lWYWx1ZVR5cGVEZXNjLCB0cmFuc3Bvc2V9IGZyb20gJy4uLy4uL2RhdGF0eXBlJztcbmltcG9ydCB7SU1hdHJpeCwgSUhlYXRNYXBVcmxPcHRpb25zfSBmcm9tICcuLi9JTWF0cml4JztcbmltcG9ydCBBTWF0cml4LCB7TWF0cml4Vmlld30gZnJvbSAnLi4vQU1hdHJpeCc7XG5pbXBvcnQgU2xpY2VSb3dWZWN0b3IgZnJvbSAnLi9TbGljZVJvd1ZlY3Rvcic7XG5pbXBvcnQge0lWZWN0b3J9IGZyb20gJy4uLy4uL3ZlY3Rvcic7XG5pbXBvcnQge0lIaXN0b2dyYW0sIElBZHZhbmNlZFN0YXRpc3RpY3MsIElTdGF0aXN0aWNzfSBmcm9tICcuLi8uLi9tYXRoJztcblxuLyoqXG4gKiB2aWV3IG9uIHRoZSB1bmRlcmx5aW5nIG1hdHJpeCBhcyB0cmFuc3Bvc2VkIHZlcnNpb25cbiAqIEBwYXJhbSBiYXNlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNwb3NlZE1hdHJpeDxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgQU1hdHJpeDxULEQ+IHtcbiAgcmVhZG9ubHkgdDogSU1hdHJpeDxULEQ+O1xuXG4gIGNvbnN0cnVjdG9yKGJhc2U6IElNYXRyaXg8VCxEPikge1xuICAgIHN1cGVyKGJhc2UpO1xuICAgIHRoaXMudCA9IGJhc2U7XG4gIH1cblxuICBnZXQgZGVzYygpIHtcbiAgICByZXR1cm4gdGhpcy5yb290LmRlc2M7XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICByb290OiB0aGlzLnJvb3QucGVyc2lzdCgpLFxuICAgICAgdHJhbnNwb3NlZDogdHJ1ZVxuICAgIH07XG4gIH1cblxuICBnZXQgdmFsdWV0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QudmFsdWV0eXBlO1xuICB9XG5cbiAgZ2V0IHJvd3R5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5jb2x0eXBlO1xuICB9XG5cbiAgZ2V0IGNvbHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5yb3d0eXBlO1xuICB9XG5cbiAgZ2V0IHByb2R1Y3R0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QucHJvZHVjdHR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW3RoaXMucm93dHlwZSwgdGhpcy5jb2x0eXBlXTtcbiAgfVxuXG4gIGFzeW5jIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICBjb25zdCBpZHMgPSBhd2FpdCB0aGlzLnQuaWRzKHJhbmdlID8gcGFyc2UocmFuZ2UpLnN3YXAoKSA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIGlkcy5zd2FwKCk7XG4gIH1cblxuICBjb2xzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICByZXR1cm4gdGhpcy50LnJvd3MocmFuZ2UgPyBwYXJzZShyYW5nZSkuc3dhcCgpIDogdW5kZWZpbmVkKTtcbiAgfVxuXG4gIGNvbElkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy50LnJvd0lkcyhyYW5nZSA/IHBhcnNlKHJhbmdlKS5zd2FwKCkgOiB1bmRlZmluZWQpO1xuICB9XG5cbiAgcm93cyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgcmV0dXJuIHRoaXMudC5jb2xzKHJhbmdlID8gcGFyc2UocmFuZ2UpLnN3YXAoKSA6IHVuZGVmaW5lZCk7XG4gIH1cblxuICByb3dJZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMudC5jb2xJZHMocmFuZ2UgPyBwYXJzZShyYW5nZSkuc3dhcCgpIDogdW5kZWZpbmVkKTtcbiAgfVxuXG4gIHZpZXcocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogSU1hdHJpeDxULEQ+IHtcbiAgICBjb25zdCByID0gcGFyc2UocmFuZ2UpO1xuICAgIGlmIChyLmlzQWxsKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNYXRyaXhWaWV3KHRoaXMucm9vdCwgci5zd2FwKCkpLnQ7XG4gIH1cblxuICBzbGljZShjb2w6IG51bWJlcik6IElWZWN0b3I8VCxEPiB7XG4gICAgcmV0dXJuIG5ldyBTbGljZVJvd1ZlY3Rvcih0aGlzLnJvb3QsIGNvbCk7XG4gIH1cblxuICBzaXplKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzLnQuZGltO1xuICAgIHJldHVybiBbc1sxXSwgc1swXV07IC8vc3dhcCBkaW1lbnNpb25cbiAgfVxuXG4gIGF0KGk6IG51bWJlciwgajogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMudC5hdChqLCBpKTtcbiAgfVxuXG4gIGFzeW5jIGRhdGEocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRyYW5zcG9zZShhd2FpdCB0aGlzLnQuZGF0YShyYW5nZSA/IHBhcnNlKHJhbmdlKS5zd2FwKCkgOiB1bmRlZmluZWQpKTtcbiAgfVxuXG4gIGhpc3QoYmlucz86IG51bWJlciwgcmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpLCBjb250YWluZWRJZHMgPSAwKTogUHJvbWlzZTxJSGlzdG9ncmFtPiB7XG4gICAgcmV0dXJuIHRoaXMudC5oaXN0KGJpbnMsIHJhbmdlID8gcGFyc2UocmFuZ2UpLnN3YXAoKSA6IHVuZGVmaW5lZCwgMSAtIGNvbnRhaW5lZElkcyk7XG4gIH1cblxuICBzdGF0cyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPElTdGF0aXN0aWNzPiB7XG4gICAgcmV0dXJuIHRoaXMudC5zdGF0cyhyYW5nZSA/IHBhcnNlKHJhbmdlKS5zd2FwKCkgOiB1bmRlZmluZWQpO1xuICB9XG5cbiAgc3RhdHNBZHZhbmNlZChyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPElBZHZhbmNlZFN0YXRpc3RpY3M+IHtcbiAgICByZXR1cm4gdGhpcy50LnN0YXRzQWR2YW5jZWQocmFuZ2UgPyBwYXJzZShyYW5nZSkuc3dhcCgpIDogdW5kZWZpbmVkKTtcbiAgfVxuXG4gIGhlYXRtYXBVcmwocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpLCBvcHRpb25zOiBJSGVhdE1hcFVybE9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMudHJhbnNwb3NlID0gb3B0aW9ucy50cmFuc3Bvc2UgIT09IHRydWU7XG4gICAgcmV0dXJuIHRoaXMudC5oZWF0bWFwVXJsKHJhbmdlID8gcGFyc2UocmFuZ2UpLnN3YXAoKSA6IHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYXRyaXgvaW50ZXJuYWwvVHJhbnNwb3NlZE1hdHJpeC50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHtnZXRBUElKU09OLCBhcGkyYWJzVVJMLCBnZXRBUElEYXRhfSBmcm9tICcuLi9hamF4JztcbmltcG9ydCB7bGlzdCBhcyBybGlzdCwgUmFuZ2UsIGFsbCwgam9pbiwgcGFyc2V9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7bWFzaywgSU51bWJlclZhbHVlVHlwZURlc2MsIFZBTFVFX1RZUEVfSU5ULCBWQUxVRV9UWVBFX1JFQUx9IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7SUhpc3RvZ3JhbSwgd3JhcEhpc3QsIElBZHZhbmNlZFN0YXRpc3RpY3MsIGNvbXB1dGVBZHZhbmNlZFN0YXRzfSBmcm9tICcuLi9tYXRoJztcbmltcG9ydCB7SU1hdHJpeERhdGFEZXNjcmlwdGlvbiwgSUhlYXRNYXBVcmxPcHRpb25zLCBJSGVhdE1hcFVybFBhcmFtZXRlcn0gZnJvbSAnLi9JTWF0cml4JztcbmltcG9ydCB7cmVzb2x2ZX0gZnJvbSAnLi4vaWR0eXBlJztcblxuZXhwb3J0IGludGVyZmFjZSBJTWF0cml4TG9hZGVyPFQ+IHtcbiAgKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55Pik6IFByb21pc2U8e1xuICAgIHJvd0lkczogUmFuZ2U7XG4gICAgcm93czogc3RyaW5nW107XG4gICAgY29sSWRzOiBSYW5nZTtcbiAgICBjb2xzOiBzdHJpbmdbXTtcbiAgICBpZHM6IFJhbmdlO1xuICAgIGRhdGE6IFRbXVtdO1xuICB9Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTWF0cml4TG9hZGVyMjxUPiB7XG4gIHJvd0lkcyhkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSk6IFByb21pc2U8UmFuZ2U+O1xuICByb3dzKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKTogUHJvbWlzZTxzdHJpbmdbXT47XG4gIGNvbElkcyhkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSk6IFByb21pc2U8UmFuZ2U+O1xuICBjb2xzKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKTogUHJvbWlzZTxzdHJpbmdbXT47XG4gIGlkcyhkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSk6IFByb21pc2U8UmFuZ2U+O1xuICBhdChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIGk6IG51bWJlciwgajogbnVtYmVyKTogUHJvbWlzZTxUPjtcbiAgZGF0YShkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSk6IFByb21pc2U8VFtdW10+O1xuICBudW1lcmljYWxIaXN0PyhkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSwgYmlucz86IG51bWJlcik6IFByb21pc2U8SUhpc3RvZ3JhbT47XG4gIG51bWVyaWNhbFN0YXRzPyhkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSk6IFByb21pc2U8SUFkdmFuY2VkU3RhdGlzdGljcz47XG4gIGhlYXRtYXBVcmw/KGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlLCBvcHRpb25zOiBJSGVhdE1hcFVybE9wdGlvbnMpOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGFwdGVyT25lMlR3bzxUPihsb2FkZXI6IElNYXRyaXhMb2FkZXI8VD4pOiBJTWF0cml4TG9hZGVyMjxUPiB7XG4gIHJldHVybiB7XG4gICAgcm93SWRzOiAoZGVzYzogSU1hdHJpeERhdGFEZXNjcmlwdGlvbjxhbnk+LCByYW5nZTogUmFuZ2UpID0+IGxvYWRlcihkZXNjKS50aGVuKChkKSA9PiByYW5nZS5wcmVNdWx0aXBseShkLnJvd0lkcywgZGVzYy5zaXplKSksXG4gICAgcm93czogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKSA9PiBsb2FkZXIoZGVzYykudGhlbigoZCkgPT4gcmFuZ2UuZGltKDApLmZpbHRlcihkLnJvd3MsIGRlc2Muc2l6ZVswXSkpLFxuICAgIGNvbElkczogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKSA9PiBsb2FkZXIoZGVzYykudGhlbigoZCkgPT4gcmFuZ2UucHJlTXVsdGlwbHkoZC5jb2xJZHMsIGRlc2Muc2l6ZSkpLFxuICAgIGNvbHM6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4gbG9hZGVyKGRlc2MpLnRoZW4oKGQpID0+IHJhbmdlLmRpbSgxKS5maWx0ZXIoZC5jb2xzLCBkZXNjLnNpemVbMV0pKSxcbiAgICBpZHM6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4gbG9hZGVyKGRlc2MpLnRoZW4oKGQpID0+IHJhbmdlLnByZU11bHRpcGx5KGQuaWRzLCBkZXNjLnNpemUpKSxcbiAgICBhdDogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgaTogbnVtYmVyLCBqOiBudW1iZXIpID0+IGxvYWRlcihkZXNjKS50aGVuKChkKSA9PiBkLmRhdGFbaV1bal0pLFxuICAgIGRhdGE6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4gbG9hZGVyKGRlc2MpLnRoZW4oKGQpID0+IHJhbmdlLmZpbHRlcihkLmRhdGEsIGRlc2Muc2l6ZSkpXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hc2tJdChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4pIHtcbiAgaWYgKGRlc2MudmFsdWUudHlwZSA9PT0gVkFMVUVfVFlQRV9JTlQgfHwgZGVzYy52YWx1ZS50eXBlID09PSBWQUxVRV9UWVBFX1JFQUwpIHtcbiAgICByZXR1cm4gKHY6IG51bWJlcnxudW1iZXJbXSkgPT4gbWFzayh2LCA8SU51bWJlclZhbHVlVHlwZURlc2M+ZGVzYy52YWx1ZSk7XG4gIH1cbiAgcmV0dXJuICh2OiBudW1iZXJ8bnVtYmVyW10pID0+IHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWFBUEkyTG9hZGVyKCk6IElNYXRyaXhMb2FkZXIyPGFueT4ge1xuICBsZXQgcm93SWRzOiBQcm9taXNlPFJhbmdlPiA9IG51bGwsXG4gICAgcm93czogUHJvbWlzZTxzdHJpbmdbXT4gPSBudWxsLFxuICAgIGNvbElkczogUHJvbWlzZTxSYW5nZT4gPSBudWxsLFxuICAgIGNvbHM6IFByb21pc2U8c3RyaW5nW10+ID0gbnVsbCxcbiAgICBkYXRhOiBQcm9taXNlPGFueVtdW10+ID0gbnVsbCxcbiAgICBoaXN0OiBQcm9taXNlPElIaXN0b2dyYW0+ID0gbnVsbCxcbiAgICBzdGF0czogUHJvbWlzZTxJQWR2YW5jZWRTdGF0aXN0aWNzPiA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZmlsbFJvd0lkcyhkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4pIHtcbiAgICBpZiAocm93SWRzICE9PSBudWxsICYmIHJvd3MgIT09IG51bGwpIHtcbiAgICAgIFByb21pc2UuYWxsKFtyb3dJZHMsIHJvd3NdKS50aGVuKChbcm93SWRWYWx1ZXMsIHJvd1ZhbHVlc10pID0+IHtcbiAgICAgICAgY29uc3QgaWRUeXBlID0gcmVzb2x2ZShkZXNjLnJvd3R5cGUpO1xuICAgICAgICBjb25zdCByb3dJZHMgPSBwYXJzZShyb3dJZFZhbHVlcyk7XG4gICAgICAgIGlkVHlwZS5maWxsTWFwQ2FjaGUocm93SWRzLmRpbSgwKS5hc0xpc3Qocm93VmFsdWVzLmxlbmd0aCksIHJvd1ZhbHVlcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZmlsbENvbHVtbklkcyhkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4pIHtcbiAgICBpZiAoY29sSWRzICE9PSBudWxsICYmIGNvbHMgIT09IG51bGwpIHtcbiAgICAgIFByb21pc2UuYWxsKFtjb2xJZHMsIGNvbHNdKS50aGVuKChbY29sSWRWYWx1ZXMsIGNvbFZhbHVlc10pID0+IHtcbiAgICAgICAgY29uc3QgaWRUeXBlID0gcmVzb2x2ZShkZXNjLmNvbHR5cGUpO1xuICAgICAgICBjb25zdCBjb2xJZHMgPSBwYXJzZShjb2xJZFZhbHVlcyk7XG4gICAgICAgIGlkVHlwZS5maWxsTWFwQ2FjaGUoY29sSWRzLmRpbSgwKS5hc0xpc3QoY29sVmFsdWVzLmxlbmd0aCksIGNvbFZhbHVlcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgciA9IHtcbiAgICByb3dJZHM6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4ge1xuICAgICAgaWYgKHJvd0lkcyA9PSBudWxsKSB7XG4gICAgICAgIHJvd0lkcyA9IGdldEFQSUpTT04oYC9kYXRhc2V0L21hdHJpeC8ke2Rlc2MuaWR9L3Jvd0lkc2ApLnRoZW4ocGFyc2UpO1xuICAgICAgICBmaWxsUm93SWRzKGRlc2MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJvd0lkcy50aGVuKChkKSA9PiBkLnByZU11bHRpcGx5KHJhbmdlLCBkZXNjLnNpemUpKTtcbiAgICB9LFxuICAgIHJvd3M6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4ge1xuICAgICAgaWYgKHJvd3MgPT0gbnVsbCkge1xuICAgICAgICByb3dzID0gZ2V0QVBJSlNPTihgL2RhdGFzZXQvbWF0cml4LyR7ZGVzYy5pZH0vcm93c2ApO1xuICAgICAgICBmaWxsUm93SWRzKGRlc2MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJvd3MudGhlbigoZCkgPT4gcmFuZ2UuZGltKDApLmZpbHRlcihkLCBkZXNjLnNpemVbMF0pKTtcbiAgICB9LFxuICAgIGNvbElkczogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKSA9PiB7XG4gICAgICBpZiAoY29sSWRzID09IG51bGwpIHtcbiAgICAgICAgY29sSWRzID0gZ2V0QVBJSlNPTihgL2RhdGFzZXQvbWF0cml4LyR7ZGVzYy5pZH0vY29sSWRzYCkudGhlbihwYXJzZSk7XG4gICAgICAgIGZpbGxDb2x1bW5JZHMoZGVzYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sSWRzLnRoZW4oKGQpID0+IGQucHJlTXVsdGlwbHkocmFuZ2UsIGRlc2Muc2l6ZSkpO1xuICAgIH0sXG4gICAgY29sczogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKSA9PiB7XG4gICAgICBpZiAoY29scyA9PSBudWxsKSB7XG4gICAgICAgIGNvbHMgPSBnZXRBUElKU09OKGAvZGF0YXNldC9tYXRyaXgvJHtkZXNjLmlkfS9jb2xzYCk7XG4gICAgICAgIGZpbGxDb2x1bW5JZHMoZGVzYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29scy50aGVuKChkKSA9PiByYW5nZS5kaW0oMSkuZmlsdGVyKGQsIGRlc2Muc2l6ZVsxXSkpO1xuICAgIH0sXG4gICAgaWRzOiAoZGVzYzogSU1hdHJpeERhdGFEZXNjcmlwdGlvbjxhbnk+LCByYW5nZTogUmFuZ2UpID0+IHtcbiAgICAgIGlmIChyYW5nZS5uZGltID09PSAxKSB7XG4gICAgICAgIHJldHVybiByLnJvd0lkcyhkZXNjLCByYW5nZSk7XG4gICAgICB9XG4gICAgICByYW5nZS5kaW0oMCk7IC8vZW5zdXJlIHR3byBkaW1cbiAgICAgIHJhbmdlLmRpbSgxKTsgLy9lbnN1cmUgdHdvIGRpbVxuICAgICAgY29uc3Qgc3BsaXQgPSByYW5nZS5zcGxpdCgpO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtyLnJvd0lkcyhkZXNjLCBzcGxpdFswXSB8fCBhbGwoKSksIHIuY29sSWRzKGRlc2MsIHNwbGl0WzFdIHx8IGFsbCgpKV0pLnRoZW4oam9pbik7XG4gICAgfSxcbiAgICBudW1lcmljYWxTdGF0czogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlKTogUHJvbWlzZTxJQWR2YW5jZWRTdGF0aXN0aWNzPiA9PiB7XG4gICAgICBpZiAocmFuZ2UuaXNBbGwpIHtcbiAgICAgICAgaWYgKHN0YXRzID09IG51bGwpIHtcbiAgICAgICAgICBzdGF0cyA9IGdldEFQSUpTT04oYC9kYXRhc2V0L21hdHJpeC8ke2Rlc2MuaWR9L3N0YXRzYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRzO1xuICAgICAgfVxuICAgICAgY29uc3QgYXJnczogYW55ID0ge1xuICAgICAgICByYW5nZTogcmFuZ2UudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICAgIHJldHVybiBnZXRBUElKU09OKGAvZGF0YXNldC9tYXRyaXgvJHtkZXNjLmlkfS9zdGF0c2AsIGFyZ3MpO1xuICAgIH0sXG4gICAgbnVtZXJpY2FsSGlzdDogKGRlc2M6IElNYXRyaXhEYXRhRGVzY3JpcHRpb248YW55PiwgcmFuZ2U6IFJhbmdlLCBiaW5zOiBudW1iZXIgPSBOYU4pID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlUmFuZ2UgPSAoPElOdW1iZXJWYWx1ZVR5cGVEZXNjPmRlc2MudmFsdWUpLnJhbmdlO1xuICAgICAgaWYgKHJhbmdlLmlzQWxsKSB7XG4gICAgICAgIGlmIChoaXN0ID09IG51bGwpIHtcbiAgICAgICAgICBoaXN0ID0gZ2V0QVBJSlNPTihgL2RhdGFzZXQvbWF0cml4LyR7ZGVzYy5pZH0vaGlzdGApLnRoZW4oKGhpc3Q6IG51bWJlcltdKSA9PiB3cmFwSGlzdChoaXN0LCB2YWx1ZVJhbmdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpc3Q7XG4gICAgICB9XG4gICAgICBjb25zdCBhcmdzOiBhbnkgPSB7XG4gICAgICAgIHJhbmdlOiByYW5nZS50b1N0cmluZygpXG4gICAgICB9O1xuICAgICAgaWYgKCFpc05hTihiaW5zKSkge1xuICAgICAgICBhcmdzLmJpbnMgPSBiaW5zO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEFQSUpTT04oYC9kYXRhc2V0L21hdHJpeC8ke2Rlc2MuaWR9L2hpc3RgLCBhcmdzKS50aGVuKChoaXN0OiBudW1iZXJbXSkgPT4gd3JhcEhpc3QoaGlzdCwgdmFsdWVSYW5nZSkpO1xuICAgIH0sXG4gICAgYXQ6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIGk6IG51bWJlciwgajogbnVtYmVyKSA9PiByLmRhdGEoZGVzYywgcmxpc3QoW2ldLCBbal0pKS50aGVuKChkYXRhKSA9PiBtYXNrSXQoZGVzYykoZGF0YVswXVswXSkpLFxuICAgIGRhdGE6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSkgPT4ge1xuICAgICAgaWYgKHJhbmdlLmlzQWxsKSB7XG4gICAgICAgIGlmIChkYXRhID09IG51bGwpIHtcbiAgICAgICAgICBkYXRhID0gPGFueT5nZXRBUElKU09OKGAvZGF0YXNldC9tYXRyaXgvJHtkZXNjLmlkfS9yYXdgKS50aGVuKG1hc2tJdChkZXNjKSk7IC8vIFRPRE8gYXZvaWQgPGFueT4gdHlwZSBjYXN0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSAhPSBudWxsKSB7IC8vYWxyZWFkeSBsb2FkaW5nIGFsbFxuICAgICAgICByZXR1cm4gZGF0YS50aGVuKChkKSA9PiByYW5nZS5maWx0ZXIoZCwgZGVzYy5zaXplKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBzaXplID0gZGVzYy5zaXplO1xuICAgICAgaWYgKHNpemVbMF0gKiBzaXplWzFdIDwgMTAwMCB8fCBkZXNjLmxvYWRBdE9uY2UpIHsgLy8gc21hbGwgZmlsZSBsb2FkIGFsbFxuICAgICAgICBkYXRhID0gPGFueT5nZXRBUElKU09OKGAvZGF0YXNldC9tYXRyaXgvJHtkZXNjLmlkfS9yYXdgKS50aGVuKG1hc2tJdChkZXNjKSk7IC8vIFRPRE8gYXZvaWQgPGFueT4gdHlwZSBjYXN0XG4gICAgICAgIHJldHVybiBkYXRhLnRoZW4oKGQpID0+IHJhbmdlLmZpbHRlcihkLCBkZXNjLnNpemUpKTtcbiAgICAgIH1cbiAgICAgIC8vc2VydmVyIHNpZGUgc2xpY2luZ1xuICAgICAgcmV0dXJuIGdldEFQSURhdGEoYC9kYXRhc2V0L21hdHJpeC8ke2Rlc2MuaWR9L3Jhd2AsIHtyYW5nZTogcmFuZ2UudG9TdHJpbmcoKX0pLnRoZW4obWFza0l0KGRlc2MpKTtcbiAgICB9LFxuICAgIGhlYXRtYXBVcmw6IChkZXNjOiBJTWF0cml4RGF0YURlc2NyaXB0aW9uPGFueT4sIHJhbmdlOiBSYW5nZSwgb3B0aW9uczogSUhlYXRNYXBVcmxPcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXM6IElIZWF0TWFwVXJsUGFyYW1ldGVyID0gcHJlcGFyZUhlYXRtYXBVcmxQYXJhbWV0ZXIocmFuZ2UsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGFwaTJhYnNVUkwoYC9kYXRhc2V0L21hdHJpeC8ke2Rlc2MuaWR9L2RhdGFgLCBwYXJhbXMpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogUHJlcGFyZSB0aGUgVVJMIFBhcmFtZXRlcnMgdG8gbG9hZCB0aGUgSGVhdG1hcCB3aXRoIHRoZSBnaXZlbiByYW5nZSBhbmQgb3B0aW9uc1xuICogQHBhcmFtIHJhbmdlIHJhbmdlIGZvciB0aGUgc3Vic2V0IG9mIHRoZSBtYXRyaXhcbiAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgZm9yIHRoZSBVUkwgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUhlYXRtYXBVcmxQYXJhbWV0ZXIocmFuZ2U6IFJhbmdlLCBvcHRpb25zOiBJSGVhdE1hcFVybE9wdGlvbnMpOiBJSGVhdE1hcFVybFBhcmFtZXRlciB7XG4gIGNvbnN0IGFyZ3M6IElIZWF0TWFwVXJsUGFyYW1ldGVyID0ge1xuICAgIGZvcm1hdDogb3B0aW9ucy5mb3JtYXQgfHwgJ3BuZycsXG4gICAgcmFuZ2U6IHJhbmdlLnRvU3RyaW5nKClcbiAgfTtcbiAgaWYgKG9wdGlvbnMudHJhbnNwb3NlID09PSB0cnVlKSB7XG4gICAgYXJncy5mb3JtYXRfdHJhbnNwb3NlID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW9ucy5yYW5nZSkge1xuICAgIGFyZ3MuZm9ybWF0X21pbiA9IG9wdGlvbnMucmFuZ2VbMF07XG4gICAgYXJncy5mb3JtYXRfbWF4ID0gb3B0aW9ucy5yYW5nZVsxXTtcbiAgfVxuICBpZiAob3B0aW9ucy5wYWxldHRlKSB7XG4gICAgYXJncy5mb3JtYXRfcGFsZXR0ZSA9IG9wdGlvbnMucGFsZXR0ZS50b1N0cmluZygpO1xuICB9XG4gIGlmIChvcHRpb25zLm1pc3NpbmcpIHtcbiAgICBhcmdzLmZvcm1hdF9taXNzaW5nID0gb3B0aW9ucy5taXNzaW5nO1xuICB9XG4gIHJldHVybiBhcmdzO1xufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWF0cml4L2xvYWRlci50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDI3LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtJRGF0YVR5cGUsIGFzc2lnbkRhdGF9IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7XG4gIElWaXNNZXRhRGF0YSwgSVZpc0luc3RhbmNlLCBJVmlzUGx1Z2luRGVzYywgQVZpc0luc3RhbmNlLCBhc3NpZ25WaXMsIGxpc3QgYXMgbGlzdFZpc3NlcyxcbiAgSVRyYW5zZm9ybVxufSBmcm9tICcuLi92aXMnO1xuaW1wb3J0IHtJTXVsdGlGb3JtLCBJTXVsdGlGb3JtT3B0aW9ucywgYWRkU2VsZWN0VmlzQ2hvb3NlciwgYWRkSWNvblZpc0Nob29zZXJ9IGZyb20gJy4vSU11bHRpRm9ybSc7XG5pbXBvcnQge2NyZWF0ZU5vZGUsIFByb3h5TWV0YURhdGEsIGNsZWFyTm9kZSwgc2VsZWN0VmlzfSBmcm9tICcuL2ludGVybmFsJztcbmltcG9ydCB7UmFuZ2V9IGZyb20gJy4uL3JhbmdlJztcblxuLyoqXG4gKiBhIHNpbXBsZSBtdWx0aSBmb3JtIGNsYXNzIHVzaW5nIGEgc2VsZWN0IHRvIHN3aXRjaFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aUZvcm0gZXh0ZW5kcyBBVmlzSW5zdGFuY2UgaW1wbGVtZW50cyBJVmlzSW5zdGFuY2UsIElNdWx0aUZvcm0ge1xuICByZWFkb25seSBub2RlOiBIVE1MRWxlbWVudDtcbiAgLyoqXG4gICAqIGxpc3Qgb2YgYWxsIHBvc3NpYmxlcyB2aXMgdGVjaG5pcXVlc1xuICAgKi9cbiAgcmVhZG9ubHkgdmlzc2VzOiBJVmlzUGx1Z2luRGVzY1tdO1xuXG4gIHByaXZhdGUgYWN0VmlzOiBJVmlzSW5zdGFuY2U7XG4gIHByaXZhdGUgYWN0VmlzUHJvbWlzZTogUHJvbWlzZTxhbnk+O1xuXG4gIHByaXZhdGUgYWN0RGVzYzogSVZpc1BsdWdpbkRlc2M7XG4gIHByaXZhdGUgY29udGVudDogSFRNTEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBfbWV0YURhdGE6IElWaXNNZXRhRGF0YSA9IG5ldyBQcm94eU1ldGFEYXRhKCgpID0+IHRoaXMuYWN0RGVzYyk7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGRhdGE6IElEYXRhVHlwZSwgcGFyZW50OiBIVE1MRWxlbWVudCwgcHJpdmF0ZSBvcHRpb25zOiBJTXVsdGlGb3JtT3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBtaXhpbih7XG4gICAgICBpbml0aWFsVmlzOiAwLFxuICAgICAgYWxsOiB7IC8vb3B0aW9ucyB0byBhbGwgdmlzc2VzXG5cbiAgICAgIH0sXG4gICAgICBmaWx0ZXI6ICgpID0+IHRydWVcbiAgICB9LCBvcHRpb25zKTtcbiAgICB0aGlzLm5vZGUgPSBjcmVhdGVOb2RlKHBhcmVudCwgJ2RpdicsICdtdWx0aWZvcm0nKTtcbiAgICBhc3NpZ25EYXRhKHBhcmVudCwgZGF0YSk7XG4gICAgYXNzaWduVmlzKHRoaXMubm9kZSwgdGhpcyk7XG4gICAgLy9maW5kIGFsbCBzdWl0YWJsZSBwbHVnaW5zXG4gICAgdGhpcy52aXNzZXMgPSBsaXN0Vmlzc2VzKGRhdGEpLmZpbHRlcih0aGlzLm9wdGlvbnMuZmlsdGVyKTtcblxuICAgIHRoaXMuYnVpbGQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjb252ZXJ0cyB0aGlzIG11bHRpZm9ybSB0byBhIHZpcyBtZXRhZGF0YVxuICAgKiBAcmV0dXJuIHtJVmlzTWV0YURhdGF9XG4gICAqL1xuICBnZXQgYXNNZXRhRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWV0YURhdGE7XG4gIH1cblxuXG4gIHByaXZhdGUgYnVpbGQoKSB7XG4gICAgLy9jcmVhdGUgc2VsZWN0IG9wdGlvbiBmaWVsZFxuXG4gICAgLy9jcmVhdGUgY29udGVudFxuICAgIHRoaXMuY29udGVudCA9IGNyZWF0ZU5vZGUodGhpcy5ub2RlLCAnZGl2JywgJ2NvbnRlbnQnKTtcbiAgICAvL3N3aXRjaCB0byBmaXJzdFxuICAgIHRoaXMuc3dpdGNoVG8odGhpcy5vcHRpb25zLmluaXRpYWxWaXMpO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5hY3RWaXMgJiYgdHlwZW9mKHRoaXMuYWN0VmlzLmRlc3Ryb3kpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLmFjdFZpcy5kZXN0cm95KCk7XG4gICAgfVxuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgfVxuXG4gIHBlcnNpc3QoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuYWN0RGVzYyA/IHRoaXMuYWN0RGVzYy5pZCA6IG51bGwsXG4gICAgICBjb250ZW50OiB0aGlzLmFjdFZpcyAmJiB0eXBlb2YodGhpcy5hY3RWaXMucGVyc2lzdCkgPT09ICdmdW5jdGlvbicgPyB0aGlzLmFjdFZpcy5wZXJzaXN0KCkgOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpOiBQcm9taXNlPE11bHRpRm9ybT4ge1xuICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgIGlmIChwZXJzaXN0ZWQuaWQpIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy52aXNzZXMuZmluZCgoZSkgPT4gZS5pZCA9PT0gcGVyc2lzdGVkLmlkKTtcbiAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICBjb25zdCB2aXMgPSBhd2FpdCB0aGlzLnN3aXRjaFRvKHNlbGVjdGVkKTtcbiAgICAgICAgaWYgKHZpcyAmJiBwZXJzaXN0ZWQuY29udGVudCAmJiB0eXBlb2YodmlzLnJlc3RvcmUpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHZpcy5yZXN0b3JlKHBlcnNpc3RlZC5jb250ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhhdCk7XG4gIH1cblxuICBsb2NhdGUoLi4uYXJnczogUmFuZ2VbXSk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgcCA9IHRoaXMuYWN0VmlzUHJvbWlzZSB8fCBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgcmV0dXJuIHAudGhlbigoLi4uYWE6IElWaXNJbnN0YW5jZVtdKSA9PiB7XG4gICAgICBjb25zdCB2aXMgPSBhYS5sZW5ndGggPiAwID8gYWFbMF0gOiB1bmRlZmluZWQ7XG4gICAgICBpZiAodmlzICYmIHR5cGVvZih2aXMubG9jYXRlKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmlzLmxvY2F0ZS5hcHBseSh2aXMsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgoYWEubGVuZ3RoID09PSAxID8gdW5kZWZpbmVkIDogbmV3IEFycmF5KGFyZ3MubGVuZ3RoKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbG9jYXRlQnlJZCguLi5hcmdzOiBSYW5nZVtdKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCBwID0gdGhpcy5hY3RWaXNQcm9taXNlIHx8IFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICByZXR1cm4gcC50aGVuKCguLi5hYTogSVZpc0luc3RhbmNlW10pID0+IHtcbiAgICAgIGNvbnN0IHZpcyA9IGFhLmxlbmd0aCA+IDAgPyBhYVswXSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmICh2aXMgJiYgdHlwZW9mKHZpcy5sb2NhdGVCeUlkKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmlzLmxvY2F0ZUJ5SWQuYXBwbHkodmlzLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKGFhLmxlbmd0aCA9PT0gMSA/IHVuZGVmaW5lZCA6IG5ldyBBcnJheShhcmdzLmxlbmd0aCkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHRyYW5zZm9ybShzY2FsZT86IFtudW1iZXIsIG51bWJlcl0sIHJvdGF0ZT86IG51bWJlcikge1xuICAgIGlmICh0aGlzLmFjdFZpcykge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0VmlzLnRyYW5zZm9ybSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdCA9IChldmVudDogYW55LCBuZXdWYWx1ZTogSVRyYW5zZm9ybSwgb2xkOiBJVHJhbnNmb3JtKSA9PiB7XG4gICAgICAgICAgdGhpcy5maXJlKCd0cmFuc2Zvcm0nLCBuZXdWYWx1ZSwgb2xkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hY3RWaXMub24oJ3RyYW5zZm9ybScsIHQpO1xuICAgICAgICBjb25zdCByID0gdGhpcy5hY3RWaXMudHJhbnNmb3JtKHNjYWxlLCByb3RhdGUpO1xuICAgICAgICB0aGlzLmFjdFZpcy5vZmYoJ3RyYW5zZm9ybScsIHQpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuYWN0VmlzUHJvbWlzZSAmJiBhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8ybmQgdHJ5XG4gICAgICB0aGlzLmFjdFZpc1Byb21pc2UudGhlbigodikgPT4gdGhpcy50cmFuc2Zvcm0oc2NhbGUsIHJvdGF0ZSkpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2NhbGU6IDxbbnVtYmVyLCBudW1iZXJdPlsxLCAxXSxcbiAgICAgIHJvdGF0ZTogMFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyB0aGUgY3VycmVudCBzZWxlY3RlZCB2aXMgdGVjaG5pcXVlIGRlc2NyaXB0aW9uXG4gICAqIEByZXR1cm5zIHtwbHVnaW5zLklQbHVnaW5EZXNjfVxuICAgKi9cbiAgZ2V0IGFjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3REZXNjO1xuICB9XG5cbiAgZ2V0IGFjdExvYWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RWaXNQcm9taXNlO1xuICB9XG5cbiAgZ2V0IHNpemUoKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgaWYgKHRoaXMuYWN0VmlzKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3RWaXMuc2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIFsxMDAsIDEwMF07XG4gIH1cblxuICBnZXQgcmF3U2l6ZSgpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBpZiAodGhpcy5hY3RWaXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdFZpcy5yYXdTaXplO1xuICAgIH1cbiAgICByZXR1cm4gWzEwMCwgMTAwXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzd2l0Y2ggdG8gdGhlIGRlc2lyZWQgdmlzIHRlY2huaXF1ZSBnaXZlbiBieSBpbmRleFxuICAgKiBAcGFyYW0gcGFyYW1cbiAgICovXG4gIHN3aXRjaFRvKHBhcmFtOiBudW1iZXJ8c3RyaW5nfElWaXNQbHVnaW5EZXNjKTogUHJvbWlzZTxJVmlzSW5zdGFuY2U+IHtcbiAgICBjb25zdCB2aXM6IElWaXNQbHVnaW5EZXNjID0gc2VsZWN0VmlzKHBhcmFtLCB0aGlzLnZpc3Nlcyk7XG5cbiAgICBpZiAodmlzID09PSB0aGlzLmFjdERlc2MpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdFZpc1Byb21pc2U7IC8vYWxyZWFkeSBzZWxlY3RlZFxuICAgIH1cbiAgICAvL2dyYWNlZnVsbHkgZGVzdHJveVxuICAgIGlmICh0aGlzLmFjdFZpcykge1xuICAgICAgdGhpcy5hY3RWaXMuZGVzdHJveSgpO1xuICAgICAgdGhpcy5hY3RWaXMgPSBudWxsO1xuICAgICAgdGhpcy5hY3RWaXNQcm9taXNlID0gbnVsbDtcbiAgICB9XG4gICAgLy9yZW1vdmUgY29udGVudCBkb20gc2lkZVxuICAgIGNsZWFyTm9kZSh0aGlzLmNvbnRlbnQpO1xuXG4gICAgLy9zd2l0Y2ggYW5kIHRyaWdnZXIgZXZlbnRcbiAgICBjb25zdCBiYWsgPSB0aGlzLmFjdERlc2M7XG4gICAgdGhpcy5hY3REZXNjID0gdmlzO1xuICAgIHRoaXMubWFya1JlYWR5KGZhbHNlKTtcbiAgICB0aGlzLmZpcmUoJ2NoYW5nZScsIHZpcywgYmFrKTtcbiAgICB0aGlzLmFjdFZpcyA9IG51bGw7XG4gICAgdGhpcy5hY3RWaXNQcm9taXNlID0gbnVsbDtcblxuICAgIGlmICh2aXMpIHtcbiAgICAgIC8vbG9hZCB0aGUgcGx1Z2luIGFuZCBjcmVhdGUgdGhlIGluc3RhbmNlXG4gICAgICByZXR1cm4gdGhpcy5hY3RWaXNQcm9taXNlID0gdmlzLmxvYWQoKS50aGVuKChwbHVnaW46IGFueSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5hY3REZXNjICE9PSB2aXMpIHsgLy9jaGFuZ2VkIGluIHRoZSBtZWFud2hpbGVcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdFZpcyA9IHBsdWdpbi5mYWN0b3J5KHRoaXMuZGF0YSwgdGhpcy5jb250ZW50LCBtaXhpbih7fSwgdGhpcy5vcHRpb25zLmFsbCwgdGhpcy5vcHRpb25zW3Zpcy5pZF0gfHwge30pKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0VmlzLmlzQnVpbHQpIHtcbiAgICAgICAgICB0aGlzLm1hcmtSZWFkeSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYWN0VmlzLm9uKCdyZWFkeScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWFya1JlYWR5KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJlKCdjaGFuZ2VkJywgdmlzLCBiYWspO1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RWaXM7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gIH1cblxuICBhZGRJY29uVmlzQ2hvb3Nlcih0b29sYmFyOiBIVE1MRWxlbWVudCkge1xuICAgIHJldHVybiBhZGRJY29uVmlzQ2hvb3Nlcih0b29sYmFyLCB0aGlzKTtcbiAgfVxuXG4gIGFkZFNlbGVjdFZpc0Nob29zZXIodG9vbGJhcjogSFRNTEVsZW1lbnQpIHtcbiAgICByZXR1cm4gYWRkU2VsZWN0VmlzQ2hvb3Nlcih0b29sYmFyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGRhdGE6IElEYXRhVHlwZSwgcGFyZW50OiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IElNdWx0aUZvcm1PcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTXVsdGlGb3JtKGRhdGEsIHBhcmVudCwgb3B0aW9ucyk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbXVsdGlmb3JtL011bHRpRm9ybS50cyIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyNy4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7bWl4aW4sIG9mZnNldH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtJRGF0YVR5cGUsIGFzc2lnbkRhdGF9IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7QVNoYXBlLCByZWN0fSBmcm9tICcuLi9nZW9tJztcbmltcG9ydCB7XG4gIElWaXNNZXRhRGF0YSxcbiAgSVZpc0luc3RhbmNlLFxuICBJVmlzUGx1Z2luRGVzYyxcbiAgQVZpc0luc3RhbmNlLFxuICBhc3NpZ25WaXMsXG4gIGxpc3QgYXMgbGlzdFZpc3NlcyxcbiAgSVRyYW5zZm9ybVxufSBmcm9tICcuLi92aXMnO1xuaW1wb3J0IHtJTXVsdGlGb3JtLCBJTXVsdGlGb3JtT3B0aW9ucywgYWRkU2VsZWN0VmlzQ2hvb3NlciwgYWRkSWNvblZpc0Nob29zZXJ9IGZyb20gJy4vSU11bHRpRm9ybSc7XG5pbXBvcnQge2NyZWF0ZU5vZGUsIFByb3h5TWV0YURhdGEsIHNlbGVjdFZpc30gZnJvbSAnLi9pbnRlcm5hbCc7XG5pbXBvcnQgR3JpZEVsZW0gZnJvbSAnLi9pbnRlcm5hbC9HcmlkRWxlbSc7XG5pbXBvcnQge1JhbmdlLCBDb21wb3NpdGVSYW5nZTFELCBSYW5nZTFER3JvdXAsIGFzVW5ncm91cGVkLCBSYW5nZTFELCBhbGwsIGxpc3QgYXMgcmxpc3R9IGZyb20gJy4uL3JhbmdlJztcblxuXG5mdW5jdGlvbiBzdW0oYXJyOiBudW1iZXJbXSkge1xuICByZXR1cm4gYXJyLnJlZHVjZSgodiwgeCkgPT4gdiArIHgsIDApO1xufVxuXG5mdW5jdGlvbiBtYXgoYXJyOiBhbnlbXSwgYWNjOiAocm93OiBhbnkpID0+IG51bWJlcikge1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgcmV0dXJuIGFyci5yZWR1Y2UoKHAsIGFjdCkgPT4gTWF0aC5tYXgocCwgYWNjKGFjdCkpLCAtSW5maW5pdHkpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElWaWV3RmFjdG9yeSB7XG4gIChkYXRhOiBJRGF0YVR5cGUsIHJhbmdlOiBSYW5nZSwgcG9zOiBudW1iZXJbXSk6IElEYXRhVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTXVsdGlGb3JtR3JpZE9wdGlvbnMgZXh0ZW5kcyBJTXVsdGlGb3JtT3B0aW9ucyB7XG4gIHNpbmdsZVJvd09wdGltaXphdGlvbj86IGJvb2xlYW47XG4gIHdyYXA/KGNlbGw6IEhUTUxFbGVtZW50LCBkYXRhOiBJRGF0YVR5cGUsIHJhbmdlOiBSYW5nZSwgcG9zOiBudW1iZXJbXSk6IEhUTUxFbGVtZW50O1xufVxuXG4vKipcbiAqIGEgc2ltcGxlIG11bHRpIGZvcm0gY2xhc3MgdXNpbmcgYSBzZWxlY3QgdG8gc3dpdGNoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11bHRpRm9ybUdyaWQgZXh0ZW5kcyBBVmlzSW5zdGFuY2UgaW1wbGVtZW50cyBJVmlzSW5zdGFuY2UsIElNdWx0aUZvcm0ge1xuICByZWFkb25seSBub2RlOiBIVE1MRWxlbWVudDtcbiAgLyoqXG4gICAqIGxpc3Qgb2YgYWxsIHBvc3NpYmxlcyB2aXMgdGVjaG5pcXVlc1xuICAgKi9cbiAgcmVhZG9ubHkgdmlzc2VzOiBJVmlzUGx1Z2luRGVzY1tdO1xuXG4gIHByaXZhdGUgYWN0RGVzYzogSVZpc1BsdWdpbkRlc2M7XG5cbiAgcHJpdmF0ZSBhY3RWaXNQcm9taXNlOiBQcm9taXNlPGFueT47XG5cbiAgcHJpdmF0ZSBjb250ZW50OiBIVE1MRWxlbWVudDtcblxuICBwcml2YXRlIGRpbXM6IFJhbmdlMURHcm91cFtdW107XG4gIHByaXZhdGUgZ3JpZDogR3JpZEVsZW1bXTtcblxuICBwcml2YXRlIF9tZXRhRGF0YTogSVZpc01ldGFEYXRhID0gbmV3IFByb3h5TWV0YURhdGEoKCkgPT4gdGhpcy5hY3REZXNjKTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGF0YTogSURhdGFUeXBlLCBwdWJsaWMgcmVhZG9ubHkgcmFuZ2U6IFJhbmdlLCBwYXJlbnQ6IEhUTUxFbGVtZW50LCB2aWV3RmFjdG9yeTogSVZpZXdGYWN0b3J5LCBwcml2YXRlIG9wdGlvbnM6IElNdWx0aUZvcm1HcmlkT3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBtaXhpbih7XG4gICAgICBpbml0aWFsVmlzOiAwLFxuICAgICAgc2luZ2xlUm93T3B0aW1pemF0aW9uOiB0cnVlLFxuICAgICAgZmlsdGVyOiAoKSA9PiB0cnVlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgdGhpcy5ub2RlID0gY3JlYXRlTm9kZShwYXJlbnQsICdkaXYnLCAnbXVsdGlmb3JtZ3JpZCcpO1xuICAgIGFzc2lnbkRhdGEocGFyZW50LCBkYXRhKTtcbiAgICBhc3NpZ25WaXModGhpcy5ub2RlLCB0aGlzKTtcbiAgICAvL2ZpbmQgYWxsIHN1aXRhYmxlIHBsdWdpbnNcbiAgICB0aGlzLnZpc3NlcyA9IGxpc3RWaXNzZXMoZGF0YSkuZmlsdGVyKHRoaXMub3B0aW9ucy5maWx0ZXIpO1xuXG4gICAgLy9jb21wdXRlIHRoZSBkaW1lbnNpb25zIGFuZCBidWlsZCB0aGUgZ3JpZFxuICAgIGNvbnN0IGRpbXMgPSB0aGlzLmRpbXMgPSByYW5nZS5kaW1zLm1hcCgoZGltKSA9PiB7XG4gICAgICBpZiAoZGltIGluc3RhbmNlb2YgQ29tcG9zaXRlUmFuZ2UxRCkge1xuICAgICAgICByZXR1cm4gKDxDb21wb3NpdGVSYW5nZTFEPmRpbSkuZ3JvdXBzO1xuICAgICAgfSBlbHNlIGlmIChkaW0gaW5zdGFuY2VvZiBSYW5nZTFER3JvdXApIHtcbiAgICAgICAgcmV0dXJuIFs8UmFuZ2UxREdyb3VwPmRpbV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW2FzVW5ncm91cGVkKGRpbSldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGdyaWQ6IEdyaWRFbGVtW10gPSB0aGlzLmdyaWQgPSBbXTtcblxuICAgIGZ1bmN0aW9uIHByb2R1Y3QobGV2ZWw6IG51bWJlciwgcmFuZ2U6IFJhbmdlMURbXSwgcG9zOiBudW1iZXJbXSkge1xuICAgICAgaWYgKGxldmVsID09PSBkaW1zLmxlbmd0aCkge1xuICAgICAgICBjb25zdCByID0gcmFuZ2UubGVuZ3RoID09PSAwID8gYWxsKCkgOiBybGlzdChyYW5nZS5zbGljZSgpKTsgLy93b3JrIG9uIGEgY29weSBmb3Igc2FmZXR5IHJlYXNvblxuICAgICAgICBncmlkLnB1c2gobmV3IEdyaWRFbGVtKHIsIHBvcy5zbGljZSgpLCB2aWV3RmFjdG9yeShkYXRhLCByLCBwb3Muc2xpY2UoKSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpbXNbbGV2ZWxdLmZvckVhY2goKGdyb3VwLCBpKSA9PiB7XG4gICAgICAgICAgcmFuZ2UucHVzaChncm91cCk7XG4gICAgICAgICAgcG9zLnB1c2goaSk7XG4gICAgICAgICAgcHJvZHVjdChsZXZlbCArIDEsIHJhbmdlLCBwb3MpO1xuICAgICAgICAgIHJhbmdlLnBvcCgpO1xuICAgICAgICAgIHBvcy5wb3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvZHVjdCgwLCBbXSwgW10pO1xuXG4gICAgdGhpcy5idWlsZCgpO1xuICB9XG5cbiAgZ2V0IGRpbVNpemVzKCkge1xuICAgIHJldHVybiB0aGlzLmRpbXMubWFwKChkKSA9PiBkLmxlbmd0aCk7XG4gIH1cblxuICBwcml2YXRlIHRvRWxlbShwb3M6IG51bWJlcltdKSB7XG4gICAgY29uc3QgcyA9IHRoaXMuZGltU2l6ZXM7XG4gICAgaWYgKHMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmlkW3Bvc1swXV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdyaWRbcG9zWzBdICogc1sxXSArIChwb3NbMV0gfHwgMCldO1xuICB9XG5cbiAgZ2V0UmFuZ2UoLi4uaW5kaWNlczogbnVtYmVyW10pIHtcbiAgICBjb25zdCBlbGVtID0gdGhpcy50b0VsZW0oaW5kaWNlcyk7XG4gICAgcmV0dXJuIGVsZW0ucmFuZ2U7XG4gIH1cblxuICBnZXREYXRhKC4uLmluZGljZXM6IG51bWJlcltdKSB7XG4gICAgY29uc3QgZWxlbSA9IHRoaXMudG9FbGVtKGluZGljZXMpO1xuICAgIHJldHVybiBlbGVtLmRhdGE7XG4gIH1cblxuICBnZXRCb3VuZHMoLi4uaW5kaWNlczogbnVtYmVyW10pIHtcbiAgICBjb25zdCBlbGVtID0gdGhpcy50b0VsZW0oaW5kaWNlcyk7XG4gICAgY29uc3QgYWJzbG9jID0gZWxlbS5sb2NhdGlvbjtcbiAgICBjb25zdCBzaXplID0gZWxlbS5zaXplO1xuICAgIGNvbnN0IHBhcmVudExvYyA9IG9mZnNldCh0aGlzLmNvbnRlbnQpO1xuXG4gICAgcmV0dXJuIHJlY3QoYWJzbG9jLnggLSBwYXJlbnRMb2MubGVmdCwgYWJzbG9jLnkgLSBwYXJlbnRMb2MudG9wLCBzaXplWzBdLCBzaXplWzFdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjb252ZXJ0cyB0aGlzIG11bHRpZm9ybSB0byBhIHZpcyBtZXRhZGF0YVxuICAgKiBAcmV0dXJuIHtJVmlzTWV0YURhdGF9XG4gICAqL1xuICBnZXQgYXNNZXRhRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWV0YURhdGE7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkKCkge1xuICAgIC8vY3JlYXRlIHNlbGVjdCBvcHRpb24gZmllbGRcblxuICAgIC8vY3JlYXRlIGNvbnRlbnRcbiAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLm5vZGU7XG4gICAgY29uc3Qgd3JhcCA9IHRoaXMub3B0aW9ucy53cmFwIHx8ICgoZCkgPT4gZCk7XG4gICAgLy9jcmVhdGUgZ3JvdXBzIGZvciBhbGwgZ3JpZCBlbGVtc1xuICAgIC8vVE9ETyBob3cgdG8gbGF5b3V0IGFzIGEgZ3JpZFxuICAgIGlmICh0aGlzLmRpbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNpbmdsZVJvd09wdGltaXphdGlvbikge1xuICAgICAgICB0aGlzLmdyaWQuZm9yRWFjaCgoZWxlbSkgPT4gZWxlbS5zZXRDb250ZW50KHdyYXAoY3JlYXRlTm9kZSh0aGlzLm5vZGUsICdkaXYnLCAnY29udGVudCBncmlkcm93JyksIGVsZW0uZGF0YSwgZWxlbS5yYW5nZSwgZWxlbS5wb3MpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmdyaWQuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG4gPSBjcmVhdGVOb2RlKHRoaXMubm9kZSwgJ2RpdicsICdncmlkcm93Jyk7XG4gICAgICAgICAgY29uc3Qgbm4gPSBjcmVhdGVOb2RlKG4sICdkaXYnLCAnY29udGVudCcpO1xuICAgICAgICAgIG5uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICBlbGVtLnNldENvbnRlbnQod3JhcChubiwgZWxlbS5kYXRhLCBlbGVtLnJhbmdlLCBlbGVtLnBvcykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmRpbSA9IHRoaXMuZGltU2l6ZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5kaW1bMF07ICsraSkge1xuICAgICAgICBjb25zdCByb3cgPSBjcmVhdGVOb2RlKHRoaXMubm9kZSwgJ2RpdicsICdncmlkcm93Jyk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmRpbVsxXTsgKytqKSB7XG4gICAgICAgICAgY29uc3QgZWxlbSA9IHRoaXMuZ3JpZFtpICogbmRpbVsxXSArIGpdO1xuICAgICAgICAgIGNvbnN0IG5uID0gY3JlYXRlTm9kZShyb3csICdkaXYnLCAnY29udGVudCcpO1xuICAgICAgICAgIG5uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICBlbGVtLnNldENvbnRlbnQod3JhcChubiwgZWxlbS5kYXRhLCBlbGVtLnJhbmdlLCBlbGVtLnBvcykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vc3dpdGNoIHRvIGZpcnN0XG4gICAgdGhpcy5zd2l0Y2hUbyh0aGlzLm9wdGlvbnMuaW5pdGlhbFZpcyk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZ3JpZC5mb3JFYWNoKChlbGVtKSA9PiBlbGVtLmRlc3Ryb3koKSk7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgdHJhbnNmb3JtKHNjYWxlPzogW251bWJlciwgbnVtYmVyXSwgcm90YXRlPzogbnVtYmVyKTogSVRyYW5zZm9ybSB7XG4gICAgaWYgKHRoaXMuZ3JpZFswXS5oYXNPbmUpIHtcbiAgICAgIGNvbnN0IGJhayA9IHRoaXMuZ3JpZFswXS50cmFuc2Zvcm0oKTtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmdyaWQuZm9yRWFjaCgoZykgPT4gZy50cmFuc2Zvcm0oc2NhbGUsIHJvdGF0ZSkpO1xuICAgICAgICB0aGlzLmZpcmUoJ3RyYW5zZm9ybScsIHtcbiAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICByb3RhdGVcbiAgICAgICAgfSwgYmFrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYWs7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzY2FsZTogWzEsIDFdLFxuICAgICAgcm90YXRlOiAwXG4gICAgfTtcbiAgfVxuXG4gIHBlcnNpc3QoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuYWN0RGVzYyA/IHRoaXMuYWN0RGVzYy5pZCA6IG51bGwsXG4gICAgICBjb250ZW50czogdGhpcy5ncmlkLm1hcCgoZWxlbSkgPT4gZWxlbS5wZXJzaXN0KCkpXG4gICAgfTtcbiAgfVxuXG4gIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpOiBQcm9taXNlPE11bHRpRm9ybUdyaWQ+IHtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICBpZiAocGVyc2lzdGVkLmlkKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMudmlzc2VzLmZpbmQoKGUpID0+IGUuaWQgPT09IHBlcnNpc3RlZC5pZCk7XG4gICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3dpdGNoVG8oc2VsZWN0ZWQpLnRoZW4oKHZpcykgPT4ge1xuICAgICAgICAgIC8vRklYTUVcbiAgICAgICAgICBpZiAodmlzICYmIHBlcnNpc3RlZC5jb250ZW50ICYmIHR5cGVvZigoPGFueT52aXMpLnJlc3RvcmUpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gPFByb21pc2U8TXVsdGlGb3JtR3JpZD4+UHJvbWlzZS5yZXNvbHZlKCg8YW55PnZpcykucmVzdG9yZShwZXJzaXN0ZWQuY29udGVudCkpLnRoZW4oKCkgPT4gdGhhdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhhdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoYXQpO1xuICB9XG5cblxuICBwcml2YXRlIGxvY2F0ZUdyb3VwKHJhbmdlOiBSYW5nZSkge1xuICAgIGlmIChyYW5nZS5pc0FsbCB8fCByYW5nZS5pc05vbmUpIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnNpemU7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlY3QoMCwgMCwgc1swXSwgc1sxXSkpO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRMb2MgPSBvZmZzZXQodGhpcy5jb250ZW50KTtcblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlUG9zKHBvczoge3g6IG51bWJlciwgeTogbnVtYmVyfSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcG9zLnggLSBwYXJlbnRMb2MubGVmdCxcbiAgICAgICAgeTogcG9zLnkgLSBwYXJlbnRMb2MudG9wXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGZpbHRlclRvID0gKCkgPT4ge1xuICAgICAgY29uc3QgaW5FbGVtczoge2c6IEdyaWRFbGVtLCBwb3M6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0sIHI6IFJhbmdlfVtdPSBbXTtcblxuICAgICAgZm9yIChjb25zdCBnIG9mIHRoaXMuZ3JpZCkge1xuICAgICAgICBjb25zdCBtYXRjaGVkID0gZy5zdWJyYW5nZShyYW5nZSk7XG5cbiAgICAgICAgaWYgKCFtYXRjaGVkLmlzTm9uZSkgeyAvL2RpcmVjdCBncm91cCBoaXRcbiAgICAgICAgICBpbkVsZW1zLnB1c2goe1xuICAgICAgICAgICAgZyxcbiAgICAgICAgICAgIHBvczogcmVsYXRpdmVQb3MoZy5sb2NhdGlvbiksXG4gICAgICAgICAgICByOiBtYXRjaGVkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpbkVsZW1zO1xuICAgIH07XG5cbiAgICBjb25zdCBpbkVsZW1zID0gZmlsdGVyVG8oKTtcblxuICAgIGlmIChpbkVsZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGluRWxlbXNbMF0uZy5hY3RWaXMubG9jYXRlKGluRWxlbXNbMF0ucikudGhlbigobG9jOiBBU2hhcGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGxvYyA/IGxvYy5zaGlmdChpbkVsZW1zWzBdLnBvcykgOiBsb2M7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UuYWxsPEFTaGFwZT4oaW5FbGVtcy5tYXAoKGVsZW0pID0+IGVsZW0uZy5hY3RWaXMubG9jYXRlKGVsZW0ucikpKS50aGVuKChsb2NhdGlvbnM6IEFTaGFwZVtdKSA9PiB7XG4gICAgICAvL3NoaWZ0IHRoZSBsb2NhdGlvbnMgYWNjb3JkaW5nIHRvIGdyaWQgcG9zaXRpb25cbiAgICAgIGxvY2F0aW9ucyA9IGxvY2F0aW9ucy5tYXAoKGxvYywgaSkgPT4gbG9jID8gbG9jLnNoaWZ0KGluRWxlbXNbaV0ucG9zKSA6IGxvYykuZmlsdGVyKChsb2MpID0+IGxvYyAhPSBudWxsKTtcbiAgICAgIC8vbWVyZ2UgaW50byBhIHNpbmdsZSBvbmVcbiAgICAgIGNvbnN0IGJhc2UgPSBsb2NhdGlvbnNbMF0uYWFiYigpO1xuICAgICAgbGV0IHggPSBiYXNlLngsIHkgPSBiYXNlLnksIHgyID0gYmFzZS54MiwgeTIgPSBiYXNlLnkyO1xuICAgICAgbG9jYXRpb25zLmZvckVhY2goKGxvYykgPT4ge1xuICAgICAgICBjb25zdCBhYWIgPSBsb2MuYWFiYigpO1xuICAgICAgICB4ID0gTWF0aC5taW4oeCwgYWFiLngpO1xuICAgICAgICB5ID0gTWF0aC5taW4oeSwgYWFiLnkpO1xuICAgICAgICB4MiA9IE1hdGgubWluKHgyLCBhYWIueDIpO1xuICAgICAgICB5MiA9IE1hdGgubWluKHkyLCBhYWIueTIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlY3QoeCwgeSwgeDIgLSB4LCB5MiAtIHkpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvY2F0ZUdyb3VwQnlJZChyYW5nZTogUmFuZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLmlkcygpLnRoZW4oKGlkcykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRlR3JvdXAoaWRzLmluZGV4T2YocmFuZ2UpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvY2F0ZSguLi5yYW5nZTogUmFuZ2VbXSkge1xuICAgIGNvbnN0IHAgPSB0aGlzLmFjdFZpc1Byb21pc2UgfHwgUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIHJldHVybiBwLnRoZW4oKHZpc3NlcykgPT4ge1xuICAgICAgaWYgKCF2aXNzZXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgocmFuZ2UubGVuZ3RoID09PSAxID8gdW5kZWZpbmVkIDogbmV3IEFycmF5KHJhbmdlLmxlbmd0aCkpKTtcbiAgICAgIH1cbiAgICAgIGlmICh2aXNzZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB2aXNzZXNbMF0ubG9jYXRlLmFwcGx5KHZpc3Nlc1swXSwgcmFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9tdWx0aXBsZSBncm91cHNcbiAgICAgICAgaWYgKHJhbmdlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxvY2F0ZUdyb3VwKHJhbmdlWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmFuZ2UubWFwKChhcmcpID0+IHRoaXMubG9jYXRlR3JvdXAoYXJnKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBsb2NhdGVCeUlkKC4uLnJhbmdlOiBSYW5nZVtdKSB7XG4gICAgY29uc3QgcCA9IHRoaXMuYWN0VmlzUHJvbWlzZSB8fCBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgcmV0dXJuIHAudGhlbigodmlzc2VzKSA9PiB7XG4gICAgICBpZiAoIXZpc3Nlcykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKChyYW5nZS5sZW5ndGggPT09IDEgPyB1bmRlZmluZWQgOiBuZXcgQXJyYXkocmFuZ2UubGVuZ3RoKSkpO1xuICAgICAgfVxuICAgICAgaWYgKHZpc3Nlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHZpc3Nlc1swXS5sb2NhdGVCeUlkLmFwcGx5KHZpc3Nlc1swXSwgcmFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9tdWx0aXBsZSBncm91cHNcbiAgICAgICAgaWYgKHJhbmdlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxvY2F0ZUdyb3VwQnlJZChyYW5nZVswXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJhbmdlLm1hcCgoYXJnKSA9PiB0aGlzLmxvY2F0ZUdyb3VwQnlJZChhcmcpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSBjdXJyZW50IHNlbGVjdGVkIHZpcyB0ZWNobmlxdWUgZGVzY3JpcHRpb25cbiAgICogQHJldHVybnMge3BsdWdpbnMuSVBsdWdpbkRlc2N9XG4gICAqL1xuICBnZXQgYWN0KCkge1xuICAgIHJldHVybiB0aGlzLmFjdERlc2M7XG4gIH1cblxuICBnZXQgYWN0TG9hZGVyKCkge1xuICAgIHJldHVybiB0aGlzLmFjdFZpc1Byb21pc2U7XG4gIH1cblxuXG4gIGdyaWRTaXplKHJhdyA9IGZhbHNlKToge2NvbHM6IG51bWJlcltdOyByb3dzOiBudW1iZXJbXTsgZ3JpZDogbnVtYmVyW11bXVtdfSB7XG4gICAgY29uc3Qgc2l6ZXMgPSB0aGlzLmdyaWQubWFwKHJhdyA/IChlbGVtKSA9PiBlbGVtLnJhd1NpemUgOiAoZWxlbSkgPT4gZWxlbS5zaXplKTtcblxuICAgIGlmICh0aGlzLmRpbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvL3ZlcnRpY2FsbHkgZ3JvdXBzIG9ubHlcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHM6IFs8bnVtYmVyPm1heChzaXplcywgKHMpID0+IHNbMF0pXSxcbiAgICAgICAgcm93czogc2l6ZXMubWFwKChzKSA9PiBzWzFdKSxcbiAgICAgICAgZ3JpZDogc2l6ZXMubWFwKChzKSA9PiBbc10pXG4gICAgICB9O1xuICAgIH0gZWxzZSB7IC8vaWYgKHRoaXMuZGltcy5sZW5ndGggPT09IDIpXG4gICAgICBjb25zdCBjb2xzID0gdGhpcy5kaW1zWzFdLmxlbmd0aDtcbiAgICAgIGNvbnN0IGdyaWQgPSB0aGlzLmRpbXNbMF0ubWFwKChyb3csIGkpID0+IHNpemVzLnNsaWNlKGkgKiBjb2xzLCAoaSArIDEpICogY29scykpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sczogdGhpcy5kaW1zWzFdLm1hcCgoZCwgaSkgPT4gPG51bWJlcj5tYXgoZ3JpZCwgKHJvdykgPT4gcm93W2ldWzBdKSksXG4gICAgICAgIHJvd3M6IGdyaWQubWFwKChyb3cpID0+IDxudW1iZXI+bWF4KHJvdywgKHMpID0+IHNbMV0pKSxcbiAgICAgICAgZ3JpZFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBnZXQgc2l6ZSgpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBjb25zdCBncmlkU2l6ZSA9IHRoaXMuZ3JpZFNpemUoKTtcbiAgICByZXR1cm4gW3N1bShncmlkU2l6ZS5jb2xzKSwgc3VtKGdyaWRTaXplLnJvd3MpXTtcbiAgfVxuXG4gIGdldCByYXdTaXplKCk6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIGNvbnN0IGdyaWRTaXplID0gdGhpcy5ncmlkU2l6ZSh0cnVlKTtcbiAgICByZXR1cm4gW3N1bShncmlkU2l6ZS5jb2xzKSwgc3VtKGdyaWRTaXplLnJvd3MpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzd2l0Y2ggdG8gdGhlIGRlc2lyZWQgdmlzIHRlY2huaXF1ZSBnaXZlbiBieSBpbmRleFxuICAgKiBAcGFyYW0gcGFyYW1cbiAgICovXG4gIHN3aXRjaFRvKHBhcmFtOiBzdHJpbmd8bnVtYmVyfElWaXNQbHVnaW5EZXNjKTogUHJvbWlzZTxJVmlzSW5zdGFuY2VbXT4ge1xuICAgIGNvbnN0IHZpczogSVZpc1BsdWdpbkRlc2MgPSBzZWxlY3RWaXMocGFyYW0sIHRoaXMudmlzc2VzKTtcblxuICAgIGlmICh2aXMgPT09IHRoaXMuYWN0RGVzYykge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0VmlzUHJvbWlzZTsgLy9hbHJlYWR5IHNlbGVjdGVkXG4gICAgfVxuXG4gICAgLy9ncmFjZWZ1bGx5IGRlc3Ryb3lcbiAgICB0aGlzLmdyaWQuZm9yRWFjaCgoZWxlbSkgPT4gZWxlbS5zd2l0Y2hEZXN0cm95KCkpO1xuXG4gICAgLy9zd2l0Y2ggYW5kIHRyaWdnZXIgZXZlbnRcbiAgICBjb25zdCBiYWsgPSB0aGlzLmFjdERlc2M7XG4gICAgdGhpcy5hY3REZXNjID0gdmlzO1xuICAgIHRoaXMubWFya1JlYWR5KGZhbHNlKTtcbiAgICB0aGlzLmZpcmUoJ2NoYW5nZScsIHZpcywgYmFrKTtcbiAgICB0aGlzLmFjdFZpc1Byb21pc2UgPSBudWxsO1xuXG4gICAgaWYgKHZpcykge1xuICAgICAgLy9sb2FkIHRoZSBwbHVnaW4gYW5kIGNyZWF0ZSB0aGUgaW5zdGFuY2VcbiAgICAgIHJldHVybiB0aGlzLmFjdFZpc1Byb21pc2UgPSB2aXMubG9hZCgpLnRoZW4oKHBsdWdpbjogYW55KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmFjdERlc2MgIT09IHZpcykgeyAvL2NoYW5nZWQgaW4gdGhlIG1lYW53aGlsZVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBtaXhpbih7fSwgdGhpcy5vcHRpb25zLmFsbCwgdGhpcy5vcHRpb25zW3Zpcy5pZF0gfHwge30pO1xuICAgICAgICBjb25zdCByID0gdGhpcy5ncmlkLm1hcCgoZWxlbSkgPT4gZWxlbS5idWlsZChwbHVnaW4sIG9wdGlvbnMpKTtcbiAgICAgICAgbGV0IGMgPSByLmxlbmd0aDtcbiAgICAgICAgci5mb3JFYWNoKChyaSkgPT4ge1xuICAgICAgICAgIHJpLm9uKCdyZWFkeScsICgpID0+IHtcbiAgICAgICAgICAgIGMtLTtcbiAgICAgICAgICAgIGlmIChjID09PSAwKSB7IC8vYWxsIGJ1aWx0XG4gICAgICAgICAgICAgIHRoaXMubWFya1JlYWR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZpcmUoJ2NoYW5nZWQnLCB2aXMsIGJhayk7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH1cbiAgfVxuXG4gIGFkZEljb25WaXNDaG9vc2VyKHRvb2xiYXI6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIGFkZEljb25WaXNDaG9vc2VyKHRvb2xiYXIsIHRoaXMpO1xuICB9XG5cbiAgYWRkU2VsZWN0VmlzQ2hvb3Nlcih0b29sYmFyOiBIVE1MRWxlbWVudCkge1xuICAgIHJldHVybiBhZGRTZWxlY3RWaXNDaG9vc2VyKHRvb2xiYXIpO1xuICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShkYXRhOiBJRGF0YVR5cGUsIHJhbmdlOiBSYW5nZSwgcGFyZW50OiBIVE1MRWxlbWVudCwgdmlld0ZhY3Rvcnk6IElWaWV3RmFjdG9yeSwgb3B0aW9ucz86IElNdWx0aUZvcm1HcmlkT3B0aW9ucykge1xuICByZXR1cm4gbmV3IE11bHRpRm9ybUdyaWQoZGF0YSwgcmFuZ2UsIHBhcmVudCwgdmlld0ZhY3RvcnksIG9wdGlvbnMpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL211bHRpZm9ybS9NdWx0aUZvcm1HcmlkLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMDguMjAxNC5cbiAqL1xuXG5leHBvcnQge2RlZmF1bHQgYXMgTXVsdGlGb3JtLCBjcmVhdGV9IGZyb20gJy4vTXVsdGlGb3JtJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBNdWx0aUZvcm1HcmlkLCBJTXVsdGlGb3JtR3JpZE9wdGlvbnMsIElWaWV3RmFjdG9yeSwgY3JlYXRlIGFzIGNyZWF0ZUdyaWR9IGZyb20gJy4vTXVsdGlGb3JtR3JpZCc7XG5leHBvcnQge0lNdWx0aUZvcm0sIGFkZEljb25WaXNDaG9vc2VyLCBhZGRTZWxlY3RWaXNDaG9vc2VyLCBJTXVsdGlGb3JtT3B0aW9uc30gZnJvbSAnLi9JTXVsdGlGb3JtJztcblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbXVsdGlmb3JtL2luZGV4LnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAyNi4xMi4yMDE2LlxuICovXG5cbmltcG9ydCB7SVBlcnNpc3RhYmxlLCBvZmZzZXR9IGZyb20gJy4uLy4uL2luZGV4JztcbmltcG9ydCB7SURhdGFUeXBlLCBhc3NpZ25EYXRhfSBmcm9tICcuLi8uLi9kYXRhdHlwZSc7XG5pbXBvcnQge0lWaXNJbnN0YW5jZSwgYXNzaWduVmlzLCBJVHJhbnNmb3JtfSBmcm9tICcuLi8uLi92aXMnO1xuaW1wb3J0IHtSYW5nZX0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IHtjbGVhck5vZGV9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHtJUGx1Z2lufSBmcm9tICcuLi8uLi9wbHVnaW4nO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkRWxlbSBpbXBsZW1lbnRzIElQZXJzaXN0YWJsZSB7XG4gIGFjdFZpczogSVZpc0luc3RhbmNlO1xuICBjb250ZW50OiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcmFuZ2U6IFJhbmdlLCBwdWJsaWMgcmVhZG9ubHkgcG9zOiBudW1iZXJbXSwgcHVibGljIHJlYWRvbmx5IGRhdGE6IElEYXRhVHlwZSkge1xuICB9XG5cbiAgc2V0Q29udGVudChjOiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMuY29udGVudCA9IGM7XG4gICAgYXNzaWduRGF0YSh0aGlzLmNvbnRlbnQsIHRoaXMuZGF0YSk7XG4gIH1cblxuICBzdWJyYW5nZShyOiBSYW5nZSkge1xuICAgIGNvbnN0IHJpID0gdGhpcy5yYW5nZS5pbnRlcnNlY3Qocik7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2UuaW5kZXhPZihyaSk7XG4gIH1cblxuICBnZXQgaGFzT25lKCkge1xuICAgIHJldHVybiB0aGlzLmFjdFZpcyAhPSBudWxsO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5hY3RWaXMgJiYgdHlwZW9mKHRoaXMuYWN0VmlzLmRlc3Ryb3kpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLmFjdFZpcy5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNpemUoKTogbnVtYmVyW10ge1xuICAgIHJldHVybiB0aGlzLmFjdFZpcyA/IHRoaXMuYWN0VmlzLnNpemUgOiBbMTAwLCAxMDBdO1xuICB9XG5cbiAgZ2V0IHJhd1NpemUoKTogbnVtYmVyW10ge1xuICAgIHJldHVybiB0aGlzLmFjdFZpcyA/IHRoaXMuYWN0VmlzLnJhd1NpemUgOiBbMTAwLCAxMDBdO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmFuZ2U6IHRoaXMucmFuZ2UudG9TdHJpbmcoKSxcbiAgICAgIGNvbnRlbnQ6IHRoaXMuYWN0VmlzICYmIHR5cGVvZih0aGlzLmFjdFZpcy5wZXJzaXN0KSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuYWN0VmlzLnBlcnNpc3QoKSA6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSk6IGFueSB7XG4gICAgLy9GSVhNRVxuICAgIC8qaWYgKHBlcnNpc3RlZC5pZCkge1xuICAgICB2YXIgc2VsZWN0ZWQgPSBzZWFyY2godGhpcy52aXNzZXMsIChlKSA9PiBlLmlkID09PSBwZXJzaXN0ZWQuaWQpO1xuICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgdGhpcy5zd2l0Y2hUbyhzZWxlY3RlZCkudGhlbigodmlzKSA9PiB7XG4gICAgIGlmICh2aXMgJiYgcGVyc2lzdGVkLmNvbnRlbnQgJiYgaXNGdW5jdGlvbihyZXN0b3JlKSkge1xuICAgICByZXN0b3JlKHBlcnNpc3RlZC5jb250ZW50KTtcbiAgICAgfVxuICAgICB9KTtcbiAgICAgfVxuICAgICB9Ki9cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN3aXRjaERlc3Ryb3koKSB7XG4gICAgLy9yZW1vdmUgY29udGVudCBkb20gc2lkZVxuICAgIGNsZWFyTm9kZSh0aGlzLmNvbnRlbnQpO1xuICAgIGlmICh0aGlzLmFjdFZpcyAmJiB0eXBlb2YodGhpcy5hY3RWaXMuZGVzdHJveSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuYWN0VmlzLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5hY3RWaXMgPSBudWxsO1xuICB9XG5cbiAgYnVpbGQocGx1Z2luOiBJUGx1Z2luLCBvcHRpb25zOiBhbnkpIHtcbiAgICB0aGlzLmFjdFZpcyA9IHBsdWdpbi5mYWN0b3J5KHRoaXMuZGF0YSwgdGhpcy5jb250ZW50LCBvcHRpb25zKTtcbiAgICBhc3NpZ25WaXModGhpcy5jb250ZW50LCB0aGlzLmFjdFZpcyk7XG4gICAgcmV0dXJuIHRoaXMuYWN0VmlzO1xuICB9XG5cbiAgZ2V0IGxvY2F0aW9uKCkge1xuICAgIGNvbnN0IG8gPSBvZmZzZXQodGhpcy5jb250ZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogby5sZWZ0LFxuICAgICAgeTogby50b3BcbiAgICB9O1xuICB9XG5cblxuICB0cmFuc2Zvcm0oc2NhbGU/OiBbbnVtYmVyLCBudW1iZXJdLCByb3RhdGU/OiBudW1iZXIpOiBJVHJhbnNmb3JtIHtcbiAgICBpZiAodGhpcy5hY3RWaXMpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RWaXMudHJhbnNmb3JtKHNjYWxlLCByb3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0VmlzLnRyYW5zZm9ybSgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2NhbGU6IFsxLCAxXSxcbiAgICAgIHJvdGF0ZTogMFxuICAgIH07XG4gIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL211bHRpZm9ybS9pbnRlcm5hbC9HcmlkRWxlbS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuaW1wb3J0IFByb3ZlbmFuY2VHcmFwaCwge0lQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyLCBJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuL1Byb3ZlbmFuY2VHcmFwaCc7XG5pbXBvcnQgTG9jYWxTdG9yYWdlUHJvdmVuYW5jZUdyYXBoTWFuYWdlciBmcm9tICcuL0xvY2FsU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXInO1xuaW1wb3J0IFJlbW90ZVN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyIGZyb20gJy4vUmVtb3RlU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXInO1xuaW1wb3J0IEdyYXBoQmFzZSBmcm9tICcuLi9ncmFwaC9HcmFwaEJhc2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXhlZFN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyIGltcGxlbWVudHMgSVByb3ZlbmFuY2VHcmFwaE1hbmFnZXIge1xuICBwcml2YXRlIHJlbW90ZTogUmVtb3RlU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXI7XG4gIHByaXZhdGUgbG9jYWw6IExvY2FsU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5yZW1vdGUgPSBuZXcgUmVtb3RlU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXIob3B0aW9ucyk7XG4gICAgdGhpcy5sb2NhbCA9IG5ldyBMb2NhbFN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyKG9wdGlvbnMpO1xuICB9XG5cbiAgbGlzdFJlbW90ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdGUubGlzdCgpO1xuICB9XG5cbiAgbGlzdExvY2FsKCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsLmxpc3QoKTtcbiAgfVxuXG4gIGxpc3RMb2NhbFN5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWwubGlzdFN5bmMoKTtcbiAgfVxuXG4gIGxpc3QoKTogUHJvbWlzZTxJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uW10+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMubGlzdExvY2FsKCksIHRoaXMubGlzdFJlbW90ZSgpXSkudGhlbigoYXJyKSA9PiBhcnJbMF0uY29uY2F0KGFyclsxXSkpO1xuICB9XG5cbiAgZGVsZXRlKGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlTGlrZTxib29sZWFuPiB7XG4gICAgaWYgKGRlc2MubG9jYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsLmRlbGV0ZShkZXNjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3RlLmRlbGV0ZShkZXNjKTtcbiAgICB9XG4gIH1cblxuICBnZXQoZGVzYzogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbik6IFByb21pc2VMaWtlPFByb3ZlbmFuY2VHcmFwaD4ge1xuICAgIGlmICgoPGFueT5kZXNjKS5sb2NhbCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZ2V0KGRlc2MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdGUuZ2V0KGRlc2MpO1xuICAgIH1cbiAgfVxuXG4gIGdldEdyYXBoKGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlTGlrZTxHcmFwaEJhc2U+IHtcbiAgICBpZiAoZGVzYy5sb2NhbCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZ2V0R3JhcGgoZGVzYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW90ZS5nZXRHcmFwaChkZXNjKTtcbiAgICB9XG4gIH1cblxuICBlZGl0KGdyYXBoOiBJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uIHwgUHJvdmVuYW5jZUdyYXBoLCBkZXNjOiBhbnkpOiBQcm9taXNlTGlrZTxJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uPiB7XG4gICAgY29uc3QgYmFzZSA9IGdyYXBoIGluc3RhbmNlb2YgUHJvdmVuYW5jZUdyYXBoID8gZ3JhcGguZGVzYyA6IGdyYXBoO1xuICAgIGlmIChiYXNlLmxvY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5lZGl0KGJhc2UsIGRlc2MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdGUuZWRpdChiYXNlLCBkZXNjKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjbG9uZUxvY2FsKGRlc2M6IElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24sIGV4dHJhczogYW55ID0ge30pOiBQcm9taXNlPFByb3ZlbmFuY2VHcmFwaD4ge1xuICAgIHJldHVybiB0aGlzLmxvY2FsLmNsb25lKGF3YWl0IHRoaXMuZ2V0R3JhcGgoZGVzYyksIGV4dHJhcyk7XG4gIH1cblxuICBhc3luYyBjbG9uZVJlbW90ZShkZXNjOiBJUHJvdmVuYW5jZUdyYXBoRGF0YURlc2NyaXB0aW9uLCBleHRyYXM6IGFueSA9IHt9KTogUHJvbWlzZTxQcm92ZW5hbmNlR3JhcGg+IHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdGUuY2xvbmUoYXdhaXQgdGhpcy5nZXRHcmFwaChkZXNjKSwgZXh0cmFzKTtcbiAgfVxuXG4gIG1pZ3JhdGVSZW1vdGUoZ3JhcGg6IFByb3ZlbmFuY2VHcmFwaCwgZXh0cmFzOiBhbnkgPSB7fSk6IFByb21pc2VMaWtlPFByb3ZlbmFuY2VHcmFwaD4ge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZS5taWdyYXRlKGdyYXBoLCBleHRyYXMpO1xuICB9XG5cbiAgaW1wb3J0TG9jYWwoanNvbjogYW55LCBkZXNjOiBhbnkgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsLmltcG9ydChqc29uLCBkZXNjKTtcbiAgfVxuXG4gIGltcG9ydFJlbW90ZShqc29uOiBhbnksIGRlc2M6IGFueSA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3RlLmltcG9ydChqc29uLCBkZXNjKTtcbiAgfVxuXG4gIGltcG9ydChqc29uOiBhbnksIGRlc2M6IGFueSA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuaW1wb3J0TG9jYWwoanNvbiwgZGVzYyk7XG4gIH1cblxuICBjcmVhdGVMb2NhbChkZXNjOiBhbnkgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsLmNyZWF0ZShkZXNjKTtcbiAgfVxuXG4gIGNyZWF0ZVJlbW90ZShkZXNjOiBhbnkgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZS5jcmVhdGUoZGVzYyk7XG4gIH1cblxuICBjcmVhdGUoZGVzYzogYW55ID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVMb2NhbChkZXNjKTtcbiAgfVxuXG4gIGNyZWF0ZUluTWVtb3J5KCk6IFByb3ZlbmFuY2VHcmFwaCB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWwuY3JlYXRlSW5NZW1vcnkoKTtcbiAgfVxuXG4gIGNsb25lSW5NZW1vcnkoZGVzYzogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbik6IFByb21pc2VMaWtlPFByb3ZlbmFuY2VHcmFwaD4ge1xuICAgIHJldHVybiB0aGlzLmdldEdyYXBoKGRlc2MpLnRoZW4oKGdyYXBoKSA9PiB0aGlzLmxvY2FsLmNsb25lSW5NZW1vcnkoZ3JhcGgpKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Byb3ZlbmFuY2UvTWl4ZWRTdG9yYWdlUHJvdmVuYW5jZUdyYXBoTWFuYWdlci50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBzYW0gb24gMTIuMDIuMjAxNS5cbiAqL1xuaW1wb3J0ICogYXMgZ3JhcGggZnJvbSAnLi4vZ3JhcGgnO1xuaW1wb3J0IHtwcm92ZW5hbmNlR3JhcGhGYWN0b3J5LCBkZWZhdWx0IGFzIFByb3ZlbmFuY2VHcmFwaCwgSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi9Qcm92ZW5hbmNlR3JhcGgnO1xuaW1wb3J0IFN0YXRlTm9kZSBmcm9tICcuL1N0YXRlTm9kZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgQWN0aW9uTm9kZSwgYWN0aW9uLCBBY3Rpb25NZXRhRGF0YSwgSUFjdGlvbiwgbWV0YX0gZnJvbSAnLi9BY3Rpb25Ob2RlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBPYmplY3ROb2RlLCBjYXQsIElPYmplY3RSZWYsIG9wLCByZWZ9IGZyb20gJy4vT2JqZWN0Tm9kZSc7XG5leHBvcnQge1xuICBkZWZhdWx0IGFzIFNsaWRlTm9kZSxcbiAgREVGQVVMVF9EVVJBVElPTixcbiAgREVGQVVMVF9UUkFOU0lUSU9OLFxuICBJQXJyb3dTdGF0ZUFubm90YXRpb24sXG4gIElGcmFtZVN0YXRlQW5ub3RhdGlvbixcbiAgSVN0YXRlQW5ub3RhdGlvbixcbiAgSVRleHRTdGF0ZUFubm90YXRpb25cbn0gZnJvbSAnLi9TbGlkZU5vZGUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFN0YXRlTm9kZX0gZnJvbSAnLi9TdGF0ZU5vZGUnO1xuZXhwb3J0IHtcbiAgZGVmYXVsdCBhcyBQcm92ZW5hbmNlR3JhcGgsXG4gIElQcm92ZW5hbmNlR3JhcGhEYXRhRGVzY3JpcHRpb24sXG4gIGNvbXByZXNzLFxuICBJQWN0aW9uQ29tcHJlc3NvcixcbiAgSUNtZEZ1bmN0aW9uLFxuICBJQ21kRnVuY3Rpb25GYWN0b3J5LFxuICBJQ21kUmVzdWx0LFxuICBJSW52ZXJzZUFjdGlvbkNyZWF0b3IsXG4gIElQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyLFxuICBQcm92ZW5hbmNlR3JhcGhEaW0sXG4gIHByb3ZlbmFuY2VHcmFwaEZhY3RvcnksXG4gIHRvU2xpZGVQYXRoXG59IGZyb20gJy4vUHJvdmVuYW5jZUdyYXBoJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBMb2NhbFN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyfSBmcm9tICcuL0xvY2FsU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXInO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFJlbW90ZVN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyfSBmcm9tICcuL1JlbW90ZVN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBNaXhlZFN0b3JhZ2VQcm92ZW5hbmNlR3JhcGhNYW5hZ2VyfSBmcm9tICcuL01peGVkU3RvcmFnZVByb3ZlbmFuY2VHcmFwaE1hbmFnZXInO1xuZXhwb3J0IHtHcmFwaEVkZ2V9IGZyb20gJy4uL2dyYXBoL2dyYXBoJztcblxuZXhwb3J0IGNvbnN0IGdyYXBoTW9kdWxlID0gZ3JhcGg7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTGF0ZXN0UGF0aChzdGF0ZTogU3RhdGVOb2RlKSB7XG4gIGNvbnN0IHBhdGggPSBzdGF0ZS5wYXRoLnNsaWNlKCk7XG4gIC8vY29tcHV0ZSB0aGUgZmlyc3QgcGF0aCB0byB0aGUgZW5kXG4gIHdoaWxlICgoc3RhdGUgPSBzdGF0ZS5uZXh0U3RhdGUpICE9IG51bGwgJiYgKHBhdGguaW5kZXhPZihzdGF0ZSkgPCAwKSkge1xuICAgIHBhdGgucHVzaChzdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEdW1teSgpIHtcbiAgY29uc3QgZGVzYzogSVByb3ZlbmFuY2VHcmFwaERhdGFEZXNjcmlwdGlvbiA9IHtcbiAgICB0eXBlOiAncHJvdmVuYW5jZV9ncmFwaCcsXG4gICAgaWQ6ICdkdW1teScsXG4gICAgbmFtZTogJ2R1bW15JyxcbiAgICBmcW5hbWU6ICdkdW1teScsXG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGNyZWF0b3I6ICdBbm9ueW1vdXMnLFxuICAgIHRzOiBEYXRlLm5vdygpLFxuICAgIHNpemU6IFswLCAwXSxcbiAgICBhdHRyczoge1xuICAgICAgZ3JhcGh0eXBlOiAncHJvdmVuYW5jZV9ncmFwaCcsXG4gICAgICBvZjogJ2R1bW15J1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG5ldyBQcm92ZW5hbmNlR3JhcGgoZGVzYywgbmV3IGdyYXBoLk1lbW9yeUdyYXBoKGRlc2MsIFtdLCBbXSwgcHJvdmVuYW5jZUdyYXBoRmFjdG9yeSgpKSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcHJvdmVuYW5jZS9pbmRleC50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDI3LjEyLjIwMTYuXG4gKi9cblxuaW1wb3J0IHtJUmFuZ2VFbGVtLCBmaXh9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHtzaW5nbGUsIElJdGVyYXRvcn0gZnJvbSAnLi4vLi4vaXRlcmF0b3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW5nbGVSYW5nZUVsZW0gaW1wbGVtZW50cyBJUmFuZ2VFbGVtIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZyb206IG51bWJlcikge1xuICB9XG5cbiAgZ2V0IHN0ZXAoKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBnZXQgdG8oKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbSArIDE7XG4gIH1cblxuICBnZXQgaXNBbGwoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0IGlzU2luZ2xlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0IGlzVW5ib3VuZCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzaXplKHNpemU/OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVSYW5nZUVsZW0odGhpcy5mcm9tKTtcbiAgfVxuXG4gIGNvbnRhaW5zKHZhbHVlOiBudW1iZXIsIHNpemU/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gZml4KHRoaXMuZnJvbSwgc2l6ZSkgPT09IHZhbHVlO1xuICB9XG5cbiAgcmV2ZXJzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICB9XG5cbiAgaW52ZXJ0KGluZGV4OiBudW1iZXIsIHNpemU/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gZml4KHRoaXMuZnJvbSwgc2l6ZSkgKyBpbmRleDtcbiAgfVxuXG4gIGl0ZXIoc2l6ZT86IG51bWJlcik6IElJdGVyYXRvcjxudW1iZXI+IHtcbiAgICByZXR1cm4gc2luZ2xlKGZpeCh0aGlzLmZyb20sIHNpemUpKTtcbiAgfVxuXG4gIGdldCBfX2l0ZXJhdG9yX18oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlcigpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbS50b1N0cmluZygpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmFuZ2UvaW50ZXJuYWwvU2luZ2xlUmFuZ2VFbGVtLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi9SYW5nZSc7XG5pbXBvcnQgUmFuZ2UxRCBmcm9tICcuL1JhbmdlMUQnO1xuaW1wb3J0IFJhbmdlMURHcm91cCBmcm9tICcuL1JhbmdlMURHcm91cCc7XG5pbXBvcnQgUmFuZ2VFbGVtIGZyb20gJy4vaW50ZXJuYWwvUmFuZ2VFbGVtJztcbmltcG9ydCBDb21wb3NpdGVSYW5nZTFEIGZyb20gJy4vQ29tcG9zaXRlUmFuZ2UxRCc7XG5cbi8vUmFuZ2UgRUJORiBncmFtbWFyXG4vL1IgICA9IERpbSB7ICcsJyBEaW0gfVxuLy9EaW0gPSAnJyB8IFNSIHwgJygnIFNSIHsgJywnIFNSICcgfSAnKSdcbi8vU1IgID0gTiBbICc6JyBOIFsgJzonIE4gXSBdXG4vL04gICA9ICcwJy4uLic5J1xuLy9TdHIgPSAgJ1wiJyBsaXRlcmFsICdcIidcbi8vTmFtZT0gU3RyXG4vL0NvbCA9IFN0clxuLy9HRGltPSBOYW1lIENvbCBEaW1cbi8vQ0RpbT0gTmFtZSAneycgR0RpbSB7ICcsJyBHRGltIH0gJ30nXG5cbmludGVyZmFjZSBJUGFyc2VEaW1SZXN1bHQge1xuICBhY3Q6IG51bWJlcjtcbiAgZGltOiBSYW5nZTFEO1xufVxuXG4vKipcbiAqIHBhcnNlIHRoZSBnaXZlIGNvZGUgY3JlYXRlZCB0b1N0cmluZ1xuICogQHBhcmFtIGNvZGVcbiAqIEByZXR1cm5zIHtSYW5nZX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VSYW5nZShjb2RlOiBzdHJpbmcpIHtcbiAgY29uc3QgZGltczogUmFuZ2UxRFtdID0gW107XG4gIGxldCBhY3QgPSAwLCBjOiBzdHJpbmcsIHQ6IElQYXJzZURpbVJlc3VsdDtcbiAgY29kZSA9IGNvZGUudHJpbSgpO1xuICB3aGlsZSAoYWN0IDwgY29kZS5sZW5ndGgpIHtcbiAgICBjID0gY29kZS5jaGFyQXQoYWN0KTtcbiAgICBzd2l0Y2ggKGMpIHtcbiAgICAgIGNhc2UgJ1wiJyA6XG4gICAgICAgIHQgPSBwYXJzZU5hbWVkUmFuZ2UxRChjb2RlLCBhY3QpO1xuICAgICAgICBhY3QgPSB0LmFjdCArIDE7IC8vc2tpcCAsXG4gICAgICAgIGRpbXMucHVzaCh0LmRpbSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnLCcgOlxuICAgICAgICBhY3QrKztcbiAgICAgICAgZGltcy5wdXNoKFJhbmdlMUQuYWxsKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChjLm1hdGNoKC9cXHMvKSkge1xuICAgICAgICAgIGFjdCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQgPSBwYXJzZVJhbmdlMUQoY29kZSwgYWN0KTtcbiAgICAgICAgICBhY3QgPSB0LmFjdCArIDE7IC8vc2tpcCAsXG4gICAgICAgICAgZGltcy5wdXNoKHQuZGltKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKGNvZGUuY2hhckF0KGNvZGUubGVuZ3RoIC0gMSkgPT09ICcsJykgeyAvL2xhc3QgaXMgYW4gZW1wdHkgb25lXG4gICAgZGltcy5wdXNoKFJhbmdlMUQuYWxsKCkpO1xuICB9XG4gIHJldHVybiBuZXcgUmFuZ2UoZGltcyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTmFtZWRSYW5nZTFEKGNvZGU6IHN0cmluZywgYWN0OiBudW1iZXIpOiBJUGFyc2VEaW1SZXN1bHQge1xuICBhY3QgKz0gMTsgLy9za2lwIFwiXG4gIGxldCBlbmQgPSBjb2RlLmluZGV4T2YoJ1wiJywgYWN0KTtcbiAgY29uc3QgbmFtZSA9IGNvZGUuc2xpY2UoYWN0LCBlbmQpO1xuICBsZXQgcjogSVBhcnNlRGltUmVzdWx0O1xuICBhY3QgPSBlbmQgKyAxO1xuICBzd2l0Y2ggKGNvZGUuY2hhckF0KGFjdCkpIHtcbiAgICBjYXNlICdcIic6XG4gICAgICBlbmQgPSBjb2RlLmluZGV4T2YoJ1wiJywgYWN0ICsgMSk7XG4gICAgICByID0gcGFyc2VSYW5nZTFEKGNvZGUsIGVuZCArIDEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGltOiBuZXcgUmFuZ2UxREdyb3VwKG5hbWUsIGNvZGUuc2xpY2UoYWN0ICsgMSwgZW5kKSwgci5kaW0pLFxuICAgICAgICBhY3Q6IHIuYWN0XG4gICAgICB9O1xuICAgIGNhc2UgJ3snOlxuICAgICAgY29uc3QgZ3JvdXBzOiBSYW5nZTFER3JvdXBbXSA9IFtdO1xuICAgICAgd2hpbGUgKGNvZGUuY2hhckF0KGFjdCkgIT09ICd9Jykge1xuICAgICAgICByID0gcGFyc2VOYW1lZFJhbmdlMUQoY29kZSwgYWN0ICsgMSk7XG4gICAgICAgIGdyb3Vwcy5wdXNoKDxSYW5nZTFER3JvdXA+ci5kaW0pO1xuICAgICAgICBhY3QgPSByLmFjdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpbTogbmV3IENvbXBvc2l0ZVJhbmdlMUQobmFtZSwgZ3JvdXBzKSxcbiAgICAgICAgYWN0OiByLmFjdCArIDFcbiAgICAgIH07XG4gICAgZGVmYXVsdDogLy9FUlJPUlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGltOiBSYW5nZTFELmFsbCgpLFxuICAgICAgICBhY3RcbiAgICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VSYW5nZTFEKGNvZGU6IHN0cmluZywgYWN0OiBudW1iZXIpOiBJUGFyc2VEaW1SZXN1bHQge1xuICBsZXQgbmV4dDogbnVtYmVyLCByOiBSYW5nZTFEO1xuICBzd2l0Y2ggKGNvZGUuY2hhckF0KGFjdCkpIHtcbiAgICBjYXNlICcsJzpcbiAgICBjYXNlICd9JzpcbiAgICAgIG5leHQgPSBhY3Q7XG4gICAgICByID0gUmFuZ2UxRC5hbGwoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJygnOlxuICAgICAgciA9IG5ldyBSYW5nZTFEKCk7XG4gICAgICBuZXh0ID0gY29kZS5pbmRleE9mKCcpJywgYWN0KTtcbiAgICAgIGlmIChuZXh0ID4gYWN0ICsgMSkgeyAvL25vdCAoKVxuICAgICAgICByLnB1c2guYXBwbHkociwgY29kZS5zbGljZShhY3QgKyAxLCBuZXh0KS5zcGxpdCgnLCcpLm1hcChSYW5nZUVsZW0ucGFyc2UpKTtcbiAgICAgIH1cbiAgICAgIG5leHQgKz0gMTsgLy9za2lwIClcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBuZXh0ID0gY29kZS5pbmRleE9mKCd9JywgYWN0KTtcbiAgICAgIGNvbnN0IG4yID0gY29kZS5pbmRleE9mKCcsJywgYWN0KTtcbiAgICAgIGlmIChuZXh0ID49IDAgJiYgbjIgPj0gMCkge1xuICAgICAgICBuZXh0ID0gTWF0aC5taW4obmV4dCwgbjIpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0IDwgMCkge1xuICAgICAgICBuZXh0ID0gbjI7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0IDwgMCkge1xuICAgICAgICBuZXh0ID0gY29kZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICByID0gbmV3IFJhbmdlMUQoW1JhbmdlRWxlbS5wYXJzZShjb2RlLnNsaWNlKGFjdCwgbmV4dCkpXSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4ge1xuICAgIGFjdDogbmV4dCxcbiAgICBkaW06IHJcbiAgfTtcbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmFuZ2UvcGFyc2VyLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge2FyZ0ZpbHRlciwgYXJnU29ydH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtwYXJzZSwgUmFuZ2VMaWtlLCBsaXN0IGFzIHJsaXN0LCBDb21wb3NpdGVSYW5nZTFELCBhbGx9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7SUNhdGVnb3JpY2FsVmFsdWVUeXBlRGVzYywgVkFMVUVfVFlQRV9DQVRFR09SSUNBTH0gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJQ2F0ZWdvcmljYWxWZWN0b3IsIElWZWN0b3JEYXRhRGVzY3JpcHRpb259IGZyb20gJy4uL3ZlY3Rvcic7XG5pbXBvcnQgQVZlY3RvciBmcm9tICcuLi92ZWN0b3IvQVZlY3Rvcic7XG5pbXBvcnQgU3RyYXRpZmljYXRpb24gZnJvbSAnLi9TdHJhdGlmaWNhdGlvbic7XG5cblxuLyoqXG4gKiByb290IG1hdHJpeCBpbXBsZW1lbnRhdGlvbiBob2xkaW5nIHRoZSBkYXRhXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyYXRpZmljYXRpb25WZWN0b3IgZXh0ZW5kcyBBVmVjdG9yPHN0cmluZywgSUNhdGVnb3JpY2FsVmFsdWVUeXBlRGVzYz4gaW1wbGVtZW50cyBJQ2F0ZWdvcmljYWxWZWN0b3Ige1xuICByZWFkb25seSB2YWx1ZXR5cGU6IElDYXRlZ29yaWNhbFZhbHVlVHlwZURlc2M7XG4gIHJlYWRvbmx5IGRlc2M6IElWZWN0b3JEYXRhRGVzY3JpcHRpb248SUNhdGVnb3JpY2FsVmFsdWVUeXBlRGVzYz47XG5cbiAgcHJpdmF0ZSBfY2FjaGU6IHN0cmluZ1tdID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0cmF0OiBTdHJhdGlmaWNhdGlvbiwgcHJpdmF0ZSByYW5nZTogQ29tcG9zaXRlUmFuZ2UxRCkge1xuICAgIHN1cGVyKG51bGwpO1xuICAgIHRoaXMucm9vdCA9IHRoaXM7XG4gICAgdGhpcy52YWx1ZXR5cGUgPSB7XG4gICAgICB0eXBlOiA8YW55PlZBTFVFX1RZUEVfQ0FURUdPUklDQUwsXG4gICAgICBjYXRlZ29yaWVzOiByYW5nZS5ncm91cHMubWFwKChnKSA9PiAoe25hbWU6IGcubmFtZSwgbGFiZWw6IGcubmFtZSwgY29sb3I6IGcuY29sb3J9KSlcbiAgICB9O1xuICAgIGNvbnN0IGQgPSBzdHJhdC5kZXNjO1xuICAgIHRoaXMuZGVzYyA9IHtcbiAgICAgIG5hbWU6IGQubmFtZSxcbiAgICAgIGZxbmFtZTogZC5mcW5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogZC5kZXNjcmlwdGlvbixcbiAgICAgIGlkOiBkLmlkICsgJy12JyxcbiAgICAgIHR5cGU6ICd2ZWN0b3InLFxuICAgICAgc2l6ZTogZC5zaXplLFxuICAgICAgaWR0eXBlOiBkLmlkdHlwZSxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbHVldHlwZSxcbiAgICAgIGNyZWF0b3I6IGQuY3JlYXRvcixcbiAgICAgIHRzOiBkLnRzXG4gICAgfTtcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyYXQuaWR0eXBlO1xuICB9XG5cbiAgZ2V0IGlkdHlwZXMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmlkdHlwZV07XG4gIH1cblxuICBwZXJzaXN0KCkge1xuICAgIHJldHVybiB7XG4gICAgICByb290OiB0aGlzLnN0cmF0LnBlcnNpc3QoKVxuICAgIH07XG4gIH1cblxuICByZXN0b3JlKHBlcnNpc3RlZDogYW55KSB7XG4gICAgbGV0IHI6IElDYXRlZ29yaWNhbFZlY3RvciA9IHRoaXM7XG4gICAgaWYgKHBlcnNpc3RlZCAmJiBwZXJzaXN0ZWQucmFuZ2UpIHsgLy9zb21lIHZpZXcgb250byBpdFxuICAgICAgciA9IHIudmlldyhwYXJzZShwZXJzaXN0ZWQucmFuZ2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBwcml2YXRlIGxvYWQoKTogc3RyaW5nW10ge1xuICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgIGNvbnN0IHI6IHN0cmluZ1tdID0gW107XG4gICAgICB0aGlzLnJhbmdlLmdyb3Vwcy5mb3JFYWNoKChnKSA9PiB7XG4gICAgICAgIGcuZm9yRWFjaCgoKSA9PiByLnB1c2goZy5uYW1lKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2NhY2hlID0gcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlO1xuICB9XG5cbiAgLyoqXG4gICAqIGFjY2VzcyBhdCBhIHNwZWNpZmljIHBvc2l0aW9uXG4gICAqIEBwYXJhbSBpXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgYXQoaTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmxvYWQoKVtpXSk7XG4gIH1cblxuICBkYXRhKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmxvYWQoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhcnNlKHJhbmdlKS5maWx0ZXIoZGF0YSwgdGhpcy5kaW0pKTtcbiAgfVxuXG4gIG5hbWVzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLnN0cmF0Lm5hbWVzKHJhbmdlKTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJhdC5pZHMocmFuZ2UpO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJhdC5zaXplKCk7XG4gIH1cblxuICBhc3luYyBzb3J0KGNvbXBhcmVGbj86IChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4gbnVtYmVyLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxJQ2F0ZWdvcmljYWxWZWN0b3I+IHtcbiAgICBjb25zdCBkID0gYXdhaXQgdGhpcy5kYXRhKCk7XG4gICAgY29uc3QgaW5kaWNlcyA9IGFyZ1NvcnQoZCwgY29tcGFyZUZuLCB0aGlzQXJnKTtcbiAgICByZXR1cm4gdGhpcy52aWV3KHJsaXN0KGluZGljZXMpKTtcbiAgfVxuXG4gIGFzeW5jICBmaWx0ZXIoY2FsbGJhY2tmbjogKHZhbHVlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElDYXRlZ29yaWNhbFZlY3Rvcj4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICBjb25zdCBpbmRpY2VzID0gYXJnRmlsdGVyKGQsIGNhbGxiYWNrZm4sIHRoaXNBcmcpO1xuICAgIHJldHVybiB0aGlzLnZpZXcocmxpc3QoaW5kaWNlcykpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RyYXRpZmljYXRpb24vU3RyYXRpZmljYXRpb25WZWN0b3IudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgc2FtIG9uIDI2LjEyLjIwMTYuXG4gKi9cblxuXG5leHBvcnQge0lTdHJhdGlmaWNhdGlvbiwgZ3Vlc3NDb2xvciwgSUdyb3VwLCBJU3RyYXRpZmljYXRpb25EYXRhRGVzY3JpcHRpb259IGZyb20gJy4vSVN0cmF0aWZpY2F0aW9uJztcbmV4cG9ydCB7YXNTdHJhdGlmaWNhdGlvbiwgSUFzU3RyYXRpZmNhdGlvbk9wdGlvbnN9IGZyb20gJy4vU3RyYXRpZmljYXRpb24nO1xuZXhwb3J0IHthc05hbWVWZWN0b3J9IGZyb20gJy4vaW50ZXJuYWwvU3RyYXRpZmljYXRpb25OYW1lVmVjdG9yJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdHJhdGlmaWNhdGlvbi9pbmRleC50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDE2LjAzLjIwMTcuXG4gKi9cbmltcG9ydCB7SVN0cmF0aWZpY2F0aW9ufSBmcm9tICcuLi8nO1xuaW1wb3J0IHtSYW5nZUxpa2UsIGFsbH0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IEFOYW1lVmVjdG9yLCB7SVN0cmluZ1ZlY3Rvcn0gZnJvbSAnLi4vLi4vdmVjdG9yL2ludGVybmFsL0FOYW1lVmVjdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyYXRpZmljYXRpb25OYW1lVmVjdG9yIGV4dGVuZHMgQU5hbWVWZWN0b3I8SVN0cmF0aWZpY2F0aW9uPiBpbXBsZW1lbnRzIElTdHJpbmdWZWN0b3Ige1xuXG4gIGNvbnN0cnVjdG9yKHN0cmF0OiBJU3RyYXRpZmljYXRpb24pIHtcbiAgICBzdXBlcihzdHJhdCk7XG4gICAgdGhpcy5yb290ID0gdGhpcztcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZS5pZHR5cGU7XG4gIH1cblxuICBuYW1lcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLm5hbWVzKHJhbmdlKTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLmlkcyhyYW5nZSk7XG4gIH1cblxuICBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2UubGVuZ3RoO1xuICB9XG59XG5cblxuLyoqXG4gKiBjb252ZXJ0cyB0aGUgcm93cyBvZiB0aGUgZ2l2ZW4gc3RyYXRpZmljYXRpb24gYXMgYSBzdHJpbmcgdmVjdG9yXG4gKiBAcGFyYW0gc3RyYXRpZmljYXRpb25cbiAqIEByZXR1cm4ge0lTdHJpbmdWZWN0b3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc05hbWVWZWN0b3Ioc3RyYXRpZmljYXRpb246IElTdHJhdGlmaWNhdGlvbik6IElTdHJpbmdWZWN0b3Ige1xuICByZXR1cm4gbmV3IFN0cmF0aWZpY2F0aW9uTmFtZVZlY3RvcihzdHJhdGlmaWNhdGlvbik7XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdHJhdGlmaWNhdGlvbi9pbnRlcm5hbC9TdHJhdGlmaWNhdGlvbk5hbWVWZWN0b3IudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7Z2V0QVBJSlNPTn0gZnJvbSAnLi4vYWpheCc7XG5pbXBvcnQge3BhcnNlLCBSYW5nZTFER3JvdXAsIGNvbXBvc2l0ZSwgUmFuZ2UsIGxpc3QgYXMgcmxpc3QsIENvbXBvc2l0ZVJhbmdlMUR9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7SVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuL0lTdHJhdGlmaWNhdGlvbic7XG5pbXBvcnQge3Jlc29sdmV9IGZyb20gJy4uL2lkdHlwZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvYWRlZFN0cmF0aWZpY2F0aW9uIHtcbiAgcmVhZG9ubHkgcm93SWRzOiBSYW5nZTtcbiAgcmVhZG9ubHkgcm93czogc3RyaW5nW107XG4gIHJlYWRvbmx5IHJhbmdlOiBDb21wb3NpdGVSYW5nZTFEO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdHJhdGlmaWNhdGlvbkxvYWRlciB7XG4gIChkZXNjOiBJU3RyYXRpZmljYXRpb25EYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlPElMb2FkZWRTdHJhdGlmaWNhdGlvbj47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJhbmdlRnJvbUdyb3VwcyhuYW1lOiBzdHJpbmcsIGdyb3VwczogYW55W10pIHtcbiAgcmV0dXJuIGNvbXBvc2l0ZShuYW1lLCBncm91cHMubWFwKChnKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZTFER3JvdXAoZy5uYW1lLCBnLmNvbG9yIHx8ICdncmF5JywgcGFyc2UoZy5yYW5nZSkuZGltKDApKTtcbiAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlhQVBJTG9hZGVyKCk6IElTdHJhdGlmaWNhdGlvbkxvYWRlciB7XG4gIGxldCBfZGF0YTogUHJvbWlzZTxJTG9hZGVkU3RyYXRpZmljYXRpb24+ID0gdW5kZWZpbmVkO1xuICByZXR1cm4gKGRlc2MpID0+IHtcbiAgICBpZiAoIV9kYXRhKSB7IC8vaW4gdGhlIGNhY2hlXG4gICAgICBfZGF0YSA9IGdldEFQSUpTT04oJy9kYXRhc2V0LycgKyBkZXNjLmlkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkVHlwZSA9IHJlc29sdmUoZGVzYy5pZHR5cGUpO1xuICAgICAgICBjb25zdCByb3dJZHMgPSBwYXJzZShkYXRhLnJvd0lkcyk7XG4gICAgICAgIGlkVHlwZS5maWxsTWFwQ2FjaGUocm93SWRzLmRpbSgwKS5hc0xpc3QoZGF0YS5yb3dzLmxlbmd0aCksIGRhdGEucm93cyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcm93SWRzLFxuICAgICAgICAgIHJvd3M6IGRhdGEucm93cyxcbiAgICAgICAgICByYW5nZTogY3JlYXRlUmFuZ2VGcm9tR3JvdXBzKGRlc2MubmFtZSwgZGF0YS5ncm91cHMpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIF9kYXRhO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlhRGF0YUxvYWRlcihyb3dzOiBzdHJpbmdbXSwgcm93SWRzOiBudW1iZXJbXSwgcmFuZ2U6IENvbXBvc2l0ZVJhbmdlMUQpOiBJU3RyYXRpZmljYXRpb25Mb2FkZXIge1xuICBsZXQgX2RhdGE6IFByb21pc2U8SUxvYWRlZFN0cmF0aWZpY2F0aW9uPiA9IHVuZGVmaW5lZDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoIV9kYXRhKSB7IC8vaW4gdGhlIGNhY2hlXG4gICAgICBfZGF0YSA9IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHJvd0lkczogcmxpc3Qocm93SWRzKSxcbiAgICAgICAgcm93cyxcbiAgICAgICAgcmFuZ2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gX2RhdGE7XG4gIH07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RyYXRpZmljYXRpb24vbG9hZGVyLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDEuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge21peGlufSBmcm9tICcuLi8nO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4vU3RvcmUnO1xuaW1wb3J0IHtsaXN0IGFzIGxpc3RJRFR5cGVzLCBkZWZhdWx0U2VsZWN0aW9uVHlwZX0gZnJvbSAnLi4vaWR0eXBlJztcbmltcG9ydCBJRFR5cGUgZnJvbSAnLi4vaWR0eXBlL0lEVHlwZSc7XG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vcmFuZ2UvUmFuZ2UnO1xuaW1wb3J0IHtvbiBhcyBnbG9iYWxPbn0gZnJvbSAnLi4vZXZlbnQnO1xuXG5jb25zdCBQUkVGSVggPSAnc2VsZWN0aW9uLWlkdHlwZS0nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTZWxlY3Rpb25TeW5jZXJPcHRpb25zIHtcbiAgZmlsdGVyPyhpZFR5cGU6IElEVHlwZSk6IGJvb2xlYW47XG4gIHNlbGVjdGlvblR5cGVzPzogc3RyaW5nW107XG59XG5cbmZ1bmN0aW9uIHN5bmNJRFR5cGUoc3RvcmU6IFN0b3JlLCBpZFR5cGU6IElEVHlwZSwgb3B0aW9uczogSVNlbGVjdGlvblN5bmNlck9wdGlvbnMpIHtcbiAgb3B0aW9ucy5zZWxlY3Rpb25UeXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gYCR7UFJFRklYfSR7aWRUeXBlLmlkfS0ke3R5cGV9YDtcbiAgICBsZXQgZGlzYWJsZSA9IGZhbHNlO1xuICAgIGlkVHlwZS5vbignc2VsZWN0LScgKyB0eXBlLCAoZXZlbnQsIHR5cGU6IHN0cmluZywgc2VsZWN0aW9uOiBSYW5nZSkgPT4ge1xuICAgICAgaWYgKGRpc2FibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gc3luYyBqdXN0IHRoZSBsYXRlc3Qgc3RhdGVcbiAgICAgIHN0b3JlLnNldFZhbHVlKGtleSwgc2VsZWN0aW9uLnRvU3RyaW5nKCkpO1xuICAgIH0pO1xuICAgIHN0b3JlLm9uKGtleSwgKGV2ZW50OiBhbnksIG5ld1ZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIGRpc2FibGUgPSB0cnVlOyAvL2Rvbid0IHRyYWNrIG9uIGNoYW5nZXNcbiAgICAgIGlkVHlwZS5zZWxlY3QodHlwZSwgbmV3VmFsdWUpO1xuICAgICAgZGlzYWJsZSA9IGZhbHNlO1xuICAgIH0pO1xuICB9KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHN0b3JlOiBTdG9yZSwgb3B0aW9ucz86IElTZWxlY3Rpb25TeW5jZXJPcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBtaXhpbih7XG4gICAgZmlsdGVyOiAoKSA9PiB0cnVlLFxuICAgIHNlbGVjdGlvblR5cGVzOiBbZGVmYXVsdFNlbGVjdGlvblR5cGVdIC8vIGJ5IGRlZmF1bHQganVzdCBzZWxlY3Rpb25zXG4gIH0sIG9wdGlvbnMpO1xuXG4gIC8vIHN0b3JlIGV4aXN0aW5nXG4gIGNvbnN0IHRvU3luYyA9IGxpc3RJRFR5cGVzKCkuZmlsdGVyKChpZFR5cGUpID0+IChpZFR5cGUgaW5zdGFuY2VvZiBJRFR5cGUgJiYgb3B0aW9ucy5maWx0ZXIoPElEVHlwZT5pZFR5cGUpKSk7XG4gIHRvU3luYy5mb3JFYWNoKChpZFR5cGUpID0+IHN5bmNJRFR5cGUoc3RvcmUsIDxJRFR5cGU+aWRUeXBlLCBvcHRpb25zKSk7XG5cbiAgLy8gd2F0Y2ggbmV3IG9uZXNcbiAgZ2xvYmFsT24oJ3JlZ2lzdGVyLmlkdHlwZScsIChldmVudDogYW55LCBpZFR5cGU6IElEVHlwZSkgPT4ge1xuICAgIGlmIChvcHRpb25zLmZpbHRlcihpZFR5cGUpKSB7XG4gICAgICBzeW5jSURUeXBlKHN0b3JlLCBpZFR5cGUsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBudWxsO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmMvU2VsZWN0aW9uU3luY2VyLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDEuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge0V2ZW50SGFuZGxlcn0gZnJvbSAnLi4vZXZlbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDaGFuZ2VkSGFuZGxlciB7XG4gIChuZXdWYWx1ZTogYW55LCBvbGRWYWx1ZTogYW55LCB1cmw6IHN0cmluZyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHY6IHN0cmluZykge1xuICByZXR1cm4gdiA9PT0gbnVsbCA/IG51bGw6IEpTT04ucGFyc2Uodik7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeSh2OiBhbnkpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yZSBleHRlbmRzIEV2ZW50SGFuZGxlciB7XG4gIHN0YXRpYyBFVkVOVF9DSEFOR0VEID0gJ19jaGFuZ2UnO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RvcmFnZTogU3RvcmFnZSwgcHJpdmF0ZSBwcmVmaXg6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIChldmVudDogU3RvcmFnZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuc3RvcmFnZUFyZWEgPT09IHN0b3JhZ2UgJiYgZXZlbnQua2V5LnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICBjb25zdCBrZXkgPSBldmVudC5rZXkuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpO1xuICAgICAgICAvLyBzZW5kIHNwZWNpZmljIGFuZCBnZW5lcmljIGV2ZW50XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlPSBwYXJzZShldmVudC5uZXdWYWx1ZSk7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gcGFyc2UoZXZlbnQub2xkVmFsdWUpO1xuICAgICAgICB0aGlzLmZpcmUoa2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIGV2ZW50LnVybCk7XG4gICAgICAgIHRoaXMuZmlyZShTdG9yZS5FVkVOVF9DSEFOR0VELCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgZXZlbnQudXJsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdG9GdWxsS2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucHJlZml4ICsga2V5O1xuICB9XG5cbiAgc2V0VmFsdWUoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICBrZXkgPSB0aGlzLnRvRnVsbEtleShrZXkpO1xuICAgIGNvbnN0IGJhayA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oa2V5LCBzdHJpbmdpZnkodmFsdWUpKTtcbiAgICByZXR1cm4gYmFrO1xuICB9XG5cbiAgZGVsZXRlVmFsdWUoa2V5OiBzdHJpbmcpIHtcbiAgICBrZXkgPSB0aGlzLnRvRnVsbEtleShrZXkpO1xuICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gIH1cblxuICBpbmNsdWRlcyhrZXk6IHN0cmluZykge1xuICAgIGtleSA9IHRoaXMudG9GdWxsS2V5KGtleSk7XG4gICAgcmV0dXJuICh0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpICE9PSBudWxsKTtcbiAgfVxuXG4gIGdldFZhbHVlPFQ+KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFQgPSBudWxsKTogVCB7XG4gICAga2V5ID0gdGhpcy50b0Z1bGxLZXkoa2V5KTtcbiAgICBjb25zdCB2ID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICByZXR1cm4gdiAhPT0gbnVsbCA/IHBhcnNlKHYpIDogZGVmYXVsdFZhbHVlO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3luYy9TdG9yZS50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDAxLjEyLjIwMTYuXG4gKi9cblxuaW1wb3J0IFRhYlN5bmNlciBmcm9tICcuL1RhYlN5bmNlcic7XG5leHBvcnQge2RlZmF1bHQgYXMgVGFiU3luY2VyLCBJVGFiU3luY2VyT3B0aW9uc30gZnJvbSAnLi9UYWJTeW5jZXInO1xuXG5leHBvcnQgZGVmYXVsdCBUYWJTeW5jZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3luYy9pbmRleC50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHtSYW5nZUxpa2V9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCBSYW5nZSBmcm9tICcuLi9yYW5nZS9SYW5nZSc7XG5pbXBvcnQgSURUeXBlIGZyb20gJy4uL2lkdHlwZS9JRFR5cGUnO1xuaW1wb3J0IHtJRGF0YVR5cGUsIElWYWx1ZVR5cGUsIElWYWx1ZVR5cGVEZXNjLCBJRGF0YURlc2NyaXB0aW9uLCBjcmVhdGVEZWZhdWx0RGF0YURlc2N9IGZyb20gJy4uL2RhdGF0eXBlJztcbmltcG9ydCB7SVZlY3Rvcn0gZnJvbSAnLi4vdmVjdG9yJztcbmltcG9ydCB7SUFueVZlY3Rvcn0gZnJvbSAnLi4vdmVjdG9yL0lWZWN0b3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIElRdWVyeUFyZ3Mge1xuICBba2V5OiBzdHJpbmddOiBudW1iZXJ8c3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUYWJsZUNvbHVtbjxEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IHtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgdmFsdWU6IEQ7XG4gIGdldHRlcj8ocm93OiBhbnkpOiBhbnk7XG4gIC8qKlxuICAgKiB0aGUgYWNjZXNzb3IgZm9yIHRoZSBjb2x1bW5cbiAgICogQGRlZmF1bHQgPW5hbWVcbiAgICovXG4gIGNvbHVtbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBJQW55VGFibGVDb2x1bW4gPSBJVGFibGVDb2x1bW48YW55PjtcblxuLyoqXG4gKiBUaGUgZGVzY3JpcHRpb24sIGkuZS4sIHRoZSBtZXRhZGF0YSBmb3IgdGhlIHRhYmxlIChuYW1lLCBpZHR5cGUsIGV0Yy4pXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVRhYmxlRGF0YURlc2NyaXB0aW9uIGV4dGVuZHMgSURhdGFEZXNjcmlwdGlvbiB7XG4gIHJlYWRvbmx5IGxvYWRBdE9uY2U/OiBib29sZWFuO1xuICByZWFkb25seSBpZHR5cGU6IHN0cmluZztcbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyW107XG4gIHJlYWRvbmx5IGNvbHVtbnM6IElBbnlUYWJsZUNvbHVtbltdO1xufVxuXG4vKipcbiAqIEEgdGFibGUgaXMgYSBkYXRhIHN0cnVjdHVyZSBtYWRlIHVwIG9mIHJvd3MgYW5kIGNvbHVtbnMuIEluIGEgdGFibGUsIHRoZSBlbGVtZW50cyB3aXRoaW4gYSBjb2x1bW4gYXJlIGFsd2F5c1xuICogb2YgdGhlIHNhbWUgZGF0YSB0eXBlOyB0aGUgZGF0YSB0eXBlcyBiZXR3ZWVuIGRpZmZlcmVudCBjb2x1bW5zIGNhbiB2YXJ5LiBGb3IgZXhhbXBsZSwgdGhlIGZpcnN0IGNvbHVtbiBpbiBhXG4gKiB0YWJsZSBjYW4gYmUgY2F0ZWdvcmljYWwsIHRoZSBzZWNvbmQgY2FuIGJlIGludGVnZXJzLCB0aGUgdGhpcmQgY2FuIGJlIElEcywgZXRjLlxuICpcbiAqIElmIHlvdXIgY29sdW1ucyBhcmUgb2YgdGhlIHNhbWUgdHlwZSwgdXNlIE1hdHJpeCBpbnN0ZWFkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElUYWJsZSBleHRlbmRzIElEYXRhVHlwZSB7XG4gIHJlYWRvbmx5IGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbjtcblxuICByZWFkb25seSBuY29sOiBudW1iZXI7XG4gIHJlYWRvbmx5IG5yb3c6IG51bWJlcjtcblxuICAvKipcbiAgICogaWQgdHlwZVxuICAgKi9cbiAgcmVhZG9ubHkgaWR0eXBlOiBJRFR5cGU7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNob3NlbiBjb2x1bW5zXG4gICAqIEBwYXJhbSByYW5nZSBvcHRpb25hbCBzdWJzZXRcbiAgICovXG4gIGNvbHMocmFuZ2U/OiBSYW5nZUxpa2UpOiBJQW55VmVjdG9yW107XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgc3BlY2lmaWMgY29sdW1uXG4gICAqIEBwYXJhbSBpXG4gICAqL1xuICBjb2w8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPihpOiBudW1iZXIpOiBJVmVjdG9yPFQsIEQ+O1xuXG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSByb3cgbmFtZXNcbiAgICogcmV0dXJucyBhIHByb21pc2UgZm9yIGdldHRpbmcgdGhlIHJvdyBuYW1lcyBvZiB0aGUgdGFibGVcbiAgICogQHBhcmFtIHJhbmdlIG9wdGlvbmFsIHN1YnNldC5cbiAgICovXG4gIHJvd3MocmFuZ2U/OiBSYW5nZUxpa2UpOiBQcm9taXNlPHN0cmluZ1tdPjtcbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIHJvdyBpZHNcbiAgICogQHBhcmFtIHJhbmdlIG9wdGlvbmFsIHN1YnNldFxuICAgKi9cbiAgcm93SWRzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxSYW5nZT47XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgdmlldyBvbiB0aGlzIHRhYmxlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gcmFuZ2UuIEEgdmlldyBpbXBsZW1lbnRzIHRoZSBJVGFibGUgaW50ZXJmYWNlIHlldCBpcyBzdGlsbFxuICAgKiBiYWNrZWQgYnkgdGhlIGRhdGEgZnJvbSB0aGUgb3JpZ2luYWwgdGFibGUuXG4gICAqXG4gICAqIFdoZW4gcGFzc2luZyBhIHNpbmdsZSAoMUQgcmFuZ2UpIHRoZSByYW5nZSBhcHBsaWVzIHRvIHRoZSByb3dzLlxuICAgKiBXaGVuIHBhc3NpbmcgYSAyRCByYW5nZSwgdGhlIHJvdy1yYW5nZSBpcyBpbiB0aGUgZmlyc3QsIHRoZSBjb2wtcmFuZ2UgaW4gdGhlXG4gICAqIHNlY29uZCByYW5nZS5cbiAgICpcbiAgICogQHBhcmFtIHJhbmdlXG4gICAqL1xuICB2aWV3KHJhbmdlPzogUmFuZ2VMaWtlKTogSVRhYmxlO1xuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcGFyYW0gbmFtZVxuICAgKiBAcGFyYW0gYXJnc1xuICAgKi9cbiAgcXVlcnlWaWV3KG5hbWU6IHN0cmluZywgYXJnczogSVF1ZXJ5QXJncyk6IElUYWJsZTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHBhcmFtIGlkUmFuZ2VcbiAgICovXG4gIGlkVmlldyhpZFJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxJVGFibGU+O1xuXG4gIC8qKlxuICAgKiByZWR1Y2VzIHRoZSBjdXJyZW50IG1hdHJpeCB0byBhIHZlY3RvciB1c2luZyB0aGUgZ2l2ZW4gcmVkdWNlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSBmIHRoZSByZWR1Y2UgZnVuY3Rpb25cbiAgICogQHBhcmFtIHRoaXNBcmd1bWVudCB0aGUgdGhpcyBjb250ZXh0IGZvciB0aGUgZnVuY3Rpb24gZGVmYXVsdCB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSB2YWx1ZXR5cGUgdGhlIG5ldyB2YWx1ZSB0eXBlIGJ5IGRlZmF1bHQgdGhlIHNhbWUgYXMgbWF0cml4IHZhbHVldHlwZVxuICAgKiBAcGFyYW0gaWR0eXBlIHRoZSBuZXcgdmxhdWUgdHlwZSBieSBkZWZhdWx0IHRoZSBzYW1lIGFzIG1hdHJpeCByb3d0eXBlXG4gICAqL1xuICByZWR1Y2U8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPihmOiAocm93OiBhbnlbXSkgPT4gVCwgdGhpc0FyZ3VtZW50PzogYW55LCB2YWx1ZXR5cGU/OiBELCBpZHR5cGU/OiBJRFR5cGUpOiBJVmVjdG9yPFQsIEQ+O1xuXG4gIC8qKlxuICAgKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyBvbmUgY2VsbFxuICAgKiBAcGFyYW0gcm93XG4gICAqIEBwYXJhbSBjb2xcbiAgICovXG4gIGF0KHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcik6IFByb21pc2U8SVZhbHVlVHlwZT47XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciBnZXR0aW5nIHRoZSBkYXRhIGFzIHR3byBkaW1lbnNpb25hbCBhcnJheS5cbiAgICpcbiAgICogV2hlbiBwYXNzaW5nIGEgc2luZ2xlICgxRCByYW5nZSkgdGhlIHJhbmdlIGFwcGxpZXMgdG8gdGhlIHJvd3MuXG4gICAqIFdoZW4gcGFzc2luZyBhIDJEIHJhbmdlLCB0aGUgcm93LXJhbmdlIGlzIGluIHRoZSBmaXJzdCwgdGhlIGNvbC1yYW5nZSBpbiB0aGVcbiAgICogc2Vjb25kIHJhbmdlLlxuICAgKiBAcGFyYW0gcmFuZ2VcbiAgICovXG4gIGRhdGEocmFuZ2U/OiBSYW5nZUxpa2UpOiBQcm9taXNlPElWYWx1ZVR5cGVbXVtdPjtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGF0YSBvZiB0aGUgbmFtZWQgY29sdW1uIGFzIGFuIGFycmF5IHdpdGggdGhlIGRhdGFcbiAgICogQHBhcmFtIGNvbHVtbiB0aGUgbmFtZSBvZiB0aGUgY29sdW1uIHRvIHJldHJpZXZlIHRoZSBkYXRhIGZyb21cbiAgICogQHBhcmFtIHJhbmdlIGEgcmFuZ2Ugb3BlcmF0b3I7IG9wdGlvbmFsXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBjb2xEYXRhPFQ+KGNvbHVtbjogc3RyaW5nLCByYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8VFtdPjtcblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgZm9yIGdldHRpbmcgdGhlIGRhdGEgYXMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgd2hlcmUgZWFjaCBvYmplY3QgaGFzXG4gICAqIGZpZWxkcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBjb2x1bW5zLlxuICAgKlxuICAgKiBXaGVuIHBhc3NpbmcgYSBzaW5nbGUgKDFEIHJhbmdlKSB0aGUgcmFuZ2UgYXBwbGllcyB0byB0aGUgcm93cy5cbiAgICogV2hlbiBwYXNzaW5nIGEgMkQgcmFuZ2UsIHRoZSByb3ctcmFuZ2UgaXMgaW4gdGhlIGZpcnN0LCB0aGUgY29sLXJhbmdlIGluIHRoZVxuICAgKiBzZWNvbmQgcmFuZ2UuXG4gICAqIEBwYXJhbSByYW5nZVxuICAgKi9cbiAgb2JqZWN0cyhyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8YW55W10+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBJVGFibGU7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRUYWJsZURlc2MoKTogSVRhYmxlRGF0YURlc2NyaXB0aW9uIHtcbiAgcmV0dXJuIDxJVGFibGVEYXRhRGVzY3JpcHRpb24+bWl4aW4oY3JlYXRlRGVmYXVsdERhdGFEZXNjKCksIHtcbiAgICB0eXBlOiAndGFibGUnLFxuICAgIGlkdHlwZTogJ19yb3dzJyxcbiAgICBjb2x1bW5zOiBbXSxcbiAgICBzaXplOiBbMCwgMF1cbiAgfSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGFibGUvSVRhYmxlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAyNi4xMi4yMDE2LlxuICovXG5cbmltcG9ydCB7SUFueVZlY3Rvcn0gZnJvbSAnLi4vdmVjdG9yJztcbmltcG9ydCBWZWN0b3JUYWJsZSBmcm9tICcuL2ludGVybmFsL1ZlY3RvclRhYmxlJztcbmltcG9ydCB7SURhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi4vZGF0YXR5cGUnO1xuXG5cbmV4cG9ydCB7SVRhYmxlLCBJUXVlcnlBcmdzLCBJVGFibGVDb2x1bW4sIElUYWJsZURhdGFEZXNjcmlwdGlvbn0gZnJvbSAnLi9JVGFibGUnO1xuZXhwb3J0IHthc1RhYmxlLCBhc1RhYmxlRnJvbUFycmF5LCBJQXNUYWJsZU9wdGlvbnN9IGZyb20gJy4vVGFibGUnO1xuZXhwb3J0IHthc05hbWVWZWN0b3J9IGZyb20gJy4vaW50ZXJuYWwvVGFibGVOYW1lVmVjdG9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WZWN0b3JzKGRlc2M6IElEYXRhRGVzY3JpcHRpb24sIHZlY3M6IElBbnlWZWN0b3JbXSkge1xuICByZXR1cm4gbmV3IFZlY3RvclRhYmxlKGRlc2MsIHZlY3MpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3RhYmxlL2luZGV4LnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge2ZpeElkLCBhcmdGaWx0ZXIsIGFyZ1NvcnR9IGZyb20gJy4uLy4uL2luZGV4JztcbmltcG9ydCB7cGFyc2UsIFJhbmdlTGlrZSwgbGlzdCBhcyBybGlzdH0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IHtJVmFsdWVUeXBlRGVzYywgSVZhbHVlVHlwZX0gZnJvbSAnLi4vLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJVmVjdG9yLCBJVmVjdG9yRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuLi8uLi92ZWN0b3InO1xuaW1wb3J0IHtJVGFibGV9IGZyb20gJy4uL0lUYWJsZSc7XG5pbXBvcnQgQVZlY3RvciBmcm9tICcuLi8uLi92ZWN0b3IvQVZlY3Rvcic7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11bHRpVGFibGVWZWN0b3I8VCwgRCBleHRlbmRzIElWYWx1ZVR5cGVEZXNjPiBleHRlbmRzIEFWZWN0b3I8VCwgRD4gaW1wbGVtZW50cyBJVmVjdG9yPFQsRD4ge1xuICByZWFkb25seSBkZXNjOiBJVmVjdG9yRGF0YURlc2NyaXB0aW9uPEQ+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdGFibGU6IElUYWJsZSwgcHJpdmF0ZSBmOiAocm93OiBJVmFsdWVUeXBlW10pID0+IFQsIHByaXZhdGUgdGhpc0FyZ3VtZW50ID0gdGFibGUsIHB1YmxpYyByZWFkb25seSB2YWx1ZXR5cGU6IEQgPSBudWxsLCBwcml2YXRlIF9pZHR5cGUgPSB0YWJsZS5pZHR5cGUpIHtcbiAgICBzdXBlcihudWxsKTtcbiAgICB0aGlzLmRlc2MgPSB7XG4gICAgICBuYW1lOiB0YWJsZS5kZXNjLm5hbWUgKyAnLXAnLFxuICAgICAgZnFuYW1lOiB0YWJsZS5kZXNjLmZxbmFtZSArICctcCcsXG4gICAgICBkZXNjcmlwdGlvbjogZi50b1N0cmluZygpLFxuICAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICBpZDogZml4SWQodGFibGUuZGVzYy5pZCArICctcCcgKyBmLnRvU3RyaW5nKCkpLFxuICAgICAgaWR0eXBlOiB0YWJsZS5kZXNjLmlkdHlwZSxcbiAgICAgIHNpemU6IHRhYmxlLm5yb3csXG4gICAgICB2YWx1ZTogdmFsdWV0eXBlLFxuICAgICAgY3JlYXRvcjogdGFibGUuZGVzYy5jcmVhdG9yLFxuICAgICAgdHM6IERhdGUubm93KClcbiAgICB9O1xuICAgIHRoaXMucm9vdCA9IHRoaXM7XG4gIH1cblxuICBnZXQgaWR0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9pZHR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW3RoaXMuaWR0eXBlXTtcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb3Q6IHRoaXMudGFibGUucGVyc2lzdCgpLFxuICAgICAgZjogdGhpcy5mLnRvU3RyaW5nKCksXG4gICAgICB2YWx1ZXR5cGU6IHRoaXMudmFsdWV0eXBlID8gdGhpcy52YWx1ZXR5cGUgOiB1bmRlZmluZWQsXG4gICAgICBpZHR5cGU6IHRoaXMuaWR0eXBlID09PSB0aGlzLnRhYmxlLmlkdHlwZSA/IHVuZGVmaW5lZCA6IHRoaXMuaWR0eXBlLm5hbWVcbiAgICB9O1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICAgIGxldCByOiBJVmVjdG9yPFQsRD4gPSB0aGlzO1xuICAgIGlmIChwZXJzaXN0ZWQgJiYgcGVyc2lzdGVkLnJhbmdlKSB7IC8vc29tZSB2aWV3IG9udG8gaXRcbiAgICAgIHIgPSByLnZpZXcocGFyc2UocGVyc2lzdGVkLnJhbmdlKSk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy50YWJsZS5ucm93O1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgYXNzb2NpYXRlZCBpZHMgb2YgdGhpcyB2ZWN0b3JcbiAgICovXG4gIG5hbWVzKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybiB0aGlzLnRhYmxlLnJvd3MocmFuZ2UpO1xuICB9XG5cbiAgaWRzKHJhbmdlPzogUmFuZ2VMaWtlKSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGUucm93SWRzKHJhbmdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyBvbmUgY2VsbFxuICAgKiBAcGFyYW0gaVxuICAgKi9cbiAgYXN5bmMgYXQoaTogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5mLmNhbGwodGhpcy50aGlzQXJndW1lbnQsIChhd2FpdCB0aGlzLnRhYmxlLmRhdGEocmxpc3QoaSkpKVswXSk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJucyBhIHByb21pc2UgZm9yIGdldHRpbmcgdGhlIGRhdGEgYXMgdHdvIGRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEBwYXJhbSByYW5nZVxuICAgKi9cbiAgYXN5bmMgZGF0YShyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8VFtdPiB7XG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLnRhYmxlLmRhdGEocmFuZ2UpKS5tYXAodGhpcy5mLCB0aGlzLnRoaXNBcmd1bWVudCk7XG4gIH1cblxuICBhc3luYyBzb3J0KGNvbXBhcmVGbj86IChhOiBULCBiOiBUKSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElWZWN0b3I8VCxEPj4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICBjb25zdCBpbmRpY2VzID0gYXJnU29ydChkLCBjb21wYXJlRm4sIHRoaXNBcmcpO1xuICAgIHJldHVybiB0aGlzLnZpZXcocmxpc3QoaW5kaWNlcykpO1xuICB9XG5cbiAgYXN5bmMgZmlsdGVyKGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8SVZlY3RvcjxULEQ+PiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdGaWx0ZXIoZCwgY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90YWJsZS9pbnRlcm5hbC9NdWx0aVRhYmxlVmVjdG9yLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMTYuMDMuMjAxNy5cbiAqL1xuaW1wb3J0IHtJVGFibGV9IGZyb20gJy4uLyc7XG5pbXBvcnQge1JhbmdlTGlrZSwgYWxsfSBmcm9tICcuLi8uLi9yYW5nZSc7XG5pbXBvcnQgQU5hbWVWZWN0b3IsIHtJU3RyaW5nVmVjdG9yfSBmcm9tICcuLi8uLi92ZWN0b3IvaW50ZXJuYWwvQU5hbWVWZWN0b3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZU5hbWVWZWN0b3IgZXh0ZW5kcyBBTmFtZVZlY3RvcjxJVGFibGU+IGltcGxlbWVudHMgSVN0cmluZ1ZlY3RvciB7XG5cbiAgY29uc3RydWN0b3IodGFibGU6IElUYWJsZSkge1xuICAgIHN1cGVyKHRhYmxlKTtcbiAgICB0aGlzLnJvb3QgPSB0aGlzO1xuICB9XG5cbiAgZ2V0IGlkdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLmlkdHlwZTtcbiAgfVxuXG4gIG5hbWVzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLmJhc2Uucm93cyhyYW5nZSk7XG4gIH1cblxuICBpZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZS5yb3dJZHMocmFuZ2UpO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLm5yb3c7XG4gIH1cbn1cblxuXG4vKipcbiAqIGNvbnZlcnRzIHRoZSByb3dzIG9mIHRoZSBnaXZlbiB0YWJsZSBhcyBhIHN0cmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB0YWJsZVxuICogQHJldHVybiB7SVN0cmluZ1ZlY3Rvcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzTmFtZVZlY3Rvcih0YWJsZTogSVRhYmxlKTogSVN0cmluZ1ZlY3RvciB7XG4gIHJldHVybiBuZXcgVGFibGVOYW1lVmVjdG9yKHRhYmxlKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90YWJsZS9pbnRlcm5hbC9UYWJsZU5hbWVWZWN0b3IudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAyNy4xMi4yMDE2LlxuICovXG5cbmltcG9ydCB7YXJnRmlsdGVyLCBhcmdTb3J0fSBmcm9tICcuLi8uLi9pbmRleCc7XG5pbXBvcnQge2FsbCwgcGFyc2UsIFJhbmdlTGlrZSwgbGlzdCBhcyBybGlzdH0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IHtJVmFsdWVUeXBlRGVzY30gZnJvbSAnLi4vLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJVmVjdG9yLCBJVmVjdG9yRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuLi8uLi92ZWN0b3InO1xuaW1wb3J0IHtJVGFibGUsIElUYWJsZUNvbHVtbn0gZnJvbSAnLi4vSVRhYmxlJztcbmltcG9ydCBBVmVjdG9yIGZyb20gJy4uLy4uL3ZlY3Rvci9BVmVjdG9yJztcblxuLyoqXG4gKiByb290IG1hdHJpeCBpbXBsZW1lbnRhdGlvbiBob2xkaW5nIHRoZSBkYXRhXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVWZWN0b3I8VCxEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgQVZlY3RvcjxULEQ+IGltcGxlbWVudHMgSVZlY3RvcjxULEQ+IHtcbiAgcmVhZG9ubHkgZGVzYzogSVZlY3RvckRhdGFEZXNjcmlwdGlvbjxEPjtcbiAgcHVibGljIHJlYWRvbmx5IGNvbHVtbjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdGFibGU6IElUYWJsZSwgcHJpdmF0ZSBpbmRleDogbnVtYmVyLCBkZXNjOiBJVGFibGVDb2x1bW48RD4pIHtcbiAgICBzdXBlcihudWxsKTtcbiAgICB0aGlzLmNvbHVtbiA9IGRlc2MuY29sdW1uO1xuICAgIHRoaXMucm9vdCA9IHRoaXM7XG4gICAgdGhpcy5kZXNjID0ge1xuICAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICBpZDogdGFibGUuZGVzYy5pZCArICdfJyArIGRlc2MubmFtZSxcbiAgICAgIG5hbWU6IGRlc2MubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgZnFuYW1lOiB0YWJsZS5kZXNjLmZxbmFtZSArICcvJyArIGRlc2MubmFtZSxcbiAgICAgIGlkdHlwZTogdGFibGUuaWR0eXBlLmlkLFxuICAgICAgc2l6ZTogdGFibGUubnJvdyxcbiAgICAgIHZhbHVlOiBkZXNjLnZhbHVlLFxuICAgICAgY3JlYXRvcjogdGFibGUuZGVzYy5jcmVhdG9yLFxuICAgICAgdHM6IHRhYmxlLmRlc2MudHNcbiAgICB9O1xuICB9XG5cbiAgZ2V0IHZhbHVldHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjLnZhbHVlO1xuICB9XG5cbiAgZ2V0IGlkdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy50YWJsZS5pZHR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW3RoaXMuaWR0eXBlXTtcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb3Q6IHRoaXMudGFibGUucGVyc2lzdCgpLFxuICAgICAgY29sOiB0aGlzLmluZGV4XG4gICAgfTtcbiAgfVxuXG4gIHJlc3RvcmUocGVyc2lzdGVkOiBhbnkpIHtcbiAgICBsZXQgcjogSVZlY3RvcjxULEQ+ID0gdGhpcztcbiAgICBpZiAocGVyc2lzdGVkICYmIHBlcnNpc3RlZC5yYW5nZSkgeyAvL3NvbWUgdmlldyBvbnRvIGl0XG4gICAgICByID0gci52aWV3KHBhcnNlKHBlcnNpc3RlZC5yYW5nZSkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBhY2Nlc3MgYXQgYSBzcGVjaWZpYyBwb3NpdGlvblxuICAgKiBAcGFyYW0gaVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGF0KGk6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnRhYmxlLmF0KGksIHRoaXMuaW5kZXgpO1xuICB9XG5cbiAgZGF0YShyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPFRbXT4ge1xuICAgIHJldHVybiB0aGlzLnRhYmxlLmNvbERhdGEodGhpcy5jb2x1bW4sIHJhbmdlKTtcbiAgfVxuXG4gIG5hbWVzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLnRhYmxlLnJvd3MocmFuZ2UpO1xuICB9XG5cbiAgaWRzKHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLnRhYmxlLnJvd0lkcyhyYW5nZSk7XG4gIH1cblxuICBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLnRhYmxlLm5yb3c7XG4gIH1cblxuICBhc3luYyBzb3J0KGNvbXBhcmVGbj86IChhOiBULCBiOiBUKSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElWZWN0b3I8VCxEPj4ge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICBjb25zdCBpbmRpY2VzID0gYXJnU29ydChkLCBjb21wYXJlRm4sIHRoaXNBcmcpO1xuICAgIHJldHVybiB0aGlzLnZpZXcocmxpc3QoaW5kaWNlcykpO1xuICB9XG5cbiAgYXN5bmMgZmlsdGVyKGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8SVZlY3RvcjxULEQ+PiB7XG4gICAgY29uc3QgZCA9IGF3YWl0IHRoaXMuZGF0YSgpO1xuICAgIGNvbnN0IGluZGljZXMgPSBhcmdGaWx0ZXIoZCwgY2FsbGJhY2tmbiwgdGhpc0FyZyk7XG4gICAgcmV0dXJuIHRoaXMudmlldyhybGlzdChpbmRpY2VzKSk7XG4gIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3RhYmxlL2ludGVybmFsL1RhYmxlVmVjdG9yLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5pbXBvcnQge0lQZXJzaXN0YWJsZX0gZnJvbSAnLi4vLi4vaW5kZXgnO1xuaW1wb3J0IHthbGwsIHBhcnNlLCBSYW5nZUxpa2V9IGZyb20gJy4uLy4uL3JhbmdlJztcbmltcG9ydCBJRFR5cGUgZnJvbSAnLi4vLi4vaWR0eXBlL0lEVHlwZSc7XG5pbXBvcnQge0lEYXRhRGVzY3JpcHRpb24sIElWYWx1ZVR5cGVEZXNjfSBmcm9tICcuLi8uLi9kYXRhdHlwZSc7XG5pbXBvcnQge0lUYWJsZSwgSVRhYmxlRGF0YURlc2NyaXB0aW9uLCBJUXVlcnlBcmdzfSBmcm9tICcuLi9JVGFibGUnO1xuaW1wb3J0IEFUYWJsZSBmcm9tICcuLi9BVGFibGUnO1xuaW1wb3J0IHtJQW55VmVjdG9yfSBmcm9tICcuLi8uLi92ZWN0b3IvSVZlY3Rvcic7XG5pbXBvcnQge0lWZWN0b3J9IGZyb20gJy4uLy4uL3ZlY3Rvcic7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvclRhYmxlIGV4dGVuZHMgQVRhYmxlIGltcGxlbWVudHMgSVRhYmxlIHtcbiAgcmVhZG9ubHkgaWR0eXBlOiBJRFR5cGU7XG4gIHJlYWRvbmx5IGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbjtcblxuICBjb25zdHJ1Y3RvcihkZXNjOiBJRGF0YURlc2NyaXB0aW9uLCBwcml2YXRlIHZlY3RvcnM6IElBbnlWZWN0b3JbXSkge1xuICAgIHN1cGVyKG51bGwpO1xuICAgIHRoaXMucm9vdCA9IHRoaXM7XG4gICAgY29uc3QgcmVmID0gdmVjdG9yc1swXS5kZXNjO1xuICAgIC8vIGdlbmVyYXRlIHRoZSBkZXNjcmlwdGlvbiBleHRyYXNcbiAgICBjb25zdCBkID0gPGFueT5kZXNjO1xuICAgIGQuaWR0eXBlID0gcmVmLmlkdHlwZTtcbiAgICBkLnNpemUgPSBbdmVjdG9yc1swXS5sZW5ndGgsIHZlY3RvcnMubGVuZ3RoXTtcbiAgICBkLmNvbHVtbnMgPSB2ZWN0b3JzLm1hcCgodjogSUFueVZlY3RvcikgPT4ge1xuICAgICAgdi5kZXNjLmNvbHVtbiA9IHYuZGVzYy5jb2x1bW4gfHwgdi5kZXNjLm5hbWU7XG4gICAgICByZXR1cm4gdi5kZXNjO1xuICAgIH0pO1xuICAgIHRoaXMuZGVzYyA9IGQ7XG4gICAgdGhpcy5pZHR5cGUgPSB2ZWN0b3JzWzBdLmlkdHlwZTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCkge1xuICAgIHJldHVybiBbdGhpcy5pZHR5cGVdO1xuICB9XG5cbiAgY29sPFQsIEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4oaTogbnVtYmVyKTogSVZlY3RvcjxULCBEPiB7XG4gICAgcmV0dXJuIDxhbnk+dGhpcy52ZWN0b3JzW2ldOyAvLyBUT0RPIHByZXZlbnQgYDxhbnk+YCBieSB1c2luZyBgPFRhYmxlVmVjdG9yPGFueSwgSVZhbHVlVHlwZURlc2M+PmAgbGVhZHMgdG8gVFMgY29tcGlsZSBlcnJvcnNcbiAgfVxuXG4gIGNvbHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHBhcnNlKHJhbmdlKS5maWx0ZXIodGhpcy52ZWN0b3JzLCBbdGhpcy5uY29sXSk7XG4gIH1cblxuICBhdChpOiBudW1iZXIsIGo6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLmNvbChpKS5hdChqKTtcbiAgfVxuXG4gIGRhdGEocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMudmVjdG9ycy5tYXAoKHYpID0+IHYuZGF0YShyYW5nZSkpKS50aGVuKChhcnI6IGFueVtdW10pID0+IHtcbiAgICAgIGNvbnN0IHIgPSBhcnJbMF0ubWFwKChpKSA9PiAoW2ldKSk7XG4gICAgICBhcnIuc2xpY2UoMSkuZm9yRWFjaCgoYWkpID0+IGFpLmZvckVhY2goKGQsIGkpID0+IHJbaV0ucHVzaChkKSkpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSk7XG4gIH1cblxuICBjb2xEYXRhKGNvbHVtbjogc3RyaW5nLCByYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhT2ZDb2x1bW4oY29sdW1uLCByYW5nZSk7XG4gIH1cblxuICBkYXRhT2ZDb2x1bW4oY29sdW1uOiBzdHJpbmcsIHJhbmdlOiBSYW5nZUxpa2UgPSBhbGwoKSkge1xuICAgIHJldHVybiB0aGlzLnZlY3RvcnMuZmluZCgoZCkgPT4gZC5kZXNjLm5hbWUgPT09IGNvbHVtbikuZGF0YShyYW5nZSk7XG4gIH1cblxuXG5cbiAgb2JqZWN0cyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy52ZWN0b3JzLm1hcCgodikgPT4gdi5kYXRhKHJhbmdlKSkpLnRoZW4oKGFycjogYW55W11bXSkgPT4ge1xuICAgICAgY29uc3QgbmFtZXMgPSB0aGlzLnZlY3RvcnMubWFwKChkKSA9PiBkLmRlc2MubmFtZSk7XG4gICAgICBjb25zdCByID0gYXJyWzBdLm1hcCgoaSkgPT4gKCB7WyBuYW1lc1swXV06IGl9KSk7XG4gICAgICBhcnIuc2xpY2UoMSkuZm9yRWFjaCgoYWksIGopID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVzW2ogKyAxXTtcbiAgICAgICAgYWkuZm9yRWFjaCgoZCwgaSkgPT4gcltpXVtuYW1lXSA9IGQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm4gdGhlIHJvdyBpZHMgb2YgdGhlIG1hdHJpeFxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHJvd3MocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybiB0aGlzLmNvbCgwKS5uYW1lcyhyYW5nZSk7XG4gIH1cblxuICByb3dJZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sKDApLmlkcyhyYW5nZSk7XG4gIH1cblxuICBpZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMucm93SWRzKHJhbmdlKTtcbiAgfVxuXG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmNvbCgwKS5sZW5ndGgsIHRoaXMudmVjdG9ycy5sZW5ndGhdO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjLmlkO1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSk6IElQZXJzaXN0YWJsZSB7XG4gICAgaWYgKHBlcnNpc3RlZCAmJiB0eXBlb2YgcGVyc2lzdGVkLmNvbCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbChwZXJzaXN0ZWQuY29sKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLnJlc3RvcmUocGVyc2lzdGVkKTtcbiAgfVxuXG4gIHF1ZXJ5VmlldyhuYW1lOiBzdHJpbmcsIGFyZ3M6IElRdWVyeUFyZ3MpOiBJVGFibGUge1xuICAgIHRocm93IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3RhYmxlL2ludGVybmFsL1ZlY3RvclRhYmxlLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjcuMTIuMjAxNi5cbiAqL1xuXG5cbmltcG9ydCB7Z2V0QVBJSlNPTiwgZ2V0QVBJRGF0YX0gZnJvbSAnLi4vYWpheCc7XG5pbXBvcnQge1JhbmdlLCBwYXJzZSwgcmFuZ2UsIGFsbH0gZnJvbSAnLi4vcmFuZ2UnO1xuaW1wb3J0IHtJVmFsdWVUeXBlLCBWQUxVRV9UWVBFX0lOVCwgVkFMVUVfVFlQRV9SRUFMLCBJTnVtYmVyVmFsdWVUeXBlRGVzYywgbWFza30gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IHtJUXVlcnlBcmdzLCBJVGFibGVEYXRhRGVzY3JpcHRpb24sIElUYWJsZUNvbHVtbn0gZnJvbSAnLi9JVGFibGUnO1xuaW1wb3J0IHtyZXNvbHZlfSBmcm9tICcuLi9pZHR5cGUnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElUYWJsZUxvYWRlciB7XG4gIChkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24pOiBQcm9taXNlPHtcbiAgICByb3dJZHM6IFJhbmdlO1xuICAgIHJvd3M6IHN0cmluZ1tdO1xuICAgIG9ianM6IGFueVtdO1xuICB9Pjtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJVGFibGVMb2FkZXIyIHtcbiAgcm93SWRzKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKTogUHJvbWlzZTxSYW5nZT47XG4gIHJvd3MoZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uLCByYW5nZTogUmFuZ2UpOiBQcm9taXNlPHN0cmluZ1tdPjtcbiAgY29sKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgY29sdW1uOiBzdHJpbmcsIHJhbmdlOiBSYW5nZSk6IFByb21pc2U8SVZhbHVlVHlwZVtdPjtcbiAgb2JqcyhkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24sIHJhbmdlOiBSYW5nZSk6IFByb21pc2U8YW55W10+O1xuICBkYXRhKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKTogUHJvbWlzZTxJVmFsdWVUeXBlW11bXT47XG4gIHZpZXcoZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uLCBuYW1lOiBzdHJpbmcsIGFyZ3M6IGFueSk6IElUYWJsZUxvYWRlcjtcbn1cblxuZnVuY3Rpb24gZmlsdGVyT2JqZWN0cyhvYmpzOiBhbnlbXSwgcmFuZ2U6IFJhbmdlLCBkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24pIHtcbiAgaWYgKHJhbmdlLmlzQWxsKSB7XG4gICAgcmV0dXJuIG9ianM7XG4gIH1cbiAgb2JqcyA9IHJhbmdlLmRpbSgwKS5maWx0ZXIob2JqcywgZGVzYy5zaXplWzBdKTtcbiAgaWYgKHJhbmdlLm5kaW0gPiAxICYmICFyYW5nZS5kaW0oMSkuaXNBbGwpIHtcbiAgICAvLyBmaWx0ZXIgdGhlIGNvbHVtbnMgYnkgaW5kZXhcbiAgICBjb25zdCB0b0tlZXAgPSByYW5nZS5kaW0oMSkuZmlsdGVyKGRlc2MuY29sdW1ucywgZGVzYy5jb2x1bW5zLmxlbmd0aCk7XG4gICAgY29uc3QgdG9LZWVwTmFtZXMgPSB0b0tlZXAubWFwKChjb2wpID0+IGNvbC5jb2x1bW4gfHwgY29sLm5hbWUpO1xuICAgIHJldHVybiBvYmpzLm1hcCgob2JqKSA9PiB7XG4gICAgICBjb25zdCByOiBhbnkgPSB7fTtcbiAgICAgIHRvS2VlcE5hbWVzLmZvckVhY2goKGtleSkgPT4gcltrZXldID0gb2JqW2tleV0pO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9ianM7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGFwdGVyT25lMlR3byhsb2FkZXI6IElUYWJsZUxvYWRlcik6IElUYWJsZUxvYWRlcjIge1xuICByZXR1cm4ge1xuICAgIHJvd0lkczogKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKSA9PiBsb2FkZXIoZGVzYykudGhlbigoZCkgPT4gcmFuZ2UucHJlTXVsdGlwbHkoZC5yb3dJZHMsIGRlc2Muc2l6ZSkpLFxuICAgIHJvd3M6IChkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24sIHJhbmdlOiBSYW5nZSkgPT4gbG9hZGVyKGRlc2MpLnRoZW4oKGQpID0+IHJhbmdlLmRpbSgwKS5maWx0ZXIoZC5yb3dzLCBkZXNjLnNpemVbMF0pKSxcbiAgICBjb2w6IChkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24sIGNvbHVtbjogc3RyaW5nLCByYW5nZTogUmFuZ2UpID0+IGxvYWRlcihkZXNjKS50aGVuKChkKSA9PiByYW5nZS5maWx0ZXIoZC5vYmpzLm1hcCgoZCkgPT4gZFtjb2x1bW5dKSwgZGVzYy5zaXplKSksXG4gICAgb2JqczogKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKSA9PiBsb2FkZXIoZGVzYykudGhlbigoZCkgPT4gZmlsdGVyT2JqZWN0cyhkLm9ianMsIHJhbmdlLCBkZXNjKSksXG4gICAgZGF0YTogKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKSA9PiBsb2FkZXIoZGVzYykudGhlbigoZCkgPT4gcmFuZ2UuZmlsdGVyKHRvRmxhdChkLm9ianMsIGRlc2MuY29sdW1ucyksIGRlc2Muc2l6ZSkpLFxuICAgIHZpZXc6IChkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24sIG5hbWU6IHN0cmluZywgYXJnczogYW55KSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgfTtcbn1cblxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmlhQVBJVmlld0xvYWRlcihuYW1lOiBzdHJpbmcsIGFyZ3M6IElRdWVyeUFyZ3MpOiBJVGFibGVMb2FkZXIge1xuICBsZXQgX2xvYWRlcjogUHJvbWlzZTx7XG4gICAgcm93SWRzOiBSYW5nZTtcbiAgICByb3dzOiBzdHJpbmdbXTtcbiAgICBvYmpzOiBhbnlbXTtcbiAgfT4gPSB1bmRlZmluZWQ7XG4gIHJldHVybiAoZGVzYykgPT4ge1xuICAgIGlmICghX2xvYWRlcikgeyAvL2luIHRoZSBjYWNoZVxuICAgICAgX2xvYWRlciA9IGdldEFQSUpTT04oYC9kYXRhc2V0L3RhYmxlLyR7ZGVzYy5pZH0vdmlldy8ke25hbWV9YCwgYXJncykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBkYXRhLnJvd0lkcyA9IHBhcnNlKGRhdGEucm93SWRzKTtcbiAgICAgICAgZGF0YS5vYmpzID0gbWFza09iamVjdHMoZGF0YS5kYXRhLCBkZXNjKTtcbiAgICAgICAgLy9tYXNrIHRoZSBkYXRhXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfbG9hZGVyO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtYXNrQ29sPFQ+KGFycjogVFtdLCBjb2w6IElUYWJsZUNvbHVtbjxhbnk+KTogVFtdIHtcbiAgLy9tYXNrIGRhdGFcbiAgaWYgKGNvbC52YWx1ZSAmJiAoY29sLnZhbHVlLnR5cGUgPT09IFZBTFVFX1RZUEVfSU5UIHx8IGNvbC52YWx1ZS50eXBlID09PSBWQUxVRV9UWVBFX1JFQUwpKSB7XG4gICAgcmV0dXJuIDxhbnk+bWFzayg8YW55PmFyciwgPElOdW1iZXJWYWx1ZVR5cGVEZXNjPjxhbnk+Y29sLnZhbHVlKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBtYXNrT2JqZWN0cyhhcnI6IElWYWx1ZVR5cGVbXSwgZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uKSB7XG4gIC8vbWFzayBkYXRhXG4gIGNvbnN0IG1hc2tBYmxlID0gZGVzYy5jb2x1bW5zLmZpbHRlcigoY29sKSA9PiBjb2wudmFsdWUgJiYgKGNvbC52YWx1ZS50eXBlID09PSBWQUxVRV9UWVBFX0lOVCB8fCBjb2wudmFsdWUudHlwZSA9PT0gVkFMVUVfVFlQRV9SRUFMKSk7XG4gIGlmIChtYXNrQWJsZS5sZW5ndGggPiAwKSB7XG4gICAgYXJyLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgbWFza0FibGUuZm9yRWFjaCgoY29sKSA9PiByb3dbY29sLm5hbWVdID0gbWFzayhyb3dbY29sLm5hbWVdLCA8SU51bWJlclZhbHVlVHlwZURlc2M+Y29sLnZhbHVlKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmlhQVBJMkxvYWRlcigpOiBJVGFibGVMb2FkZXIyIHtcbiAgY29uc3QgY29sczogYW55ID0ge307XG4gIGxldCByb3dJZHM6IFByb21pc2U8UmFuZ2U+ID0gbnVsbCxcbiAgICByb3dzOiBQcm9taXNlPHN0cmluZ1tdPiA9IG51bGwsXG4gICAgb2JqczogUHJvbWlzZTxhbnlbXT4gPSBudWxsLFxuICAgIGRhdGE6IFByb21pc2U8YW55W11bXT4gPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGZpbGxJZHMoZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uKSB7XG4gICAgaWYgKHJvd0lkcyAhPT0gbnVsbCAmJiByb3dzICE9PSBudWxsKSB7XG4gICAgICBQcm9taXNlLmFsbChbcm93SWRzLCByb3dzXSkudGhlbigoW3Jvd0lkVmFsdWVzLCByb3dWYWx1ZXNdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkVHlwZSA9IHJlc29sdmUoZGVzYy5pZHR5cGUpO1xuICAgICAgICBjb25zdCByb3dJZHMgPSBwYXJzZShyb3dJZFZhbHVlcyk7XG4gICAgICAgIGlkVHlwZS5maWxsTWFwQ2FjaGUocm93SWRzLmRpbSgwKS5hc0xpc3Qocm93VmFsdWVzLmxlbmd0aCksIHJvd1ZhbHVlcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcjogSVRhYmxlTG9hZGVyMiA9IHtcbiAgICByb3dJZHM6IChkZXNjOiBJVGFibGVEYXRhRGVzY3JpcHRpb24sIHJhbmdlOiBSYW5nZSkgPT4ge1xuICAgICAgaWYgKHJvd0lkcyA9PSBudWxsKSB7XG4gICAgICAgIHJvd0lkcyA9IGdldEFQSUpTT04oYC9kYXRhc2V0L3RhYmxlLyR7ZGVzYy5pZH0vcm93SWRzYCkudGhlbihwYXJzZSk7XG4gICAgICAgIGZpbGxJZHMoZGVzYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcm93SWRzLnRoZW4oKGQpID0+IGQucHJlTXVsdGlwbHkocmFuZ2UsIGRlc2Muc2l6ZSkpO1xuICAgIH0sXG4gICAgcm93czogKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKSA9PiB7XG4gICAgICBpZiAocm93cyA9PSBudWxsKSB7XG4gICAgICAgIHJvd3MgPSBnZXRBUElKU09OKGAvZGF0YXNldC90YWJsZS8ke2Rlc2MuaWR9L3Jvd3NgKTtcbiAgICAgICAgZmlsbElkcyhkZXNjKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByb3dzLnRoZW4oKGQ6IHN0cmluZ1tdKSA9PiByYW5nZS5kaW0oMCkuZmlsdGVyKGQsIGRlc2Muc2l6ZVswXSkpO1xuICAgIH0sXG4gICAgb2JqczogKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKSA9PiB7XG4gICAgICBpZiAob2JqcyA9PSBudWxsICYmIChyYW5nZS5pc0FsbCB8fCBkZXNjLmxvYWRBdE9uY2UpKSB7XG4gICAgICAgIG9ianMgPSBnZXRBUElKU09OKGAvZGF0YXNldC90YWJsZS8ke2Rlc2MuaWR9L3Jhd2ApLnRoZW4oKGRhdGEpID0+IG1hc2tPYmplY3RzKGRhdGEsIGRlc2MpKTtcbiAgICAgIH1cbiAgICAgIGlmIChyYW5nZS5pc0FsbCkge1xuICAgICAgICByZXR1cm4gb2JqcztcbiAgICAgIH1cbiAgICAgIGlmIChvYmpzICE9IG51bGwpIHsgLy9hbHJlYWR5IGxvYWRpbmcgYWxsXG4gICAgICAgIHJldHVybiBvYmpzLnRoZW4oKGQpID0+IHJhbmdlLmZpbHRlcihkLCBkZXNjLnNpemUpKTtcbiAgICAgIH1cbiAgICAgIC8vc2VydmVyIHNpZGUgc2xpY2luZ1xuICAgICAgcmV0dXJuIGdldEFQSURhdGEoYC9kYXRhc2V0L3RhYmxlLyR7ZGVzYy5pZH0vcmF3YCwge3JhbmdlOiByYW5nZS50b1N0cmluZygpfSkudGhlbigoZGF0YSkgPT4gbWFza09iamVjdHMoZGF0YSwgZGVzYykpO1xuICAgIH0sXG4gICAgZGF0YTogKGRlc2M6IElUYWJsZURhdGFEZXNjcmlwdGlvbiwgcmFuZ2U6IFJhbmdlKSA9PiB7XG4gICAgICBpZiAoZGF0YSA9PSBudWxsICYmIChyYW5nZS5pc0FsbCB8fCBkZXNjLmxvYWRBdE9uY2UpKSB7XG4gICAgICAgIGRhdGEgPSByLm9ianMoZGVzYywgYWxsKCkpLnRoZW4oKG9ianMpID0+IHRvRmxhdChvYmpzLCBkZXNjLmNvbHVtbnMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChyYW5nZS5pc0FsbCkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhICE9IG51bGwpIHsgLy9hbHJlYWR5IGxvYWRpbmcgYWxsXG4gICAgICAgIHJldHVybiBkYXRhLnRoZW4oKGQpID0+IHJhbmdlLmZpbHRlcihkLCBkZXNjLnNpemUpKTtcbiAgICAgIH1cbiAgICAgIC8vc2VydmVyIHNpZGUgc2xpY2luZ1xuICAgICAgcmV0dXJuIHIub2JqcyhkZXNjLCByYW5nZSkudGhlbigob2JqcykgPT4gdG9GbGF0KG9ianMsIGRlc2MuY29sdW1ucykpO1xuICAgIH0sXG4gICAgY29sOiAoZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uLCBjb2x1bW46IHN0cmluZywgcmFuZ2U6IFJhbmdlKSA9PiB7XG4gICAgICBjb25zdCBjb2xEZXNjID0gKDxhbnk+ZGVzYykuY29sdW1ucy5maW5kKChjOiBhbnkpID0+IGMuY29sdW1uID09PSBjb2x1bW4gfHwgYy5uYW1lID09PSBjb2x1bW4pO1xuICAgICAgaWYgKGNvbHNbY29sdW1uXSA9PSBudWxsICYmIChyYW5nZS5pc0FsbCB8fCBkZXNjLmxvYWRBdE9uY2UpKSB7XG4gICAgICAgIGlmIChvYmpzID09PSBudWxsKSB7XG4gICAgICAgICAgaWYgKGRlc2MubG9hZEF0T25jZSkge1xuICAgICAgICAgICAgb2JqcyA9IGdldEFQSUpTT04oYC9kYXRhc2V0L3RhYmxlLyR7ZGVzYy5pZH0vcmF3YCkudGhlbigoZGF0YSkgPT4gbWFza09iamVjdHMoZGF0YSwgZGVzYykpO1xuICAgICAgICAgICAgY29sc1tjb2x1bW5dID0gb2Jqcy50aGVuKChvYmpzKSA9PiBvYmpzLm1hcCgocm93KSA9PiByb3dbY29sdW1uXSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xzW2NvbHVtbl0gPSBnZXRBUElKU09OKGAvZGF0YXNldC90YWJsZS8ke2Rlc2MuaWR9L2NvbC8ke2NvbHVtbn1gKS50aGVuKChkYXRhKSA9PiBtYXNrQ29sKGRhdGEsIGNvbERlc2MpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sc1tjb2x1bW5dID0gb2Jqcy50aGVuKChvYmpzKSA9PiBvYmpzLm1hcCgocm93KSA9PiByb3dbY29sdW1uXSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmFuZ2UuaXNBbGwpIHtcbiAgICAgICAgcmV0dXJuIGNvbHNbY29sdW1uXTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xzW2NvbHVtbl0gIT0gbnVsbCkgeyAvL2FscmVhZHkgbG9hZGluZyBhbGxcbiAgICAgICAgcmV0dXJuIGNvbHNbY29sdW1uXS50aGVuKChkOiBhbnlbXSkgPT4gZmlsdGVyT2JqZWN0cyhkLCByYW5nZSwgZGVzYykpO1xuICAgICAgfVxuICAgICAgLy9zZXJ2ZXIgc2lkZSBzbGljaW5nXG4gICAgICByZXR1cm4gZ2V0QVBJRGF0YShgL2RhdGFzZXQvdGFibGUvJHtkZXNjLmlkfS9jb2wvJHtjb2x1bW59YCwge3JhbmdlOiByYW5nZS50b1N0cmluZygpfSkudGhlbigoZGF0YSkgPT4gbWFza0NvbChkYXRhLCBjb2xEZXNjKSk7XG4gICAgfSxcbiAgICB2aWV3OiAoZGVzYzogSVRhYmxlRGF0YURlc2NyaXB0aW9uLCBuYW1lOiBzdHJpbmcsIGFyZ3M6IElRdWVyeUFyZ3MpID0+IHZpYUFQSVZpZXdMb2FkZXIobmFtZSwgYXJncylcbiAgfTtcbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIHRvRmxhdChkYXRhOiBhbnlbXSwgdmVjczogSVRhYmxlQ29sdW1uPGFueT5bXSkge1xuICByZXR1cm4gZGF0YS5tYXAoKHJvdykgPT4gdmVjcy5tYXAoKGNvbCkgPT4gcm93W2NvbC5jb2x1bW5dKSk7XG59XG5cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZpYURhdGFMb2FkZXIoZGF0YTogYW55W10sIG5hbWVQcm9wZXJ0eTogYW55KSB7XG4gIGxldCBfZGF0YTogYW55ID0gdW5kZWZpbmVkO1xuICByZXR1cm4gKGRlc2M6IGFueSkgPT4ge1xuICAgIGlmIChfZGF0YSkgeyAvL2luIHRoZSBjYWNoZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfZGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IG5hbWU6IChkOiBhbnkpID0+IHN0cmluZyA9IHR5cGVvZihuYW1lUHJvcGVydHkpID09PSAnZnVuY3Rpb24nID8gbmFtZVByb3BlcnR5IDogKGQpID0+IGRbbmFtZVByb3BlcnR5LnRvU3RyaW5nKCldO1xuXG4gICAgZnVuY3Rpb24gdG9HZXR0ZXIoY29sOiBhbnkpIHtcbiAgICAgIGlmIChjb2wuZ2V0dGVyKSB7XG4gICAgICAgIHJldHVybiBjb2wuZ2V0dGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChkOiBhbnkpID0+IGRbY29sLmNvbHVtbl07XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0dGVyczogKChkOiBhbnkpID0+IGFueSlbXSA9IGRlc2MuY29sdW1ucy5tYXAodG9HZXR0ZXIpO1xuICAgIGNvbnN0IG9ianMgPSBkYXRhLm1hcCgocm93KSA9PiB7XG4gICAgICBjb25zdCByOiBhbnkgPSB7Xzogcm93fTtcbiAgICAgIGRlc2MuY29sdW1ucy5mb3JFYWNoKChjb2w6IGFueSwgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgIHJbY29sLmNvbHVtbl0gPSBnZXR0ZXJzW2ldKHJvdyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByO1xuICAgIH0pO1xuICAgIGNvbnN0IHJvd3MgPSBkYXRhLm1hcChuYW1lKTtcbiAgICBfZGF0YSA9IHtcbiAgICAgIHJvd0lkczogZGVzYy5yb3dhc3NpZ25lciA/IGRlc2Mucm93YXNzaWduZXIubWFwKHJvd3MpIDogcmFuZ2UoMCwgZGF0YS5sZW5ndGgpLFxuICAgICAgcm93cyxcbiAgICAgIG9ianMsXG4gICAgICBkYXRhOiBnZXR0ZXJzLm1hcCgoZ2V0dGVyKSA9PiBkYXRhLm1hcChnZXR0ZXIpKVxuICAgIH07XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfZGF0YSk7XG4gIH07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGFibGUvbG9hZGVyLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMDQuMDguMjAxNC5cbiAqL1xuXG5pbXBvcnQge21peGlufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQge1JhbmdlTGlrZSwgQ29tcG9zaXRlUmFuZ2UxRCwgUmFuZ2V9IGZyb20gJy4uL3JhbmdlJztcbmltcG9ydCB7SURUeXBlLCBJRFR5cGVMaWtlfSBmcm9tICcuLi9pZHR5cGUnO1xuaW1wb3J0IHtcbiAgSUhpc3RBYmxlRGF0YVR5cGUsIElWYWx1ZVR5cGVEZXNjLCBJRGF0YURlc2NyaXB0aW9uLCBjcmVhdGVEZWZhdWx0RGF0YURlc2MsXG4gIElOdW1iZXJWYWx1ZVR5cGVEZXNjLCBJQ2F0ZWdvcmljYWxWYWx1ZVR5cGVEZXNjLCBJU3RhdHNBYmxlRGF0YVR5cGVcbn0gZnJvbSAnLi4vZGF0YXR5cGUnO1xuaW1wb3J0IElTdHJhdGlmaWNhdGlvbiBmcm9tICcuLi9zdHJhdGlmaWNhdGlvbi9JU3RyYXRpZmljYXRpb24nO1xuaW1wb3J0IHtJQWR2YW5jZWRTdGF0aXN0aWNzLCBJSGlzdG9ncmFtLCBJU3RhdGlzdGljc30gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQge0lBdG9tLCBJQXRvbVZhbHVlfSBmcm9tICcuLi9hdG9tL0lBdG9tJztcblxuZXhwb3J0IGludGVyZmFjZSBJVmVjdG9yRGF0YURlc2NyaXB0aW9uPEQgZXh0ZW5kcyBJVmFsdWVUeXBlRGVzYz4gZXh0ZW5kcyBJRGF0YURlc2NyaXB0aW9uIHtcbiAgcmVhZG9ubHkgdmFsdWU6IEQ7XG4gIHJlYWRvbmx5IGlkdHlwZTogSURUeXBlTGlrZTtcbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEEgdmVjdG9yIGlzIGEgMS1kaW1lbnNpb25hbCBkYXRhc3RydWN0dXJlIHdoZXJlIGFsbCBlbGVtZW50cyBhcmUgb2YgdGhlIHNhbWUgZGF0YXR5cGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVZlY3RvcjxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgSUhpc3RBYmxlRGF0YVR5cGU8RD4sIElTdGF0c0FibGVEYXRhVHlwZTxEPiB7XG4gIHJlYWRvbmx5IGRlc2M6IElWZWN0b3JEYXRhRGVzY3JpcHRpb248RD47XG4gIC8qKlxuICAgKiBpZCB0eXBlXG4gICAqL1xuICByZWFkb25seSBpZHR5cGU6IElEVHlwZTtcblxuICAvKipcbiAgICogcmV0dXJuIHRoZSBhc3NvY2lhdGVkIGlkcyBvZiB0aGlzIHZlY3RvclxuICAgKiBAcGFyYW0gcmFuZ2Ugb3B0aW9uYWwgc3Vic2V0XG4gICAqL1xuICBuYW1lcyhyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8c3RyaW5nW10+O1xuICAvKipcbiAgICogY3JlYXRlcyBhIG5ldyB2aWV3IG9uIHRoaXMgbWF0cml4IHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gcmFuZ2VcbiAgICogQHBhcmFtIHJhbmdlIG9wdGlvbmFsIHN1YnNldFxuICAgKi9cbiAgdmlldyhyYW5nZT86IFJhbmdlTGlrZSk6IElWZWN0b3I8VCxEPjtcblxuICBpZFZpZXcoaWRSYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8SVZlY3RvcjxULEQ+PjtcbiAgLyoqXG4gICAqIHJldHVybnMgYSBwcm9taXNlIGZvciBnZXR0aW5nIG9uZSBjZWxsXG4gICAqIEBwYXJhbSBpIGF0IGEgc3BlY2lmaWMgcG9zaXRpb25cbiAgICovXG4gIGF0KGk6IG51bWJlcik6IFByb21pc2U8VD47XG4gIC8qKlxuICAgKiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgZ2V0dGluZyB0aGUgZGF0YSBhcyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHBhcmFtIHJhbmdlIG9wdGlvbmFsIHN1YnNldFxuICAgKi9cbiAgZGF0YShyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8VFtdPjtcblxuICAvKipcbiAgICogcmV0dXJucyB0aGlzIHZlY3RvciBzdGF0aXN0aWNzXG4gICAqL1xuICBzdGF0cyhyYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8SVN0YXRpc3RpY3M+O1xuICBzdGF0c0FkdmFuY2VkKHJhbmdlPzogUmFuZ2VMaWtlKTogUHJvbWlzZTxJQWR2YW5jZWRTdGF0aXN0aWNzPjtcblxuICAvKipcbiAgICogY29tcHV0ZXMgYSBoaXN0b2dyYW0gb2YgdGhpcyB2ZWN0b3JcbiAgICogQHBhcmFtIGJpbnMgbnVtYmVyIG9mIGJpbnMgYnkgZGVmYXVsdCBndWVzc2VkXG4gICAqIEBwYXJhbSByYW5nZSBvcHRpb25hbCBzdWJzZXRcbiAgICovXG4gIGhpc3QoYmlucz86IG51bWJlciwgcmFuZ2U/OiBSYW5nZUxpa2UpOiBQcm9taXNlPElIaXN0b2dyYW0+O1xuXG5cbiAgLyoqXG4gICAqIFNvcnRzIGFuIGFycmF5LlxuICAgKiBAcGFyYW0gY29tcGFyZUZuIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgdGhlIGVsZW1lbnRzLiBJZiBvbWl0dGVkLCB0aGUgZWxlbWVudHMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcsIEFTQ0lJIGNoYXJhY3RlciBvcmRlci5cbiAgICogQHBhcmFtIHRoaXNBcmcgQW4gb2JqZWN0IHRvIHdoaWNoIHRoZSB0aGlzIGtleXdvcmQgY2FuIHJlZmVyIGluIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uLiBJZiB0aGlzQXJnIGlzIG9taXR0ZWQsIHVuZGVmaW5lZCBpcyB1c2VkIGFzIHRoZSB0aGlzIHZhbHVlLlxuICAgKi9cbiAgc29ydChjb21wYXJlRm4/OiAoYTogVCwgYjogVCkgPT4gbnVtYmVyLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxJVmVjdG9yPFQsRD4+O1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYWxsIHRoZSBtZW1iZXJzIG9mIGFuIGFycmF5IHNhdGlzZnkgdGhlIHNwZWNpZmllZCB0ZXN0LlxuICAgKiBAcGFyYW0gY2FsbGJhY2tmbiBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byB0aHJlZSBhcmd1bWVudHMuIFRoZSBldmVyeSBtZXRob2QgY2FsbHMgdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24gZm9yIGVhY2ggZWxlbWVudCBpbiBhcnJheTEgdW50aWwgdGhlIGNhbGxiYWNrZm4gcmV0dXJucyBmYWxzZSwgb3IgdW50aWwgdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSB0aGlzQXJnIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIGV2ZXJ5KGNhbGxiYWNrZm46ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSBmb3IgYW55IGVsZW1lbnQgb2YgYW4gYXJyYXkuXG4gICAqIEBwYXJhbSBjYWxsYmFja2ZuIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIHRocmVlIGFyZ3VtZW50cy4gVGhlIHNvbWUgbWV0aG9kIGNhbGxzIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQgaW4gYXJyYXkxIHVudGlsIHRoZSBjYWxsYmFja2ZuIHJldHVybnMgdHJ1ZSwgb3IgdW50aWwgdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSB0aGlzQXJnIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIHNvbWUoY2FsbGJhY2tmbjogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxib29sZWFuPjtcblxuICAvKipcbiAgICogUGVyZm9ybXMgdGhlIHNwZWNpZmllZCBhY3Rpb24gZm9yIGVhY2ggZWxlbWVudCBpbiBhbiBhcnJheS5cbiAgICogQHBhcmFtIGNhbGxiYWNrZm4gIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIHRocmVlIGFyZ3VtZW50cy4gZm9yRWFjaCBjYWxscyB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbiBvbmUgdGltZSBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheS5cbiAgICogQHBhcmFtIHRoaXNBcmcgIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZDtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYW4gYXJyYXkgdGhhdCBtZWV0IHRoZSBjb25kaXRpb24gc3BlY2lmaWVkIGluIGEgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSBjYWxsYmFja2ZuIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIHRocmVlIGFyZ3VtZW50cy4gVGhlIGZpbHRlciBtZXRob2QgY2FsbHMgdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24gb25lIHRpbWUgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSB0aGlzQXJnIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIGZpbHRlcihjYWxsYmFja2ZuOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPElWZWN0b3I8VCxEPj47XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGFsbCB0aGUgZWxlbWVudHMgaW4gYW4gYXJyYXkuIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQsIGFuZCBpcyBwcm92aWRlZCBhcyBhbiBhcmd1bWVudCBpbiB0aGUgbmV4dCBjYWxsIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGNhbGxiYWNrZm4gQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gZm91ciBhcmd1bWVudHMuIFRoZSByZWR1Y2UgbWV0aG9kIGNhbGxzIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uIG9uZSB0aW1lIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5LlxuICAgKiBAcGFyYW0gaW5pdGlhbFZhbHVlIElmIGluaXRpYWxWYWx1ZSBpcyBzcGVjaWZpZWQsIGl0IGlzIHVzZWQgYXMgdGhlIGluaXRpYWwgdmFsdWUgdG8gc3RhcnQgdGhlIGFjY3VtdWxhdGlvbi4gVGhlIGZpcnN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24gcHJvdmlkZXMgdGhpcyB2YWx1ZSBhcyBhbiBhcmd1bWVudCBpbnN0ZWFkIG9mIGFuIGFycmF5IHZhbHVlLlxuICAgKiBAcGFyYW0gdGhpc0FyZyBBbiBvYmplY3QgdG8gd2hpY2ggdGhlIHRoaXMga2V5d29yZCBjYW4gcmVmZXIgaW4gdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24uIElmIHRoaXNBcmcgaXMgb21pdHRlZCwgdW5kZWZpbmVkIGlzIHVzZWQgYXMgdGhlIHRoaXMgdmFsdWUuXG4gICAqL1xuICByZWR1Y2UoY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IFQsIGN1cnJlbnRWYWx1ZTogVCwgY3VycmVudEluZGV4OiBudW1iZXIpID0+IFQsIGluaXRpYWxWYWx1ZT86IFQsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPFQ+O1xuICAvKipcbiAgICogQ2FsbHMgdGhlIHNwZWNpZmllZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgYWxsIHRoZSBlbGVtZW50cyBpbiBhbiBhcnJheS4gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCwgYW5kIGlzIHByb3ZpZGVkIGFzIGFuIGFyZ3VtZW50IGluIHRoZSBuZXh0IGNhbGwgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gY2FsbGJhY2tmbiBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBmb3VyIGFyZ3VtZW50cy4gVGhlIHJlZHVjZSBtZXRob2QgY2FsbHMgdGhlIGNhbGxiYWNrZm4gZnVuY3Rpb24gb25lIHRpbWUgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSBpbml0aWFsVmFsdWUgSWYgaW5pdGlhbFZhbHVlIGlzIHNwZWNpZmllZCwgaXQgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbCB2YWx1ZSB0byBzdGFydCB0aGUgYWNjdW11bGF0aW9uLiBUaGUgZmlyc3QgY2FsbCB0byB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbiBwcm92aWRlcyB0aGlzIHZhbHVlIGFzIGFuIGFyZ3VtZW50IGluc3RlYWQgb2YgYW4gYXJyYXkgdmFsdWUuXG4gICAqIEBwYXJhbSB0aGlzQXJnIEFuIG9iamVjdCB0byB3aGljaCB0aGUgdGhpcyBrZXl3b3JkIGNhbiByZWZlciBpbiB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbi4gSWYgdGhpc0FyZyBpcyBvbWl0dGVkLCB1bmRlZmluZWQgaXMgdXNlZCBhcyB0aGUgdGhpcyB2YWx1ZS5cbiAgICovXG4gIHJlZHVjZTxVPihjYWxsYmFja2ZuOiAocHJldmlvdXNWYWx1ZTogVSwgY3VycmVudFZhbHVlOiBULCBjdXJyZW50SW5kZXg6IG51bWJlcikgPT4gVSwgaW5pdGlhbFZhbHVlOiBVLCB0aGlzQXJnPzogYW55KTogUHJvbWlzZTxVPjtcblxuICAvKipcbiAgICogQ2FsbHMgdGhlIHNwZWNpZmllZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgYWxsIHRoZSBlbGVtZW50cyBpbiBhbiBhcnJheSwgaW4gZGVzY2VuZGluZyBvcmRlci4gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCwgYW5kIGlzIHByb3ZpZGVkIGFzIGFuIGFyZ3VtZW50IGluIHRoZSBuZXh0IGNhbGwgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gY2FsbGJhY2tmbiBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBmb3VyIGFyZ3VtZW50cy4gVGhlIHJlZHVjZVJpZ2h0IG1ldGhvZCBjYWxscyB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbiBvbmUgdGltZSBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheS5cbiAgICogQHBhcmFtIGluaXRpYWxWYWx1ZSBJZiBpbml0aWFsVmFsdWUgaXMgc3BlY2lmaWVkLCBpdCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsIHZhbHVlIHRvIHN0YXJ0IHRoZSBhY2N1bXVsYXRpb24uIFRoZSBmaXJzdCBjYWxsIHRvIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uIHByb3ZpZGVzIHRoaXMgdmFsdWUgYXMgYW4gYXJndW1lbnQgaW5zdGVhZCBvZiBhbiBhcnJheSB2YWx1ZS5cbiAgICogQHBhcmFtIHRoaXNBcmcgQW4gb2JqZWN0IHRvIHdoaWNoIHRoZSB0aGlzIGtleXdvcmQgY2FuIHJlZmVyIGluIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uLiBJZiB0aGlzQXJnIGlzIG9taXR0ZWQsIHVuZGVmaW5lZCBpcyB1c2VkIGFzIHRoZSB0aGlzIHZhbHVlLlxuICAgKi9cbiAgcmVkdWNlUmlnaHQoY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IFQsIGN1cnJlbnRWYWx1ZTogVCwgY3VycmVudEluZGV4OiBudW1iZXIpID0+IFQsIGluaXRpYWxWYWx1ZT86IFQsIHRoaXNBcmc/OiBhbnkpOiBQcm9taXNlPFQ+O1xuICAvKipcbiAgICogQ2FsbHMgdGhlIHNwZWNpZmllZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgYWxsIHRoZSBlbGVtZW50cyBpbiBhbiBhcnJheSwgaW4gZGVzY2VuZGluZyBvcmRlci4gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCwgYW5kIGlzIHByb3ZpZGVkIGFzIGFuIGFyZ3VtZW50IGluIHRoZSBuZXh0IGNhbGwgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gY2FsbGJhY2tmbiBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBmb3VyIGFyZ3VtZW50cy4gVGhlIHJlZHVjZVJpZ2h0IG1ldGhvZCBjYWxscyB0aGUgY2FsbGJhY2tmbiBmdW5jdGlvbiBvbmUgdGltZSBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheS5cbiAgICogQHBhcmFtIGluaXRpYWxWYWx1ZSBJZiBpbml0aWFsVmFsdWUgaXMgc3BlY2lmaWVkLCBpdCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsIHZhbHVlIHRvIHN0YXJ0IHRoZSBhY2N1bXVsYXRpb24uIFRoZSBmaXJzdCBjYWxsIHRvIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uIHByb3ZpZGVzIHRoaXMgdmFsdWUgYXMgYW4gYXJndW1lbnQgaW5zdGVhZCBvZiBhbiBhcnJheSB2YWx1ZS5cbiAgICogQHBhcmFtIHRoaXNBcmcgQW4gb2JqZWN0IHRvIHdoaWNoIHRoZSB0aGlzIGtleXdvcmQgY2FuIHJlZmVyIGluIHRoZSBjYWxsYmFja2ZuIGZ1bmN0aW9uLiBJZiB0aGlzQXJnIGlzIG9taXR0ZWQsIHVuZGVmaW5lZCBpcyB1c2VkIGFzIHRoZSB0aGlzIHZhbHVlLlxuICAgKi9cbiAgcmVkdWNlUmlnaHQ8VT4oY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IFUsIGN1cnJlbnRWYWx1ZTogVCwgY3VycmVudEluZGV4OiBudW1iZXIpID0+IFUsIGluaXRpYWxWYWx1ZTogVSwgdGhpc0FyZz86IGFueSk6IFByb21pc2U8VT47XG5cblxuICAvKipcbiAgICogcmVkdWNlcyB0aGUgY3VycmVudCB2ZWN0b3IgdG8gYW4gYXRvbSB1c2luZyB0aGUgZ2l2ZW4gcmVkdWNlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSBmIHRoZSByZWR1Y2UgZnVuY3Rpb25cbiAgICogQHBhcmFtIHRoaXNBcmd1bWVudCB0aGUgdGhpcyBjb250ZXh0IGZvciB0aGUgZnVuY3Rpb24gZGVmYXVsdCB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSB2YWx1ZXR5cGUgdGhlIG5ldyB2YWx1ZSB0eXBlIGJ5IGRlZmF1bHQgdGhlIHNhbWUgYXMgbWF0cml4IHZhbHVldHlwZVxuICAgKiBAcGFyYW0gaWR0eXBlIHRoZSBuZXcgdmxhdWUgdHlwZSBieSBkZWZhdWx0IHRoZSBzYW1lIGFzIG1hdHJpeCByb3d0eXBlXG4gICAqL1xuICByZWR1Y2VBdG9tPFUsIFVEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+KGY6IChkYXRhOiBUW10sIGlkczogUmFuZ2UsIG5hbWVzOiBzdHJpbmdbXSkgPT4gSUF0b21WYWx1ZTxVPiwgdGhpc0FyZ3VtZW50PzogYW55LCB2YWx1ZXR5cGU/OiBVRCwgaWR0eXBlPzogSURUeXBlKTogSUF0b208VSwgVUQ+O1xuXG4gIC8qKlxuICAgKiByZXR1cm4gdGhlIHJhbmdlIG9mIHRoaXMgdmVjdG9yIGFzIGEgZ3JvdXBlZCByYW5nZSwgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIHRoaXMgbWlnaHQgYmUgYSBzaW5nbGUgZ3JvdXAgb3IgbXVsdGlwbGUgb25lc1xuICAgKi9cbiAgZ3JvdXBzKCk6IFByb21pc2U8Q29tcG9zaXRlUmFuZ2UxRD47XG5cbiAgLyoqXG4gICAqIHNpbWlsYXIgdG8gZ3JvdXBzKCkgYnV0IHJldHVybnMgYSBzdHJhdGlmaWNhdGlvblxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYXNTdHJhdGlmaWNhdGlvbiBpbnN0ZWFkXG4gICAqL1xuICBzdHJhdGlmaWNhdGlvbigpOiBQcm9taXNlPElTdHJhdGlmaWNhdGlvbj47XG5cbiAgLyoqXG4gICAqIHNpbWlsYXIgdG8gZ3JvdXBzKCkgYnV0IHJldHVybnMgYSBzdHJhdGlmaWNhdGlvblxuICAgKi9cbiAgYXNTdHJhdGlmaWNhdGlvbigpOiBQcm9taXNlPElTdHJhdGlmaWNhdGlvbj47XG59XG5cbmV4cG9ydCBkZWZhdWx0IElWZWN0b3I7XG5cbmV4cG9ydCBkZWNsYXJlIHR5cGUgSU51bWVyaWNhbFZlY3RvciA9IElWZWN0b3I8bnVtYmVyLCBJTnVtYmVyVmFsdWVUeXBlRGVzYz47XG5leHBvcnQgZGVjbGFyZSB0eXBlIElDYXRlZ29yaWNhbFZlY3RvciA9IElWZWN0b3I8c3RyaW5nLCBJQ2F0ZWdvcmljYWxWYWx1ZVR5cGVEZXNjPjtcbmV4cG9ydCBkZWNsYXJlIHR5cGUgSUFueVZlY3RvciA9IElWZWN0b3I8YW55LCBJVmFsdWVUeXBlRGVzYz47XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0VmVjdG9yRGVzYygpOiBJVmVjdG9yRGF0YURlc2NyaXB0aW9uPElWYWx1ZVR5cGVEZXNjPiB7XG4gIHJldHVybiA8SVZlY3RvckRhdGFEZXNjcmlwdGlvbjxJVmFsdWVUeXBlRGVzYz4+bWl4aW4oY3JlYXRlRGVmYXVsdERhdGFEZXNjKCksIHtcbiAgICB0eXBlOiAndmVjdG9yJyxcbiAgICBpZHR5cGU6ICdfcm93cycsXG4gICAgc2l6ZTogMCxcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9XG4gIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZlY3Rvci9JVmVjdG9yLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbSBvbiAyNi4xMi4yMDE2LlxuICovXG5cblxuZXhwb3J0IHtJVmVjdG9yLCBJVmVjdG9yRGF0YURlc2NyaXB0aW9uLCBJQ2F0ZWdvcmljYWxWZWN0b3IsIElOdW1lcmljYWxWZWN0b3IsIElBbnlWZWN0b3J9IGZyb20gJy4vSVZlY3Rvcic7XG5leHBvcnQge2FzVmVjdG9yLCBJQXNWZWN0b3JPcHRpb25zfSBmcm9tICcuL1ZlY3Rvcic7XG5leHBvcnQge2FzTmFtZVZlY3Rvcn0gZnJvbSAnLi9pbnRlcm5hbC9WZWN0b3JOYW1lVmVjdG9yJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92ZWN0b3IvaW5kZXgudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAxNC4wMi4yMDE3LlxuICovXG5cbmltcG9ydCB7SVZhbHVlVHlwZURlc2N9IGZyb20gJy4uLy4uL2RhdGF0eXBlJztcbmltcG9ydCBBQXRvbSBmcm9tICcuLi8uLi9hdG9tL0FBdG9tJztcbmltcG9ydCB7SUF0b20sIElBdG9tRGF0YURlc2NyaXB0aW9uLCBJQXRvbVZhbHVlfSBmcm9tICcuLi8uLi9hdG9tL0lBdG9tJztcbmltcG9ydCB7bGlzdCBhcyBybGlzdCwgUmFuZ2VMaWtlLCBSYW5nZSwgcGFyc2UsIGFsbCwgbm9uZX0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IHtTZWxlY3RBYmxlfSBmcm9tICcuLi8uLi9pZHR5cGUnO1xuaW1wb3J0IHtJVmVjdG9yfSBmcm9tICcuLi9JVmVjdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdGVkQXRvbTxULCBEIGV4dGVuZHMgSVZhbHVlVHlwZURlc2MsIE0sIE1EIGV4dGVuZHMgSVZhbHVlVHlwZURlc2M+IGV4dGVuZHMgU2VsZWN0QWJsZSBpbXBsZW1lbnRzIElBdG9tPFQsRD4ge1xuICByZWFkb25seSBkZXNjOiBJQXRvbURhdGFEZXNjcmlwdGlvbjxEPjtcblxuICBwcml2YXRlIGNhY2hlOiBQcm9taXNlPElBdG9tVmFsdWU8VD4+ID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHY6IElWZWN0b3I8TSwgTUQ+LCBwcml2YXRlIGY6IChkYXRhOiBNW10sIGlkczogUmFuZ2UsIG5hbWVzOiBzdHJpbmdbXSkgPT4gSUF0b21WYWx1ZTxUPiwgcHJpdmF0ZSB0aGlzQXJndW1lbnQgPSB2LCBwdWJsaWMgcmVhZG9ubHkgdmFsdWV0eXBlOiBEID0gPGFueT52LnZhbHVldHlwZSwgcHJpdmF0ZSBfaWR0eXBlID0gdi5pZHR5cGUpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5kZXNjID0ge1xuICAgICAgbmFtZTogdi5kZXNjLm5hbWUgKyAnLXAnLFxuICAgICAgZnFuYW1lOiB2LmRlc2MuZnFuYW1lICsgJy1wJyxcbiAgICAgIHR5cGU6ICdhdG9tJyxcbiAgICAgIGlkOiB2LmRlc2MuaWQgKyAnLXAnLFxuICAgICAgaWR0eXBlOiB2LmlkdHlwZSxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbHVldHlwZSxcbiAgICAgIGRlc2NyaXB0aW9uOiB2LmRlc2MuZGVzY3JpcHRpb24sXG4gICAgICBjcmVhdG9yOiB2LmRlc2MuY3JlYXRvcixcbiAgICAgIHRzOiB2LmRlc2MudHNcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBsb2FkKCkge1xuICAgIGlmICh0aGlzLmNhY2hlID09PSBudWxsKSB7XG4gICAgICB0aGlzLmNhY2hlID0gUHJvbWlzZS5hbGw8YW55PihbdGhpcy52LmRhdGEoKSwgdGhpcy52LmlkcygpLCB0aGlzLnYubmFtZXMoKV0pLnRoZW4oKGFycjogYW55W10pID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZi5hcHBseSh0aGlzLnRoaXNBcmd1bWVudCwgYXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWNoZTtcbiAgfVxuXG4gIGFzeW5jIGlkKCkge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmxvYWQoKTtcbiAgICByZXR1cm4gcmxpc3QoZC5pZCk7XG4gIH1cblxuICBhc3luYyBuYW1lKCkge1xuICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmxvYWQoKTtcbiAgICByZXR1cm4gZC5uYW1lO1xuICB9XG5cbiAgYXN5bmMgZGF0YSgpIHtcbiAgICBjb25zdCBkID0gYXdhaXQgdGhpcy5sb2FkKCk7XG4gICAgcmV0dXJuIGQudmFsdWU7XG4gIH1cblxuICBnZXQgZGltKCkge1xuICAgIHJldHVybiBbMV07XG4gIH1cblxuICBnZXQgaWR0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9pZHR5cGU7XG4gIH1cblxuICBnZXQgaWR0eXBlcygpIHtcbiAgICByZXR1cm4gW3RoaXMuX2lkdHlwZV07XG4gIH1cblxuICBpZHMocmFuZ2UgPSBhbGwoKSk6IFByb21pc2U8UmFuZ2U+IHtcbiAgICByYW5nZSA9IHBhcnNlKHJhbmdlKTtcbiAgICBpZiAocmFuZ2UuaXNOb25lKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vbmUoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmlkKCk7XG4gIH1cblxuICBpZFZpZXcoaWRSYW5nZT86IFJhbmdlTGlrZSk6IFByb21pc2U8SUF0b208VCxEPj4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoPElBdG9tPFQsRD4+PGFueT50aGlzKTtcbiAgfVxuXG4gIHBlcnNpc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb3Q6IHRoaXMudi5wZXJzaXN0KCksXG4gICAgICBmOiB0aGlzLmYudG9TdHJpbmcoKSxcbiAgICAgIHZhbHVldHlwZTogdGhpcy52YWx1ZXR5cGUgPT09IDxhbnk+dGhpcy52LnZhbHVldHlwZSA/IHVuZGVmaW5lZCA6IHRoaXMudmFsdWV0eXBlLFxuICAgICAgaWR0eXBlOiB0aGlzLmlkdHlwZSA9PT0gdGhpcy52LmlkdHlwZSA/IHVuZGVmaW5lZCA6IHRoaXMuaWR0eXBlLm5hbWVcbiAgICB9O1xuICB9XG5cbiAgcmVzdG9yZShwZXJzaXN0ZWQ6IGFueSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92ZWN0b3IvaW50ZXJuYWwvUHJvamVjdGVkQXRvbS50cyIsIi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDYWxleWRvIC0gVmlzdWFsaXphdGlvbiBmb3IgTW9sZWN1bGFyIEJpb2xvZ3kgLSBodHRwOi8vY2FsZXlkby5vcmdcbiAqIENvcHlyaWdodCAoYykgVGhlIENhbGV5ZG8gVGVhbS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBuZXcgQlNEIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vY2FsZXlkby5vcmcvbGljZW5zZVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qKlxuICogQ3JlYXRlZCBieSBTYW11ZWwgR3JhdHpsIG9uIDA0LjA4LjIwMTQuXG4gKi9cblxuaW1wb3J0IHthbGwsIFJhbmdlTGlrZX0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IENvbXBvc2l0ZVJhbmdlMUQgZnJvbSAnLi4vLi4vcmFuZ2UvQ29tcG9zaXRlUmFuZ2UxRCc7XG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vLi4vcmFuZ2UvUmFuZ2UnO1xuaW1wb3J0IHtJRGF0YVR5cGUsIEFEYXRhVHlwZSwgSVZhbHVlVHlwZURlc2MsfSBmcm9tICcuLi8uLi9kYXRhdHlwZSc7XG5pbXBvcnQge0lIaXN0b2dyYW0sIHJhbmdlSGlzdH0gZnJvbSAnLi4vLi4vbWF0aCc7XG5pbXBvcnQge0lDYXRlZ29yaWNhbFZlY3RvciwgSVZlY3Rvcn0gZnJvbSAnLi4vSVZlY3Rvcic7XG5pbXBvcnQge0lTdHJhdGlmaWNhdGlvbiwgSVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9ufSBmcm9tICcuLi8uLi9zdHJhdGlmaWNhdGlvbic7XG5pbXBvcnQgU3RyYXRpZmljYXRpb25Hcm91cCBmcm9tICcuLi8uLi9zdHJhdGlmaWNhdGlvbi9TdHJhdGlmaWNhdGlvbkdyb3VwJztcblxuLyoqXG4gKiByb290IG1hdHJpeCBpbXBsZW1lbnRhdGlvbiBob2xkaW5nIHRoZSBkYXRhXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyYXRpZmljYXRpb25WZWN0b3IgZXh0ZW5kcyBBRGF0YVR5cGU8SVN0cmF0aWZpY2F0aW9uRGF0YURlc2NyaXB0aW9uPiBpbXBsZW1lbnRzIElTdHJhdGlmaWNhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB2OiBJVmVjdG9yPGFueSwgSVZhbHVlVHlwZURlc2M+LCBwcml2YXRlIHI6IENvbXBvc2l0ZVJhbmdlMUQpIHtcbiAgICBzdXBlcih7XG4gICAgICBpZDogdi5kZXNjLmlkICsgJy1zJyxcbiAgICAgIG5hbWU6IHYuZGVzYy5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHYuZGVzYy5kZXNjcmlwdGlvbixcbiAgICAgIGNyZWF0b3I6IHYuZGVzYy5jcmVhdG9yLFxuICAgICAgdHM6IHYuZGVzYy50cyxcbiAgICAgIGZxbmFtZTogdi5kZXNjLmZxbmFtZSxcbiAgICAgIHR5cGU6ICdzdHJhdGlmaWNhdGlvbicsXG4gICAgICBpZHR5cGU6IHYuaWR0eXBlLmlkLFxuICAgICAgc2l6ZTogdi5sZW5ndGgsXG4gICAgICBuZ3JvdXBzOiByLmdyb3Vwcy5sZW5ndGgsXG4gICAgICBncm91cHM6IHIuZ3JvdXBzLm1hcCgocmkpID0+ICh7bmFtZTogcmkubmFtZSwgY29sb3I6IHJpLmNvbG9yLCBzaXplOiByaS5sZW5ndGh9KSlcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudi5pZHR5cGU7XG4gIH1cblxuICBnZXQgZ3JvdXBzKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2MuZ3JvdXBzO1xuICB9XG5cbiAgZ3JvdXAoZ3JvdXA6IG51bWJlcik6IElTdHJhdGlmaWNhdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBTdHJhdGlmaWNhdGlvbkdyb3VwKHRoaXMsIGdyb3VwLCB0aGlzLmdyb3Vwc1tncm91cF0pO1xuICB9XG5cbiAgYXN5bmMgaGlzdChiaW5zPzogbnVtYmVyLCByYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpOiBQcm9taXNlPElIaXN0b2dyYW0+IHtcbiAgICAvLyBGSVhNRSB1bnVzZWQgcGFyYW1ldGVyXG4gICAgcmV0dXJuIHJhbmdlSGlzdChhd2FpdCB0aGlzLnJhbmdlKCkpO1xuICB9XG5cbiAgdmVjdG9yKCk6IFByb21pc2U8SUNhdGVnb3JpY2FsVmVjdG9yPiB7XG4gICAgcmV0dXJuIHRoaXMuYXNWZWN0b3IoKTtcbiAgfVxuXG4gIGFzVmVjdG9yKCk6IFByb21pc2U8SUNhdGVnb3JpY2FsVmVjdG9yPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSg8SUNhdGVnb3JpY2FsVmVjdG9yPnRoaXMudik7XG4gIH1cblxuICBvcmlnaW4oKTogUHJvbWlzZTxJRGF0YVR5cGU+IHtcbiAgICByZXR1cm4gdGhpcy5hc1ZlY3RvcigpO1xuICB9XG5cbiAgcmFuZ2UoKTogUHJvbWlzZTxDb21wb3NpdGVSYW5nZTFEPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnIpO1xuICB9XG5cbiAgYXN5bmMgaWRSYW5nZSgpOiBQcm9taXNlPENvbXBvc2l0ZVJhbmdlMUQ+IHtcbiAgICBjb25zdCBpZHMgPSBhd2FpdCB0aGlzLmlkcygpO1xuICAgIHJldHVybiA8Q29tcG9zaXRlUmFuZ2UxRD5pZHMuZGltKDApLnByZU11bHRpcGx5KHRoaXMuciwgdGhpcy5kaW1bMF0pO1xuICB9XG5cbiAgbmFtZXMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKSB7XG4gICAgcmV0dXJuIHRoaXMudi5uYW1lcyhyYW5nZSk7XG4gIH1cblxuICBpZHMocmFuZ2U6IFJhbmdlTGlrZSA9IGFsbCgpKTogUHJvbWlzZTxSYW5nZT4ge1xuICAgIHJldHVybiB0aGlzLnYuaWRzKHJhbmdlKTtcbiAgfVxuXG4gIGdldCBpZHR5cGVzKCkge1xuICAgIHJldHVybiBbdGhpcy5pZHR5cGVdO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjLnNpemU7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLnNpemUoKTtcbiAgfVxuXG4gIGdldCBuZ3JvdXBzKCkge1xuICAgIHJldHVybiB0aGlzLmdyb3Vwcy5sZW5ndGg7XG4gIH1cblxuICBnZXQgZGltKCkge1xuICAgIHJldHVybiBbdGhpcy5zaXplKCldO1xuICB9XG5cbiAgcGVyc2lzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogdGhpcy52LnBlcnNpc3QoKSxcbiAgICAgIGFzc3RyYXQ6IHRydWVcbiAgICB9O1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmVjdG9yL2ludGVybmFsL1N0cmF0aWZpY2F0aW9uVmVjdG9yLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMTYuMDMuMjAxNy5cbiAqL1xuaW1wb3J0IHtJQW55VmVjdG9yfSBmcm9tICcuLi8nO1xuaW1wb3J0IHtSYW5nZUxpa2UsIGFsbH0gZnJvbSAnLi4vLi4vcmFuZ2UnO1xuaW1wb3J0IEFOYW1lVmVjdG9yLCB7SVN0cmluZ1ZlY3Rvcn0gZnJvbSAnLi9BTmFtZVZlY3Rvcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3Rvck5hbWVWZWN0b3IgZXh0ZW5kcyBBTmFtZVZlY3RvcjxJQW55VmVjdG9yPiBpbXBsZW1lbnRzIElTdHJpbmdWZWN0b3Ige1xuXG4gIGNvbnN0cnVjdG9yKHZlY3RvcjogSUFueVZlY3Rvcikge1xuICAgIHN1cGVyKHZlY3Rvcik7XG4gICAgdGhpcy5yb290ID0gdGhpcztcbiAgfVxuXG4gIGdldCBpZHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZS5pZHR5cGU7XG4gIH1cblxuICBuYW1lcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLm5hbWVzKHJhbmdlKTtcbiAgfVxuXG4gIGlkcyhyYW5nZTogUmFuZ2VMaWtlID0gYWxsKCkpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlLmlkcyhyYW5nZSk7XG4gIH1cblxuICBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2UubGVuZ3RoO1xuICB9XG59XG5cbi8qKlxuICogY29udmVydHMgdGhlIG5hbWUgb2YgdGhlIGdpdmVuIHZlY3RvciBhcyBhIHN0cmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB2ZWN0b3JcbiAqIEByZXR1cm4ge0lTdHJpbmdWZWN0b3J9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc05hbWVWZWN0b3IodmVjdG9yOiBJQW55VmVjdG9yKTogSVN0cmluZ1ZlY3RvciB7XG4gIHJldHVybiBuZXcgVmVjdG9yTmFtZVZlY3Rvcih2ZWN0b3IpO1xufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmVjdG9yL2ludGVybmFsL1ZlY3Rvck5hbWVWZWN0b3IudHMiLCIvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ2FsZXlkbyAtIFZpc3VhbGl6YXRpb24gZm9yIE1vbGVjdWxhciBCaW9sb2d5IC0gaHR0cDovL2NhbGV5ZG8ub3JnXG4gKiBDb3B5cmlnaHQgKGMpIFRoZSBDYWxleWRvIFRlYW0uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgbmV3IEJTRCBsaWNlbnNlLCBhdmFpbGFibGUgYXQgaHR0cDovL2NhbGV5ZG8ub3JnL2xpY2Vuc2VcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKipcbiAqIENyZWF0ZWQgYnkgU2FtdWVsIEdyYXR6bCBvbiAwNC4wOC4yMDE0LlxuICovXG5cbmltcG9ydCB7Z2V0QVBJSlNPTn0gZnJvbSAnLi4vYWpheCc7XG5pbXBvcnQge3BhcnNlfSBmcm9tICcuLi9yYW5nZSc7XG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vcmFuZ2UvUmFuZ2UnO1xuaW1wb3J0IHtJVmFsdWVUeXBlLCBtYXNrfSBmcm9tICcuLi9kYXRhdHlwZSc7XG5pbXBvcnQge0lWZWN0b3JEYXRhRGVzY3JpcHRpb259IGZyb20gJy4vSVZlY3Rvcic7XG5pbXBvcnQge3Jlc29sdmV9IGZyb20gJy4uL2lkdHlwZSc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVZlY3RvckxvYWRlclJlc3VsdDxUPiB7XG4gIHJlYWRvbmx5IHJvd0lkczogUmFuZ2U7XG4gIHJlYWRvbmx5IHJvd3M6IHN0cmluZ1tdO1xuICByZWFkb25seSBkYXRhOiBUW107XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVZlY3RvckxvYWRlcjxUPiB7XG4gIChkZXNjOiBJVmVjdG9yRGF0YURlc2NyaXB0aW9uPGFueT4pOiBQcm9taXNlPElWZWN0b3JMb2FkZXJSZXN1bHQ8VD4+O1xufVxuXG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2aWFBUElMb2FkZXI8VD4oKSB7XG4gIGxldCBfbG9hZGVyOiBQcm9taXNlPElWZWN0b3JMb2FkZXJSZXN1bHQ8VD4+ID0gdW5kZWZpbmVkO1xuICByZXR1cm4gKGRlc2M6IElWZWN0b3JEYXRhRGVzY3JpcHRpb248YW55PikgPT4ge1xuICAgIGlmIChfbG9hZGVyKSB7IC8vaW4gdGhlIGNhY2hlXG4gICAgICByZXR1cm4gX2xvYWRlcjtcbiAgICB9XG4gICAgcmV0dXJuIF9sb2FkZXIgPSBnZXRBUElKU09OKCcvZGF0YXNldC8nICsgZGVzYy5pZCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgcmFuZ2UgPSBwYXJzZShkYXRhLnJvd0lkcyk7XG4gICAgICBkYXRhLnJvd0lkcyA9IHJhbmdlO1xuICAgICAgZGF0YS5kYXRhID0gbWFzayhkYXRhLmRhdGEsIGRlc2MudmFsdWUpO1xuXG4gICAgICBjb25zdCBpZFR5cGUgPSByZXNvbHZlKGRlc2MuaWR0eXBlKTtcbiAgICAgIGlkVHlwZS5maWxsTWFwQ2FjaGUocmFuZ2UuZGltKDApLmFzTGlzdChkYXRhLnJvd3MubGVuZ3RoKSwgZGF0YS5yb3dzKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmlhRGF0YUxvYWRlcjxUPihyb3dzOiBzdHJpbmdbXSwgcm93SWRzOiBudW1iZXJbXSwgZGF0YTogSVZhbHVlVHlwZVtdKSB7XG4gIGxldCBfZGF0YTogSVZlY3RvckxvYWRlclJlc3VsdDxUPiA9IHVuZGVmaW5lZDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoX2RhdGEpIHsgLy9pbiB0aGUgY2FjaGVcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX2RhdGEpO1xuICAgIH1cbiAgICBfZGF0YSA9IHtcbiAgICAgIHJvd0lkczogcGFyc2Uocm93SWRzKSxcbiAgICAgIHJvd3MsXG4gICAgICBkYXRhXG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF9kYXRhKTtcbiAgfTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92ZWN0b3IvbG9hZGVyLnRzIiwiLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENhbGV5ZG8gLSBWaXN1YWxpemF0aW9uIGZvciBNb2xlY3VsYXIgQmlvbG9neSAtIGh0dHA6Ly9jYWxleWRvLm9yZ1xuICogQ29weXJpZ2h0IChjKSBUaGUgQ2FsZXlkbyBUZWFtLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jYWxleWRvLm9yZy9saWNlbnNlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IFNhbXVlbCBHcmF0emwgb24gMjkuMTIuMjAxNC5cbiAqIEBkZXByZWNhdGVkIHVzZSBkaXJlY3QgaW1wb3J0c1xuICovXG5cbmltcG9ydCAqIGFzIENfIGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0ICogYXMgZGF0YV8gZnJvbSAnLi9kYXRhJztcbmltcG9ydCAqIGFzIHJhbmdlc18gZnJvbSAnLi9yYW5nZSc7XG5pbXBvcnQgKiBhcyBpZHR5cGVzXyBmcm9tICcuL2lkdHlwZSc7XG5pbXBvcnQgKiBhcyBldmVudHNfIGZyb20gJy4vZXZlbnQnO1xuaW1wb3J0ICogYXMgZ2VvbV8gZnJvbSAnLi9nZW9tJztcblxuZXhwb3J0IGNvbnN0IEMgPSBDXztcbmV4cG9ydCBjb25zdCBkYXRhID0gZGF0YV87XG5leHBvcnQgY29uc3QgcmFuZ2VzID0gcmFuZ2VzXztcbmV4cG9ydCBjb25zdCBpZHR5cGVzID0gaWR0eXBlc187XG5leHBvcnQgY29uc3QgZ2VvbSA9IGdlb21fO1xuZXhwb3J0IGNvbnN0IGV2ZW50cyA9IGV2ZW50c187XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvd3JhcHBlci50cyIsImltcG9ydCBfdHlwZW9mIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZic7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YnO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMnO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSc7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSc7XG5cbnZhciBjb25zb2xlTG9nZ2VyID0ge1xuICB0eXBlOiAnbG9nZ2VyJyxcbiAgbG9nOiBmdW5jdGlvbiBsb2coYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdsb2cnLCBhcmdzKTtcbiAgfSxcbiAgd2FybjogZnVuY3Rpb24gd2FybihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ3dhcm4nLCBhcmdzKTtcbiAgfSxcbiAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGFyZ3MpIHtcbiAgICB0aGlzLm91dHB1dCgnZXJyb3InLCBhcmdzKTtcbiAgfSxcbiAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodHlwZSwgYXJncykge1xuICAgIHZhciBfY29uc29sZTtcblxuICAgIC8qIGVzbGludCBuby1jb25zb2xlOiAwICovXG4gICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZVt0eXBlXSkgKF9jb25zb2xlID0gY29uc29sZSlbdHlwZV0uYXBwbHkoX2NvbnNvbGUsIF90b0NvbnN1bWFibGVBcnJheShhcmdzKSk7XG4gIH1cbn07XG5cbnZhciBMb2dnZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMb2dnZXIoY29uY3JldGVMb2dnZXIpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9nZ2VyKTtcblxuICAgIHRoaXMuaW5pdChjb25jcmV0ZUxvZ2dlciwgb3B0aW9ucyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9nZ2VyLCBbe1xuICAgIGtleTogXCJpbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoY29uY3JldGVMb2dnZXIpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHRoaXMucHJlZml4ID0gb3B0aW9ucy5wcmVmaXggfHwgJ2kxOG5leHQ6JztcbiAgICAgIHRoaXMubG9nZ2VyID0gY29uY3JldGVMb2dnZXIgfHwgY29uc29sZUxvZ2dlcjtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLmRlYnVnID0gb3B0aW9ucy5kZWJ1ZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RGVidWdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVidWcoYm9vbCkge1xuICAgICAgdGhpcy5kZWJ1ZyA9IGJvb2w7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2coKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnbG9nJywgJycsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ3YXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdhcm4oKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJycsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ2Vycm9yJywgJycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZXByZWNhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVwcmVjYXRlKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnd2FybicsICdXQVJOSU5HIERFUFJFQ0FURUQ6ICcsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3J3YXJkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcndhcmQoYXJncywgbHZsLCBwcmVmaXgsIGRlYnVnT25seSkge1xuICAgICAgaWYgKGRlYnVnT25seSAmJiAhdGhpcy5kZWJ1ZykgcmV0dXJuIG51bGw7XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSBhcmdzWzBdID0gXCJcIi5jb25jYXQocHJlZml4KS5jb25jYXQodGhpcy5wcmVmaXgsIFwiIFwiKS5jb25jYXQoYXJnc1swXSk7XG4gICAgICByZXR1cm4gdGhpcy5sb2dnZXJbbHZsXShhcmdzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShtb2R1bGVOYW1lKSB7XG4gICAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLmxvZ2dlciwgX29iamVjdFNwcmVhZCh7fSwge1xuICAgICAgICBwcmVmaXg6IFwiXCIuY29uY2F0KHRoaXMucHJlZml4LCBcIjpcIikuY29uY2F0KG1vZHVsZU5hbWUsIFwiOlwiKVxuICAgICAgfSwgdGhpcy5vcHRpb25zKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvZ2dlcjtcbn0oKTtcblxudmFyIGJhc2VMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbnZhciBFdmVudEVtaXR0ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50RW1pdHRlcik7XG5cbiAgICB0aGlzLm9ic2VydmVycyA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlciwgW3tcbiAgICBrZXk6IFwib25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnRzLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzW2V2ZW50XSA9IF90aGlzLm9ic2VydmVyc1tldmVudF0gfHwgW107XG5cbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkgcmV0dXJuO1xuXG4gICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tldmVudF07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vYnNlcnZlcnNbZXZlbnRdID0gdGhpcy5vYnNlcnZlcnNbZXZlbnRdLmZpbHRlcihmdW5jdGlvbiAobCkge1xuICAgICAgICByZXR1cm4gbCAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vYnNlcnZlcnNbZXZlbnRdKSB7XG4gICAgICAgIHZhciBjbG9uZWQgPSBbXS5jb25jYXQodGhpcy5vYnNlcnZlcnNbZXZlbnRdKTtcbiAgICAgICAgY2xvbmVkLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9ic2VydmVyc1snKiddKSB7XG4gICAgICAgIHZhciBfY2xvbmVkID0gW10uY29uY2F0KHRoaXMub2JzZXJ2ZXJzWycqJ10pO1xuXG4gICAgICAgIF9jbG9uZWQuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICBvYnNlcnZlci5hcHBseShvYnNlcnZlciwgW2V2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpO1xuXG4vLyBodHRwOi8vbGVhLnZlcm91Lm1lLzIwMTYvMTIvcmVzb2x2ZS1wcm9taXNlcy1leHRlcm5hbGx5LXdpdGgtdGhpcy1vbmUtd2VpcmQtdHJpY2svXG5mdW5jdGlvbiBkZWZlcigpIHtcbiAgdmFyIHJlcztcbiAgdmFyIHJlajtcbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVzID0gcmVzb2x2ZTtcbiAgICByZWogPSByZWplY3Q7XG4gIH0pO1xuICBwcm9taXNlLnJlc29sdmUgPSByZXM7XG4gIHByb21pc2UucmVqZWN0ID0gcmVqO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIG1ha2VTdHJpbmcob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAvKiBlc2xpbnQgcHJlZmVyLXRlbXBsYXRlOiAwICovXG5cbiAgcmV0dXJuICcnICsgb2JqZWN0O1xufVxuZnVuY3Rpb24gY29weShhLCBzLCB0KSB7XG4gIGEuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgIGlmIChzW21dKSB0W21dID0gc1ttXTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBFbXB0eSkge1xuICBmdW5jdGlvbiBjbGVhbktleShrZXkpIHtcbiAgICByZXR1cm4ga2V5ICYmIGtleS5pbmRleE9mKCcjIyMnKSA+IC0xID8ga2V5LnJlcGxhY2UoLyMjIy9nLCAnLicpIDoga2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuTm90VHJhdmVyc2VEZWVwZXIoKSB7XG4gICAgcmV0dXJuICFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZyc7XG4gIH1cblxuICB2YXIgc3RhY2sgPSB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycgPyBbXS5jb25jYXQocGF0aCkgOiBwYXRoLnNwbGl0KCcuJyk7XG5cbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIoKSkgcmV0dXJuIHt9O1xuICAgIHZhciBrZXkgPSBjbGVhbktleShzdGFjay5zaGlmdCgpKTtcbiAgICBpZiAoIW9iamVjdFtrZXldICYmIEVtcHR5KSBvYmplY3Rba2V5XSA9IG5ldyBFbXB0eSgpO1xuICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICB9XG5cbiAgaWYgKGNhbk5vdFRyYXZlcnNlRGVlcGVyKCkpIHJldHVybiB7fTtcbiAgcmV0dXJuIHtcbiAgICBvYmo6IG9iamVjdCxcbiAgICBrOiBjbGVhbktleShzdGFjay5zaGlmdCgpKVxuICB9O1xufVxuXG5mdW5jdGlvbiBzZXRQYXRoKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUpIHtcbiAgdmFyIF9nZXRMYXN0T2ZQYXRoID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIE9iamVjdCksXG4gICAgICBvYmogPSBfZ2V0TGFzdE9mUGF0aC5vYmosXG4gICAgICBrID0gX2dldExhc3RPZlBhdGguaztcblxuICBvYmpba10gPSBuZXdWYWx1ZTtcbn1cbmZ1bmN0aW9uIHB1c2hQYXRoKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUsIGNvbmNhdCkge1xuICB2YXIgX2dldExhc3RPZlBhdGgyID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIE9iamVjdCksXG4gICAgICBvYmogPSBfZ2V0TGFzdE9mUGF0aDIub2JqLFxuICAgICAgayA9IF9nZXRMYXN0T2ZQYXRoMi5rO1xuXG4gIG9ialtrXSA9IG9ialtrXSB8fCBbXTtcbiAgaWYgKGNvbmNhdCkgb2JqW2tdID0gb2JqW2tdLmNvbmNhdChuZXdWYWx1ZSk7XG4gIGlmICghY29uY2F0KSBvYmpba10ucHVzaChuZXdWYWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRQYXRoKG9iamVjdCwgcGF0aCkge1xuICB2YXIgX2dldExhc3RPZlBhdGgzID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgpLFxuICAgICAgb2JqID0gX2dldExhc3RPZlBhdGgzLm9iaixcbiAgICAgIGsgPSBfZ2V0TGFzdE9mUGF0aDMuaztcblxuICBpZiAoIW9iaikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIG9ialtrXTtcbn1cbmZ1bmN0aW9uIGdldFBhdGhXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRQYXRoKGRhdGEsIGtleSk7XG5cbiAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gLy8gRmFsbGJhY2sgdG8gZGVmYXVsdCB2YWx1ZXNcblxuXG4gIHJldHVybiBnZXRQYXRoKGRlZmF1bHREYXRhLCBrZXkpO1xufVxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSwgb3ZlcndyaXRlKSB7XG4gIC8qIGVzbGludCBuby1yZXN0cmljdGVkLXN5bnRheDogMCAqL1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgIGlmIChwcm9wIGluIHRhcmdldCkge1xuICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIGxlYWYgc3RyaW5nIGluIHRhcmdldCBvciBzb3VyY2UgdGhlbiByZXBsYWNlIHdpdGggc291cmNlIG9yIHNraXAgZGVwZW5kaW5nIG9uIHRoZSAnb3ZlcndyaXRlJyBzd2l0Y2hcbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W3Byb3BdID09PSAnc3RyaW5nJyB8fCB0YXJnZXRbcHJvcF0gaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIHNvdXJjZVtwcm9wXSA9PT0gJ3N0cmluZycgfHwgc291cmNlW3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgIGlmIChvdmVyd3JpdGUpIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0sIG92ZXJ3cml0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gcmVnZXhFc2NhcGUoc3RyKSB7XG4gIC8qIGVzbGludCBuby11c2VsZXNzLWVzY2FwZTogMCAqL1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCAnXFxcXCQmJyk7XG59XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG52YXIgX2VudGl0eU1hcCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7JyxcbiAgJy8nOiAnJiN4MkY7J1xufTtcbi8qIGVzbGludC1lbmFibGUgKi9cblxuZnVuY3Rpb24gZXNjYXBlKGRhdGEpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBkYXRhLnJlcGxhY2UoL1smPD5cIidcXC9dL2csIGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gX2VudGl0eU1hcFtzXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG52YXIgUmVzb3VyY2VTdG9yZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoUmVzb3VyY2VTdG9yZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2VTdG9yZShkYXRhKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcbiAgICAgIG5zOiBbJ3RyYW5zbGF0aW9uJ10sXG4gICAgICBkZWZhdWx0TlM6ICd0cmFuc2xhdGlvbidcbiAgICB9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc291cmNlU3RvcmUpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUmVzb3VyY2VTdG9yZSkuY2FsbCh0aGlzKSk7XG4gICAgRXZlbnRFbWl0dGVyLmNhbGwoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOyAvLyA8PUlFMTAgZml4ICh1bmFibGUgdG8gY2FsbCBwYXJlbnQgY29uc3RydWN0b3IpXG5cbiAgICBfdGhpcy5kYXRhID0gZGF0YSB8fCB7fTtcbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgIGlmIChfdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBfdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9ICcuJztcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVzb3VyY2VTdG9yZSwgW3tcbiAgICBrZXk6IFwiYWRkTmFtZXNwYWNlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGROYW1lc3BhY2VzKG5zKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5zLmluZGV4T2YobnMpIDwgMCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMubnMucHVzaChucyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZU5hbWVzcGFjZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlTmFtZXNwYWNlcyhucykge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy5vcHRpb25zLm5zLmluZGV4T2YobnMpO1xuXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMubnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UmVzb3VyY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzb3VyY2UobG5nLCBucywga2V5KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgICB2YXIga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5U2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICAgIHZhciBwYXRoID0gW2xuZywgbnNdO1xuICAgICAgaWYgKGtleSAmJiB0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGguY29uY2F0KGtleSk7XG4gICAgICBpZiAoa2V5ICYmIHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSBwYXRoID0gcGF0aC5jb25jYXQoa2V5U2VwYXJhdG9yID8ga2V5LnNwbGl0KGtleVNlcGFyYXRvcikgOiBrZXkpO1xuXG4gICAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFBhdGgodGhpcy5kYXRhLCBwYXRoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUmVzb3VyY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmVzb3VyY2UobG5nLCBucywga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHtcbiAgICAgICAgc2lsZW50OiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHZhciBrZXlTZXBhcmF0b3IgPSB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgICAgaWYgKGtleVNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSBrZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgICB2YXIgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICAgIGlmIChrZXkpIHBhdGggPSBwYXRoLmNvbmNhdChrZXlTZXBhcmF0b3IgPyBrZXkuc3BsaXQoa2V5U2VwYXJhdG9yKSA6IGtleSk7XG5cbiAgICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgICAgcGF0aCA9IGxuZy5zcGxpdCgnLicpO1xuICAgICAgICB2YWx1ZSA9IG5zO1xuICAgICAgICBucyA9IHBhdGhbMV07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkTmFtZXNwYWNlcyhucyk7XG4gICAgICBzZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCwgdmFsdWUpO1xuICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRSZXNvdXJjZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmVzb3VyY2VzKGxuZywgbnMsIHJlc291cmNlcykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHtcbiAgICAgICAgc2lsZW50OiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgLyogZXNsaW50IG5vLXJlc3RyaWN0ZWQtc3ludGF4OiAwICovXG4gICAgICBmb3IgKHZhciBtIGluIHJlc291cmNlcykge1xuICAgICAgICBpZiAodHlwZW9mIHJlc291cmNlc1ttXSA9PT0gJ3N0cmluZycgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShyZXNvdXJjZXNbbV0pID09PSAnW29iamVjdCBBcnJheV0nKSB0aGlzLmFkZFJlc291cmNlKGxuZywgbnMsIG0sIHJlc291cmNlc1ttXSwge1xuICAgICAgICAgIHNpbGVudDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIHJlc291cmNlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZFJlc291cmNlQnVuZGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJlc291cmNlQnVuZGxlKGxuZywgbnMsIHJlc291cmNlcywgZGVlcCwgb3ZlcndyaXRlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDoge1xuICAgICAgICBzaWxlbnQ6IGZhbHNlXG4gICAgICB9O1xuICAgICAgdmFyIHBhdGggPSBbbG5nLCBuc107XG5cbiAgICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgICAgcGF0aCA9IGxuZy5zcGxpdCgnLicpO1xuICAgICAgICBkZWVwID0gcmVzb3VyY2VzO1xuICAgICAgICByZXNvdXJjZXMgPSBucztcbiAgICAgICAgbnMgPSBwYXRoWzFdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkZE5hbWVzcGFjZXMobnMpO1xuICAgICAgdmFyIHBhY2sgPSBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCkgfHwge307XG5cbiAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgIGRlZXBFeHRlbmQocGFjaywgcmVzb3VyY2VzLCBvdmVyd3JpdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFjayA9IF9vYmplY3RTcHJlYWQoe30sIHBhY2ssIHJlc291cmNlcyk7XG4gICAgICB9XG5cbiAgICAgIHNldFBhdGgodGhpcy5kYXRhLCBwYXRoLCBwYWNrKTtcbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCByZXNvdXJjZXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVSZXNvdXJjZUJ1bmRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSB7XG4gICAgICBpZiAodGhpcy5oYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSkge1xuICAgICAgICBkZWxldGUgdGhpcy5kYXRhW2xuZ11bbnNdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbW92ZU5hbWVzcGFjZXMobnMpO1xuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVkJywgbG5nLCBucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhc1Jlc291cmNlQnVuZGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFJlc291cmNlKGxuZywgbnMpICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFJlc291cmNlQnVuZGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICAgIGlmICghbnMpIG5zID0gdGhpcy5vcHRpb25zLmRlZmF1bHROUzsgLy8gQ09NUEFUSUJJTElUWTogcmVtb3ZlIGV4dGVuZCBpbiB2Mi4xLjBcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJID09PSAndjEnKSByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwge30sIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucykpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldERhdGFCeUxhbmd1YWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGFCeUxhbmd1YWdlKGxuZykge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YVtsbmddO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzb3VyY2VTdG9yZTtcbn0oRXZlbnRFbWl0dGVyKTtcblxudmFyIHBvc3RQcm9jZXNzb3IgPSB7XG4gIHByb2Nlc3NvcnM6IHt9LFxuICBhZGRQb3N0UHJvY2Vzc29yOiBmdW5jdGlvbiBhZGRQb3N0UHJvY2Vzc29yKG1vZHVsZSkge1xuICAgIHRoaXMucHJvY2Vzc29yc1ttb2R1bGUubmFtZV0gPSBtb2R1bGU7XG4gIH0sXG4gIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKHByb2Nlc3NvcnMsIHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcHJvY2Vzc29ycy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9jZXNzb3IpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9jZXNzb3JzW3Byb2Nlc3Nvcl0pIHZhbHVlID0gX3RoaXMucHJvY2Vzc29yc1twcm9jZXNzb3JdLnByb2Nlc3ModmFsdWUsIGtleSwgb3B0aW9ucywgdHJhbnNsYXRvcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG52YXIgVHJhbnNsYXRvciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoVHJhbnNsYXRvciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgZnVuY3Rpb24gVHJhbnNsYXRvcihzZXJ2aWNlcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2xhdG9yKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFRyYW5zbGF0b3IpLmNhbGwodGhpcykpO1xuICAgIEV2ZW50RW1pdHRlci5jYWxsKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsgLy8gPD1JRTEwIGZpeCAodW5hYmxlIHRvIGNhbGwgcGFyZW50IGNvbnN0cnVjdG9yKVxuXG4gICAgY29weShbJ3Jlc291cmNlU3RvcmUnLCAnbGFuZ3VhZ2VVdGlscycsICdwbHVyYWxSZXNvbHZlcicsICdpbnRlcnBvbGF0b3InLCAnYmFja2VuZENvbm5lY3RvcicsICdpMThuRm9ybWF0JywgJ3V0aWxzJ10sIHNlcnZpY2VzLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICBpZiAoX3RoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgX3RoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgfVxuXG4gICAgX3RoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ3RyYW5zbGF0b3InKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNsYXRvciwgW3tcbiAgICBrZXk6IFwiY2hhbmdlTGFuZ3VhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UobG5nKSB7XG4gICAgICBpZiAobG5nKSB0aGlzLmxhbmd1YWdlID0gbG5nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleGlzdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhpc3RzKGtleSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcbiAgICAgICAgaW50ZXJwb2xhdGlvbjoge31cbiAgICAgIH07XG4gICAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5LCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXNvbHZlZCAmJiByZXNvbHZlZC5yZXMgIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXh0cmFjdEZyb21LZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdEZyb21LZXkoa2V5LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yIHx8IHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICAgIGlmIChuc1NlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSBuc1NlcGFyYXRvciA9ICc6JztcbiAgICAgIHZhciBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgICAgdmFyIG5hbWVzcGFjZXMgPSBvcHRpb25zLm5zIHx8IHRoaXMub3B0aW9ucy5kZWZhdWx0TlM7XG5cbiAgICAgIGlmIChuc1NlcGFyYXRvciAmJiBrZXkuaW5kZXhPZihuc1NlcGFyYXRvcikgPiAtMSkge1xuICAgICAgICB2YXIgcGFydHMgPSBrZXkuc3BsaXQobnNTZXBhcmF0b3IpO1xuICAgICAgICBpZiAobnNTZXBhcmF0b3IgIT09IGtleVNlcGFyYXRvciB8fCBuc1NlcGFyYXRvciA9PT0ga2V5U2VwYXJhdG9yICYmIHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKHBhcnRzWzBdKSA+IC0xKSBuYW1lc3BhY2VzID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAga2V5ID0gcGFydHMuam9pbihrZXlTZXBhcmF0b3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnKSBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIG5hbWVzcGFjZXM6IG5hbWVzcGFjZXNcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRyYW5zbGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2xhdGUoa2V5cywgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9PSAnb2JqZWN0JyAmJiB0aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgLyogZXNsaW50IHByZWZlci1yZXN0LXBhcmFtczogMCAqL1xuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9OyAvLyBub24gdmFsaWQga2V5cyBoYW5kbGluZ1xuXG4gICAgICBpZiAoa2V5cyA9PT0gdW5kZWZpbmVkIHx8IGtleXMgPT09IG51bGwpIHJldHVybiAnJztcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShrZXlzKSkga2V5cyA9IFtTdHJpbmcoa2V5cyldOyAvLyBzZXBhcmF0b3JzXG5cbiAgICAgIHZhciBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yOyAvLyBnZXQgbmFtZXNwYWNlKHMpXG5cbiAgICAgIHZhciBfdGhpcyRleHRyYWN0RnJvbUtleSA9IHRoaXMuZXh0cmFjdEZyb21LZXkoa2V5c1trZXlzLmxlbmd0aCAtIDFdLCBvcHRpb25zKSxcbiAgICAgICAgICBrZXkgPSBfdGhpcyRleHRyYWN0RnJvbUtleS5rZXksXG4gICAgICAgICAgbmFtZXNwYWNlcyA9IF90aGlzJGV4dHJhY3RGcm9tS2V5Lm5hbWVzcGFjZXM7XG5cbiAgICAgIHZhciBuYW1lc3BhY2UgPSBuYW1lc3BhY2VzW25hbWVzcGFjZXMubGVuZ3RoIC0gMV07IC8vIHJldHVybiBrZXkgb24gQ0lNb2RlXG5cbiAgICAgIHZhciBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlO1xuICAgICAgdmFyIGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlID0gb3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZSB8fCB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU7XG5cbiAgICAgIGlmIChsbmcgJiYgbG5nLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnKSB7XG4gICAgICAgIGlmIChhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSkge1xuICAgICAgICAgIHZhciBuc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgICAgICAgIHJldHVybiBuYW1lc3BhY2UgKyBuc1NlcGFyYXRvciArIGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9IC8vIHJlc29sdmUgZnJvbSBzdG9yZVxuXG5cbiAgICAgIHZhciByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZShrZXlzLCBvcHRpb25zKTtcbiAgICAgIHZhciByZXMgPSByZXNvbHZlZCAmJiByZXNvbHZlZC5yZXM7XG4gICAgICB2YXIgcmVzVXNlZEtleSA9IHJlc29sdmVkICYmIHJlc29sdmVkLnVzZWRLZXkgfHwga2V5O1xuICAgICAgdmFyIHJlc0V4YWN0VXNlZEtleSA9IHJlc29sdmVkICYmIHJlc29sdmVkLmV4YWN0VXNlZEtleSB8fCBrZXk7XG4gICAgICB2YXIgcmVzVHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkocmVzKTtcbiAgICAgIHZhciBub09iamVjdCA9IFsnW29iamVjdCBOdW1iZXJdJywgJ1tvYmplY3QgRnVuY3Rpb25dJywgJ1tvYmplY3QgUmVnRXhwXSddO1xuICAgICAgdmFyIGpvaW5BcnJheXMgPSBvcHRpb25zLmpvaW5BcnJheXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuam9pbkFycmF5cyA6IHRoaXMub3B0aW9ucy5qb2luQXJyYXlzOyAvLyBvYmplY3RcblxuICAgICAgdmFyIGhhbmRsZUFzT2JqZWN0SW5JMThuRm9ybWF0ID0gIXRoaXMuaTE4bkZvcm1hdCB8fCB0aGlzLmkxOG5Gb3JtYXQuaGFuZGxlQXNPYmplY3Q7XG4gICAgICB2YXIgaGFuZGxlQXNPYmplY3QgPSB0eXBlb2YgcmVzICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgcmVzICE9PSAnYm9vbGVhbicgJiYgdHlwZW9mIHJlcyAhPT0gJ251bWJlcic7XG5cbiAgICAgIGlmIChoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCAmJiByZXMgJiYgaGFuZGxlQXNPYmplY3QgJiYgbm9PYmplY3QuaW5kZXhPZihyZXNUeXBlKSA8IDAgJiYgISh0eXBlb2Ygam9pbkFycmF5cyA9PT0gJ3N0cmluZycgJiYgcmVzVHlwZSA9PT0gJ1tvYmplY3QgQXJyYXldJykpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zLnJldHVybk9iamVjdHMgJiYgIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2FybignYWNjZXNzaW5nIGFuIG9iamVjdCAtIGJ1dCByZXR1cm5PYmplY3RzIG9wdGlvbnMgaXMgbm90IGVuYWJsZWQhJyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIgPyB0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyKHJlc1VzZWRLZXksIHJlcywgb3B0aW9ucykgOiBcImtleSAnXCIuY29uY2F0KGtleSwgXCIgKFwiKS5jb25jYXQodGhpcy5sYW5ndWFnZSwgXCIpJyByZXR1cm5lZCBhbiBvYmplY3QgaW5zdGVhZCBvZiBzdHJpbmcuXCIpO1xuICAgICAgICB9IC8vIGlmIHdlIGdvdCBhIHNlcGFyYXRvciB3ZSBsb29wIG92ZXIgY2hpbGRyZW4gLSBlbHNlIHdlIGp1c3QgcmV0dXJuIG9iamVjdCBhcyBpc1xuICAgICAgICAvLyBhcyBoYXZpbmcgaXQgc2V0IHRvIGZhbHNlIG1lYW5zIG5vIGhpZXJhcmNoeSBzbyBubyBsb29rdXAgZm9yIG5lc3RlZCB2YWx1ZXNcblxuXG4gICAgICAgIGlmIChrZXlTZXBhcmF0b3IpIHtcbiAgICAgICAgICB2YXIgcmVzVHlwZUlzQXJyYXkgPSByZXNUeXBlID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgICAgIHZhciBjb3B5JCQxID0gcmVzVHlwZUlzQXJyYXkgPyBbXSA6IHt9OyAvLyBhcHBseSBjaGlsZCB0cmFuc2xhdGlvbiBvbiBhIGNvcHlcblxuICAgICAgICAgIC8qIGVzbGludCBuby1yZXN0cmljdGVkLXN5bnRheDogMCAqL1xuXG4gICAgICAgICAgdmFyIG5ld0tleVRvVXNlID0gcmVzVHlwZUlzQXJyYXkgPyByZXNFeGFjdFVzZWRLZXkgOiByZXNVc2VkS2V5O1xuXG4gICAgICAgICAgZm9yICh2YXIgbSBpbiByZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzLCBtKSkge1xuICAgICAgICAgICAgICB2YXIgZGVlcEtleSA9IFwiXCIuY29uY2F0KG5ld0tleVRvVXNlKS5jb25jYXQoa2V5U2VwYXJhdG9yKS5jb25jYXQobSk7XG4gICAgICAgICAgICAgIGNvcHkkJDFbbV0gPSB0aGlzLnRyYW5zbGF0ZShkZWVwS2V5LCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgam9pbkFycmF5czogZmFsc2UsXG4gICAgICAgICAgICAgICAgbnM6IG5hbWVzcGFjZXNcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBpZiAoY29weSQkMVttXSA9PT0gZGVlcEtleSkgY29weSQkMVttXSA9IHJlc1ttXTsgLy8gaWYgbm90aGluZyBmb3VuZCB1c2Ugb3JnaW5hbCB2YWx1ZSBhcyBmYWxsYmFja1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlcyA9IGNvcHkkJDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgdHlwZW9mIGpvaW5BcnJheXMgPT09ICdzdHJpbmcnICYmIHJlc1R5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgLy8gYXJyYXkgc3BlY2lhbCB0cmVhdG1lbnRcbiAgICAgICAgcmVzID0gcmVzLmpvaW4oam9pbkFycmF5cyk7XG4gICAgICAgIGlmIChyZXMpIHJlcyA9IHRoaXMuZXh0ZW5kVHJhbnNsYXRpb24ocmVzLCBrZXlzLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN0cmluZywgZW1wdHkgb3IgbnVsbFxuICAgICAgICB2YXIgdXNlZERlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHVzZWRLZXkgPSBmYWxzZTsgLy8gZmFsbGJhY2sgdmFsdWVcblxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChyZXMpICYmIG9wdGlvbnMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1c2VkRGVmYXVsdCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgc3VmZml4ID0gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgobG5nLCBvcHRpb25zLmNvdW50KTtcbiAgICAgICAgICAgIHJlcyA9IG9wdGlvbnNbXCJkZWZhdWx0VmFsdWVcIi5jb25jYXQoc3VmZml4KV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyZXMpIHJlcyA9IG9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSkge1xuICAgICAgICAgIHVzZWRLZXkgPSB0cnVlO1xuICAgICAgICAgIHJlcyA9IGtleTtcbiAgICAgICAgfSAvLyBzYXZlIG1pc3NpbmdcblxuXG4gICAgICAgIHZhciB1cGRhdGVNaXNzaW5nID0gb3B0aW9ucy5kZWZhdWx0VmFsdWUgJiYgb3B0aW9ucy5kZWZhdWx0VmFsdWUgIT09IHJlcyAmJiB0aGlzLm9wdGlvbnMudXBkYXRlTWlzc2luZztcblxuICAgICAgICBpZiAodXNlZEtleSB8fCB1c2VkRGVmYXVsdCB8fCB1cGRhdGVNaXNzaW5nKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIubG9nKHVwZGF0ZU1pc3NpbmcgPyAndXBkYXRlS2V5JyA6ICdtaXNzaW5nS2V5JywgbG5nLCBuYW1lc3BhY2UsIGtleSwgdXBkYXRlTWlzc2luZyA/IG9wdGlvbnMuZGVmYXVsdFZhbHVlIDogcmVzKTtcbiAgICAgICAgICB2YXIgbG5ncyA9IFtdO1xuICAgICAgICAgIHZhciBmYWxsYmFja0xuZ3MgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsIG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvID09PSAnZmFsbGJhY2snICYmIGZhbGxiYWNrTG5ncyAmJiBmYWxsYmFja0xuZ3NbMF0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmFsbGJhY2tMbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxuZ3MucHVzaChmYWxsYmFja0xuZ3NbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdhbGwnKSB7XG4gICAgICAgICAgICBsbmdzID0gdGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG5ncy5wdXNoKG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzZW5kID0gZnVuY3Rpb24gc2VuZChsLCBrKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMyLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIobCwgbmFtZXNwYWNlLCBrLCB1cGRhdGVNaXNzaW5nID8gb3B0aW9ucy5kZWZhdWx0VmFsdWUgOiByZXMsIHVwZGF0ZU1pc3NpbmcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuYmFja2VuZENvbm5lY3RvciAmJiBfdGhpczIuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZykge1xuICAgICAgICAgICAgICBfdGhpczIuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZyhsLCBuYW1lc3BhY2UsIGssIHVwZGF0ZU1pc3NpbmcgPyBvcHRpb25zLmRlZmF1bHRWYWx1ZSA6IHJlcywgdXBkYXRlTWlzc2luZywgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMi5lbWl0KCdtaXNzaW5nS2V5JywgbCwgbmFtZXNwYWNlLCBrLCByZXMpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nKSB7XG4gICAgICAgICAgICB2YXIgbmVlZHNQbHVyYWxIYW5kbGluZyA9IG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5jb3VudCAhPT0gJ3N0cmluZyc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdQbHVyYWxzICYmIG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgbG5ncy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBsdXJhbHMgPSBfdGhpczIucGx1cmFsUmVzb2x2ZXIuZ2V0UGx1cmFsRm9ybXNPZktleShsLCBrZXkpO1xuXG4gICAgICAgICAgICAgICAgcGx1cmFscy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2VuZChbbF0sIHApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbmQobG5ncywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gZXh0ZW5kXG5cblxuICAgICAgICByZXMgPSB0aGlzLmV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5cywgb3B0aW9ucywgcmVzb2x2ZWQpOyAvLyBhcHBlbmQgbmFtZXNwYWNlIGlmIHN0aWxsIGtleVxuXG4gICAgICAgIGlmICh1c2VkS2V5ICYmIHJlcyA9PT0ga2V5ICYmIHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXkpIHJlcyA9IFwiXCIuY29uY2F0KG5hbWVzcGFjZSwgXCI6XCIpLmNvbmNhdChrZXkpOyAvLyBwYXJzZU1pc3NpbmdLZXlIYW5kbGVyXG5cbiAgICAgICAgaWYgKHVzZWRLZXkgJiYgdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIpIHJlcyA9IHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKHJlcyk7XG4gICAgICB9IC8vIHJldHVyblxuXG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4dGVuZFRyYW5zbGF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5LCBvcHRpb25zLCByZXNvbHZlZCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LnBhcnNlKSB7XG4gICAgICAgIHJlcyA9IHRoaXMuaTE4bkZvcm1hdC5wYXJzZShyZXMsIG9wdGlvbnMsIHJlc29sdmVkLnVzZWRMbmcsIHJlc29sdmVkLnVzZWROUywgcmVzb2x2ZWQudXNlZEtleSwge1xuICAgICAgICAgIHJlc29sdmVkOiByZXNvbHZlZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMuc2tpcEludGVycG9sYXRpb24pIHtcbiAgICAgICAgLy8gaTE4bmV4dC5wYXJzaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHRoaXMuaW50ZXJwb2xhdG9yLmluaXQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgIGludGVycG9sYXRpb246IF9vYmplY3RTcHJlYWQoe30sIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLCBvcHRpb25zLmludGVycG9sYXRpb24pXG4gICAgICAgIH0pKTsgLy8gaW50ZXJwb2xhdGVcblxuICAgICAgICB2YXIgZGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiB0eXBlb2Ygb3B0aW9ucy5yZXBsYWNlICE9PSAnc3RyaW5nJyA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSBkYXRhID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywgZGF0YSk7XG4gICAgICAgIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHJlcywgZGF0YSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSwgb3B0aW9ucyk7IC8vIG5lc3RpbmdcblxuICAgICAgICBpZiAob3B0aW9ucy5uZXN0ICE9PSBmYWxzZSkgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IubmVzdChyZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLnRyYW5zbGF0ZS5hcHBseShfdGhpczMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucy5pbnRlcnBvbGF0aW9uKSB0aGlzLmludGVycG9sYXRvci5yZXNldCgpO1xuICAgICAgfSAvLyBwb3N0IHByb2Nlc3NcblxuXG4gICAgICB2YXIgcG9zdFByb2Nlc3MgPSBvcHRpb25zLnBvc3RQcm9jZXNzIHx8IHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcztcbiAgICAgIHZhciBwb3N0UHJvY2Vzc29yTmFtZXMgPSB0eXBlb2YgcG9zdFByb2Nlc3MgPT09ICdzdHJpbmcnID8gW3Bvc3RQcm9jZXNzXSA6IHBvc3RQcm9jZXNzO1xuXG4gICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQgJiYgcmVzICE9PSBudWxsICYmIHBvc3RQcm9jZXNzb3JOYW1lcyAmJiBwb3N0UHJvY2Vzc29yTmFtZXMubGVuZ3RoICYmIG9wdGlvbnMuYXBwbHlQb3N0UHJvY2Vzc29yICE9PSBmYWxzZSkge1xuICAgICAgICByZXMgPSBwb3N0UHJvY2Vzc29yLmhhbmRsZShwb3N0UHJvY2Vzc29yTmFtZXMsIHJlcywga2V5LCB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkID8gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgaTE4blJlc29sdmVkOiByZXNvbHZlZFxuICAgICAgICB9LCBvcHRpb25zKSA6IG9wdGlvbnMsIHRoaXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNvbHZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmUoa2V5cykge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBmb3VuZDtcbiAgICAgIHZhciB1c2VkS2V5OyAvLyBwbGFpbiBrZXlcblxuICAgICAgdmFyIGV4YWN0VXNlZEtleTsgLy8ga2V5IHdpdGggY29udGV4dCAvIHBsdXJhbFxuXG4gICAgICB2YXIgdXNlZExuZztcbiAgICAgIHZhciB1c2VkTlM7XG4gICAgICBpZiAodHlwZW9mIGtleXMgPT09ICdzdHJpbmcnKSBrZXlzID0gW2tleXNdOyAvLyBmb3JFYWNoIHBvc3NpYmxlIGtleVxuXG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgaWYgKF90aGlzNC5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBleHRyYWN0ZWQgPSBfdGhpczQuZXh0cmFjdEZyb21LZXkoaywgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIGtleSA9IGV4dHJhY3RlZC5rZXk7XG4gICAgICAgIHVzZWRLZXkgPSBrZXk7XG4gICAgICAgIHZhciBuYW1lc3BhY2VzID0gZXh0cmFjdGVkLm5hbWVzcGFjZXM7XG4gICAgICAgIGlmIChfdGhpczQub3B0aW9ucy5mYWxsYmFja05TKSBuYW1lc3BhY2VzID0gbmFtZXNwYWNlcy5jb25jYXQoX3RoaXM0Lm9wdGlvbnMuZmFsbGJhY2tOUyk7XG4gICAgICAgIHZhciBuZWVkc1BsdXJhbEhhbmRsaW5nID0gb3B0aW9ucy5jb3VudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRpb25zLmNvdW50ICE9PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIG5lZWRzQ29udGV4dEhhbmRsaW5nID0gb3B0aW9ucy5jb250ZXh0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuY29udGV4dCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5jb250ZXh0ICE9PSAnJztcbiAgICAgICAgdmFyIGNvZGVzID0gb3B0aW9ucy5sbmdzID8gb3B0aW9ucy5sbmdzIDogX3RoaXM0Lmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG9wdGlvbnMubG5nIHx8IF90aGlzNC5sYW5ndWFnZSwgb3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChmdW5jdGlvbiAobnMpIHtcbiAgICAgICAgICBpZiAoX3RoaXM0LmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICAgICAgdXNlZE5TID0gbnM7XG5cbiAgICAgICAgICBpZiAoX3RoaXM0LnV0aWxzICYmIF90aGlzNC51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIV90aGlzNC51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UodXNlZE5TKSkge1xuICAgICAgICAgICAgX3RoaXM0LmxvZ2dlci53YXJuKFwia2V5IFxcXCJcIi5jb25jYXQodXNlZEtleSwgXCJcXFwiIGZvciBuYW1lc3BhY2UgXFxcIlwiKS5jb25jYXQodXNlZE5TLCBcIlxcXCIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSB3YXMgbm90IHlldCBsb2FkZWRcIiksICdUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIGFwcGxpY2F0aW9uIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISEnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXM0LmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICAgICAgICB1c2VkTG5nID0gY29kZTtcbiAgICAgICAgICAgIHZhciBmaW5hbEtleSA9IGtleTtcbiAgICAgICAgICAgIHZhciBmaW5hbEtleXMgPSBbZmluYWxLZXldO1xuXG4gICAgICAgICAgICBpZiAoX3RoaXM0LmkxOG5Gb3JtYXQgJiYgX3RoaXM0LmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cykge1xuICAgICAgICAgICAgICBfdGhpczQuaTE4bkZvcm1hdC5hZGRMb29rdXBLZXlzKGZpbmFsS2V5cywga2V5LCBjb2RlLCBucywgb3B0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgcGx1cmFsU3VmZml4O1xuICAgICAgICAgICAgICBpZiAobmVlZHNQbHVyYWxIYW5kbGluZykgcGx1cmFsU3VmZml4ID0gX3RoaXM0LnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChjb2RlLCBvcHRpb25zLmNvdW50KTsgLy8gZmFsbGJhY2sgZm9yIHBsdXJhbCBpZiBjb250ZXh0IG5vdCBmb3VuZFxuXG4gICAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nICYmIG5lZWRzQ29udGV4dEhhbmRsaW5nKSBmaW5hbEtleXMucHVzaChmaW5hbEtleSArIHBsdXJhbFN1ZmZpeCk7IC8vIGdldCBrZXkgZm9yIGNvbnRleHQgaWYgbmVlZGVkXG5cbiAgICAgICAgICAgICAgaWYgKG5lZWRzQ29udGV4dEhhbmRsaW5nKSBmaW5hbEtleXMucHVzaChmaW5hbEtleSArPSBcIlwiLmNvbmNhdChfdGhpczQub3B0aW9ucy5jb250ZXh0U2VwYXJhdG9yKS5jb25jYXQob3B0aW9ucy5jb250ZXh0KSk7IC8vIGdldCBrZXkgZm9yIHBsdXJhbCBpZiBuZWVkZWRcblxuICAgICAgICAgICAgICBpZiAobmVlZHNQbHVyYWxIYW5kbGluZykgZmluYWxLZXlzLnB1c2goZmluYWxLZXkgKz0gcGx1cmFsU3VmZml4KTtcbiAgICAgICAgICAgIH0gLy8gaXRlcmF0ZSBvdmVyIGZpbmFsS2V5cyBzdGFydGluZyB3aXRoIG1vc3Qgc3BlY2lmaWMgcGx1cmFsa2V5ICgtPiBjb250ZXh0a2V5IG9ubHkpIC0+IHNpbmd1bGFya2V5IG9ubHlcblxuXG4gICAgICAgICAgICB2YXIgcG9zc2libGVLZXk7XG4gICAgICAgICAgICAvKiBlc2xpbnQgbm8tY29uZC1hc3NpZ246IDAgKi9cblxuICAgICAgICAgICAgd2hpbGUgKHBvc3NpYmxlS2V5ID0gZmluYWxLZXlzLnBvcCgpKSB7XG4gICAgICAgICAgICAgIGlmICghX3RoaXM0LmlzVmFsaWRMb29rdXAoZm91bmQpKSB7XG4gICAgICAgICAgICAgICAgZXhhY3RVc2VkS2V5ID0gcG9zc2libGVLZXk7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBfdGhpczQuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIHBvc3NpYmxlS2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzOiBmb3VuZCxcbiAgICAgICAgdXNlZEtleTogdXNlZEtleSxcbiAgICAgICAgZXhhY3RVc2VkS2V5OiBleGFjdFVzZWRLZXksXG4gICAgICAgIHVzZWRMbmc6IHVzZWRMbmcsXG4gICAgICAgIHVzZWROUzogdXNlZE5TXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkTG9va3VwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWRMb29rdXAocmVzKSB7XG4gICAgICByZXR1cm4gcmVzICE9PSB1bmRlZmluZWQgJiYgISghdGhpcy5vcHRpb25zLnJldHVybk51bGwgJiYgcmVzID09PSBudWxsKSAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuRW1wdHlTdHJpbmcgJiYgcmVzID09PSAnJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFJlc291cmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlc291cmNlKGNvZGUsIG5zLCBrZXkpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKSByZXR1cm4gdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKGNvZGUsIG5zLCBrZXksIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VTdG9yZS5nZXRSZXNvdXJjZShjb2RlLCBucywga2V5LCBvcHRpb25zKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHJhbnNsYXRvcjtcbn0oRXZlbnRFbWl0dGVyKTtcblxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbn1cblxudmFyIExhbmd1YWdlVXRpbCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIExhbmd1YWdlVXRpbChvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhbmd1YWdlVXRpbCk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMud2hpdGVsaXN0ID0gdGhpcy5vcHRpb25zLndoaXRlbGlzdCB8fCBmYWxzZTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdsYW5ndWFnZVV0aWxzJyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGFuZ3VhZ2VVdGlsLCBbe1xuICAgIGtleTogXCJnZXRTY3JpcHRQYXJ0RnJvbUNvZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpIHtcbiAgICAgIGlmICghY29kZSB8fCBjb2RlLmluZGV4T2YoJy0nKSA8IDApIHJldHVybiBudWxsO1xuICAgICAgdmFyIHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgICBpZiAocC5sZW5ndGggPT09IDIpIHJldHVybiBudWxsO1xuICAgICAgcC5wb3AoKTtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShwLmpvaW4oJy0nKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldExhbmd1YWdlUGFydEZyb21Db2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpIHtcbiAgICAgIGlmICghY29kZSB8fCBjb2RlLmluZGV4T2YoJy0nKSA8IDApIHJldHVybiBjb2RlO1xuICAgICAgdmFyIHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocFswXSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcm1hdExhbmd1YWdlQ29kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkge1xuICAgICAgLy8gaHR0cDovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9sYW5ndWFnZS10YWdzL2xhbmd1YWdlLXRhZ3MueGh0bWxcbiAgICAgIGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICB2YXIgc3BlY2lhbENhc2VzID0gWydoYW5zJywgJ2hhbnQnLCAnbGF0bicsICdjeXJsJywgJ2NhbnMnLCAnbW9uZycsICdhcmFiJ107XG4gICAgICAgIHZhciBwID0gY29kZS5zcGxpdCgnLScpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG93ZXJDYXNlTG5nKSB7XG4gICAgICAgICAgcCA9IHAubWFwKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHAubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgcFswXSA9IHBbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzFdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMV0gPSBjYXBpdGFsaXplKHBbMV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpOyAvLyBpZiBsZW5naHQgMiBndWVzcyBpdCdzIGEgY291bnRyeVxuXG4gICAgICAgICAgaWYgKHBbMV0ubGVuZ3RoID09PSAyKSBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIGlmIChwWzBdICE9PSAnc2duJyAmJiBwWzJdLmxlbmd0aCA9PT0gMikgcFsyXSA9IHBbMl0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsxXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzFdID0gY2FwaXRhbGl6ZShwWzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzJdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMl0gPSBjYXBpdGFsaXplKHBbMl0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcC5qb2luKCctJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2xlYW5Db2RlIHx8IHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmcgPyBjb2RlLnRvTG93ZXJDYXNlKCkgOiBjb2RlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1doaXRlbGlzdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzV2hpdGVsaXN0ZWQoY29kZSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkID09PSAnbGFuZ3VhZ2VPbmx5JyB8fCB0aGlzLm9wdGlvbnMubm9uRXhwbGljaXRXaGl0ZWxpc3QpIHtcbiAgICAgICAgY29kZSA9IHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhdGhpcy53aGl0ZWxpc3QgfHwgIXRoaXMud2hpdGVsaXN0Lmxlbmd0aCB8fCB0aGlzLndoaXRlbGlzdC5pbmRleE9mKGNvZGUpID4gLTE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEZhbGxiYWNrQ29kZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja3MsIGNvZGUpIHtcbiAgICAgIGlmICghZmFsbGJhY2tzKSByZXR1cm4gW107XG4gICAgICBpZiAodHlwZW9mIGZhbGxiYWNrcyA9PT0gJ3N0cmluZycpIGZhbGxiYWNrcyA9IFtmYWxsYmFja3NdO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoZmFsbGJhY2tzKSA9PT0gJ1tvYmplY3QgQXJyYXldJykgcmV0dXJuIGZhbGxiYWNrcztcbiAgICAgIGlmICghY29kZSkgcmV0dXJuIGZhbGxiYWNrc1tcImRlZmF1bHRcIl0gfHwgW107IC8vIGFzdW1lIHdlIGhhdmUgYW4gb2JqZWN0IGRlZmluaW5nIGZhbGxiYWNrc1xuXG4gICAgICB2YXIgZm91bmQgPSBmYWxsYmFja3NbY29kZV07XG4gICAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKV07XG4gICAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKV07XG4gICAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1tcImRlZmF1bHRcIl07XG4gICAgICByZXR1cm4gZm91bmQgfHwgW107XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvUmVzb2x2ZUhpZXJhcmNoeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1Jlc29sdmVIaWVyYXJjaHkoY29kZSwgZmFsbGJhY2tDb2RlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZmFsbGJhY2tDb2RlcyA9IHRoaXMuZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja0NvZGUgfHwgdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIHx8IFtdLCBjb2RlKTtcbiAgICAgIHZhciBjb2RlcyA9IFtdO1xuXG4gICAgICB2YXIgYWRkQ29kZSA9IGZ1bmN0aW9uIGFkZENvZGUoYykge1xuICAgICAgICBpZiAoIWMpIHJldHVybjtcblxuICAgICAgICBpZiAoX3RoaXMuaXNXaGl0ZWxpc3RlZChjKSkge1xuICAgICAgICAgIGNvZGVzLnB1c2goYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJyZWplY3Rpbmcgbm9uLXdoaXRlbGlzdGVkIGxhbmd1YWdlIGNvZGU6IFwiLmNvbmNhdChjKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknKSBhZGRDb2RlKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnbGFuZ3VhZ2VPbmx5JyAmJiB0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2N1cnJlbnRPbmx5JykgYWRkQ29kZSh0aGlzLmdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKSk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2N1cnJlbnRPbmx5JykgYWRkQ29kZSh0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGFkZENvZGUodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkpO1xuICAgICAgfVxuXG4gICAgICBmYWxsYmFja0NvZGVzLmZvckVhY2goZnVuY3Rpb24gKGZjKSB7XG4gICAgICAgIGlmIChjb2Rlcy5pbmRleE9mKGZjKSA8IDApIGFkZENvZGUoX3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGZjKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb2RlcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGFuZ3VhZ2VVdGlsO1xufSgpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG52YXIgc2V0cyA9IFt7XG4gIGxuZ3M6IFsnYWNoJywgJ2FrJywgJ2FtJywgJ2FybicsICdicicsICdmaWwnLCAnZ3VuJywgJ2xuJywgJ21mZScsICdtZycsICdtaScsICdvYycsICdwdCcsICdwdC1CUicsICd0ZycsICd0aScsICd0cicsICd1eicsICd3YSddLFxuICBucjogWzEsIDJdLFxuICBmYzogMVxufSwge1xuICBsbmdzOiBbJ2FmJywgJ2FuJywgJ2FzdCcsICdheicsICdiZycsICdibicsICdjYScsICdkYScsICdkZScsICdkZXYnLCAnZWwnLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLCAnZmknLCAnZm8nLCAnZnVyJywgJ2Z5JywgJ2dsJywgJ2d1JywgJ2hhJywgJ2hpJywgJ2h1JywgJ2h5JywgJ2lhJywgJ2l0JywgJ2tuJywgJ2t1JywgJ2xiJywgJ21haScsICdtbCcsICdtbicsICdtcicsICduYWgnLCAnbmFwJywgJ25iJywgJ25lJywgJ25sJywgJ25uJywgJ25vJywgJ25zbycsICdwYScsICdwYXAnLCAncG1zJywgJ3BzJywgJ3B0LVBUJywgJ3JtJywgJ3NjbycsICdzZScsICdzaScsICdzbycsICdzb24nLCAnc3EnLCAnc3YnLCAnc3cnLCAndGEnLCAndGUnLCAndGsnLCAndXInLCAneW8nXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydheScsICdibycsICdjZ2cnLCAnZmEnLCAnaWQnLCAnamEnLCAnamJvJywgJ2thJywgJ2trJywgJ2ttJywgJ2tvJywgJ2t5JywgJ2xvJywgJ21zJywgJ3NhaCcsICdzdScsICd0aCcsICd0dCcsICd1ZycsICd2aScsICd3bycsICd6aCddLFxuICBucjogWzFdLFxuICBmYzogM1xufSwge1xuICBsbmdzOiBbJ2JlJywgJ2JzJywgJ2NucicsICdkeicsICdocicsICdydScsICdzcicsICd1ayddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogNFxufSwge1xuICBsbmdzOiBbJ2FyJ10sXG4gIG5yOiBbMCwgMSwgMiwgMywgMTEsIDEwMF0sXG4gIGZjOiA1XG59LCB7XG4gIGxuZ3M6IFsnY3MnLCAnc2snXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDZcbn0sIHtcbiAgbG5nczogWydjc2InLCAncGwnXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDdcbn0sIHtcbiAgbG5nczogWydjeSddLFxuICBucjogWzEsIDIsIDMsIDhdLFxuICBmYzogOFxufSwge1xuICBsbmdzOiBbJ2ZyJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiA5XG59LCB7XG4gIGxuZ3M6IFsnZ2EnXSxcbiAgbnI6IFsxLCAyLCAzLCA3LCAxMV0sXG4gIGZjOiAxMFxufSwge1xuICBsbmdzOiBbJ2dkJ10sXG4gIG5yOiBbMSwgMiwgMywgMjBdLFxuICBmYzogMTFcbn0sIHtcbiAgbG5nczogWydpcyddLFxuICBucjogWzEsIDJdLFxuICBmYzogMTJcbn0sIHtcbiAgbG5nczogWydqdiddLFxuICBucjogWzAsIDFdLFxuICBmYzogMTNcbn0sIHtcbiAgbG5nczogWydrdyddLFxuICBucjogWzEsIDIsIDMsIDRdLFxuICBmYzogMTRcbn0sIHtcbiAgbG5nczogWydsdCddLFxuICBucjogWzEsIDIsIDEwXSxcbiAgZmM6IDE1XG59LCB7XG4gIGxuZ3M6IFsnbHYnXSxcbiAgbnI6IFsxLCAyLCAwXSxcbiAgZmM6IDE2XG59LCB7XG4gIGxuZ3M6IFsnbWsnXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDE3XG59LCB7XG4gIGxuZ3M6IFsnbW5rJ10sXG4gIG5yOiBbMCwgMSwgMl0sXG4gIGZjOiAxOFxufSwge1xuICBsbmdzOiBbJ210J10sXG4gIG5yOiBbMSwgMiwgMTEsIDIwXSxcbiAgZmM6IDE5XG59LCB7XG4gIGxuZ3M6IFsnb3InXSxcbiAgbnI6IFsyLCAxXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydybyddLFxuICBucjogWzEsIDIsIDIwXSxcbiAgZmM6IDIwXG59LCB7XG4gIGxuZ3M6IFsnc2wnXSxcbiAgbnI6IFs1LCAxLCAyLCAzXSxcbiAgZmM6IDIxXG59LCB7XG4gIGxuZ3M6IFsnaGUnXSxcbiAgbnI6IFsxLCAyLCAyMCwgMjFdLFxuICBmYzogMjJcbn1dO1xudmFyIF9ydWxlc1BsdXJhbHNUeXBlcyA9IHtcbiAgMTogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID4gMSk7XG4gIH0sXG4gIDI6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAhPSAxKTtcbiAgfSxcbiAgMzogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIDQ6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICA1OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT09IDAgPyAwIDogbiA9PSAxID8gMSA6IG4gPT0gMiA/IDIgOiBuICUgMTAwID49IDMgJiYgbiAlIDEwMCA8PSAxMCA/IDMgOiBuICUgMTAwID49IDExID8gNCA6IDUpO1xuICB9LFxuICA2OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID49IDIgJiYgbiA8PSA0ID8gMSA6IDIpO1xuICB9LFxuICA3OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICA4OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogbiAhPSA4ICYmIG4gIT0gMTEgPyAyIDogMyk7XG4gIH0sXG4gIDk6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA+PSAyKTtcbiAgfSxcbiAgMTA6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuIDwgNyA/IDIgOiBuIDwgMTEgPyAzIDogNCk7XG4gIH0sXG4gIDExOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSB8fCBuID09IDExID8gMCA6IG4gPT0gMiB8fCBuID09IDEyID8gMSA6IG4gPiAyICYmIG4gPCAyMCA/IDIgOiAzKTtcbiAgfSxcbiAgMTI6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwICE9IDEgfHwgbiAlIDEwMCA9PSAxMSk7XG4gIH0sXG4gIDEzOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gIT09IDApO1xuICB9LFxuICAxNDogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gPT0gMyA/IDIgOiAzKTtcbiAgfSxcbiAgMTU6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICUgMTAgPj0gMiAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICAxNjogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gIT09IDAgPyAxIDogMik7XG4gIH0sXG4gIDE3OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSB8fCBuICUgMTAgPT0gMSA/IDAgOiAxKTtcbiAgfSxcbiAgMTg6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAwID8gMCA6IG4gPT0gMSA/IDEgOiAyKTtcbiAgfSxcbiAgMTk6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT09IDAgfHwgbiAlIDEwMCA+IDEgJiYgbiAlIDEwMCA8IDExID8gMSA6IG4gJSAxMDAgPiAxMCAmJiBuICUgMTAwIDwgMjAgPyAyIDogMyk7XG4gIH0sXG4gIDIwOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09PSAwIHx8IG4gJSAxMDAgPiAwICYmIG4gJSAxMDAgPCAyMCA/IDEgOiAyKTtcbiAgfSxcbiAgMjE6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwMCA9PSAxID8gMSA6IG4gJSAxMDAgPT0gMiA/IDIgOiBuICUgMTAwID09IDMgfHwgbiAlIDEwMCA9PSA0ID8gMyA6IDApO1xuICB9LFxuICAyMjogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID09PSAxID8gMCA6IG4gPT09IDIgPyAxIDogKG4gPCAwIHx8IG4gPiAxMCkgJiYgbiAlIDEwID09IDAgPyAyIDogMyk7XG4gIH1cbn07XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmZ1bmN0aW9uIGNyZWF0ZVJ1bGVzKCkge1xuICB2YXIgcnVsZXMgPSB7fTtcbiAgc2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChzZXQpIHtcbiAgICBzZXQubG5ncy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICBydWxlc1tsXSA9IHtcbiAgICAgICAgbnVtYmVyczogc2V0Lm5yLFxuICAgICAgICBwbHVyYWxzOiBfcnVsZXNQbHVyYWxzVHlwZXNbc2V0LmZjXVxuICAgICAgfTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBydWxlcztcbn1cblxudmFyIFBsdXJhbFJlc29sdmVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGx1cmFsUmVzb2x2ZXIobGFuZ3VhZ2VVdGlscykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbHVyYWxSZXNvbHZlcik7XG5cbiAgICB0aGlzLmxhbmd1YWdlVXRpbHMgPSBsYW5ndWFnZVV0aWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgncGx1cmFsUmVzb2x2ZXInKTtcbiAgICB0aGlzLnJ1bGVzID0gY3JlYXRlUnVsZXMoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQbHVyYWxSZXNvbHZlciwgW3tcbiAgICBrZXk6IFwiYWRkUnVsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRSdWxlKGxuZywgb2JqKSB7XG4gICAgICB0aGlzLnJ1bGVzW2xuZ10gPSBvYmo7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFJ1bGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UnVsZShjb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5ydWxlc1tjb2RlXSB8fCB0aGlzLnJ1bGVzW3RoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm5lZWRzUGx1cmFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5lZWRzUGx1cmFsKGNvZGUpIHtcbiAgICAgIHZhciBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUpO1xuICAgICAgcmV0dXJuIHJ1bGUgJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA+IDE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFBsdXJhbEZvcm1zT2ZLZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGx1cmFsRm9ybXNPZktleShjb2RlLCBrZXkpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgIHZhciBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUpO1xuICAgICAgaWYgKCFydWxlKSByZXR1cm4gcmV0O1xuICAgICAgcnVsZS5udW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdmFyIHN1ZmZpeCA9IF90aGlzLmdldFN1ZmZpeChjb2RlLCBuKTtcblxuICAgICAgICByZXQucHVzaChcIlwiLmNvbmNhdChrZXkpLmNvbmNhdChzdWZmaXgpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U3VmZml4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN1ZmZpeChjb2RlLCBjb3VudCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUpO1xuXG4gICAgICBpZiAocnVsZSkge1xuICAgICAgICAvLyBpZiAocnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMSkgcmV0dXJuICcnOyAvLyBvbmx5IHNpbmd1bGFyXG4gICAgICAgIHZhciBpZHggPSBydWxlLm5vQWJzID8gcnVsZS5wbHVyYWxzKGNvdW50KSA6IHJ1bGUucGx1cmFscyhNYXRoLmFicyhjb3VudCkpO1xuICAgICAgICB2YXIgc3VmZml4ID0gcnVsZS5udW1iZXJzW2lkeF07IC8vIHNwZWNpYWwgdHJlYXRtZW50IGZvciBsbmdzIG9ubHkgaGF2aW5nIHNpbmd1bGFyIGFuZCBwbHVyYWxcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4ICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICAgICAgaWYgKHN1ZmZpeCA9PT0gMikge1xuICAgICAgICAgICAgc3VmZml4ID0gJ3BsdXJhbCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdWZmaXggPT09IDEpIHtcbiAgICAgICAgICAgIHN1ZmZpeCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXR1cm5TdWZmaXggPSBmdW5jdGlvbiByZXR1cm5TdWZmaXgoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5vcHRpb25zLnByZXBlbmQgJiYgc3VmZml4LnRvU3RyaW5nKCkgPyBfdGhpczIub3B0aW9ucy5wcmVwZW5kICsgc3VmZml4LnRvU3RyaW5nKCkgOiBzdWZmaXgudG9TdHJpbmcoKTtcbiAgICAgICAgfTsgLy8gQ09NUEFUSUJJTElUWSBKU09OXG4gICAgICAgIC8vIHYxXG5cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjEnKSB7XG4gICAgICAgICAgaWYgKHN1ZmZpeCA9PT0gMSkgcmV0dXJuICcnO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3VmZml4ID09PSAnbnVtYmVyJykgcmV0dXJuIFwiX3BsdXJhbF9cIi5jb25jYXQoc3VmZml4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgLyogdjIgKi9cbiAgICAgICAgdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjInKSB7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAvKiB2MyAtIGdldHRleHQgaW5kZXggKi9cbiAgICAgICAgdGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4ICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wcmVwZW5kICYmIGlkeC50b1N0cmluZygpID8gdGhpcy5vcHRpb25zLnByZXBlbmQgKyBpZHgudG9TdHJpbmcoKSA6IGlkeC50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlci53YXJuKFwibm8gcGx1cmFsIHJ1bGUgZm91bmQgZm9yOiBcIi5jb25jYXQoY29kZSkpO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQbHVyYWxSZXNvbHZlcjtcbn0oKTtcblxudmFyIEludGVycG9sYXRvciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEludGVycG9sYXRvcigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJwb2xhdG9yKTtcblxuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2ludGVycG9sYXRvcicpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICB0aGlzLmZvcm1hdCA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0IHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSW50ZXJwb2xhdG9yLCBbe1xuICAgIGtleTogXCJpbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICBpZiAoIW9wdGlvbnMuaW50ZXJwb2xhdGlvbikgb3B0aW9ucy5pbnRlcnBvbGF0aW9uID0ge1xuICAgICAgICBlc2NhcGVWYWx1ZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHZhciBpT3B0cyA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbjtcbiAgICAgIHRoaXMuZXNjYXBlID0gaU9wdHMuZXNjYXBlICE9PSB1bmRlZmluZWQgPyBpT3B0cy5lc2NhcGUgOiBlc2NhcGU7XG4gICAgICB0aGlzLmVzY2FwZVZhbHVlID0gaU9wdHMuZXNjYXBlVmFsdWUgIT09IHVuZGVmaW5lZCA/IGlPcHRzLmVzY2FwZVZhbHVlIDogdHJ1ZTtcbiAgICAgIHRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSA9IGlPcHRzLnVzZVJhd1ZhbHVlVG9Fc2NhcGUgIT09IHVuZGVmaW5lZCA/IGlPcHRzLnVzZVJhd1ZhbHVlVG9Fc2NhcGUgOiBmYWxzZTtcbiAgICAgIHRoaXMucHJlZml4ID0gaU9wdHMucHJlZml4ID8gcmVnZXhFc2NhcGUoaU9wdHMucHJlZml4KSA6IGlPcHRzLnByZWZpeEVzY2FwZWQgfHwgJ3t7JztcbiAgICAgIHRoaXMuc3VmZml4ID0gaU9wdHMuc3VmZml4ID8gcmVnZXhFc2NhcGUoaU9wdHMuc3VmZml4KSA6IGlPcHRzLnN1ZmZpeEVzY2FwZWQgfHwgJ319JztcbiAgICAgIHRoaXMuZm9ybWF0U2VwYXJhdG9yID0gaU9wdHMuZm9ybWF0U2VwYXJhdG9yID8gaU9wdHMuZm9ybWF0U2VwYXJhdG9yIDogaU9wdHMuZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcbiAgICAgIHRoaXMudW5lc2NhcGVQcmVmaXggPSBpT3B0cy51bmVzY2FwZVN1ZmZpeCA/ICcnIDogaU9wdHMudW5lc2NhcGVQcmVmaXggfHwgJy0nO1xuICAgICAgdGhpcy51bmVzY2FwZVN1ZmZpeCA9IHRoaXMudW5lc2NhcGVQcmVmaXggPyAnJyA6IGlPcHRzLnVuZXNjYXBlU3VmZml4IHx8ICcnO1xuICAgICAgdGhpcy5uZXN0aW5nUHJlZml4ID0gaU9wdHMubmVzdGluZ1ByZWZpeCA/IHJlZ2V4RXNjYXBlKGlPcHRzLm5lc3RpbmdQcmVmaXgpIDogaU9wdHMubmVzdGluZ1ByZWZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyR0KCcpO1xuICAgICAgdGhpcy5uZXN0aW5nU3VmZml4ID0gaU9wdHMubmVzdGluZ1N1ZmZpeCA/IHJlZ2V4RXNjYXBlKGlPcHRzLm5lc3RpbmdTdWZmaXgpIDogaU9wdHMubmVzdGluZ1N1ZmZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyknKTtcbiAgICAgIHRoaXMubWF4UmVwbGFjZXMgPSBpT3B0cy5tYXhSZXBsYWNlcyA/IGlPcHRzLm1heFJlcGxhY2VzIDogMTAwMDsgLy8gdGhlIHJlZ2V4cFxuXG4gICAgICB0aGlzLnJlc2V0UmVnRXhwKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5pbml0KHRoaXMub3B0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0UmVnRXhwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0UmVnRXhwKCkge1xuICAgICAgLy8gdGhlIHJlZ2V4cFxuICAgICAgdmFyIHJlZ2V4cFN0ciA9IFwiXCIuY29uY2F0KHRoaXMucHJlZml4LCBcIiguKz8pXCIpLmNvbmNhdCh0aGlzLnN1ZmZpeCk7XG4gICAgICB0aGlzLnJlZ2V4cCA9IG5ldyBSZWdFeHAocmVnZXhwU3RyLCAnZycpO1xuICAgICAgdmFyIHJlZ2V4cFVuZXNjYXBlU3RyID0gXCJcIi5jb25jYXQodGhpcy5wcmVmaXgpLmNvbmNhdCh0aGlzLnVuZXNjYXBlUHJlZml4LCBcIiguKz8pXCIpLmNvbmNhdCh0aGlzLnVuZXNjYXBlU3VmZml4KS5jb25jYXQodGhpcy5zdWZmaXgpO1xuICAgICAgdGhpcy5yZWdleHBVbmVzY2FwZSA9IG5ldyBSZWdFeHAocmVnZXhwVW5lc2NhcGVTdHIsICdnJyk7XG4gICAgICB2YXIgbmVzdGluZ1JlZ2V4cFN0ciA9IFwiXCIuY29uY2F0KHRoaXMubmVzdGluZ1ByZWZpeCwgXCIoLis/KVwiKS5jb25jYXQodGhpcy5uZXN0aW5nU3VmZml4KTtcbiAgICAgIHRoaXMubmVzdGluZ1JlZ2V4cCA9IG5ldyBSZWdFeHAobmVzdGluZ1JlZ2V4cFN0ciwgJ2cnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW50ZXJwb2xhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RyLCBkYXRhLCBsbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBtYXRjaDtcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIHZhciByZXBsYWNlcztcbiAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzIHx8IHt9O1xuXG4gICAgICBmdW5jdGlvbiByZWdleFNhZmUodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwucmVwbGFjZSgvXFwkL2csICckJCQkJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBoYW5kbGVGb3JtYXQgPSBmdW5jdGlvbiBoYW5kbGVGb3JtYXQoa2V5KSB7XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihfdGhpcy5mb3JtYXRTZXBhcmF0b3IpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBnZXRQYXRoV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHAgPSBrZXkuc3BsaXQoX3RoaXMuZm9ybWF0U2VwYXJhdG9yKTtcbiAgICAgICAgdmFyIGsgPSBwLnNoaWZ0KCkudHJpbSgpO1xuICAgICAgICB2YXIgZiA9IHAuam9pbihfdGhpcy5mb3JtYXRTZXBhcmF0b3IpLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdChnZXRQYXRoV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrKSwgZiwgbG5nKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVzZXRSZWdFeHAoKTtcbiAgICAgIHZhciBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPSBvcHRpb25zICYmIG9wdGlvbnMubWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyIHx8IHRoaXMub3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI7XG4gICAgICByZXBsYWNlcyA9IDA7IC8vIHVuZXNjYXBlIGlmIGhhcyB1bmVzY2FwZVByZWZpeC9TdWZmaXhcblxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXG5cbiAgICAgIHdoaWxlIChtYXRjaCA9IHRoaXMucmVnZXhwVW5lc2NhcGUuZXhlYyhzdHIpKSB7XG4gICAgICAgIHZhbHVlID0gaGFuZGxlRm9ybWF0KG1hdGNoWzFdLnRyaW0oKSk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIoc3RyLCBtYXRjaCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YWx1ZSA9IHR5cGVvZiB0ZW1wID09PSAnc3RyaW5nJyA/IHRlbXAgOiAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIm1pc3NlZCB0byBwYXNzIGluIHZhcmlhYmxlIFwiLmNvbmNhdChtYXRjaFsxXSwgXCIgZm9yIGludGVycG9sYXRpbmcgXCIpLmNvbmNhdChzdHIpKTtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSkge1xuICAgICAgICAgIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgcmVnZXhTYWZlKHZhbHVlKSk7XG4gICAgICAgIHRoaXMucmVnZXhwVW5lc2NhcGUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmVwbGFjZXMrKztcblxuICAgICAgICBpZiAocmVwbGFjZXMgPj0gdGhpcy5tYXhSZXBsYWNlcykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlcGxhY2VzID0gMDsgLy8gcmVndWxhciBlc2NhcGUgb24gZGVtYW5kXG5cbiAgICAgIHdoaWxlIChtYXRjaCA9IHRoaXMucmVnZXhwLmV4ZWMoc3RyKSkge1xuICAgICAgICB2YWx1ZSA9IGhhbmRsZUZvcm1hdChtYXRjaFsxXS50cmltKCkpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBfdGVtcCA9IG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcihzdHIsIG1hdGNoLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdmFsdWUgPSB0eXBlb2YgX3RlbXAgPT09ICdzdHJpbmcnID8gX3RlbXAgOiAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIm1pc3NlZCB0byBwYXNzIGluIHZhcmlhYmxlIFwiLmNvbmNhdChtYXRjaFsxXSwgXCIgZm9yIGludGVycG9sYXRpbmcgXCIpLmNvbmNhdChzdHIpKTtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSkge1xuICAgICAgICAgIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IHRoaXMuZXNjYXBlVmFsdWUgPyByZWdleFNhZmUodGhpcy5lc2NhcGUodmFsdWUpKSA6IHJlZ2V4U2FmZSh2YWx1ZSk7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJlcGxhY2VzKys7XG5cbiAgICAgICAgaWYgKHJlcGxhY2VzID49IHRoaXMubWF4UmVwbGFjZXMpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJuZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5lc3Qoc3RyLCBmYykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdmFyIG1hdGNoO1xuICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICB2YXIgY2xvbmVkT3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpO1xuXG4gICAgICBjbG9uZWRPcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciA9IGZhbHNlOyAvLyBhdm9pZCBwb3N0IHByb2Nlc3Npbmcgb24gbmVzdGVkIGxvb2t1cFxuXG4gICAgICBkZWxldGUgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWU7IC8vIGFzc2VydCB3ZSBkbyBub3QgZ2V0IGEgZW5kbGVzcyBsb29wIG9uIGludGVycG9sYXRpbmcgZGVmYXVsdFZhbHVlIGFnYWluIGFuZCBhZ2FpblxuICAgICAgLy8gaWYgdmFsdWUgaXMgc29tZXRoaW5nIGxpa2UgXCJteUtleVwiOiBcImxvcmVtICQoYW5vdGhlcktleSwgeyBcImNvdW50XCI6IHt7YVZhbHVlSW5PcHRpb25zfX0gfSlcIlxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVIYXNPcHRpb25zKGtleSwgaW5oZXJpdGVkT3B0aW9ucykge1xuICAgICAgICBpZiAoa2V5LmluZGV4T2YoJywnKSA8IDApIHJldHVybiBrZXk7XG4gICAgICAgIHZhciBwID0ga2V5LnNwbGl0KCcsJyk7XG4gICAgICAgIGtleSA9IHAuc2hpZnQoKTtcbiAgICAgICAgdmFyIG9wdGlvbnNTdHJpbmcgPSBwLmpvaW4oJywnKTtcbiAgICAgICAgb3B0aW9uc1N0cmluZyA9IHRoaXMuaW50ZXJwb2xhdGUob3B0aW9uc1N0cmluZywgY2xvbmVkT3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnNTdHJpbmcgPSBvcHRpb25zU3RyaW5nLnJlcGxhY2UoLycvZywgJ1wiJyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjbG9uZWRPcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zU3RyaW5nKTtcbiAgICAgICAgICBpZiAoaW5oZXJpdGVkT3B0aW9ucykgY2xvbmVkT3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIGluaGVyaXRlZE9wdGlvbnMsIGNsb25lZE9wdGlvbnMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJmYWlsZWQgcGFyc2luZyBvcHRpb25zIHN0cmluZyBpbiBuZXN0aW5nIGZvciBrZXkgXCIuY29uY2F0KGtleSksIGUpO1xuICAgICAgICB9IC8vIGFzc2VydCB3ZSBkbyBub3QgZ2V0IGEgZW5kbGVzcyBsb29wIG9uIGludGVycG9sYXRpbmcgZGVmYXVsdFZhbHVlIGFnYWluIGFuZCBhZ2FpblxuXG5cbiAgICAgICAgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSAvLyByZWd1bGFyIGVzY2FwZSBvbiBkZW1hbmRcblxuXG4gICAgICB3aGlsZSAobWF0Y2ggPSB0aGlzLm5lc3RpbmdSZWdleHAuZXhlYyhzdHIpKSB7XG4gICAgICAgIHZhbHVlID0gZmMoaGFuZGxlSGFzT3B0aW9ucy5jYWxsKHRoaXMsIG1hdGNoWzFdLnRyaW0oKSwgY2xvbmVkT3B0aW9ucyksIGNsb25lZE9wdGlvbnMpOyAvLyBpcyBvbmx5IHRoZSBuZXN0aW5nIGtleSAoa2V5MSA9ICckKGtleTIpJykgcmV0dXJuIHRoZSB2YWx1ZSB3aXRob3V0IHN0cmluZ2lmeVxuXG4gICAgICAgIGlmICh2YWx1ZSAmJiBtYXRjaFswXSA9PT0gc3RyICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTsgLy8gbm8gc3RyaW5nIHRvIGluY2x1ZGUgb3IgZW1wdHlcblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgdmFsdWUgPSBtYWtlU3RyaW5nKHZhbHVlKTtcblxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIm1pc3NlZCB0byByZXNvbHZlIFwiLmNvbmNhdChtYXRjaFsxXSwgXCIgZm9yIG5lc3RpbmcgXCIpLmNvbmNhdChzdHIpKTtcbiAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICB9IC8vIE5lc3RlZCBrZXlzIHNob3VsZCBub3QgYmUgZXNjYXBlZCBieSBkZWZhdWx0ICM4NTRcbiAgICAgICAgLy8gdmFsdWUgPSB0aGlzLmVzY2FwZVZhbHVlID8gcmVnZXhTYWZlKHV0aWxzLmVzY2FwZSh2YWx1ZSkpIDogcmVnZXhTYWZlKHZhbHVlKTtcblxuXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludGVycG9sYXRvcjtcbn0oKTtcblxuZnVuY3Rpb24gcmVtb3ZlKGFyciwgd2hhdCkge1xuICB2YXIgZm91bmQgPSBhcnIuaW5kZXhPZih3aGF0KTtcblxuICB3aGlsZSAoZm91bmQgIT09IC0xKSB7XG4gICAgYXJyLnNwbGljZShmb3VuZCwgMSk7XG4gICAgZm91bmQgPSBhcnIuaW5kZXhPZih3aGF0KTtcbiAgfVxufVxuXG52YXIgQ29ubmVjdG9yID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhDb25uZWN0b3IsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIGZ1bmN0aW9uIENvbm5lY3RvcihiYWNrZW5kLCBzdG9yZSwgc2VydmljZXMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29ubmVjdG9yKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENvbm5lY3RvcikuY2FsbCh0aGlzKSk7XG4gICAgRXZlbnRFbWl0dGVyLmNhbGwoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOyAvLyA8PUlFMTAgZml4ICh1bmFibGUgdG8gY2FsbCBwYXJlbnQgY29uc3RydWN0b3IpXG5cbiAgICBfdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgICBfdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgIF90aGlzLnNlcnZpY2VzID0gc2VydmljZXM7XG4gICAgX3RoaXMubGFuZ3VhZ2VVdGlscyA9IHNlcnZpY2VzLmxhbmd1YWdlVXRpbHM7XG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgX3RoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2JhY2tlbmRDb25uZWN0b3InKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgIF90aGlzLnF1ZXVlID0gW107XG5cbiAgICBpZiAoX3RoaXMuYmFja2VuZCAmJiBfdGhpcy5iYWNrZW5kLmluaXQpIHtcbiAgICAgIF90aGlzLmJhY2tlbmQuaW5pdChzZXJ2aWNlcywgb3B0aW9ucy5iYWNrZW5kLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29ubmVjdG9yLCBbe1xuICAgIGtleTogXCJxdWV1ZUxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcXVldWVMb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAvLyBmaW5kIHdoYXQgbmVlZHMgdG8gYmUgbG9hZGVkXG4gICAgICB2YXIgdG9Mb2FkID0gW107XG4gICAgICB2YXIgcGVuZGluZyA9IFtdO1xuICAgICAgdmFyIHRvTG9hZExhbmd1YWdlcyA9IFtdO1xuICAgICAgdmFyIHRvTG9hZE5hbWVzcGFjZXMgPSBbXTtcbiAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChsbmcpIHtcbiAgICAgICAgdmFyIGhhc0FsbE5hbWVzcGFjZXMgPSB0cnVlO1xuICAgICAgICBuYW1lc3BhY2VzLmZvckVhY2goZnVuY3Rpb24gKG5zKSB7XG4gICAgICAgICAgdmFyIG5hbWUgPSBcIlwiLmNvbmNhdChsbmcsIFwifFwiKS5jb25jYXQobnMpO1xuXG4gICAgICAgICAgaWYgKCFvcHRpb25zLnJlbG9hZCAmJiBfdGhpczIuc3RvcmUuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHtcbiAgICAgICAgICAgIF90aGlzMi5zdGF0ZVtuYW1lXSA9IDI7IC8vIGxvYWRlZFxuICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnN0YXRlW25hbWVdIDwgMCkgOyBlbHNlIGlmIChfdGhpczIuc3RhdGVbbmFtZV0gPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nLmluZGV4T2YobmFtZSkgPCAwKSBwZW5kaW5nLnB1c2gobmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzMi5zdGF0ZVtuYW1lXSA9IDE7IC8vIHBlbmRpbmdcblxuICAgICAgICAgICAgaGFzQWxsTmFtZXNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcuaW5kZXhPZihuYW1lKSA8IDApIHBlbmRpbmcucHVzaChuYW1lKTtcbiAgICAgICAgICAgIGlmICh0b0xvYWQuaW5kZXhPZihuYW1lKSA8IDApIHRvTG9hZC5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgaWYgKHRvTG9hZE5hbWVzcGFjZXMuaW5kZXhPZihucykgPCAwKSB0b0xvYWROYW1lc3BhY2VzLnB1c2gobnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghaGFzQWxsTmFtZXNwYWNlcykgdG9Mb2FkTGFuZ3VhZ2VzLnB1c2gobG5nKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodG9Mb2FkLmxlbmd0aCB8fCBwZW5kaW5nLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goe1xuICAgICAgICAgIHBlbmRpbmc6IHBlbmRpbmcsXG4gICAgICAgICAgbG9hZGVkOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9Mb2FkOiB0b0xvYWQsXG4gICAgICAgIHBlbmRpbmc6IHBlbmRpbmcsXG4gICAgICAgIHRvTG9hZExhbmd1YWdlczogdG9Mb2FkTGFuZ3VhZ2VzLFxuICAgICAgICB0b0xvYWROYW1lc3BhY2VzOiB0b0xvYWROYW1lc3BhY2VzXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2FkZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZGVkKG5hbWUsIGVyciwgZGF0YSkge1xuICAgICAgdmFyIF9uYW1lJHNwbGl0ID0gbmFtZS5zcGxpdCgnfCcpLFxuICAgICAgICAgIF9uYW1lJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9uYW1lJHNwbGl0LCAyKSxcbiAgICAgICAgICBsbmcgPSBfbmFtZSRzcGxpdDJbMF0sXG4gICAgICAgICAgbnMgPSBfbmFtZSRzcGxpdDJbMV07XG5cbiAgICAgIGlmIChlcnIpIHRoaXMuZW1pdCgnZmFpbGVkTG9hZGluZycsIGxuZywgbnMsIGVycik7XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgZGF0YSk7XG4gICAgICB9IC8vIHNldCBsb2FkZWRcblxuXG4gICAgICB0aGlzLnN0YXRlW25hbWVdID0gZXJyID8gLTEgOiAyOyAvLyBjb25zb2xpZGF0ZWQgbG9hZGluZyBkb25lIGluIHRoaXMgcnVuIC0gb25seSBlbWl0IG9uY2UgZm9yIGEgbG9hZGVkIG5hbWVzcGFjZVxuXG4gICAgICB2YXIgbG9hZGVkID0ge307IC8vIGNhbGxiYWNrIGlmIHJlYWR5XG5cbiAgICAgIHRoaXMucXVldWUuZm9yRWFjaChmdW5jdGlvbiAocSkge1xuICAgICAgICBwdXNoUGF0aChxLmxvYWRlZCwgW2xuZ10sIG5zKTtcbiAgICAgICAgcmVtb3ZlKHEucGVuZGluZywgbmFtZSk7XG4gICAgICAgIGlmIChlcnIpIHEuZXJyb3JzLnB1c2goZXJyKTtcblxuICAgICAgICBpZiAocS5wZW5kaW5nLmxlbmd0aCA9PT0gMCAmJiAhcS5kb25lKSB7XG4gICAgICAgICAgLy8gb25seSBkbyBvbmNlIHBlciBsb2FkZWQgLT4gdGhpcy5lbWl0KCdsb2FkZWQnLCBxLmxvYWRlZCk7XG4gICAgICAgICAgT2JqZWN0LmtleXMocS5sb2FkZWQpLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgIGlmICghbG9hZGVkW2xdKSBsb2FkZWRbbF0gPSBbXTtcblxuICAgICAgICAgICAgaWYgKHEubG9hZGVkW2xdLmxlbmd0aCkge1xuICAgICAgICAgICAgICBxLmxvYWRlZFtsXS5mb3JFYWNoKGZ1bmN0aW9uIChucykge1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZWRbbF0uaW5kZXhPZihucykgPCAwKSBsb2FkZWRbbF0ucHVzaChucyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogMCAqL1xuXG4gICAgICAgICAgcS5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChxLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHEuY2FsbGJhY2socS5lcnJvcnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxLmNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTsgLy8gZW1pdCBjb25zb2xpZGF0ZWQgbG9hZGVkIGV2ZW50XG5cbiAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgbG9hZGVkKTsgLy8gcmVtb3ZlIGRvbmUgbG9hZCByZXF1ZXN0c1xuXG4gICAgICB0aGlzLnF1ZXVlID0gdGhpcy5xdWV1ZS5maWx0ZXIoZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgcmV0dXJuICFxLmRvbmU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVhZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkKGxuZywgbnMsIGZjTmFtZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmllZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICAgIHZhciB3YWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAyNTA7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gNSA/IGFyZ3VtZW50c1s1XSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmICghbG5nLmxlbmd0aCkgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTsgLy8gbm90aW5nIHRvIGxvYWRcblxuICAgICAgcmV0dXJuIHRoaXMuYmFja2VuZFtmY05hbWVdKGxuZywgbnMsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVyciAmJiBkYXRhXG4gICAgICAgIC8qID0gcmV0cnlGbGFnICovXG4gICAgICAgICYmIHRyaWVkIDwgNSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnJlYWQuY2FsbChfdGhpczMsIGxuZywgbnMsIGZjTmFtZSwgdHJpZWQgKyAxLCB3YWl0ICogMiwgY2FsbGJhY2spO1xuICAgICAgICAgIH0sIHdhaXQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKGVyciwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyogZXNsaW50IGNvbnNpc3RlbnQtcmV0dXJuOiAwICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwcmVwYXJlTG9hZGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVwYXJlTG9hZGluZyhsYW5ndWFnZXMsIG5hbWVzcGFjZXMpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKCF0aGlzLmJhY2tlbmQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybignTm8gYmFja2VuZCB3YXMgYWRkZWQgdmlhIGkxOG5leHQudXNlLiBXaWxsIG5vdCBsb2FkIHJlc291cmNlcy4nKTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGFuZ3VhZ2VzID09PSAnc3RyaW5nJykgbGFuZ3VhZ2VzID0gdGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsYW5ndWFnZXMpO1xuICAgICAgaWYgKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJykgbmFtZXNwYWNlcyA9IFtuYW1lc3BhY2VzXTtcbiAgICAgIHZhciB0b0xvYWQgPSB0aGlzLnF1ZXVlTG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIG9wdGlvbnMsIGNhbGxiYWNrKTtcblxuICAgICAgaWYgKCF0b0xvYWQudG9Mb2FkLmxlbmd0aCkge1xuICAgICAgICBpZiAoIXRvTG9hZC5wZW5kaW5nLmxlbmd0aCkgY2FsbGJhY2soKTsgLy8gbm90aGluZyB0byBsb2FkIGFuZCBubyBwZW5kaW5ncy4uLmNhbGxiYWNrIG5vd1xuXG4gICAgICAgIHJldHVybiBudWxsOyAvLyBwZW5kaW5ncyB3aWxsIHRyaWdnZXIgY2FsbGJhY2tcbiAgICAgIH1cblxuICAgICAgdG9Mb2FkLnRvTG9hZC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIF90aGlzNC5sb2FkT25lKG5hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcywge30sIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcywge1xuICAgICAgICByZWxvYWQ6IHRydWVcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZE9uZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkT25lKG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB2YXIgcHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcblxuICAgICAgdmFyIF9uYW1lJHNwbGl0MyA9IG5hbWUuc3BsaXQoJ3wnKSxcbiAgICAgICAgICBfbmFtZSRzcGxpdDQgPSBfc2xpY2VkVG9BcnJheShfbmFtZSRzcGxpdDMsIDIpLFxuICAgICAgICAgIGxuZyA9IF9uYW1lJHNwbGl0NFswXSxcbiAgICAgICAgICBucyA9IF9uYW1lJHNwbGl0NFsxXTtcblxuICAgICAgdGhpcy5yZWFkKGxuZywgbnMsICdyZWFkJywgbnVsbCwgbnVsbCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSBfdGhpczUubG9nZ2VyLndhcm4oXCJcIi5jb25jYXQocHJlZml4LCBcImxvYWRpbmcgbmFtZXNwYWNlIFwiKS5jb25jYXQobnMsIFwiIGZvciBsYW5ndWFnZSBcIikuY29uY2F0KGxuZywgXCIgZmFpbGVkXCIpLCBlcnIpO1xuICAgICAgICBpZiAoIWVyciAmJiBkYXRhKSBfdGhpczUubG9nZ2VyLmxvZyhcIlwiLmNvbmNhdChwcmVmaXgsIFwibG9hZGVkIG5hbWVzcGFjZSBcIikuY29uY2F0KG5zLCBcIiBmb3IgbGFuZ3VhZ2UgXCIpLmNvbmNhdChsbmcpLCBkYXRhKTtcblxuICAgICAgICBfdGhpczUubG9hZGVkKG5hbWUsIGVyciwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2F2ZU1pc3NpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZU1pc3NpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgaXNVcGRhdGUpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB7fTtcblxuICAgICAgaWYgKHRoaXMuc2VydmljZXMudXRpbHMgJiYgdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIXRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImRpZCBub3Qgc2F2ZSBrZXkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBmb3IgbmFtZXNwYWNlIFxcXCJcIikuY29uY2F0KG5hbWVzcGFjZSwgXCJcXFwiIGFzIHRoZSBuYW1lc3BhY2Ugd2FzIG5vdCB5ZXQgbG9hZGVkXCIpLCAnVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBhcHBsaWNhdGlvbiBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYmFja2VuZCAmJiB0aGlzLmJhY2tlbmQuY3JlYXRlKSB7XG4gICAgICAgIHRoaXMuYmFja2VuZC5jcmVhdGUobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgbnVsbFxuICAgICAgICAvKiB1bnVzZWQgY2FsbGJhY2sgKi9cbiAgICAgICAgLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgaXNVcGRhdGU6IGlzVXBkYXRlXG4gICAgICAgIH0pKTtcbiAgICAgIH0gLy8gd3JpdGUgdG8gc3RvcmUgdG8gYXZvaWQgcmVzZW5kaW5nXG5cblxuICAgICAgaWYgKCFsYW5ndWFnZXMgfHwgIWxhbmd1YWdlc1swXSkgcmV0dXJuO1xuICAgICAgdGhpcy5zdG9yZS5hZGRSZXNvdXJjZShsYW5ndWFnZXNbMF0sIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29ubmVjdG9yO1xufShFdmVudEVtaXR0ZXIpO1xuXG5mdW5jdGlvbiBnZXQoKSB7XG4gIHJldHVybiB7XG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGluaXRJbW1lZGlhdGU6IHRydWUsXG4gICAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgICBkZWZhdWx0TlM6IFsndHJhbnNsYXRpb24nXSxcbiAgICBmYWxsYmFja0xuZzogWydkZXYnXSxcbiAgICBmYWxsYmFja05TOiBmYWxzZSxcbiAgICAvLyBzdHJpbmcgb3IgYXJyYXkgb2YgbmFtZXNwYWNlc1xuICAgIHdoaXRlbGlzdDogZmFsc2UsXG4gICAgLy8gYXJyYXkgd2l0aCB3aGl0ZWxpc3RlZCBsYW5ndWFnZXNcbiAgICBub25FeHBsaWNpdFdoaXRlbGlzdDogZmFsc2UsXG4gICAgbG9hZDogJ2FsbCcsXG4gICAgLy8gfCBjdXJyZW50T25seSB8IGxhbmd1YWdlT25seVxuICAgIHByZWxvYWQ6IGZhbHNlLFxuICAgIC8vIGFycmF5IHdpdGggcHJlbG9hZCBsYW5ndWFnZXNcbiAgICBzaW1wbGlmeVBsdXJhbFN1ZmZpeDogdHJ1ZSxcbiAgICBrZXlTZXBhcmF0b3I6ICcuJyxcbiAgICBuc1NlcGFyYXRvcjogJzonLFxuICAgIHBsdXJhbFNlcGFyYXRvcjogJ18nLFxuICAgIGNvbnRleHRTZXBhcmF0b3I6ICdfJyxcbiAgICBwYXJ0aWFsQnVuZGxlZExhbmd1YWdlczogZmFsc2UsXG4gICAgLy8gYWxsb3cgYnVuZGxpbmcgY2VydGFpbiBsYW5ndWFnZXMgdGhhdCBhcmUgbm90IHJlbW90ZWx5IGZldGNoZWRcbiAgICBzYXZlTWlzc2luZzogZmFsc2UsXG4gICAgLy8gZW5hYmxlIHRvIHNlbmQgbWlzc2luZyB2YWx1ZXNcbiAgICB1cGRhdGVNaXNzaW5nOiBmYWxzZSxcbiAgICAvLyBlbmFibGUgdG8gdXBkYXRlIGRlZmF1bHQgdmFsdWVzIGlmIGRpZmZlcmVudCBmcm9tIHRyYW5zbGF0ZWQgdmFsdWUgKG9ubHkgdXNlZnVsIG9uIGluaXRpYWwgZGV2ZWxvcG1lbnQsIG9yIHdoZW4ga2VlcGluZyBjb2RlIGFzIHNvdXJjZSBvZiB0cnV0aClcbiAgICBzYXZlTWlzc2luZ1RvOiAnZmFsbGJhY2snLFxuICAgIC8vICdjdXJyZW50JyB8fCAnYWxsJ1xuICAgIHNhdmVNaXNzaW5nUGx1cmFsczogdHJ1ZSxcbiAgICAvLyB3aWxsIHNhdmUgYWxsIGZvcm1zIG5vdCBvbmx5IHNpbmd1bGFyIGtleVxuICAgIG1pc3NpbmdLZXlIYW5kbGVyOiBmYWxzZSxcbiAgICAvLyBmdW5jdGlvbihsbmcsIG5zLCBrZXksIGZhbGxiYWNrVmFsdWUpIC0+IG92ZXJyaWRlIGlmIHByZWZlciBvbiBoYW5kbGluZ1xuICAgIG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjogZmFsc2UsXG4gICAgLy8gZnVuY3Rpb24oc3RyLCBtYXRjaClcbiAgICBwb3N0UHJvY2VzczogZmFsc2UsXG4gICAgLy8gc3RyaW5nIG9yIGFycmF5IG9mIHBvc3RQcm9jZXNzb3IgbmFtZXNcbiAgICBwb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZDogZmFsc2UsXG4gICAgLy8gcGFzcyByZXNvbHZlZCBvYmplY3QgaW50byAnb3B0aW9ucy5pMThuUmVzb2x2ZWQnIGZvciBwb3N0cHJvY2Vzc29yXG4gICAgcmV0dXJuTnVsbDogdHJ1ZSxcbiAgICAvLyBhbGxvd3MgbnVsbCB2YWx1ZSBhcyB2YWxpZCB0cmFuc2xhdGlvblxuICAgIHJldHVybkVtcHR5U3RyaW5nOiB0cnVlLFxuICAgIC8vIGFsbG93cyBlbXB0eSBzdHJpbmcgdmFsdWUgYXMgdmFsaWQgdHJhbnNsYXRpb25cbiAgICByZXR1cm5PYmplY3RzOiBmYWxzZSxcbiAgICBqb2luQXJyYXlzOiBmYWxzZSxcbiAgICAvLyBvciBzdHJpbmcgdG8gam9pbiBhcnJheVxuICAgIHJldHVybmVkT2JqZWN0SGFuZGxlcjogZmFsc2UsXG4gICAgLy8gZnVuY3Rpb24oa2V5LCB2YWx1ZSwgb3B0aW9ucykgdHJpZ2dlcmVkIGlmIGtleSByZXR1cm5zIG9iamVjdCBidXQgcmV0dXJuT2JqZWN0cyBpcyBzZXQgdG8gZmFsc2VcbiAgICBwYXJzZU1pc3NpbmdLZXlIYW5kbGVyOiBmYWxzZSxcbiAgICAvLyBmdW5jdGlvbihrZXkpIHBhcnNlZCBhIGtleSB0aGF0IHdhcyBub3QgZm91bmQgaW4gdCgpIGJlZm9yZSByZXR1cm5pbmdcbiAgICBhcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk6IGZhbHNlLFxuICAgIGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlOiBmYWxzZSxcbiAgICBvdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlKGFyZ3MpIHtcbiAgICAgIHZhciByZXQgPSB7fTtcbiAgICAgIGlmIChfdHlwZW9mKGFyZ3NbMV0pID09PSAnb2JqZWN0JykgcmV0ID0gYXJnc1sxXTtcbiAgICAgIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ3N0cmluZycpIHJldC5kZWZhdWx0VmFsdWUgPSBhcmdzWzFdO1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzJdID09PSAnc3RyaW5nJykgcmV0LnREZXNjcmlwdGlvbiA9IGFyZ3NbMl07XG5cbiAgICAgIGlmIChfdHlwZW9mKGFyZ3NbMl0pID09PSAnb2JqZWN0JyB8fCBfdHlwZW9mKGFyZ3NbM10pID09PSAnb2JqZWN0Jykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3NbM10gfHwgYXJnc1syXTtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgcmV0W2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG4gICAgaW50ZXJwb2xhdGlvbjoge1xuICAgICAgZXNjYXBlVmFsdWU6IHRydWUsXG4gICAgICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgX2Zvcm1hdCwgbG5nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICBwcmVmaXg6ICd7eycsXG4gICAgICBzdWZmaXg6ICd9fScsXG4gICAgICBmb3JtYXRTZXBhcmF0b3I6ICcsJyxcbiAgICAgIC8vIHByZWZpeEVzY2FwZWQ6ICd7eycsXG4gICAgICAvLyBzdWZmaXhFc2NhcGVkOiAnfX0nLFxuICAgICAgLy8gdW5lc2NhcGVTdWZmaXg6ICcnLFxuICAgICAgdW5lc2NhcGVQcmVmaXg6ICctJyxcbiAgICAgIG5lc3RpbmdQcmVmaXg6ICckdCgnLFxuICAgICAgbmVzdGluZ1N1ZmZpeDogJyknLFxuICAgICAgLy8gbmVzdGluZ1ByZWZpeEVzY2FwZWQ6ICckdCgnLFxuICAgICAgLy8gbmVzdGluZ1N1ZmZpeEVzY2FwZWQ6ICcpJyxcbiAgICAgIC8vIGRlZmF1bHRWYXJpYWJsZXM6IHVuZGVmaW5lZCAvLyBvYmplY3QgdGhhdCBjYW4gaGF2ZSB2YWx1ZXMgdG8gaW50ZXJwb2xhdGUgb24gLSBleHRlbmRzIHBhc3NlZCBpbiBpbnRlcnBvbGF0aW9uIGRhdGFcbiAgICAgIG1heFJlcGxhY2VzOiAxMDAwIC8vIG1heCByZXBsYWNlcyB0byBwcmV2ZW50IGVuZGxlc3MgbG9vcFxuXG4gICAgfVxuICB9O1xufVxuLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG5cbmZ1bmN0aW9uIHRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucykge1xuICAvLyBjcmVhdGUgbmFtZXNwYWNlIG9iamVjdCBpZiBuYW1lc3BhY2UgaXMgcGFzc2VkIGluIGFzIHN0cmluZ1xuICBpZiAodHlwZW9mIG9wdGlvbnMubnMgPT09ICdzdHJpbmcnKSBvcHRpb25zLm5zID0gW29wdGlvbnMubnNdO1xuICBpZiAodHlwZW9mIG9wdGlvbnMuZmFsbGJhY2tMbmcgPT09ICdzdHJpbmcnKSBvcHRpb25zLmZhbGxiYWNrTG5nID0gW29wdGlvbnMuZmFsbGJhY2tMbmddO1xuICBpZiAodHlwZW9mIG9wdGlvbnMuZmFsbGJhY2tOUyA9PT0gJ3N0cmluZycpIG9wdGlvbnMuZmFsbGJhY2tOUyA9IFtvcHRpb25zLmZhbGxiYWNrTlNdOyAvLyBleHRlbmQgd2hpdGVsaXN0IHdpdGggY2ltb2RlXG5cbiAgaWYgKG9wdGlvbnMud2hpdGVsaXN0ICYmIG9wdGlvbnMud2hpdGVsaXN0LmluZGV4T2YoJ2NpbW9kZScpIDwgMCkge1xuICAgIG9wdGlvbnMud2hpdGVsaXN0ID0gb3B0aW9ucy53aGl0ZWxpc3QuY29uY2F0KFsnY2ltb2RlJ10pO1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgSTE4biA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoSTE4biwgX0V2ZW50RW1pdHRlcik7XG5cbiAgZnVuY3Rpb24gSTE4bigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSTE4bik7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihJMThuKS5jYWxsKHRoaXMpKTtcbiAgICBFdmVudEVtaXR0ZXIuY2FsbChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7IC8vIDw9SUUxMCBmaXggKHVuYWJsZSB0byBjYWxsIHBhcmVudCBjb25zdHJ1Y3RvcilcblxuICAgIF90aGlzLm9wdGlvbnMgPSB0cmFuc2Zvcm1PcHRpb25zKG9wdGlvbnMpO1xuICAgIF90aGlzLnNlcnZpY2VzID0ge307XG4gICAgX3RoaXMubG9nZ2VyID0gYmFzZUxvZ2dlcjtcbiAgICBfdGhpcy5tb2R1bGVzID0ge1xuICAgICAgZXh0ZXJuYWw6IFtdXG4gICAgfTtcblxuICAgIGlmIChjYWxsYmFjayAmJiAhX3RoaXMuaXNJbml0aWFsaXplZCAmJiAhb3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vaTE4bmV4dC9pMThuZXh0L2lzc3Vlcy84NzlcbiAgICAgIGlmICghX3RoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKSB7XG4gICAgICAgIF90aGlzLmluaXQob3B0aW9ucywgY2FsbGJhY2spO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSTE4biwgW3tcbiAgICBrZXk6IFwiaW5pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIGdldCgpLCB0aGlzLm9wdGlvbnMsIHRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucykpO1xuICAgICAgdGhpcy5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQ7XG4gICAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzT25EZW1hbmQoQ2xhc3NPck9iamVjdCkge1xuICAgICAgICBpZiAoIUNsYXNzT3JPYmplY3QpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIENsYXNzT3JPYmplY3QgPT09ICdmdW5jdGlvbicpIHJldHVybiBuZXcgQ2xhc3NPck9iamVjdCgpO1xuICAgICAgICByZXR1cm4gQ2xhc3NPck9iamVjdDtcbiAgICAgIH0gLy8gaW5pdCBzZXJ2aWNlc1xuXG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmlzQ2xvbmUpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kdWxlcy5sb2dnZXIpIHtcbiAgICAgICAgICBiYXNlTG9nZ2VyLmluaXQoY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMubG9nZ2VyKSwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYXNlTG9nZ2VyLmluaXQobnVsbCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsdSA9IG5ldyBMYW5ndWFnZVV0aWwodGhpcy5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBSZXNvdXJjZVN0b3JlKHRoaXMub3B0aW9ucy5yZXNvdXJjZXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHZhciBzID0gdGhpcy5zZXJ2aWNlcztcbiAgICAgICAgcy5sb2dnZXIgPSBiYXNlTG9nZ2VyO1xuICAgICAgICBzLnJlc291cmNlU3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICBzLmxhbmd1YWdlVXRpbHMgPSBsdTtcbiAgICAgICAgcy5wbHVyYWxSZXNvbHZlciA9IG5ldyBQbHVyYWxSZXNvbHZlcihsdSwge1xuICAgICAgICAgIHByZXBlbmQ6IHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IsXG4gICAgICAgICAgY29tcGF0aWJpbGl0eUpTT046IHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTixcbiAgICAgICAgICBzaW1wbGlmeVBsdXJhbFN1ZmZpeDogdGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4XG4gICAgICAgIH0pO1xuICAgICAgICBzLmludGVycG9sYXRvciA9IG5ldyBJbnRlcnBvbGF0b3IodGhpcy5vcHRpb25zKTtcbiAgICAgICAgcy51dGlscyA9IHtcbiAgICAgICAgICBoYXNMb2FkZWROYW1lc3BhY2U6IHRoaXMuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQodGhpcylcbiAgICAgICAgfTtcbiAgICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yID0gbmV3IENvbm5lY3RvcihjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5iYWNrZW5kKSwgcy5yZXNvdXJjZVN0b3JlLCBzLCB0aGlzLm9wdGlvbnMpOyAvLyBwaXBlIGV2ZW50cyBmcm9tIGJhY2tlbmRDb25uZWN0b3JcblxuICAgICAgICBzLmJhY2tlbmRDb25uZWN0b3Iub24oJyonLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczIuZW1pdC5hcHBseShfdGhpczIsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSB7XG4gICAgICAgICAgcy5sYW5ndWFnZURldGVjdG9yID0gY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3Rvcik7XG4gICAgICAgICAgcy5sYW5ndWFnZURldGVjdG9yLmluaXQocywgdGhpcy5vcHRpb25zLmRldGVjdGlvbiwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCkge1xuICAgICAgICAgIHMuaTE4bkZvcm1hdCA9IGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpO1xuICAgICAgICAgIGlmIChzLmkxOG5Gb3JtYXQuaW5pdCkgcy5pMThuRm9ybWF0LmluaXQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcih0aGlzLnNlcnZpY2VzLCB0aGlzLm9wdGlvbnMpOyAvLyBwaXBlIGV2ZW50cyBmcm9tIHRyYW5zbGF0b3JcblxuICAgICAgICB0aGlzLnRyYW5zbGF0b3Iub24oJyonLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczIuZW1pdC5hcHBseShfdGhpczIsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgaWYgKG0uaW5pdCkgbS5pbml0KF90aGlzMik7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBhcHBlbmQgYXBpXG5cblxuICAgICAgdmFyIHN0b3JlQXBpID0gWydnZXRSZXNvdXJjZScsICdhZGRSZXNvdXJjZScsICdhZGRSZXNvdXJjZXMnLCAnYWRkUmVzb3VyY2VCdW5kbGUnLCAncmVtb3ZlUmVzb3VyY2VCdW5kbGUnLCAnaGFzUmVzb3VyY2VCdW5kbGUnLCAnZ2V0UmVzb3VyY2VCdW5kbGUnLCAnZ2V0RGF0YUJ5TGFuZ3VhZ2UnXTtcbiAgICAgIHN0b3JlQXBpLmZvckVhY2goZnVuY3Rpb24gKGZjTmFtZSkge1xuICAgICAgICBfdGhpczJbZmNOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX3RoaXMyJHN0b3JlO1xuXG4gICAgICAgICAgcmV0dXJuIChfdGhpczIkc3RvcmUgPSBfdGhpczIuc3RvcmUpW2ZjTmFtZV0uYXBwbHkoX3RoaXMyJHN0b3JlLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuXG4gICAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICAgIF90aGlzMi5jaGFuZ2VMYW5ndWFnZShfdGhpczIub3B0aW9ucy5sbmcsIGZ1bmN0aW9uIChlcnIsIHQpIHtcbiAgICAgICAgICBfdGhpczIuaXNJbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICBfdGhpczIubG9nZ2VyLmxvZygnaW5pdGlhbGl6ZWQnLCBfdGhpczIub3B0aW9ucyk7XG5cbiAgICAgICAgICBfdGhpczIuZW1pdCgnaW5pdGlhbGl6ZWQnLCBfdGhpczIub3B0aW9ucyk7XG5cbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHQpOyAvLyBub3QgcmVqZWN0aW5nIG9uIGVyciAoYXMgZXJyIGlzIG9ubHkgYSBsb2FkaW5nIHRyYW5zbGF0aW9uIGZhaWxlZCB3YXJuaW5nKVxuXG4gICAgICAgICAgY2FsbGJhY2soZXJyLCB0KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlc291cmNlcyB8fCAhdGhpcy5vcHRpb25zLmluaXRJbW1lZGlhdGUpIHtcbiAgICAgICAgbG9hZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChsb2FkLCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgIH1cbiAgICAvKiBlc2xpbnQgY29uc2lzdGVudC1yZXR1cm46IDAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxvYWRSZXNvdXJjZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZFJlc291cmNlcygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5vb3A7XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnJlc291cmNlcyB8fCB0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpIHtcbiAgICAgICAgaWYgKHRoaXMubGFuZ3VhZ2UgJiYgdGhpcy5sYW5ndWFnZS50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGF2b2lkIGxvYWRpbmcgcmVzb3VyY2VzIGZvciBjaW1vZGVcblxuICAgICAgICB2YXIgdG9Mb2FkID0gW107XG5cbiAgICAgICAgdmFyIGFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChsbmcpIHtcbiAgICAgICAgICBpZiAoIWxuZykgcmV0dXJuO1xuXG4gICAgICAgICAgdmFyIGxuZ3MgPSBfdGhpczMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobG5nKTtcblxuICAgICAgICAgIGxuZ3MuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgaWYgKHRvTG9hZC5pbmRleE9mKGwpIDwgMCkgdG9Mb2FkLnB1c2gobCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLmxhbmd1YWdlKSB7XG4gICAgICAgICAgLy8gYXQgbGVhc3QgbG9hZCBmYWxsYmFja3MgaW4gdGhpcyBjYXNlXG4gICAgICAgICAgdmFyIGZhbGxiYWNrcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICAgICAgZmFsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBlbmQobCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBwZW5kKHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVsb2FkKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGVuZChsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5sb2FkKHRvTG9hZCwgdGhpcy5vcHRpb25zLm5zLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVsb2FkUmVzb3VyY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbG9hZFJlc291cmNlcyhsbmdzLCBucywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICBpZiAoIWxuZ3MpIGxuZ3MgPSB0aGlzLmxhbmd1YWdlcztcbiAgICAgIGlmICghbnMpIG5zID0gdGhpcy5vcHRpb25zLm5zO1xuICAgICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBub29wO1xuICAgICAgdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnJlbG9hZChsbmdzLCBucywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7IC8vIG5vdCByZWplY3Rpbmcgb24gZXJyIChhcyBlcnIgaXMgb25seSBhIGxvYWRpbmcgdHJhbnNsYXRpb24gZmFpbGVkIHdhcm5pbmcpXG5cbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlKG1vZHVsZSkge1xuICAgICAgaWYgKG1vZHVsZS50eXBlID09PSAnYmFja2VuZCcpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLmJhY2tlbmQgPSBtb2R1bGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2xvZ2dlcicgfHwgbW9kdWxlLmxvZyAmJiBtb2R1bGUud2FybiAmJiBtb2R1bGUuZXJyb3IpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLmxvZ2dlciA9IG1vZHVsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZHVsZS50eXBlID09PSAnbGFuZ3VhZ2VEZXRlY3RvcicpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IgPSBtb2R1bGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2kxOG5Gb3JtYXQnKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcy5pMThuRm9ybWF0ID0gbW9kdWxlO1xuICAgICAgfVxuXG4gICAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdwb3N0UHJvY2Vzc29yJykge1xuICAgICAgICBwb3N0UHJvY2Vzc29yLmFkZFBvc3RQcm9jZXNzb3IobW9kdWxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZHVsZS50eXBlID09PSAnM3JkUGFydHknKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5wdXNoKG1vZHVsZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFuZ2VMYW5ndWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VMYW5ndWFnZShsbmcsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgIHRoaXMuZW1pdCgnbGFuZ3VhZ2VDaGFuZ2luZycsIGxuZyk7XG5cbiAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZShlcnIsIGwpIHtcbiAgICAgICAgX3RoaXM0LnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UobCk7XG5cbiAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICBfdGhpczQuZW1pdCgnbGFuZ3VhZ2VDaGFuZ2VkJywgbCk7XG5cbiAgICAgICAgICBfdGhpczQubG9nZ2VyLmxvZygnbGFuZ3VhZ2VDaGFuZ2VkJywgbCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM0LnQuYXBwbHkoX3RoaXM0LCBhcmd1bWVudHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM0LnQuYXBwbHkoX3RoaXM0LCBhcmd1bWVudHMpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzZXRMbmcgPSBmdW5jdGlvbiBzZXRMbmcobCkge1xuICAgICAgICBpZiAobCkge1xuICAgICAgICAgIF90aGlzNC5sYW5ndWFnZSA9IGw7XG4gICAgICAgICAgX3RoaXM0Lmxhbmd1YWdlcyA9IF90aGlzNC5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsKTtcbiAgICAgICAgICBpZiAoIV90aGlzNC50cmFuc2xhdG9yLmxhbmd1YWdlKSBfdGhpczQudHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShsKTtcbiAgICAgICAgICBpZiAoX3RoaXM0LnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IpIF90aGlzNC5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmNhY2hlVXNlckxhbmd1YWdlKGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM0LmxvYWRSZXNvdXJjZXMoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGRvbmUoZXJyLCBsKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoIWxuZyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYykge1xuICAgICAgICBzZXRMbmcodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpKTtcbiAgICAgIH0gZWxzZSBpZiAoIWxuZyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jKSB7XG4gICAgICAgIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3Qoc2V0TG5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldExuZyhsbmcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEZpeGVkVFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaXhlZFQobG5nLCBucykge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciBmaXhlZFQgPSBmdW5jdGlvbiBmaXhlZFQoa2V5LCBvcHRzKSB7XG4gICAgICAgIHZhciBvcHRpb25zO1xuXG4gICAgICAgIGlmIChfdHlwZW9mKG9wdHMpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IG5ldyBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgICByZXN0W19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9wdGlvbnMgPSBfdGhpczUub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihba2V5LCBvcHRzXS5jb25jYXQocmVzdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKHt9LCBvcHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMubG5nID0gb3B0aW9ucy5sbmcgfHwgZml4ZWRULmxuZztcbiAgICAgICAgb3B0aW9ucy5sbmdzID0gb3B0aW9ucy5sbmdzIHx8IGZpeGVkVC5sbmdzO1xuICAgICAgICBvcHRpb25zLm5zID0gb3B0aW9ucy5ucyB8fCBmaXhlZFQubnM7XG4gICAgICAgIHJldHVybiBfdGhpczUudChrZXksIG9wdGlvbnMpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHR5cGVvZiBsbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZpeGVkVC5sbmcgPSBsbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXhlZFQubG5ncyA9IGxuZztcbiAgICAgIH1cblxuICAgICAgZml4ZWRULm5zID0gbnM7XG4gICAgICByZXR1cm4gZml4ZWRUO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHQoKSB7XG4gICAgICB2YXIgX3RoaXMkdHJhbnNsYXRvcjtcblxuICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiAoX3RoaXMkdHJhbnNsYXRvciA9IHRoaXMudHJhbnNsYXRvcikudHJhbnNsYXRlLmFwcGx5KF90aGlzJHRyYW5zbGF0b3IsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4aXN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleGlzdHMoKSB7XG4gICAgICB2YXIgX3RoaXMkdHJhbnNsYXRvcjI7XG5cbiAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IgJiYgKF90aGlzJHRyYW5zbGF0b3IyID0gdGhpcy50cmFuc2xhdG9yKS5leGlzdHMuYXBwbHkoX3RoaXMkdHJhbnNsYXRvcjIsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldERlZmF1bHROYW1lc3BhY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdE5hbWVzcGFjZShucykge1xuICAgICAgdGhpcy5vcHRpb25zLmRlZmF1bHROUyA9IG5zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYXNMb2FkZWROYW1lc3BhY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzTG9hZGVkTmFtZXNwYWNlKG5zKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybignaGFzTG9hZGVkTmFtZXNwYWNlOiBpMThuZXh0IHdhcyBub3QgaW5pdGlhbGl6ZWQnLCB0aGlzLmxhbmd1YWdlcyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmxhbmd1YWdlcyB8fCAhdGhpcy5sYW5ndWFnZXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2hhc0xvYWRlZE5hbWVzcGFjZTogaTE4bi5sYW5ndWFnZXMgd2VyZSB1bmRlZmluZWQgb3IgZW1wdHknLCB0aGlzLmxhbmd1YWdlcyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxuZyA9IHRoaXMubGFuZ3VhZ2VzWzBdO1xuICAgICAgdmFyIGZhbGxiYWNrTG5nID0gdGhpcy5vcHRpb25zID8gdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIDogZmFsc2U7XG4gICAgICB2YXIgbGFzdExuZyA9IHRoaXMubGFuZ3VhZ2VzW3RoaXMubGFuZ3VhZ2VzLmxlbmd0aCAtIDFdOyAvLyB3ZSdyZSBpbiBjaW1vZGUgc28gdGhpcyBzaGFsbCBwYXNzXG5cbiAgICAgIGlmIChsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHJldHVybiB0cnVlO1xuXG4gICAgICB2YXIgbG9hZE5vdFBlbmRpbmcgPSBmdW5jdGlvbiBsb2FkTm90UGVuZGluZyhsLCBuKSB7XG4gICAgICAgIHZhciBsb2FkU3RhdGUgPSBfdGhpczYuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5zdGF0ZVtcIlwiLmNvbmNhdChsLCBcInxcIikuY29uY2F0KG4pXTtcblxuICAgICAgICByZXR1cm4gbG9hZFN0YXRlID09PSAtMSB8fCBsb2FkU3RhdGUgPT09IDI7XG4gICAgICB9OyAvLyBsb2FkZWQgLT4gU1VDQ0VTU1xuXG5cbiAgICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSByZXR1cm4gdHJ1ZTsgLy8gd2VyZSBub3QgbG9hZGluZyBhdCBhbGwgLT4gU0VNSSBTVUNDRVNTXG5cbiAgICAgIGlmICghdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmJhY2tlbmQpIHJldHVybiB0cnVlOyAvLyBmYWlsZWQgbG9hZGluZyBucyAtIGJ1dCBhdCBsZWFzdCBmYWxsYmFjayBpcyBub3QgcGVuZGluZyAtPiBTRU1JIFNVQ0NFU1NcblxuICAgICAgaWYgKGxvYWROb3RQZW5kaW5nKGxuZywgbnMpICYmICghZmFsbGJhY2tMbmcgfHwgbG9hZE5vdFBlbmRpbmcobGFzdExuZywgbnMpKSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWROYW1lc3BhY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWROYW1lc3BhY2VzKG5zLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLm5zKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBucyA9PT0gJ3N0cmluZycpIG5zID0gW25zXTtcbiAgICAgIG5zLmZvckVhY2goZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgaWYgKF90aGlzNy5vcHRpb25zLm5zLmluZGV4T2YobikgPCAwKSBfdGhpczcub3B0aW9ucy5ucy5wdXNoKG4pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmxvYWRSZXNvdXJjZXMoZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2FkTGFuZ3VhZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRMYW5ndWFnZXMobG5ncywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICBpZiAodHlwZW9mIGxuZ3MgPT09ICdzdHJpbmcnKSBsbmdzID0gW2xuZ3NdO1xuICAgICAgdmFyIHByZWxvYWRlZCA9IHRoaXMub3B0aW9ucy5wcmVsb2FkIHx8IFtdO1xuICAgICAgdmFyIG5ld0xuZ3MgPSBsbmdzLmZpbHRlcihmdW5jdGlvbiAobG5nKSB7XG4gICAgICAgIHJldHVybiBwcmVsb2FkZWQuaW5kZXhPZihsbmcpIDwgMDtcbiAgICAgIH0pOyAvLyBFeGl0IGVhcmx5IGlmIGFsbCBnaXZlbiBsYW5ndWFnZXMgYXJlIGFscmVhZHkgcHJlbG9hZGVkXG5cbiAgICAgIGlmICghbmV3TG5ncy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucy5wcmVsb2FkID0gcHJlbG9hZGVkLmNvbmNhdChuZXdMbmdzKTtcbiAgICAgIHRoaXMubG9hZFJlc291cmNlcyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXIobG5nKSB7XG4gICAgICBpZiAoIWxuZykgbG5nID0gdGhpcy5sYW5ndWFnZXMgJiYgdGhpcy5sYW5ndWFnZXMubGVuZ3RoID4gMCA/IHRoaXMubGFuZ3VhZ2VzWzBdIDogdGhpcy5sYW5ndWFnZTtcbiAgICAgIGlmICghbG5nKSByZXR1cm4gJ3J0bCc7XG4gICAgICB2YXIgcnRsTG5ncyA9IFsnYXInLCAnc2h1JywgJ3NxcicsICdzc2gnLCAneGFhJywgJ3loZCcsICd5dWQnLCAnYWFvJywgJ2FiaCcsICdhYnYnLCAnYWNtJywgJ2FjcScsICdhY3cnLCAnYWN4JywgJ2FjeScsICdhZGYnLCAnYWRzJywgJ2FlYicsICdhZWMnLCAnYWZiJywgJ2FqcCcsICdhcGMnLCAnYXBkJywgJ2FyYicsICdhcnEnLCAnYXJzJywgJ2FyeScsICdhcnonLCAnYXV6JywgJ2F2bCcsICdheWgnLCAnYXlsJywgJ2F5bicsICdheXAnLCAnYmJ6JywgJ3BnYScsICdoZScsICdpdycsICdwcycsICdwYnQnLCAncGJ1JywgJ3BzdCcsICdwcnAnLCAncHJkJywgJ3VyJywgJ3lkZCcsICd5ZHMnLCAneWloJywgJ2ppJywgJ3lpJywgJ2hibycsICdtZW4nLCAneG1uJywgJ2ZhJywgJ2pwcicsICdwZW8nLCAncGVzJywgJ3BycycsICdkdicsICdzYW0nXTtcbiAgICAgIHJldHVybiBydGxMbmdzLmluZGV4T2YodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGxuZykpID49IDAgPyAncnRsJyA6ICdsdHInO1xuICAgIH1cbiAgICAvKiBlc2xpbnQgY2xhc3MtbWV0aG9kcy11c2UtdGhpczogMCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlSW5zdGFuY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBuZXcgSTE4bihvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsb25lSW5zdGFuY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmVJbnN0YW5jZSgpIHtcbiAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG5cbiAgICAgIHZhciBtZXJnZWRPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zLCB7XG4gICAgICAgIGlzQ2xvbmU6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2xvbmUgPSBuZXcgSTE4bihtZXJnZWRPcHRpb25zKTtcbiAgICAgIHZhciBtZW1iZXJzVG9Db3B5ID0gWydzdG9yZScsICdzZXJ2aWNlcycsICdsYW5ndWFnZSddO1xuICAgICAgbWVtYmVyc1RvQ29weS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIGNsb25lW21dID0gX3RoaXM4W21dO1xuICAgICAgfSk7XG4gICAgICBjbG9uZS50cmFuc2xhdG9yID0gbmV3IFRyYW5zbGF0b3IoY2xvbmUuc2VydmljZXMsIGNsb25lLm9wdGlvbnMpO1xuICAgICAgY2xvbmUudHJhbnNsYXRvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICAgIGFyZ3NbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICAgIH1cblxuICAgICAgICBjbG9uZS5lbWl0LmFwcGx5KGNsb25lLCBbZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICB9KTtcbiAgICAgIGNsb25lLmluaXQobWVyZ2VkT3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgY2xvbmUudHJhbnNsYXRvci5vcHRpb25zID0gY2xvbmUub3B0aW9uczsgLy8gc3luYyBvcHRpb25zXG5cbiAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSTE4bjtcbn0oRXZlbnRFbWl0dGVyKTtcblxudmFyIGkxOG5leHQgPSBuZXcgSTE4bigpO1xuXG5leHBvcnQgZGVmYXVsdCBpMThuZXh0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2kxOG5leHQvZGlzdC9lc20vaTE4bmV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMTQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImNvcmVcIjoge31cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL2xvY2FsZXMvZW4vcGhvdmVhLmpzb25cbi8vIG1vZHVsZSBpZCA9IDE0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbWFwID0ge1xuXHRcIi4vMkQudHNcIjogMTAsXG5cdFwiLi9hamF4LnRzXCI6IDksXG5cdFwiLi9hdG9tL2luZGV4LnRzXCI6IDkzLFxuXHRcIi4vYmVoYXZpb3IudHNcIjogOTQsXG5cdFwiLi9kYXRhLnRzXCI6IDE5LFxuXHRcIi4vZGF0YXR5cGUudHNcIjogMyxcblx0XCIuL2V2ZW50LnRzXCI6IDUsXG5cdFwiLi9leHRlbnNpb25zLnRzXCI6IDI0LFxuXHRcIi4vZ2VvbS9pbmRleC50c1wiOiAyNSxcblx0XCIuL2dyYXBoL2luZGV4LnRzXCI6IDQ2LFxuXHRcIi4vaTE4bi9pbmRleC50c1wiOiA5NSxcblx0XCIuL2lkdHlwZS9pbmRleC50c1wiOiA0LFxuXHRcIi4vaW5kZXgudHNcIjogMixcblx0XCIuL2l0ZXJhdG9yLnRzXCI6IDI2LFxuXHRcIi4vbGF5b3V0LnRzXCI6IDEwMixcblx0XCIuL2xheW91dF92aWV3LnRzXCI6IDEwMyxcblx0XCIuL21hdGgudHNcIjogMTEsXG5cdFwiLi9tYXRyaXgvaW5kZXgudHNcIjogMTA0LFxuXHRcIi4vbXVsdGlmb3JtL2luZGV4LnRzXCI6IDExNCxcblx0XCIuL3Bob3ZlYS50c1wiOiA1NSxcblx0XCIuL3BsdWdpbi50c1wiOiA3LFxuXHRcIi4vcHJvdmVuYW5jZS9pbmRleC50c1wiOiAxMTcsXG5cdFwiLi9yYW5nZS9pbmRleC50c1wiOiAxLFxuXHRcIi4vc2VjdXJpdHkudHNcIjogMjIsXG5cdFwiLi9zZXNzaW9uLnRzXCI6IDYzLFxuXHRcIi4vc3RyYXRpZmljYXRpb24vaW5kZXgudHNcIjogMTIxLFxuXHRcIi4vc3luYy9pbmRleC50c1wiOiAxMjYsXG5cdFwiLi90YWJsZS9pbmRleC50c1wiOiAxMjgsXG5cdFwiLi92ZWN0b3IvaW5kZXgudHNcIjogMTM1LFxuXHRcIi4vdmlzLnRzXCI6IDI4LFxuXHRcIi4vd3JhcHBlci50c1wiOiAxNDBcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0dmFyIGlkID0gbWFwW3JlcV07XG5cdGlmKCEoaWQgKyAxKSkgLy8gY2hlY2sgZm9yIG51bWJlciBvciBzdHJpbmdcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKTtcblx0cmV0dXJuIGlkO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxNDM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMgXlxcLlxcLyg/IWludGVybmFsKSgoW15fXVtcXHddKyl8KFxcdytcXC9pbmRleCkpXFwudHN4PyRcbi8vIG1vZHVsZSBpZCA9IDE0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9